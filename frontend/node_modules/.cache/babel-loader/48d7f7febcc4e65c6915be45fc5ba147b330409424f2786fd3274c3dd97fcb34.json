{"ast":null,"code":"import * as e from \"three\";\nvar t = {\n    8167: e => {\n      var t = Object.prototype.toString;\n      e.exports = function (e) {\n        return e.BYTES_PER_ELEMENT && \"[object ArrayBuffer]\" === t.call(e.buffer) || Array.isArray(e);\n      };\n    },\n    5734: e => {\n      e.exports = function (e, t) {\n        return \"number\" == typeof e ? e : \"number\" == typeof t ? t : 0;\n      };\n    },\n    7961: (e, t) => {\n      t.byteLength = function (e) {\n        var t = a(e),\n          n = t[0],\n          i = t[1];\n        return 3 * (n + i) / 4 - i;\n      }, t.toByteArray = function (e) {\n        var t,\n          n,\n          o = a(e),\n          s = o[0],\n          A = o[1],\n          l = new r(function (e, t, n) {\n            return 3 * (t + n) / 4 - n;\n          }(0, s, A)),\n          c = 0,\n          h = A > 0 ? s - 4 : s;\n        for (n = 0; n < h; n += 4) t = i[e.charCodeAt(n)] << 18 | i[e.charCodeAt(n + 1)] << 12 | i[e.charCodeAt(n + 2)] << 6 | i[e.charCodeAt(n + 3)], l[c++] = t >> 16 & 255, l[c++] = t >> 8 & 255, l[c++] = 255 & t;\n        return 2 === A && (t = i[e.charCodeAt(n)] << 2 | i[e.charCodeAt(n + 1)] >> 4, l[c++] = 255 & t), 1 === A && (t = i[e.charCodeAt(n)] << 10 | i[e.charCodeAt(n + 1)] << 4 | i[e.charCodeAt(n + 2)] >> 2, l[c++] = t >> 8 & 255, l[c++] = 255 & t), l;\n      }, t.fromByteArray = function (e) {\n        for (var t, i = e.length, r = i % 3, o = [], s = 16383, a = 0, l = i - r; a < l; a += s) o.push(A(e, a, a + s > l ? l : a + s));\n        return 1 === r ? (t = e[i - 1], o.push(n[t >> 2] + n[t << 4 & 63] + \"==\")) : 2 === r && (t = (e[i - 2] << 8) + e[i - 1], o.push(n[t >> 10] + n[t >> 4 & 63] + n[t << 2 & 63] + \"=\")), o.join(\"\");\n      };\n      for (var n = [], i = [], r = \"undefined\" != typeof Uint8Array ? Uint8Array : Array, o = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", s = 0; s < 64; ++s) n[s] = o[s], i[o.charCodeAt(s)] = s;\n      function a(e) {\n        var t = e.length;\n        if (t % 4 > 0) throw new Error(\"Invalid string. Length must be a multiple of 4\");\n        var n = e.indexOf(\"=\");\n        return -1 === n && (n = t), [n, n === t ? 0 : 4 - n % 4];\n      }\n      function A(e, t, i) {\n        for (var r, o, s = [], a = t; a < i; a += 3) r = (e[a] << 16 & 16711680) + (e[a + 1] << 8 & 65280) + (255 & e[a + 2]), s.push(n[(o = r) >> 18 & 63] + n[o >> 12 & 63] + n[o >> 6 & 63] + n[63 & o]);\n        return s.join(\"\");\n      }\n      i[\"-\".charCodeAt(0)] = 62, i[\"_\".charCodeAt(0)] = 63;\n    },\n    911: (e, t, n) => {\n      var i = n(9922).hp;\n      e.exports = function (e, t) {\n        if (i.isBuffer(e) && i.isBuffer(t)) {\n          if (\"function\" == typeof e.equals) return e.equals(t);\n          if (e.length !== t.length) return !1;\n          for (var n = 0; n < e.length; n++) if (e[n] !== t[n]) return !1;\n          return !0;\n        }\n      };\n    },\n    9922: (e, t, n) => {\n      const i = n(7961),\n        r = n(1024),\n        o = \"function\" == typeof Symbol && \"function\" == typeof Symbol.for ? Symbol.for(\"nodejs.util.inspect.custom\") : null;\n      t.hp = A, t.IS = 50;\n      const s = 2147483647;\n      function a(e) {\n        if (e > s) throw new RangeError('The value \"' + e + '\" is invalid for option \"size\"');\n        const t = new Uint8Array(e);\n        return Object.setPrototypeOf(t, A.prototype), t;\n      }\n      function A(e, t, n) {\n        if (\"number\" == typeof e) {\n          if (\"string\" == typeof t) throw new TypeError('The \"string\" argument must be of type string. Received type number');\n          return h(e);\n        }\n        return l(e, t, n);\n      }\n      function l(e, t, n) {\n        if (\"string\" == typeof e) return function (e, t) {\n          if (\"string\" == typeof t && \"\" !== t || (t = \"utf8\"), !A.isEncoding(t)) throw new TypeError(\"Unknown encoding: \" + t);\n          const n = 0 | p(e, t);\n          let i = a(n);\n          const r = i.write(e, t);\n          return r !== n && (i = i.slice(0, r)), i;\n        }(e, t);\n        if (ArrayBuffer.isView(e)) return function (e) {\n          if (W(e, Uint8Array)) {\n            const t = new Uint8Array(e);\n            return u(t.buffer, t.byteOffset, t.byteLength);\n          }\n          return d(e);\n        }(e);\n        if (null == e) throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof e);\n        if (W(e, ArrayBuffer) || e && W(e.buffer, ArrayBuffer)) return u(e, t, n);\n        if (\"undefined\" != typeof SharedArrayBuffer && (W(e, SharedArrayBuffer) || e && W(e.buffer, SharedArrayBuffer))) return u(e, t, n);\n        if (\"number\" == typeof e) throw new TypeError('The \"value\" argument must not be of type number. Received type number');\n        const i = e.valueOf && e.valueOf();\n        if (null != i && i !== e) return A.from(i, t, n);\n        const r = function (e) {\n          if (A.isBuffer(e)) {\n            const t = 0 | g(e.length),\n              n = a(t);\n            return 0 === n.length || e.copy(n, 0, 0, t), n;\n          }\n          return void 0 !== e.length ? \"number\" != typeof e.length || J(e.length) ? a(0) : d(e) : \"Buffer\" === e.type && Array.isArray(e.data) ? d(e.data) : void 0;\n        }(e);\n        if (r) return r;\n        if (\"undefined\" != typeof Symbol && null != Symbol.toPrimitive && \"function\" == typeof e[Symbol.toPrimitive]) return A.from(e[Symbol.toPrimitive](\"string\"), t, n);\n        throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \" + typeof e);\n      }\n      function c(e) {\n        if (\"number\" != typeof e) throw new TypeError('\"size\" argument must be of type number');\n        if (e < 0) throw new RangeError('The value \"' + e + '\" is invalid for option \"size\"');\n      }\n      function h(e) {\n        return c(e), a(e < 0 ? 0 : 0 | g(e));\n      }\n      function d(e) {\n        const t = e.length < 0 ? 0 : 0 | g(e.length),\n          n = a(t);\n        for (let i = 0; i < t; i += 1) n[i] = 255 & e[i];\n        return n;\n      }\n      function u(e, t, n) {\n        if (t < 0 || e.byteLength < t) throw new RangeError('\"offset\" is outside of buffer bounds');\n        if (e.byteLength < t + (n || 0)) throw new RangeError('\"length\" is outside of buffer bounds');\n        let i;\n        return i = void 0 === t && void 0 === n ? new Uint8Array(e) : void 0 === n ? new Uint8Array(e, t) : new Uint8Array(e, t, n), Object.setPrototypeOf(i, A.prototype), i;\n      }\n      function g(e) {\n        if (e >= s) throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\" + s.toString(16) + \" bytes\");\n        return 0 | e;\n      }\n      function p(e, t) {\n        if (A.isBuffer(e)) return e.length;\n        if (ArrayBuffer.isView(e) || W(e, ArrayBuffer)) return e.byteLength;\n        if (\"string\" != typeof e) throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof e);\n        const n = e.length,\n          i = arguments.length > 2 && !0 === arguments[2];\n        if (!i && 0 === n) return 0;\n        let r = !1;\n        for (;;) switch (t) {\n          case \"ascii\":\n          case \"latin1\":\n          case \"binary\":\n            return n;\n          case \"utf8\":\n          case \"utf-8\":\n            return z(e).length;\n          case \"ucs2\":\n          case \"ucs-2\":\n          case \"utf16le\":\n          case \"utf-16le\":\n            return 2 * n;\n          case \"hex\":\n            return n >>> 1;\n          case \"base64\":\n            return Y(e).length;\n          default:\n            if (r) return i ? -1 : z(e).length;\n            t = (\"\" + t).toLowerCase(), r = !0;\n        }\n      }\n      function f(e, t, n) {\n        let i = !1;\n        if ((void 0 === t || t < 0) && (t = 0), t > this.length) return \"\";\n        if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return \"\";\n        if ((n >>>= 0) <= (t >>>= 0)) return \"\";\n        for (e || (e = \"utf8\");;) switch (e) {\n          case \"hex\":\n            return S(this, t, n);\n          case \"utf8\":\n          case \"utf-8\":\n            return x(this, t, n);\n          case \"ascii\":\n            return L(this, t, n);\n          case \"latin1\":\n          case \"binary\":\n            return M(this, t, n);\n          case \"base64\":\n            return w(this, t, n);\n          case \"ucs2\":\n          case \"ucs-2\":\n          case \"utf16le\":\n          case \"utf-16le\":\n            return D(this, t, n);\n          default:\n            if (i) throw new TypeError(\"Unknown encoding: \" + e);\n            e = (e + \"\").toLowerCase(), i = !0;\n        }\n      }\n      function m(e, t, n) {\n        const i = e[t];\n        e[t] = e[n], e[n] = i;\n      }\n      function E(e, t, n, i, r) {\n        if (0 === e.length) return -1;\n        if (\"string\" == typeof n ? (i = n, n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648), J(n = +n) && (n = r ? 0 : e.length - 1), n < 0 && (n = e.length + n), n >= e.length) {\n          if (r) return -1;\n          n = e.length - 1;\n        } else if (n < 0) {\n          if (!r) return -1;\n          n = 0;\n        }\n        if (\"string\" == typeof t && (t = A.from(t, i)), A.isBuffer(t)) return 0 === t.length ? -1 : C(e, t, n, i, r);\n        if (\"number\" == typeof t) return t &= 255, \"function\" == typeof Uint8Array.prototype.indexOf ? r ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : C(e, [t], n, i, r);\n        throw new TypeError(\"val must be string, number or Buffer\");\n      }\n      function C(e, t, n, i, r) {\n        let o,\n          s = 1,\n          a = e.length,\n          A = t.length;\n        if (void 0 !== i && (\"ucs2\" === (i = String(i).toLowerCase()) || \"ucs-2\" === i || \"utf16le\" === i || \"utf-16le\" === i)) {\n          if (e.length < 2 || t.length < 2) return -1;\n          s = 2, a /= 2, A /= 2, n /= 2;\n        }\n        function l(e, t) {\n          return 1 === s ? e[t] : e.readUInt16BE(t * s);\n        }\n        if (r) {\n          let i = -1;\n          for (o = n; o < a; o++) if (l(e, o) === l(t, -1 === i ? 0 : o - i)) {\n            if (-1 === i && (i = o), o - i + 1 === A) return i * s;\n          } else -1 !== i && (o -= o - i), i = -1;\n        } else for (n + A > a && (n = a - A), o = n; o >= 0; o--) {\n          let n = !0;\n          for (let i = 0; i < A; i++) if (l(e, o + i) !== l(t, i)) {\n            n = !1;\n            break;\n          }\n          if (n) return o;\n        }\n        return -1;\n      }\n      function v(e, t, n, i) {\n        n = Number(n) || 0;\n        const r = e.length - n;\n        i ? (i = Number(i)) > r && (i = r) : i = r;\n        const o = t.length;\n        let s;\n        for (i > o / 2 && (i = o / 2), s = 0; s < i; ++s) {\n          const i = parseInt(t.substr(2 * s, 2), 16);\n          if (J(i)) return s;\n          e[n + s] = i;\n        }\n        return s;\n      }\n      function B(e, t, n, i) {\n        return K(z(t, e.length - n), e, n, i);\n      }\n      function b(e, t, n, i) {\n        return K(function (e) {\n          const t = [];\n          for (let n = 0; n < e.length; ++n) t.push(255 & e.charCodeAt(n));\n          return t;\n        }(t), e, n, i);\n      }\n      function y(e, t, n, i) {\n        return K(Y(t), e, n, i);\n      }\n      function I(e, t, n, i) {\n        return K(function (e, t) {\n          let n, i, r;\n          const o = [];\n          for (let s = 0; s < e.length && !((t -= 2) < 0); ++s) n = e.charCodeAt(s), i = n >> 8, r = n % 256, o.push(r), o.push(i);\n          return o;\n        }(t, e.length - n), e, n, i);\n      }\n      function w(e, t, n) {\n        return 0 === t && n === e.length ? i.fromByteArray(e) : i.fromByteArray(e.slice(t, n));\n      }\n      function x(e, t, n) {\n        n = Math.min(e.length, n);\n        const i = [];\n        let r = t;\n        for (; r < n;) {\n          const t = e[r];\n          let o = null,\n            s = t > 239 ? 4 : t > 223 ? 3 : t > 191 ? 2 : 1;\n          if (r + s <= n) {\n            let n, i, a, A;\n            switch (s) {\n              case 1:\n                t < 128 && (o = t);\n                break;\n              case 2:\n                n = e[r + 1], 128 == (192 & n) && (A = (31 & t) << 6 | 63 & n, A > 127 && (o = A));\n                break;\n              case 3:\n                n = e[r + 1], i = e[r + 2], 128 == (192 & n) && 128 == (192 & i) && (A = (15 & t) << 12 | (63 & n) << 6 | 63 & i, A > 2047 && (A < 55296 || A > 57343) && (o = A));\n                break;\n              case 4:\n                n = e[r + 1], i = e[r + 2], a = e[r + 3], 128 == (192 & n) && 128 == (192 & i) && 128 == (192 & a) && (A = (15 & t) << 18 | (63 & n) << 12 | (63 & i) << 6 | 63 & a, A > 65535 && A < 1114112 && (o = A));\n            }\n          }\n          null === o ? (o = 65533, s = 1) : o > 65535 && (o -= 65536, i.push(o >>> 10 & 1023 | 55296), o = 56320 | 1023 & o), i.push(o), r += s;\n        }\n        return function (e) {\n          const t = e.length;\n          if (t <= Q) return String.fromCharCode.apply(String, e);\n          let n = \"\",\n            i = 0;\n          for (; i < t;) n += String.fromCharCode.apply(String, e.slice(i, i += Q));\n          return n;\n        }(i);\n      }\n      A.TYPED_ARRAY_SUPPORT = function () {\n        try {\n          const e = new Uint8Array(1),\n            t = {\n              foo: function () {\n                return 42;\n              }\n            };\n          return Object.setPrototypeOf(t, Uint8Array.prototype), Object.setPrototypeOf(e, t), 42 === e.foo();\n        } catch (e) {\n          return !1;\n        }\n      }(), A.TYPED_ARRAY_SUPPORT || \"undefined\" == typeof console || \"function\" != typeof console.error || console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"), Object.defineProperty(A.prototype, \"parent\", {\n        enumerable: !0,\n        get: function () {\n          if (A.isBuffer(this)) return this.buffer;\n        }\n      }), Object.defineProperty(A.prototype, \"offset\", {\n        enumerable: !0,\n        get: function () {\n          if (A.isBuffer(this)) return this.byteOffset;\n        }\n      }), A.poolSize = 8192, A.from = function (e, t, n) {\n        return l(e, t, n);\n      }, Object.setPrototypeOf(A.prototype, Uint8Array.prototype), Object.setPrototypeOf(A, Uint8Array), A.alloc = function (e, t, n) {\n        return function (e, t, n) {\n          return c(e), e <= 0 ? a(e) : void 0 !== t ? \"string\" == typeof n ? a(e).fill(t, n) : a(e).fill(t) : a(e);\n        }(e, t, n);\n      }, A.allocUnsafe = function (e) {\n        return h(e);\n      }, A.allocUnsafeSlow = function (e) {\n        return h(e);\n      }, A.isBuffer = function (e) {\n        return null != e && !0 === e._isBuffer && e !== A.prototype;\n      }, A.compare = function (e, t) {\n        if (W(e, Uint8Array) && (e = A.from(e, e.offset, e.byteLength)), W(t, Uint8Array) && (t = A.from(t, t.offset, t.byteLength)), !A.isBuffer(e) || !A.isBuffer(t)) throw new TypeError('The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array');\n        if (e === t) return 0;\n        let n = e.length,\n          i = t.length;\n        for (let r = 0, o = Math.min(n, i); r < o; ++r) if (e[r] !== t[r]) {\n          n = e[r], i = t[r];\n          break;\n        }\n        return n < i ? -1 : i < n ? 1 : 0;\n      }, A.isEncoding = function (e) {\n        switch (String(e).toLowerCase()) {\n          case \"hex\":\n          case \"utf8\":\n          case \"utf-8\":\n          case \"ascii\":\n          case \"latin1\":\n          case \"binary\":\n          case \"base64\":\n          case \"ucs2\":\n          case \"ucs-2\":\n          case \"utf16le\":\n          case \"utf-16le\":\n            return !0;\n          default:\n            return !1;\n        }\n      }, A.concat = function (e, t) {\n        if (!Array.isArray(e)) throw new TypeError('\"list\" argument must be an Array of Buffers');\n        if (0 === e.length) return A.alloc(0);\n        let n;\n        if (void 0 === t) for (t = 0, n = 0; n < e.length; ++n) t += e[n].length;\n        const i = A.allocUnsafe(t);\n        let r = 0;\n        for (n = 0; n < e.length; ++n) {\n          let t = e[n];\n          if (W(t, Uint8Array)) r + t.length > i.length ? (A.isBuffer(t) || (t = A.from(t)), t.copy(i, r)) : Uint8Array.prototype.set.call(i, t, r);else {\n            if (!A.isBuffer(t)) throw new TypeError('\"list\" argument must be an Array of Buffers');\n            t.copy(i, r);\n          }\n          r += t.length;\n        }\n        return i;\n      }, A.byteLength = p, A.prototype._isBuffer = !0, A.prototype.swap16 = function () {\n        const e = this.length;\n        if (e % 2 != 0) throw new RangeError(\"Buffer size must be a multiple of 16-bits\");\n        for (let t = 0; t < e; t += 2) m(this, t, t + 1);\n        return this;\n      }, A.prototype.swap32 = function () {\n        const e = this.length;\n        if (e % 4 != 0) throw new RangeError(\"Buffer size must be a multiple of 32-bits\");\n        for (let t = 0; t < e; t += 4) m(this, t, t + 3), m(this, t + 1, t + 2);\n        return this;\n      }, A.prototype.swap64 = function () {\n        const e = this.length;\n        if (e % 8 != 0) throw new RangeError(\"Buffer size must be a multiple of 64-bits\");\n        for (let t = 0; t < e; t += 8) m(this, t, t + 7), m(this, t + 1, t + 6), m(this, t + 2, t + 5), m(this, t + 3, t + 4);\n        return this;\n      }, A.prototype.toString = function () {\n        const e = this.length;\n        return 0 === e ? \"\" : 0 === arguments.length ? x(this, 0, e) : f.apply(this, arguments);\n      }, A.prototype.toLocaleString = A.prototype.toString, A.prototype.equals = function (e) {\n        if (!A.isBuffer(e)) throw new TypeError(\"Argument must be a Buffer\");\n        return this === e || 0 === A.compare(this, e);\n      }, A.prototype.inspect = function () {\n        let e = \"\";\n        const n = t.IS;\n        return e = this.toString(\"hex\", 0, n).replace(/(.{2})/g, \"$1 \").trim(), this.length > n && (e += \" ... \"), \"<Buffer \" + e + \">\";\n      }, o && (A.prototype[o] = A.prototype.inspect), A.prototype.compare = function (e, t, n, i, r) {\n        if (W(e, Uint8Array) && (e = A.from(e, e.offset, e.byteLength)), !A.isBuffer(e)) throw new TypeError('The \"target\" argument must be one of type Buffer or Uint8Array. Received type ' + typeof e);\n        if (void 0 === t && (t = 0), void 0 === n && (n = e ? e.length : 0), void 0 === i && (i = 0), void 0 === r && (r = this.length), t < 0 || n > e.length || i < 0 || r > this.length) throw new RangeError(\"out of range index\");\n        if (i >= r && t >= n) return 0;\n        if (i >= r) return -1;\n        if (t >= n) return 1;\n        if (this === e) return 0;\n        let o = (r >>>= 0) - (i >>>= 0),\n          s = (n >>>= 0) - (t >>>= 0);\n        const a = Math.min(o, s),\n          l = this.slice(i, r),\n          c = e.slice(t, n);\n        for (let e = 0; e < a; ++e) if (l[e] !== c[e]) {\n          o = l[e], s = c[e];\n          break;\n        }\n        return o < s ? -1 : s < o ? 1 : 0;\n      }, A.prototype.includes = function (e, t, n) {\n        return -1 !== this.indexOf(e, t, n);\n      }, A.prototype.indexOf = function (e, t, n) {\n        return E(this, e, t, n, !0);\n      }, A.prototype.lastIndexOf = function (e, t, n) {\n        return E(this, e, t, n, !1);\n      }, A.prototype.write = function (e, t, n, i) {\n        if (void 0 === t) i = \"utf8\", n = this.length, t = 0;else if (void 0 === n && \"string\" == typeof t) i = t, n = this.length, t = 0;else {\n          if (!isFinite(t)) throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");\n          t >>>= 0, isFinite(n) ? (n >>>= 0, void 0 === i && (i = \"utf8\")) : (i = n, n = void 0);\n        }\n        const r = this.length - t;\n        if ((void 0 === n || n > r) && (n = r), e.length > 0 && (n < 0 || t < 0) || t > this.length) throw new RangeError(\"Attempt to write outside buffer bounds\");\n        i || (i = \"utf8\");\n        let o = !1;\n        for (;;) switch (i) {\n          case \"hex\":\n            return v(this, e, t, n);\n          case \"utf8\":\n          case \"utf-8\":\n            return B(this, e, t, n);\n          case \"ascii\":\n          case \"latin1\":\n          case \"binary\":\n            return b(this, e, t, n);\n          case \"base64\":\n            return y(this, e, t, n);\n          case \"ucs2\":\n          case \"ucs-2\":\n          case \"utf16le\":\n          case \"utf-16le\":\n            return I(this, e, t, n);\n          default:\n            if (o) throw new TypeError(\"Unknown encoding: \" + i);\n            i = (\"\" + i).toLowerCase(), o = !0;\n        }\n      }, A.prototype.toJSON = function () {\n        return {\n          type: \"Buffer\",\n          data: Array.prototype.slice.call(this._arr || this, 0)\n        };\n      };\n      const Q = 4096;\n      function L(e, t, n) {\n        let i = \"\";\n        n = Math.min(e.length, n);\n        for (let r = t; r < n; ++r) i += String.fromCharCode(127 & e[r]);\n        return i;\n      }\n      function M(e, t, n) {\n        let i = \"\";\n        n = Math.min(e.length, n);\n        for (let r = t; r < n; ++r) i += String.fromCharCode(e[r]);\n        return i;\n      }\n      function S(e, t, n) {\n        const i = e.length;\n        (!t || t < 0) && (t = 0), (!n || n < 0 || n > i) && (n = i);\n        let r = \"\";\n        for (let i = t; i < n; ++i) r += X[e[i]];\n        return r;\n      }\n      function D(e, t, n) {\n        const i = e.slice(t, n);\n        let r = \"\";\n        for (let e = 0; e < i.length - 1; e += 2) r += String.fromCharCode(i[e] + 256 * i[e + 1]);\n        return r;\n      }\n      function k(e, t, n) {\n        if (e % 1 != 0 || e < 0) throw new RangeError(\"offset is not uint\");\n        if (e + t > n) throw new RangeError(\"Trying to access beyond buffer length\");\n      }\n      function T(e, t, n, i, r, o) {\n        if (!A.isBuffer(e)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n        if (t > r || t < o) throw new RangeError('\"value\" argument is out of bounds');\n        if (n + i > e.length) throw new RangeError(\"Index out of range\");\n      }\n      function R(e, t, n, i, r) {\n        _(t, i, r, e, n, 7);\n        let o = Number(t & BigInt(4294967295));\n        e[n++] = o, o >>= 8, e[n++] = o, o >>= 8, e[n++] = o, o >>= 8, e[n++] = o;\n        let s = Number(t >> BigInt(32) & BigInt(4294967295));\n        return e[n++] = s, s >>= 8, e[n++] = s, s >>= 8, e[n++] = s, s >>= 8, e[n++] = s, n;\n      }\n      function F(e, t, n, i, r) {\n        _(t, i, r, e, n, 7);\n        let o = Number(t & BigInt(4294967295));\n        e[n + 7] = o, o >>= 8, e[n + 6] = o, o >>= 8, e[n + 5] = o, o >>= 8, e[n + 4] = o;\n        let s = Number(t >> BigInt(32) & BigInt(4294967295));\n        return e[n + 3] = s, s >>= 8, e[n + 2] = s, s >>= 8, e[n + 1] = s, s >>= 8, e[n] = s, n + 8;\n      }\n      function U(e, t, n, i, r, o) {\n        if (n + i > e.length) throw new RangeError(\"Index out of range\");\n        if (n < 0) throw new RangeError(\"Index out of range\");\n      }\n      function O(e, t, n, i, o) {\n        return t = +t, n >>>= 0, o || U(e, 0, n, 4), r.write(e, t, n, i, 23, 4), n + 4;\n      }\n      function P(e, t, n, i, o) {\n        return t = +t, n >>>= 0, o || U(e, 0, n, 8), r.write(e, t, n, i, 52, 8), n + 8;\n      }\n      A.prototype.slice = function (e, t) {\n        const n = this.length;\n        (e = ~~e) < 0 ? (e += n) < 0 && (e = 0) : e > n && (e = n), (t = void 0 === t ? n : ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n), t < e && (t = e);\n        const i = this.subarray(e, t);\n        return Object.setPrototypeOf(i, A.prototype), i;\n      }, A.prototype.readUintLE = A.prototype.readUIntLE = function (e, t, n) {\n        e >>>= 0, t >>>= 0, n || k(e, t, this.length);\n        let i = this[e],\n          r = 1,\n          o = 0;\n        for (; ++o < t && (r *= 256);) i += this[e + o] * r;\n        return i;\n      }, A.prototype.readUintBE = A.prototype.readUIntBE = function (e, t, n) {\n        e >>>= 0, t >>>= 0, n || k(e, t, this.length);\n        let i = this[e + --t],\n          r = 1;\n        for (; t > 0 && (r *= 256);) i += this[e + --t] * r;\n        return i;\n      }, A.prototype.readUint8 = A.prototype.readUInt8 = function (e, t) {\n        return e >>>= 0, t || k(e, 1, this.length), this[e];\n      }, A.prototype.readUint16LE = A.prototype.readUInt16LE = function (e, t) {\n        return e >>>= 0, t || k(e, 2, this.length), this[e] | this[e + 1] << 8;\n      }, A.prototype.readUint16BE = A.prototype.readUInt16BE = function (e, t) {\n        return e >>>= 0, t || k(e, 2, this.length), this[e] << 8 | this[e + 1];\n      }, A.prototype.readUint32LE = A.prototype.readUInt32LE = function (e, t) {\n        return e >>>= 0, t || k(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3];\n      }, A.prototype.readUint32BE = A.prototype.readUInt32BE = function (e, t) {\n        return e >>>= 0, t || k(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]);\n      }, A.prototype.readBigUInt64LE = Z(function (e) {\n        H(e >>>= 0, \"offset\");\n        const t = this[e],\n          n = this[e + 7];\n        void 0 !== t && void 0 !== n || q(e, this.length - 8);\n        const i = t + 256 * this[++e] + 65536 * this[++e] + this[++e] * 2 ** 24,\n          r = this[++e] + 256 * this[++e] + 65536 * this[++e] + n * 2 ** 24;\n        return BigInt(i) + (BigInt(r) << BigInt(32));\n      }), A.prototype.readBigUInt64BE = Z(function (e) {\n        H(e >>>= 0, \"offset\");\n        const t = this[e],\n          n = this[e + 7];\n        void 0 !== t && void 0 !== n || q(e, this.length - 8);\n        const i = t * 2 ** 24 + 65536 * this[++e] + 256 * this[++e] + this[++e],\n          r = this[++e] * 2 ** 24 + 65536 * this[++e] + 256 * this[++e] + n;\n        return (BigInt(i) << BigInt(32)) + BigInt(r);\n      }), A.prototype.readIntLE = function (e, t, n) {\n        e >>>= 0, t >>>= 0, n || k(e, t, this.length);\n        let i = this[e],\n          r = 1,\n          o = 0;\n        for (; ++o < t && (r *= 256);) i += this[e + o] * r;\n        return r *= 128, i >= r && (i -= Math.pow(2, 8 * t)), i;\n      }, A.prototype.readIntBE = function (e, t, n) {\n        e >>>= 0, t >>>= 0, n || k(e, t, this.length);\n        let i = t,\n          r = 1,\n          o = this[e + --i];\n        for (; i > 0 && (r *= 256);) o += this[e + --i] * r;\n        return r *= 128, o >= r && (o -= Math.pow(2, 8 * t)), o;\n      }, A.prototype.readInt8 = function (e, t) {\n        return e >>>= 0, t || k(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e];\n      }, A.prototype.readInt16LE = function (e, t) {\n        e >>>= 0, t || k(e, 2, this.length);\n        const n = this[e] | this[e + 1] << 8;\n        return 32768 & n ? 4294901760 | n : n;\n      }, A.prototype.readInt16BE = function (e, t) {\n        e >>>= 0, t || k(e, 2, this.length);\n        const n = this[e + 1] | this[e] << 8;\n        return 32768 & n ? 4294901760 | n : n;\n      }, A.prototype.readInt32LE = function (e, t) {\n        return e >>>= 0, t || k(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24;\n      }, A.prototype.readInt32BE = function (e, t) {\n        return e >>>= 0, t || k(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3];\n      }, A.prototype.readBigInt64LE = Z(function (e) {\n        H(e >>>= 0, \"offset\");\n        const t = this[e],\n          n = this[e + 7];\n        void 0 !== t && void 0 !== n || q(e, this.length - 8);\n        const i = this[e + 4] + 256 * this[e + 5] + 65536 * this[e + 6] + (n << 24);\n        return (BigInt(i) << BigInt(32)) + BigInt(t + 256 * this[++e] + 65536 * this[++e] + this[++e] * 2 ** 24);\n      }), A.prototype.readBigInt64BE = Z(function (e) {\n        H(e >>>= 0, \"offset\");\n        const t = this[e],\n          n = this[e + 7];\n        void 0 !== t && void 0 !== n || q(e, this.length - 8);\n        const i = (t << 24) + 65536 * this[++e] + 256 * this[++e] + this[++e];\n        return (BigInt(i) << BigInt(32)) + BigInt(this[++e] * 2 ** 24 + 65536 * this[++e] + 256 * this[++e] + n);\n      }), A.prototype.readFloatLE = function (e, t) {\n        return e >>>= 0, t || k(e, 4, this.length), r.read(this, e, !0, 23, 4);\n      }, A.prototype.readFloatBE = function (e, t) {\n        return e >>>= 0, t || k(e, 4, this.length), r.read(this, e, !1, 23, 4);\n      }, A.prototype.readDoubleLE = function (e, t) {\n        return e >>>= 0, t || k(e, 8, this.length), r.read(this, e, !0, 52, 8);\n      }, A.prototype.readDoubleBE = function (e, t) {\n        return e >>>= 0, t || k(e, 8, this.length), r.read(this, e, !1, 52, 8);\n      }, A.prototype.writeUintLE = A.prototype.writeUIntLE = function (e, t, n, i) {\n        e = +e, t >>>= 0, n >>>= 0, i || T(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);\n        let r = 1,\n          o = 0;\n        for (this[t] = 255 & e; ++o < n && (r *= 256);) this[t + o] = e / r & 255;\n        return t + n;\n      }, A.prototype.writeUintBE = A.prototype.writeUIntBE = function (e, t, n, i) {\n        e = +e, t >>>= 0, n >>>= 0, i || T(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);\n        let r = n - 1,\n          o = 1;\n        for (this[t + r] = 255 & e; --r >= 0 && (o *= 256);) this[t + r] = e / o & 255;\n        return t + n;\n      }, A.prototype.writeUint8 = A.prototype.writeUInt8 = function (e, t, n) {\n        return e = +e, t >>>= 0, n || T(this, e, t, 1, 255, 0), this[t] = 255 & e, t + 1;\n      }, A.prototype.writeUint16LE = A.prototype.writeUInt16LE = function (e, t, n) {\n        return e = +e, t >>>= 0, n || T(this, e, t, 2, 65535, 0), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2;\n      }, A.prototype.writeUint16BE = A.prototype.writeUInt16BE = function (e, t, n) {\n        return e = +e, t >>>= 0, n || T(this, e, t, 2, 65535, 0), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2;\n      }, A.prototype.writeUint32LE = A.prototype.writeUInt32LE = function (e, t, n) {\n        return e = +e, t >>>= 0, n || T(this, e, t, 4, 4294967295, 0), this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e, t + 4;\n      }, A.prototype.writeUint32BE = A.prototype.writeUInt32BE = function (e, t, n) {\n        return e = +e, t >>>= 0, n || T(this, e, t, 4, 4294967295, 0), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4;\n      }, A.prototype.writeBigUInt64LE = Z(function (e, t = 0) {\n        return R(this, e, t, BigInt(0), BigInt(\"0xffffffffffffffff\"));\n      }), A.prototype.writeBigUInt64BE = Z(function (e, t = 0) {\n        return F(this, e, t, BigInt(0), BigInt(\"0xffffffffffffffff\"));\n      }), A.prototype.writeIntLE = function (e, t, n, i) {\n        if (e = +e, t >>>= 0, !i) {\n          const i = Math.pow(2, 8 * n - 1);\n          T(this, e, t, n, i - 1, -i);\n        }\n        let r = 0,\n          o = 1,\n          s = 0;\n        for (this[t] = 255 & e; ++r < n && (o *= 256);) e < 0 && 0 === s && 0 !== this[t + r - 1] && (s = 1), this[t + r] = (e / o | 0) - s & 255;\n        return t + n;\n      }, A.prototype.writeIntBE = function (e, t, n, i) {\n        if (e = +e, t >>>= 0, !i) {\n          const i = Math.pow(2, 8 * n - 1);\n          T(this, e, t, n, i - 1, -i);\n        }\n        let r = n - 1,\n          o = 1,\n          s = 0;\n        for (this[t + r] = 255 & e; --r >= 0 && (o *= 256);) e < 0 && 0 === s && 0 !== this[t + r + 1] && (s = 1), this[t + r] = (e / o | 0) - s & 255;\n        return t + n;\n      }, A.prototype.writeInt8 = function (e, t, n) {\n        return e = +e, t >>>= 0, n || T(this, e, t, 1, 127, -128), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1;\n      }, A.prototype.writeInt16LE = function (e, t, n) {\n        return e = +e, t >>>= 0, n || T(this, e, t, 2, 32767, -32768), this[t] = 255 & e, this[t + 1] = e >>> 8, t + 2;\n      }, A.prototype.writeInt16BE = function (e, t, n) {\n        return e = +e, t >>>= 0, n || T(this, e, t, 2, 32767, -32768), this[t] = e >>> 8, this[t + 1] = 255 & e, t + 2;\n      }, A.prototype.writeInt32LE = function (e, t, n) {\n        return e = +e, t >>>= 0, n || T(this, e, t, 4, 2147483647, -2147483648), this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24, t + 4;\n      }, A.prototype.writeInt32BE = function (e, t, n) {\n        return e = +e, t >>>= 0, n || T(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e, t + 4;\n      }, A.prototype.writeBigInt64LE = Z(function (e, t = 0) {\n        return R(this, e, t, -BigInt(\"0x8000000000000000\"), BigInt(\"0x7fffffffffffffff\"));\n      }), A.prototype.writeBigInt64BE = Z(function (e, t = 0) {\n        return F(this, e, t, -BigInt(\"0x8000000000000000\"), BigInt(\"0x7fffffffffffffff\"));\n      }), A.prototype.writeFloatLE = function (e, t, n) {\n        return O(this, e, t, !0, n);\n      }, A.prototype.writeFloatBE = function (e, t, n) {\n        return O(this, e, t, !1, n);\n      }, A.prototype.writeDoubleLE = function (e, t, n) {\n        return P(this, e, t, !0, n);\n      }, A.prototype.writeDoubleBE = function (e, t, n) {\n        return P(this, e, t, !1, n);\n      }, A.prototype.copy = function (e, t, n, i) {\n        if (!A.isBuffer(e)) throw new TypeError(\"argument should be a Buffer\");\n        if (n || (n = 0), i || 0 === i || (i = this.length), t >= e.length && (t = e.length), t || (t = 0), i > 0 && i < n && (i = n), i === n) return 0;\n        if (0 === e.length || 0 === this.length) return 0;\n        if (t < 0) throw new RangeError(\"targetStart out of bounds\");\n        if (n < 0 || n >= this.length) throw new RangeError(\"Index out of range\");\n        if (i < 0) throw new RangeError(\"sourceEnd out of bounds\");\n        i > this.length && (i = this.length), e.length - t < i - n && (i = e.length - t + n);\n        const r = i - n;\n        return this === e && \"function\" == typeof Uint8Array.prototype.copyWithin ? this.copyWithin(t, n, i) : Uint8Array.prototype.set.call(e, this.subarray(n, i), t), r;\n      }, A.prototype.fill = function (e, t, n, i) {\n        if (\"string\" == typeof e) {\n          if (\"string\" == typeof t ? (i = t, t = 0, n = this.length) : \"string\" == typeof n && (i = n, n = this.length), void 0 !== i && \"string\" != typeof i) throw new TypeError(\"encoding must be a string\");\n          if (\"string\" == typeof i && !A.isEncoding(i)) throw new TypeError(\"Unknown encoding: \" + i);\n          if (1 === e.length) {\n            const t = e.charCodeAt(0);\n            (\"utf8\" === i && t < 128 || \"latin1\" === i) && (e = t);\n          }\n        } else \"number\" == typeof e ? e &= 255 : \"boolean\" == typeof e && (e = Number(e));\n        if (t < 0 || this.length < t || this.length < n) throw new RangeError(\"Out of range index\");\n        if (n <= t) return this;\n        let r;\n        if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, e || (e = 0), \"number\" == typeof e) for (r = t; r < n; ++r) this[r] = e;else {\n          const o = A.isBuffer(e) ? e : A.from(e, i),\n            s = o.length;\n          if (0 === s) throw new TypeError('The value \"' + e + '\" is invalid for argument \"value\"');\n          for (r = 0; r < n - t; ++r) this[r + t] = o[r % s];\n        }\n        return this;\n      };\n      const G = {};\n      function N(e, t, n) {\n        G[e] = class extends n {\n          constructor() {\n            super(), Object.defineProperty(this, \"message\", {\n              value: t.apply(this, arguments),\n              writable: !0,\n              configurable: !0\n            }), this.name = `${this.name} [${e}]`, this.stack, delete this.name;\n          }\n          get code() {\n            return e;\n          }\n          set code(e) {\n            Object.defineProperty(this, \"code\", {\n              configurable: !0,\n              enumerable: !0,\n              value: e,\n              writable: !0\n            });\n          }\n          toString() {\n            return `${this.name} [${e}]: ${this.message}`;\n          }\n        };\n      }\n      function j(e) {\n        let t = \"\",\n          n = e.length;\n        const i = \"-\" === e[0] ? 1 : 0;\n        for (; n >= i + 4; n -= 3) t = `_${e.slice(n - 3, n)}${t}`;\n        return `${e.slice(0, n)}${t}`;\n      }\n      function _(e, t, n, i, r, o) {\n        if (e > n || e < t) {\n          const i = \"bigint\" == typeof t ? \"n\" : \"\";\n          let r;\n          throw r = o > 3 ? 0 === t || t === BigInt(0) ? `>= 0${i} and < 2${i} ** ${8 * (o + 1)}${i}` : `>= -(2${i} ** ${8 * (o + 1) - 1}${i}) and < 2 ** ${8 * (o + 1) - 1}${i}` : `>= ${t}${i} and <= ${n}${i}`, new G.ERR_OUT_OF_RANGE(\"value\", r, e);\n        }\n        !function (e, t, n) {\n          H(t, \"offset\"), void 0 !== e[t] && void 0 !== e[t + n] || q(t, e.length - (n + 1));\n        }(i, r, o);\n      }\n      function H(e, t) {\n        if (\"number\" != typeof e) throw new G.ERR_INVALID_ARG_TYPE(t, \"number\", e);\n      }\n      function q(e, t, n) {\n        if (Math.floor(e) !== e) throw H(e, n), new G.ERR_OUT_OF_RANGE(n || \"offset\", \"an integer\", e);\n        if (t < 0) throw new G.ERR_BUFFER_OUT_OF_BOUNDS();\n        throw new G.ERR_OUT_OF_RANGE(n || \"offset\", `>= ${n ? 1 : 0} and <= ${t}`, e);\n      }\n      N(\"ERR_BUFFER_OUT_OF_BOUNDS\", function (e) {\n        return e ? `${e} is outside of buffer bounds` : \"Attempt to access memory outside buffer bounds\";\n      }, RangeError), N(\"ERR_INVALID_ARG_TYPE\", function (e, t) {\n        return `The \"${e}\" argument must be of type number. Received type ${typeof t}`;\n      }, TypeError), N(\"ERR_OUT_OF_RANGE\", function (e, t, n) {\n        let i = `The value of \"${e}\" is out of range.`,\n          r = n;\n        return Number.isInteger(n) && Math.abs(n) > 2 ** 32 ? r = j(String(n)) : \"bigint\" == typeof n && (r = String(n), (n > BigInt(2) ** BigInt(32) || n < -(BigInt(2) ** BigInt(32))) && (r = j(r)), r += \"n\"), i += ` It must be ${t}. Received ${r}`, i;\n      }, RangeError);\n      const V = /[^+/0-9A-Za-z-_]/g;\n      function z(e, t) {\n        let n;\n        t = t || 1 / 0;\n        const i = e.length;\n        let r = null;\n        const o = [];\n        for (let s = 0; s < i; ++s) {\n          if (n = e.charCodeAt(s), n > 55295 && n < 57344) {\n            if (!r) {\n              if (n > 56319) {\n                (t -= 3) > -1 && o.push(239, 191, 189);\n                continue;\n              }\n              if (s + 1 === i) {\n                (t -= 3) > -1 && o.push(239, 191, 189);\n                continue;\n              }\n              r = n;\n              continue;\n            }\n            if (n < 56320) {\n              (t -= 3) > -1 && o.push(239, 191, 189), r = n;\n              continue;\n            }\n            n = 65536 + (r - 55296 << 10 | n - 56320);\n          } else r && (t -= 3) > -1 && o.push(239, 191, 189);\n          if (r = null, n < 128) {\n            if ((t -= 1) < 0) break;\n            o.push(n);\n          } else if (n < 2048) {\n            if ((t -= 2) < 0) break;\n            o.push(n >> 6 | 192, 63 & n | 128);\n          } else if (n < 65536) {\n            if ((t -= 3) < 0) break;\n            o.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128);\n          } else {\n            if (!(n < 1114112)) throw new Error(\"Invalid code point\");\n            if ((t -= 4) < 0) break;\n            o.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128);\n          }\n        }\n        return o;\n      }\n      function Y(e) {\n        return i.toByteArray(function (e) {\n          if ((e = (e = e.split(\"=\")[0]).trim().replace(V, \"\")).length < 2) return \"\";\n          for (; e.length % 4 != 0;) e += \"=\";\n          return e;\n        }(e));\n      }\n      function K(e, t, n, i) {\n        let r;\n        for (r = 0; r < i && !(r + n >= t.length || r >= e.length); ++r) t[r + n] = e[r];\n        return r;\n      }\n      function W(e, t) {\n        return e instanceof t || null != e && null != e.constructor && null != e.constructor.name && e.constructor.name === t.name;\n      }\n      function J(e) {\n        return e != e;\n      }\n      const X = function () {\n        const e = \"0123456789abcdef\",\n          t = new Array(256);\n        for (let n = 0; n < 16; ++n) {\n          const i = 16 * n;\n          for (let r = 0; r < 16; ++r) t[i + r] = e[n] + e[r];\n        }\n        return t;\n      }();\n      function Z(e) {\n        return \"undefined\" == typeof BigInt ? $ : e;\n      }\n      function $() {\n        throw new Error(\"BigInt not supported\");\n      }\n    },\n    9089: e => {\n      e.exports = function (e) {\n        var t = [];\n        return t.toString = function () {\n          return this.map(function (t) {\n            var n = \"\",\n              i = void 0 !== t[5];\n            return t[4] && (n += \"@supports (\".concat(t[4], \") {\")), t[2] && (n += \"@media \".concat(t[2], \" {\")), i && (n += \"@layer\".concat(t[5].length > 0 ? \" \".concat(t[5]) : \"\", \" {\")), n += e(t), i && (n += \"}\"), t[2] && (n += \"}\"), t[4] && (n += \"}\"), n;\n          }).join(\"\");\n        }, t.i = function (e, n, i, r, o) {\n          \"string\" == typeof e && (e = [[null, e, void 0]]);\n          var s = {};\n          if (i) for (var a = 0; a < this.length; a++) {\n            var A = this[a][0];\n            null != A && (s[A] = !0);\n          }\n          for (var l = 0; l < e.length; l++) {\n            var c = [].concat(e[l]);\n            i && s[c[0]] || (void 0 !== o && (void 0 === c[5] || (c[1] = \"@layer\".concat(c[5].length > 0 ? \" \".concat(c[5]) : \"\", \" {\").concat(c[1], \"}\")), c[5] = o), n && (c[2] ? (c[1] = \"@media \".concat(c[2], \" {\").concat(c[1], \"}\"), c[2] = n) : c[2] = n), r && (c[4] ? (c[1] = \"@supports (\".concat(c[4], \") {\").concat(c[1], \"}\"), c[4] = r) : c[4] = \"\".concat(r)), t.push(c));\n          }\n        }, t;\n      };\n    },\n    6492: e => {\n      e.exports = function (e, t) {\n        return t || (t = {}), e ? (e = String(e.__esModule ? e.default : e), /^['\"].*['\"]$/.test(e) && (e = e.slice(1, -1)), t.hash && (e += t.hash), /[\"'() \\t\\n]|(%20)/.test(e) || t.needQuotes ? '\"'.concat(e.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), '\"') : e) : e;\n      };\n    },\n    963: e => {\n      e.exports = function (e) {\n        var t = e[1],\n          n = e[3];\n        if (!n) return t;\n        if (\"function\" == typeof btoa) {\n          var i = btoa(unescape(encodeURIComponent(JSON.stringify(n)))),\n            r = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(i),\n            o = \"/*# \".concat(r, \" */\");\n          return [t].concat([o]).join(\"\\n\");\n        }\n        return [t].join(\"\\n\");\n      };\n    },\n    8878: (e, t, n) => {\n      t.formatArgs = function (t) {\n        if (t[0] = (this.useColors ? \"%c\" : \"\") + this.namespace + (this.useColors ? \" %c\" : \" \") + t[0] + (this.useColors ? \"%c \" : \" \") + \"+\" + e.exports.humanize(this.diff), !this.useColors) return;\n        const n = \"color: \" + this.color;\n        t.splice(1, 0, n, \"color: inherit\");\n        let i = 0,\n          r = 0;\n        t[0].replace(/%[a-zA-Z%]/g, e => {\n          \"%%\" !== e && (i++, \"%c\" === e && (r = i));\n        }), t.splice(r, 0, n);\n      }, t.save = function (e) {\n        try {\n          e ? t.storage.setItem(\"debug\", e) : t.storage.removeItem(\"debug\");\n        } catch (e) {}\n      }, t.load = function () {\n        let e;\n        try {\n          e = t.storage.getItem(\"debug\");\n        } catch (e) {}\n        return !e && \"undefined\" != typeof process && \"env\" in process && (e = process.env.DEBUG), e;\n      }, t.useColors = function () {\n        if (\"undefined\" != typeof window && window.process && (\"renderer\" === window.process.type || window.process.__nwjs)) return !0;\n        if (\"undefined\" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) return !1;\n        let e;\n        return \"undefined\" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || \"undefined\" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || \"undefined\" != typeof navigator && navigator.userAgent && (e = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(e[1], 10) >= 31 || \"undefined\" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n      }, t.storage = function () {\n        try {\n          return localStorage;\n        } catch (e) {}\n      }(), t.destroy = (() => {\n        let e = !1;\n        return () => {\n          e || (e = !0, console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"));\n        };\n      })(), t.colors = [\"#0000CC\", \"#0000FF\", \"#0033CC\", \"#0033FF\", \"#0066CC\", \"#0066FF\", \"#0099CC\", \"#0099FF\", \"#00CC00\", \"#00CC33\", \"#00CC66\", \"#00CC99\", \"#00CCCC\", \"#00CCFF\", \"#3300CC\", \"#3300FF\", \"#3333CC\", \"#3333FF\", \"#3366CC\", \"#3366FF\", \"#3399CC\", \"#3399FF\", \"#33CC00\", \"#33CC33\", \"#33CC66\", \"#33CC99\", \"#33CCCC\", \"#33CCFF\", \"#6600CC\", \"#6600FF\", \"#6633CC\", \"#6633FF\", \"#66CC00\", \"#66CC33\", \"#9900CC\", \"#9900FF\", \"#9933CC\", \"#9933FF\", \"#99CC00\", \"#99CC33\", \"#CC0000\", \"#CC0033\", \"#CC0066\", \"#CC0099\", \"#CC00CC\", \"#CC00FF\", \"#CC3300\", \"#CC3333\", \"#CC3366\", \"#CC3399\", \"#CC33CC\", \"#CC33FF\", \"#CC6600\", \"#CC6633\", \"#CC9900\", \"#CC9933\", \"#CCCC00\", \"#CCCC33\", \"#FF0000\", \"#FF0033\", \"#FF0066\", \"#FF0099\", \"#FF00CC\", \"#FF00FF\", \"#FF3300\", \"#FF3333\", \"#FF3366\", \"#FF3399\", \"#FF33CC\", \"#FF33FF\", \"#FF6600\", \"#FF6633\", \"#FF9900\", \"#FF9933\", \"#FFCC00\", \"#FFCC33\"], t.log = console.debug || console.log || (() => {}), e.exports = n(8945)(t);\n      const {\n        formatters: i\n      } = e.exports;\n      i.j = function (e) {\n        try {\n          return JSON.stringify(e);\n        } catch (e) {\n          return \"[UnexpectedJSONParseError]: \" + e.message;\n        }\n      };\n    },\n    8945: (e, t, n) => {\n      e.exports = function (e) {\n        function t(e) {\n          let n,\n            r,\n            o,\n            s = null;\n          function a(...e) {\n            if (!a.enabled) return;\n            const i = a,\n              r = Number(new Date()),\n              o = r - (n || r);\n            i.diff = o, i.prev = n, i.curr = r, n = r, e[0] = t.coerce(e[0]), \"string\" != typeof e[0] && e.unshift(\"%O\");\n            let s = 0;\n            e[0] = e[0].replace(/%([a-zA-Z%])/g, (n, r) => {\n              if (\"%%\" === n) return \"%\";\n              s++;\n              const o = t.formatters[r];\n              if (\"function\" == typeof o) {\n                const t = e[s];\n                n = o.call(i, t), e.splice(s, 1), s--;\n              }\n              return n;\n            }), t.formatArgs.call(i, e), (i.log || t.log).apply(i, e);\n          }\n          return a.namespace = e, a.useColors = t.useColors(), a.color = t.selectColor(e), a.extend = i, a.destroy = t.destroy, Object.defineProperty(a, \"enabled\", {\n            enumerable: !0,\n            configurable: !1,\n            get: () => null !== s ? s : (r !== t.namespaces && (r = t.namespaces, o = t.enabled(e)), o),\n            set: e => {\n              s = e;\n            }\n          }), \"function\" == typeof t.init && t.init(a), a;\n        }\n        function i(e, n) {\n          const i = t(this.namespace + (void 0 === n ? \":\" : n) + e);\n          return i.log = this.log, i;\n        }\n        function r(e, t) {\n          let n = 0,\n            i = 0,\n            r = -1,\n            o = 0;\n          for (; n < e.length;) if (i < t.length && (t[i] === e[n] || \"*\" === t[i])) \"*\" === t[i] ? (r = i, o = n, i++) : (n++, i++);else {\n            if (-1 === r) return !1;\n            i = r + 1, o++, n = o;\n          }\n          for (; i < t.length && \"*\" === t[i];) i++;\n          return i === t.length;\n        }\n        return t.debug = t, t.default = t, t.coerce = function (e) {\n          return e instanceof Error ? e.stack || e.message : e;\n        }, t.disable = function () {\n          const e = [...t.names, ...t.skips.map(e => \"-\" + e)].join(\",\");\n          return t.enable(\"\"), e;\n        }, t.enable = function (e) {\n          t.save(e), t.namespaces = e, t.names = [], t.skips = [];\n          const n = (\"string\" == typeof e ? e : \"\").trim().replace(\" \", \",\").split(\",\").filter(Boolean);\n          for (const e of n) \"-\" === e[0] ? t.skips.push(e.slice(1)) : t.names.push(e);\n        }, t.enabled = function (e) {\n          for (const n of t.skips) if (r(e, n)) return !1;\n          for (const n of t.names) if (r(e, n)) return !0;\n          return !1;\n        }, t.humanize = n(9192), t.destroy = function () {\n          console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\");\n        }, Object.keys(e).forEach(n => {\n          t[n] = e[n];\n        }), t.names = [], t.skips = [], t.formatters = {}, t.selectColor = function (e) {\n          let n = 0;\n          for (let t = 0; t < e.length; t++) n = (n << 5) - n + e.charCodeAt(t), n |= 0;\n          return t.colors[Math.abs(n) % t.colors.length];\n        }, t.enable(t.load()), t;\n      };\n    },\n    1124: (e, t, n) => {\n      var i = n(6240),\n        r = Object.prototype.hasOwnProperty,\n        o = Object.prototype.propertyIsEnumerable;\n      function s(e, t, n) {\n        var o = t[n];\n        if (null != o) {\n          if (r.call(e, n) && (void 0 === e[n] || null === e[n])) throw new TypeError(\"Cannot convert undefined or null to object (\" + n + \")\");\n          r.call(e, n) && i(o) ? e[n] = a(Object(e[n]), t[n]) : e[n] = o;\n        }\n      }\n      function a(e, t) {\n        if (e === t) return e;\n        for (var n in t = Object(t)) r.call(t, n) && s(e, t, n);\n        if (Object.getOwnPropertySymbols) for (var i = Object.getOwnPropertySymbols(t), a = 0; a < i.length; a++) o.call(t, i[a]) && s(e, t, i[a]);\n        return e;\n      }\n      e.exports = function (e) {\n        e = function (e) {\n          if (null == e) throw new TypeError(\"Sources cannot be null or undefined\");\n          return Object(e);\n        }(e);\n        for (var t = 1; t < arguments.length; t++) a(e, arguments[t]);\n        return e;\n      };\n    },\n    8480: e => {\n      e.exports = function (e) {\n        switch (e) {\n          case \"int8\":\n            return Int8Array;\n          case \"int16\":\n            return Int16Array;\n          case \"int32\":\n            return Int32Array;\n          case \"uint8\":\n            return Uint8Array;\n          case \"uint16\":\n            return Uint16Array;\n          case \"uint32\":\n            return Uint32Array;\n          case \"float32\":\n            return Float32Array;\n          case \"float64\":\n            return Float64Array;\n          case \"array\":\n            return Array;\n          case \"uint8_clamped\":\n            return Uint8ClampedArray;\n        }\n      };\n    },\n    919: (e, t, n) => {\n      var i;\n      i = \"undefined\" != typeof window ? window : void 0 !== n.g ? n.g : \"undefined\" != typeof self ? self : {}, e.exports = i;\n    },\n    1024: (e, t) => {\n      t.read = function (e, t, n, i, r) {\n        var o,\n          s,\n          a = 8 * r - i - 1,\n          A = (1 << a) - 1,\n          l = A >> 1,\n          c = -7,\n          h = n ? r - 1 : 0,\n          d = n ? -1 : 1,\n          u = e[t + h];\n        for (h += d, o = u & (1 << -c) - 1, u >>= -c, c += a; c > 0; o = 256 * o + e[t + h], h += d, c -= 8);\n        for (s = o & (1 << -c) - 1, o >>= -c, c += i; c > 0; s = 256 * s + e[t + h], h += d, c -= 8);\n        if (0 === o) o = 1 - l;else {\n          if (o === A) return s ? NaN : 1 / 0 * (u ? -1 : 1);\n          s += Math.pow(2, i), o -= l;\n        }\n        return (u ? -1 : 1) * s * Math.pow(2, o - i);\n      }, t.write = function (e, t, n, i, r, o) {\n        var s,\n          a,\n          A,\n          l = 8 * o - r - 1,\n          c = (1 << l) - 1,\n          h = c >> 1,\n          d = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,\n          u = i ? 0 : o - 1,\n          g = i ? 1 : -1,\n          p = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;\n        for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (a = isNaN(t) ? 1 : 0, s = c) : (s = Math.floor(Math.log(t) / Math.LN2), t * (A = Math.pow(2, -s)) < 1 && (s--, A *= 2), (t += s + h >= 1 ? d / A : d * Math.pow(2, 1 - h)) * A >= 2 && (s++, A /= 2), s + h >= c ? (a = 0, s = c) : s + h >= 1 ? (a = (t * A - 1) * Math.pow(2, r), s += h) : (a = t * Math.pow(2, h - 1) * Math.pow(2, r), s = 0)); r >= 8; e[n + u] = 255 & a, u += g, a /= 256, r -= 8);\n        for (s = s << r | a, l += r; l > 0; e[n + u] = 255 & s, u += g, s /= 256, l -= 8);\n        e[n + u - g] |= 128 * p;\n      };\n    },\n    2225: e => {\n      function t(e) {\n        return !!e.constructor && \"function\" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e);\n      }\n      e.exports = function (e) {\n        return null != e && (t(e) || function (e) {\n          return \"function\" == typeof e.readFloatLE && \"function\" == typeof e.slice && t(e.slice(0, 0));\n        }(e) || !!e._isBuffer);\n      };\n    },\n    8847: e => {\n      e.exports = function (e) {\n        if (!e) return !1;\n        var n = t.call(e);\n        return \"[object Function]\" === n || \"function\" == typeof e && \"[object RegExp]\" !== n || \"undefined\" != typeof window && (e === window.setTimeout || e === window.alert || e === window.confirm || e === window.prompt);\n      };\n      var t = Object.prototype.toString;\n    },\n    6240: e => {\n      e.exports = function (e) {\n        var t = typeof e;\n        return null !== e && (\"object\" === t || \"function\" === t);\n      };\n    },\n    5651: (e, t, n) => {\n      var i = n(5406),\n        r = n(4597),\n        o = n(5734),\n        s = [\"x\", \"e\", \"a\", \"o\", \"n\", \"s\", \"r\", \"c\", \"u\", \"m\", \"v\", \"w\", \"z\"],\n        a = [\"m\", \"w\"],\n        A = [\"H\", \"I\", \"N\", \"E\", \"F\", \"K\", \"L\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\"],\n        l = \"\\t\".charCodeAt(0),\n        c = \" \".charCodeAt(0);\n      function h(e) {\n        this.glyphs = [], this._measure = this.computeMetrics.bind(this), this.update(e);\n      }\n      function d(e) {\n        return new Function([\"return function \" + e + \"() {\", \"  return this._\" + e, \"}\"].join(\"\\n\"))();\n      }\n      function u(e, t) {\n        if (!e.chars || 0 === e.chars.length) return null;\n        var n = p(e.chars, t);\n        return n >= 0 ? e.chars[n] : null;\n      }\n      function g(e, t, n) {\n        if (!e.kernings || 0 === e.kernings.length) return 0;\n        for (var i = e.kernings, r = 0; r < i.length; r++) {\n          var o = i[r];\n          if (o.first === t && o.second === n) return o.amount;\n        }\n        return 0;\n      }\n      function p(e, t, n) {\n        for (var i = n = n || 0; i < e.length; i++) if (e[i].id === t) return i;\n        return -1;\n      }\n      e.exports = function (e) {\n        return new h(e);\n      }, h.prototype.update = function (e) {\n        if (e = r({\n          measure: this._measure\n        }, e), this._opt = e, this._opt.tabSize = o(this._opt.tabSize, 4), !e.font) throw new Error(\"must provide a valid bitmap font\");\n        var t = this.glyphs,\n          n = e.text || \"\",\n          a = e.font;\n        this._setupSpaceGlyphs(a);\n        var l = i.lines(n, e),\n          c = e.width || 0;\n        t.length = 0;\n        var h = l.reduce(function (e, t) {\n            return Math.max(e, t.width, c);\n          }, 0),\n          d = 0,\n          u = 0,\n          f = o(e.lineHeight, a.common.lineHeight),\n          m = a.common.base,\n          E = f - m,\n          C = e.letterSpacing || 0,\n          v = f * l.length - E,\n          B = function (e) {\n            return \"center\" === e ? 1 : \"right\" === e ? 2 : 0;\n          }(this._opt.align);\n        u -= v, this._width = h, this._height = v, this._descender = f - m, this._baseline = m, this._xHeight = function (e) {\n          for (var t = 0; t < s.length; t++) {\n            var n = s[t].charCodeAt(0),\n              i = p(e.chars, n);\n            if (i >= 0) return e.chars[i].height;\n          }\n          return 0;\n        }(a), this._capHeight = function (e) {\n          for (var t = 0; t < A.length; t++) {\n            var n = A[t].charCodeAt(0),\n              i = p(e.chars, n);\n            if (i >= 0) return e.chars[i].height;\n          }\n          return 0;\n        }(a), this._lineHeight = f, this._ascender = f - E - this._xHeight;\n        var b = this;\n        l.forEach(function (e, i) {\n          for (var r, o = e.start, s = e.end, A = e.width, l = o; l < s; l++) {\n            var c = n.charCodeAt(l),\n              p = b.getGlyph(a, c);\n            if (p) {\n              r && (d += g(a, r.id, p.id));\n              var m = d;\n              1 === B ? m += (h - A) / 2 : 2 === B && (m += h - A), t.push({\n                position: [m, u],\n                data: p,\n                index: l,\n                line: i\n              }), d += p.xadvance + C, r = p;\n            }\n          }\n          u += f, d = 0;\n        }), this._linesTotal = l.length;\n      }, h.prototype._setupSpaceGlyphs = function (e) {\n        if (this._fallbackSpaceGlyph = null, this._fallbackTabGlyph = null, e.chars && 0 !== e.chars.length) {\n          var t = u(e, c) || function (e) {\n              for (var t = 0; t < a.length; t++) {\n                var n = a[t].charCodeAt(0),\n                  i = p(e.chars, n);\n                if (i >= 0) return e.chars[i];\n              }\n              return 0;\n            }(e) || e.chars[0],\n            n = this._opt.tabSize * t.xadvance;\n          this._fallbackSpaceGlyph = t, this._fallbackTabGlyph = r(t, {\n            x: 0,\n            y: 0,\n            xadvance: n,\n            id: l,\n            xoffset: 0,\n            yoffset: 0,\n            width: 0,\n            height: 0\n          });\n        }\n      }, h.prototype.getGlyph = function (e, t) {\n        return u(e, t) || (t === l ? this._fallbackTabGlyph : t === c ? this._fallbackSpaceGlyph : null);\n      }, h.prototype.computeMetrics = function (e, t, n, i) {\n        var r,\n          o = this._opt.letterSpacing || 0,\n          s = this._opt.font,\n          a = 0,\n          A = 0,\n          l = 0;\n        if (!s.chars || 0 === s.chars.length) return {\n          start: t,\n          end: t,\n          width: 0\n        };\n        n = Math.min(e.length, n);\n        for (var c = t; c < n; c++) {\n          var h,\n            d = e.charCodeAt(c);\n          if (h = this.getGlyph(s, d)) {\n            h.xoffset;\n            var u = (a += r ? g(s, r.id, h.id) : 0) + h.xadvance + o,\n              p = a + h.width;\n            if (p >= i || u >= i) break;\n            a = u, A = p, r = h;\n          }\n          l++;\n        }\n        return r && (A += r.xoffset), {\n          start: t,\n          end: t + l,\n          width: A\n        };\n      }, [\"width\", \"height\", \"descender\", \"ascender\", \"xHeight\", \"baseline\", \"capHeight\", \"lineHeight\"].forEach(function (e) {\n        Object.defineProperty(h.prototype, e, {\n          get: d(e),\n          configurable: !0\n        });\n      });\n    },\n    5751: (e, t, n) => {\n      var i = n(9922).hp,\n        r = n(3558),\n        o = function () {},\n        s = n(1476),\n        a = n(7034),\n        A = n(7480),\n        l = n(573),\n        c = n(4597),\n        h = self.XMLHttpRequest && \"withCredentials\" in new XMLHttpRequest();\n      e.exports = function (e, t) {\n        t = \"function\" == typeof t ? t : o, \"string\" == typeof e ? e = {\n          uri: e\n        } : e || (e = {}), e.binary && (e = function (e) {\n          if (h) return c(e, {\n            responseType: \"arraybuffer\"\n          });\n          if (void 0 === self.XMLHttpRequest) throw new Error(\"your browser does not support XHR loading\");\n          var t = new self.XMLHttpRequest();\n          return t.overrideMimeType(\"text/plain; charset=x-user-defined\"), c({\n            xhr: t\n          }, e);\n        }(e)), r(e, function (n, r, c) {\n          if (n) return t(n);\n          if (!/^2/.test(r.statusCode)) return t(new Error(\"http status code: \" + r.statusCode));\n          if (!c) return t(new Error(\"no body result\"));\n          var h,\n            d,\n            u = !1;\n          if (h = c, \"[object ArrayBuffer]\" === Object.prototype.toString.call(h)) {\n            var g = new Uint8Array(c);\n            c = i.from(g, \"binary\");\n          }\n          l(c) && (u = !0, \"string\" == typeof c && (c = i.from(c, \"binary\"))), u || (i.isBuffer(c) && (c = c.toString(e.encoding)), c = c.trim());\n          try {\n            var p = r.headers[\"content-type\"];\n            d = u ? A(c) : /json/.test(p) || \"{\" === c.charAt(0) ? JSON.parse(c) : /xml/.test(p) || \"<\" === c.charAt(0) ? a(c) : s(c);\n          } catch (e) {\n            t(new Error(\"error parsing font \" + e.message)), t = o;\n          }\n          t(null, d);\n        });\n      };\n    },\n    573: (e, t, n) => {\n      var i = n(9922).hp,\n        r = n(911),\n        o = i.from([66, 77, 70, 3]);\n      e.exports = function (e) {\n        return \"string\" == typeof e ? \"BMF\" === e.substring(0, 3) : e.length > 4 && r(e.slice(0, 4), o);\n      };\n    },\n    9192: e => {\n      var t = 1e3,\n        n = 60 * t,\n        i = 60 * n,\n        r = 24 * i,\n        o = 7 * r;\n      function s(e, t, n, i) {\n        var r = t >= 1.5 * n;\n        return Math.round(e / n) + \" \" + i + (r ? \"s\" : \"\");\n      }\n      e.exports = function (e, a) {\n        a = a || {};\n        var A,\n          l,\n          c = typeof e;\n        if (\"string\" === c && e.length > 0) return function (e) {\n          if (!((e = String(e)).length > 100)) {\n            var s = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);\n            if (s) {\n              var a = parseFloat(s[1]);\n              switch ((s[2] || \"ms\").toLowerCase()) {\n                case \"years\":\n                case \"year\":\n                case \"yrs\":\n                case \"yr\":\n                case \"y\":\n                  return 315576e5 * a;\n                case \"weeks\":\n                case \"week\":\n                case \"w\":\n                  return a * o;\n                case \"days\":\n                case \"day\":\n                case \"d\":\n                  return a * r;\n                case \"hours\":\n                case \"hour\":\n                case \"hrs\":\n                case \"hr\":\n                case \"h\":\n                  return a * i;\n                case \"minutes\":\n                case \"minute\":\n                case \"mins\":\n                case \"min\":\n                case \"m\":\n                  return a * n;\n                case \"seconds\":\n                case \"second\":\n                case \"secs\":\n                case \"sec\":\n                case \"s\":\n                  return a * t;\n                case \"milliseconds\":\n                case \"millisecond\":\n                case \"msecs\":\n                case \"msec\":\n                case \"ms\":\n                  return a;\n                default:\n                  return;\n              }\n            }\n          }\n        }(e);\n        if (\"number\" === c && isFinite(e)) return a.long ? (A = e, (l = Math.abs(A)) >= r ? s(A, l, r, \"day\") : l >= i ? s(A, l, i, \"hour\") : l >= n ? s(A, l, n, \"minute\") : l >= t ? s(A, l, t, \"second\") : A + \" ms\") : function (e) {\n          var o = Math.abs(e);\n          return o >= r ? Math.round(e / r) + \"d\" : o >= i ? Math.round(e / i) + \"h\" : o >= n ? Math.round(e / n) + \"m\" : o >= t ? Math.round(e / t) + \"s\" : e + \"ms\";\n        }(e);\n        throw new Error(\"val is not a non-empty string or a valid number. val=\" + JSON.stringify(e));\n      };\n    },\n    1476: e => {\n      function t(e, t) {\n        if (!(e = e.replace(/\\t+/g, \" \").trim())) return null;\n        var i = e.indexOf(\" \");\n        if (-1 === i) throw new Error(\"no named row at line \" + t);\n        var r = e.substring(0, i);\n        e = (e = (e = (e = e.substring(i + 1)).replace(/letter=[\\'\\\"]\\S+[\\'\\\"]/gi, \"\")).split(\"=\")).map(function (e) {\n          return e.trim().match(/(\".*?\"|[^\"\\s]+)+(?=\\s*|\\s*$)/g);\n        });\n        for (var o = [], s = 0; s < e.length; s++) {\n          var a = e[s];\n          0 === s ? o.push({\n            key: a[0],\n            data: \"\"\n          }) : s === e.length - 1 ? o[o.length - 1].data = n(a[0]) : (o[o.length - 1].data = n(a[0]), o.push({\n            key: a[1],\n            data: \"\"\n          }));\n        }\n        var A = {\n          key: r,\n          data: {}\n        };\n        return o.forEach(function (e) {\n          A.data[e.key] = e.data;\n        }), A;\n      }\n      function n(e) {\n        return e && 0 !== e.length ? 0 === e.indexOf('\"') || 0 === e.indexOf(\"'\") ? e.substring(1, e.length - 1) : -1 !== e.indexOf(\",\") ? function (e) {\n          return e.split(\",\").map(function (e) {\n            return parseInt(e, 10);\n          });\n        }(e) : parseInt(e, 10) : \"\";\n      }\n      e.exports = function (e) {\n        if (!e) throw new Error(\"no data provided\");\n        var n = {\n            pages: [],\n            chars: [],\n            kernings: []\n          },\n          i = (e = e.toString().trim()).split(/\\r\\n?|\\n/g);\n        if (0 === i.length) throw new Error(\"no data in BMFont file\");\n        for (var r = 0; r < i.length; r++) {\n          var o = t(i[r], r);\n          if (o) if (\"page\" === o.key) {\n            if (\"number\" != typeof o.data.id) throw new Error(\"malformed file at line \" + r + \" -- needs page id=N\");\n            if (\"string\" != typeof o.data.file) throw new Error(\"malformed file at line \" + r + ' -- needs page file=\"path\"');\n            n.pages[o.data.id] = o.data.file;\n          } else \"chars\" === o.key || \"kernings\" === o.key || (\"char\" === o.key ? n.chars.push(o.data) : \"kerning\" === o.key ? n.kernings.push(o.data) : n[o.key] = o.data);\n        }\n        return n;\n      };\n    },\n    7480: e => {\n      var t = [66, 77, 70];\n      function n(e, t, n) {\n        if (n > t.length - 1) return 0;\n        var r = t.readUInt8(n++),\n          o = t.readInt32LE(n);\n        switch (n += 4, r) {\n          case 1:\n            e.info = function (e, t) {\n              var n = {};\n              n.size = e.readInt16LE(t);\n              var r = e.readUInt8(t + 2);\n              return n.smooth = r >> 7 & 1, n.unicode = r >> 6 & 1, n.italic = r >> 5 & 1, n.bold = r >> 4 & 1, r >> 3 & 1 && (n.fixedHeight = 1), n.charset = e.readUInt8(t + 3) || \"\", n.stretchH = e.readUInt16LE(t + 4), n.aa = e.readUInt8(t + 6), n.padding = [e.readInt8(t + 7), e.readInt8(t + 8), e.readInt8(t + 9), e.readInt8(t + 10)], n.spacing = [e.readInt8(t + 11), e.readInt8(t + 12)], n.outline = e.readUInt8(t + 13), n.face = function (e, t) {\n                return i(e, t).toString(\"utf8\");\n              }(e, t + 14), n;\n            }(t, n);\n            break;\n          case 2:\n            e.common = function (e, t) {\n              var n = {};\n              return n.lineHeight = e.readUInt16LE(t), n.base = e.readUInt16LE(t + 2), n.scaleW = e.readUInt16LE(t + 4), n.scaleH = e.readUInt16LE(t + 6), n.pages = e.readUInt16LE(t + 8), e.readUInt8(t + 10), n.packed = 0, n.alphaChnl = e.readUInt8(t + 11), n.redChnl = e.readUInt8(t + 12), n.greenChnl = e.readUInt8(t + 13), n.blueChnl = e.readUInt8(t + 14), n;\n            }(t, n);\n            break;\n          case 3:\n            e.pages = function (e, t, n) {\n              for (var r = [], o = i(e, t), s = o.length + 1, a = n / s, A = 0; A < a; A++) r[A] = e.slice(t, t + o.length).toString(\"utf8\"), t += s;\n              return r;\n            }(t, n, o);\n            break;\n          case 4:\n            e.chars = function (e, t, n) {\n              for (var i = [], r = n / 20, o = 0; o < r; o++) {\n                var s = {},\n                  a = 20 * o;\n                s.id = e.readUInt32LE(t + 0 + a), s.x = e.readUInt16LE(t + 4 + a), s.y = e.readUInt16LE(t + 6 + a), s.width = e.readUInt16LE(t + 8 + a), s.height = e.readUInt16LE(t + 10 + a), s.xoffset = e.readInt16LE(t + 12 + a), s.yoffset = e.readInt16LE(t + 14 + a), s.xadvance = e.readInt16LE(t + 16 + a), s.page = e.readUInt8(t + 18 + a), s.chnl = e.readUInt8(t + 19 + a), i[o] = s;\n              }\n              return i;\n            }(t, n, o);\n            break;\n          case 5:\n            e.kernings = function (e, t, n) {\n              for (var i = [], r = n / 10, o = 0; o < r; o++) {\n                var s = {},\n                  a = 10 * o;\n                s.first = e.readUInt32LE(t + 0 + a), s.second = e.readUInt32LE(t + 4 + a), s.amount = e.readInt16LE(t + 8 + a), i[o] = s;\n              }\n              return i;\n            }(t, n, o);\n        }\n        return 5 + o;\n      }\n      function i(e, t) {\n        for (var n = t; n < e.length && 0 !== e[n]; n++);\n        return e.slice(t, n);\n      }\n      e.exports = function (e) {\n        if (e.length < 6) throw new Error(\"invalid buffer length for BMFont\");\n        var i = t.every(function (t, n) {\n          return e.readUInt8(n) === t;\n        });\n        if (!i) throw new Error(\"BMFont missing BMF byte header\");\n        var r = 3;\n        if (e.readUInt8(r++) > 3) throw new Error(\"Only supports BMFont Binary v3 (BMFont App v1.10)\");\n        for (var o = {\n            kernings: [],\n            chars: []\n          }, s = 0; s < 5; s++) r += n(o, e, r);\n        return o;\n      };\n    },\n    7034: (e, t, n) => {\n      var i = n(7829),\n        r = n(1896),\n        o = {\n          scaleh: \"scaleH\",\n          scalew: \"scaleW\",\n          stretchh: \"stretchH\",\n          lineheight: \"lineHeight\",\n          alphachnl: \"alphaChnl\",\n          redchnl: \"redChnl\",\n          greenchnl: \"greenChnl\",\n          bluechnl: \"blueChnl\"\n        };\n      function s(e) {\n        var t = function (e) {\n          for (var t = [], n = 0; n < e.attributes.length; n++) t.push(e.attributes[n]);\n          return t;\n        }(e);\n        return t.reduce(function (e, t) {\n          var n;\n          return e[n = t.nodeName, o[n.toLowerCase()] || n] = t.nodeValue, e;\n        }, {});\n      }\n      e.exports = function (e) {\n        e = e.toString();\n        var t = r(e),\n          n = {\n            pages: [],\n            chars: [],\n            kernings: []\n          };\n        [\"info\", \"common\"].forEach(function (e) {\n          var r = t.getElementsByTagName(e)[0];\n          r && (n[e] = i(s(r)));\n        });\n        var o = t.getElementsByTagName(\"pages\")[0];\n        if (!o) throw new Error(\"malformed file -- no <pages> element\");\n        for (var a = o.getElementsByTagName(\"page\"), A = 0; A < a.length; A++) {\n          var l = a[A],\n            c = parseInt(l.getAttribute(\"id\"), 10),\n            h = l.getAttribute(\"file\");\n          if (isNaN(c)) throw new Error('malformed file -- page \"id\" attribute is NaN');\n          if (!h) throw new Error('malformed file -- needs page \"file\" attribute');\n          n.pages[parseInt(c, 10)] = h;\n        }\n        return [\"chars\", \"kernings\"].forEach(function (e) {\n          var r = t.getElementsByTagName(e)[0];\n          if (r) for (var o = e.substring(0, e.length - 1), a = r.getElementsByTagName(o), A = 0; A < a.length; A++) {\n            var l = a[A];\n            n[e].push(i(s(l)));\n          }\n        }), n;\n      };\n    },\n    7829: e => {\n      var t = \"chasrset\";\n      e.exports = function (e) {\n        for (var n in e = Object.assign({}, e), t in e && (e.charset = e[t], delete e[t]), e) \"face\" !== n && \"charset\" !== n && (e[n] = \"padding\" === n || \"spacing\" === n ? e[n].split(\",\").map(function (e) {\n          return parseInt(e, 10);\n        }) : parseInt(e[n], 10));\n        return e;\n      };\n    },\n    3216: e => {\n      var t = function (e) {\n        return e.replace(/^\\s+|\\s+$/g, \"\");\n      };\n      e.exports = function (e) {\n        if (!e) return {};\n        for (var n, i = {}, r = t(e).split(\"\\n\"), o = 0; o < r.length; o++) {\n          var s = r[o],\n            a = s.indexOf(\":\"),\n            A = t(s.slice(0, a)).toLowerCase(),\n            l = t(s.slice(a + 1));\n          void 0 === i[A] ? i[A] = l : (n = i[A], \"[object Array]\" === Object.prototype.toString.call(n) ? i[A].push(l) : i[A] = [i[A], l]);\n        }\n        return i;\n      };\n    },\n    9035: (e, t, n) => {\n      var i = n(8480),\n        r = n(8167),\n        o = n(2225),\n        s = [0, 2, 3],\n        a = [2, 1, 3];\n      e.exports = function (e, t) {\n        e && (r(e) || o(e)) || (t = e || {}, e = null);\n        for (var n = \"string\" == typeof (t = \"number\" == typeof t ? {\n            count: t\n          } : t || {}).type ? t.type : \"uint16\", A = \"number\" == typeof t.count ? t.count : 1, l = t.start || 0, c = !1 !== t.clockwise ? s : a, h = c[0], d = c[1], u = c[2], g = 6 * A, p = e || new (i(n))(g), f = 0, m = 0; f < g; f += 6, m += 4) {\n          var E = f + l;\n          p[E + 0] = m + 0, p[E + 1] = m + 1, p[E + 2] = m + 2, p[E + 3] = m + h, p[E + 4] = m + d, p[E + 5] = m + u;\n        }\n        return p;\n      };\n    },\n    4433: (e, t, n) => {\n      var i = n(5651),\n        r = n(9035),\n        o = n(7106),\n        s = n(1684);\n      e.exports = function (e) {\n        return new a(e);\n      };\n      class a extends THREE.BufferGeometry {\n        constructor(e) {\n          super(), \"string\" == typeof e && (e = {\n            text: e\n          }), this._opt = Object.assign({}, e), e && this.update(e);\n        }\n        update(e) {\n          if (\"string\" == typeof e && (e = {\n            text: e\n          }), !(e = Object.assign({}, this._opt, e)).font) throw new TypeError(\"must specify a { font } in options\");\n          this.layout = i(e);\n          var t = !1 !== e.flipY,\n            n = e.font,\n            s = n.common.scaleW,\n            a = n.common.scaleH,\n            A = this.layout.glyphs.filter(function (e) {\n              var t = e.data;\n              return t.width * t.height > 0;\n            });\n          this.visibleGlyphs = A;\n          var l = o.positions(A),\n            c = o.uvs(A, s, a, t),\n            h = r([], {\n              clockwise: !0,\n              type: \"uint16\",\n              count: A.length\n            });\n          if (this.setIndex(h), this.setAttribute(\"position\", new THREE.BufferAttribute(l, 2)), this.setAttribute(\"uv\", new THREE.BufferAttribute(c, 2)), !e.multipage && \"page\" in this.attributes) this.removeAttribute(\"page\");else if (e.multipage) {\n            var d = o.pages(A);\n            this.setAttribute(\"page\", new THREE.BufferAttribute(d, 1));\n          }\n          null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere();\n        }\n        computeBoundingSphere() {\n          null === this.boundingSphere && (this.boundingSphere = new THREE.Sphere());\n          var e = this.attributes.position.array,\n            t = this.attributes.position.itemSize;\n          if (!e || !t || e.length < 2) return this.boundingSphere.radius = 0, void this.boundingSphere.center.set(0, 0, 0);\n          s.computeSphere(e, this.boundingSphere), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.');\n        }\n        computeBoundingBox() {\n          null === this.boundingBox && (this.boundingBox = new THREE.Box3());\n          var e = this.boundingBox,\n            t = this.attributes.position.array,\n            n = this.attributes.position.itemSize;\n          !t || !n || t.length < 2 ? e.makeEmpty() : s.computeBox(t, e);\n        }\n      }\n    },\n    1684: e => {\n      var t = {\n        min: [0, 0],\n        max: [0, 0]\n      };\n      function n(e) {\n        var n = e.length / 2;\n        t.min[0] = e[0], t.min[1] = e[1], t.max[0] = e[0], t.max[1] = e[1];\n        for (var i = 0; i < n; i++) {\n          var r = e[2 * i + 0],\n            o = e[2 * i + 1];\n          t.min[0] = Math.min(r, t.min[0]), t.min[1] = Math.min(o, t.min[1]), t.max[0] = Math.max(r, t.max[0]), t.max[1] = Math.max(o, t.max[1]);\n        }\n      }\n      e.exports.computeBox = function (e, i) {\n        n(e), i.min.set(t.min[0], t.min[1], 0), i.max.set(t.max[0], t.max[1], 0);\n      }, e.exports.computeSphere = function (e, i) {\n        n(e);\n        var r = t.min[0],\n          o = t.min[1],\n          s = t.max[0] - r,\n          a = t.max[1] - o,\n          A = Math.sqrt(s * s + a * a);\n        i.center.set(r + s / 2, o + a / 2, 0), i.radius = A / 2;\n      };\n    },\n    7106: e => {\n      e.exports.pages = function (e) {\n        var t = new Float32Array(4 * e.length * 1),\n          n = 0;\n        return e.forEach(function (e) {\n          var i = e.data.page || 0;\n          t[n++] = i, t[n++] = i, t[n++] = i, t[n++] = i;\n        }), t;\n      }, e.exports.uvs = function (e, t, n, i) {\n        var r = new Float32Array(4 * e.length * 2),\n          o = 0;\n        return e.forEach(function (e) {\n          var s = e.data,\n            a = s.x + s.width,\n            A = s.y + s.height,\n            l = s.x / t,\n            c = s.y / n,\n            h = a / t,\n            d = A / n;\n          i && (c = (n - s.y) / n, d = (n - A) / n), r[o++] = l, r[o++] = c, r[o++] = l, r[o++] = d, r[o++] = h, r[o++] = d, r[o++] = h, r[o++] = c;\n        }), r;\n      }, e.exports.positions = function (e) {\n        var t = new Float32Array(4 * e.length * 2),\n          n = 0;\n        return e.forEach(function (e) {\n          var i = e.data,\n            r = e.position[0] + i.xoffset,\n            o = e.position[1] + i.yoffset,\n            s = i.width,\n            a = i.height;\n          t[n++] = r, t[n++] = o, t[n++] = r, t[n++] = o + a, t[n++] = r + s, t[n++] = o + a, t[n++] = r + s, t[n++] = o;\n        }), t;\n      };\n    },\n    5406: e => {\n      var t = /\\n/,\n        n = /\\s/;\n      function i(e, t, n, i) {\n        var r = e.indexOf(t, n);\n        return -1 === r || r > i ? i : r;\n      }\n      function r(e) {\n        return n.test(e);\n      }\n      function o(e, t, n, i) {\n        return {\n          start: t,\n          end: t + Math.min(i, n - t)\n        };\n      }\n      e.exports = function (t, n) {\n        return e.exports.lines(t, n).map(function (e) {\n          return t.substring(e.start, e.end);\n        }).join(\"\\n\");\n      }, e.exports.lines = function (e, n) {\n        if (0 === (n = n || {}).width && \"nowrap\" !== n.mode) return [];\n        e = e || \"\";\n        var s = \"number\" == typeof n.width ? n.width : Number.MAX_VALUE,\n          a = Math.max(0, n.start || 0),\n          A = \"number\" == typeof n.end ? n.end : e.length,\n          l = n.mode,\n          c = n.measure || o;\n        return \"pre\" === l ? function (e, n, i, r, o) {\n          for (var s = [], a = i, A = i; A < r && A < n.length; A++) {\n            var l = n.charAt(A),\n              c = t.test(l);\n            if (c || A === r - 1) {\n              var h = e(n, a, c ? A : A + 1, o);\n              s.push(h), a = A + 1;\n            }\n          }\n          return s;\n        }(c, e, a, A, s) : function (e, t, n, o, s, a) {\n          var A = [],\n            l = s;\n          for (\"nowrap\" === a && (l = Number.MAX_VALUE); n < o && n < t.length;) {\n            for (var c = i(t, \"\\n\", n, o); n < c && r(t.charAt(n));) n++;\n            var h = e(t, n, c, l),\n              d = n + (h.end - h.start),\n              u = d + 1;\n            if (d < c) {\n              for (; d > n && !r(t.charAt(d));) d--;\n              if (d === n) u > n + 1 && u--, d = u;else for (u = d; d > n && r(t.charAt(d - 1));) d--;\n            }\n            if (d >= n) {\n              var g = e(t, n, d, l);\n              A.push(g);\n            }\n            n = u;\n          }\n          return A;\n        }(c, e, a, A, s, l);\n      };\n    },\n    3558: (e, t, n) => {\n      var i = n(919),\n        r = n(8847),\n        o = n(3216),\n        s = n(4597);\n      function a(e, t, n) {\n        var i = e;\n        return r(t) ? (n = t, \"string\" == typeof e && (i = {\n          uri: e\n        })) : i = s(t, {\n          uri: e\n        }), i.callback = n, i;\n      }\n      function A(e, t, n) {\n        return l(t = a(e, t, n));\n      }\n      function l(e) {\n        if (void 0 === e.callback) throw new Error(\"callback argument missing\");\n        var t = !1,\n          n = function (n, i, r) {\n            t || (t = !0, e.callback(n, i, r));\n          };\n        function i() {\n          var e = void 0;\n          if (e = c.response ? c.response : c.responseText || function (e) {\n            try {\n              if (\"document\" === e.responseType) return e.responseXML;\n              var t = e.responseXML && \"parsererror\" === e.responseXML.documentElement.nodeName;\n              if (\"\" === e.responseType && !t) return e.responseXML;\n            } catch (e) {}\n            return null;\n          }(c), m) try {\n            e = JSON.parse(e);\n          } catch (e) {}\n          return e;\n        }\n        function r(e) {\n          return clearTimeout(h), e instanceof Error || (e = new Error(\"\" + (e || \"Unknown XMLHttpRequest Error\"))), e.statusCode = 0, n(e, E);\n        }\n        function s() {\n          if (!l) {\n            var t;\n            clearTimeout(h), t = e.useXDR && void 0 === c.status ? 200 : 1223 === c.status ? 204 : c.status;\n            var r = E,\n              s = null;\n            return 0 !== t ? (r = {\n              body: i(),\n              statusCode: t,\n              method: u,\n              headers: {},\n              url: d,\n              rawRequest: c\n            }, c.getAllResponseHeaders && (r.headers = o(c.getAllResponseHeaders()))) : s = new Error(\"Internal XMLHttpRequest Error\"), n(s, r, r.body);\n          }\n        }\n        var a,\n          l,\n          c = e.xhr || null;\n        c || (c = e.cors || e.useXDR ? new A.XDomainRequest() : new A.XMLHttpRequest());\n        var h,\n          d = c.url = e.uri || e.url,\n          u = c.method = e.method || \"GET\",\n          g = e.body || e.data,\n          p = c.headers = e.headers || {},\n          f = !!e.sync,\n          m = !1,\n          E = {\n            body: void 0,\n            headers: {},\n            statusCode: 0,\n            method: u,\n            url: d,\n            rawRequest: c\n          };\n        if (\"json\" in e && !1 !== e.json && (m = !0, p.accept || p.Accept || (p.Accept = \"application/json\"), \"GET\" !== u && \"HEAD\" !== u && (p[\"content-type\"] || p[\"Content-Type\"] || (p[\"Content-Type\"] = \"application/json\"), g = JSON.stringify(!0 === e.json ? g : e.json))), c.onreadystatechange = function () {\n          4 === c.readyState && setTimeout(s, 0);\n        }, c.onload = s, c.onerror = r, c.onprogress = function () {}, c.onabort = function () {\n          l = !0;\n        }, c.ontimeout = r, c.open(u, d, !f, e.username, e.password), f || (c.withCredentials = !!e.withCredentials), !f && e.timeout > 0 && (h = setTimeout(function () {\n          if (!l) {\n            l = !0, c.abort(\"timeout\");\n            var e = new Error(\"XMLHttpRequest timeout\");\n            e.code = \"ETIMEDOUT\", r(e);\n          }\n        }, e.timeout)), c.setRequestHeader) for (a in p) p.hasOwnProperty(a) && c.setRequestHeader(a, p[a]);else if (e.headers && !function (e) {\n          for (var t in e) if (e.hasOwnProperty(t)) return !1;\n          return !0;\n        }(e.headers)) throw new Error(\"Headers cannot be set on an XDomainRequest object\");\n        return \"responseType\" in e && (c.responseType = e.responseType), \"beforeSend\" in e && \"function\" == typeof e.beforeSend && e.beforeSend(c), c.send(g || null), c;\n      }\n      e.exports = A, e.exports.default = A, A.XMLHttpRequest = i.XMLHttpRequest || function () {}, A.XDomainRequest = \"withCredentials\" in new A.XMLHttpRequest() ? A.XMLHttpRequest : i.XDomainRequest, function (e, t) {\n        for (var n = 0; n < e.length; n++) t(e[n]);\n      }([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function (e) {\n        A[\"delete\" === e ? \"del\" : e] = function (t, n, i) {\n          return (n = a(t, n, i)).method = e.toUpperCase(), l(n);\n        };\n      });\n    },\n    1896: e => {\n      e.exports = void 0 !== self.DOMParser ? function (e) {\n        return new self.DOMParser().parseFromString(e, \"application/xml\");\n      } : void 0 !== self.ActiveXObject && new self.ActiveXObject(\"Microsoft.XMLDOM\") ? function (e) {\n        var t = new self.ActiveXObject(\"Microsoft.XMLDOM\");\n        return t.async = \"false\", t.loadXML(e), t;\n      } : function (e) {\n        var t = document.createElement(\"div\");\n        return t.innerHTML = e, t;\n      };\n    },\n    4597: e => {\n      e.exports = function () {\n        for (var e = {}, n = 0; n < arguments.length; n++) {\n          var i = arguments[n];\n          for (var r in i) t.call(i, r) && (e[r] = i[r]);\n        }\n        return e;\n      };\n      var t = Object.prototype.hasOwnProperty;\n    },\n    8132: () => {\n      window.aframeStats = function (e) {\n        var t = null,\n          n = e;\n        return {\n          update: function () {\n            var e;\n            t(\"te\").set((e = n.querySelectorAll(\"*\"), Array.prototype.slice.call(e).filter(function (e) {\n              return e.isEntity;\n            }), e.length)), window.performance.getEntriesByName && t(\"lt\").set(window.performance.getEntriesByName(\"render-started\")[0].startTime.toFixed(0));\n          },\n          start: function () {},\n          end: function () {},\n          attach: function (e) {\n            t = e;\n          },\n          values: {\n            te: {\n              caption: \"Entities\"\n            },\n            lt: {\n              caption: \"Load Time\"\n            }\n          },\n          groups: [{\n            caption: \"A-Frame\",\n            values: [\"te\", \"lt\"]\n          }],\n          fractions: []\n        };\n      };\n    },\n    3729: e => {\n      window.glStats = function () {\n        var e = null,\n          t = 0,\n          n = 0,\n          i = 0,\n          r = 0,\n          o = 0,\n          s = 0,\n          a = 0;\n        function A(e, t) {\n          return function () {\n            t.apply(this, arguments), e.apply(this, arguments);\n          };\n        }\n        return WebGLRenderingContext.prototype.drawArrays = A(WebGLRenderingContext.prototype.drawArrays, function () {\n          t++, arguments[0] == this.POINTS ? s += arguments[2] : o += arguments[2];\n        }), WebGLRenderingContext.prototype.drawElements = A(WebGLRenderingContext.prototype.drawElements, function () {\n          n++, r += arguments[1] / 3, o += arguments[1];\n        }), WebGLRenderingContext.prototype.useProgram = A(WebGLRenderingContext.prototype.useProgram, function () {\n          i++;\n        }), WebGLRenderingContext.prototype.bindTexture = A(WebGLRenderingContext.prototype.bindTexture, function () {\n          a++;\n        }), {\n          update: function () {\n            e(\"allcalls\").set(t + n), e(\"drawElements\").set(n), e(\"drawArrays\").set(t), e(\"bindTexture\").set(a), e(\"useProgram\").set(i), e(\"glfaces\").set(r), e(\"glvertices\").set(o), e(\"glpoints\").set(s);\n          },\n          start: function () {\n            t = 0, n = 0, i = 0, r = 0, o = 0, s = 0, a = 0;\n          },\n          end: function () {},\n          attach: function (t) {\n            e = t;\n          },\n          values: {\n            allcalls: {\n              over: 3e3,\n              caption: \"Calls (hook)\"\n            },\n            drawelements: {\n              caption: \"drawElements (hook)\"\n            },\n            drawarrays: {\n              caption: \"drawArrays (hook)\"\n            }\n          },\n          groups: [{\n            caption: \"WebGL\",\n            values: [\"allcalls\", \"drawelements\", \"drawarrays\", \"useprogram\", \"bindtexture\", \"glfaces\", \"glvertices\", \"glpoints\"]\n          }],\n          fractions: [{\n            base: \"allcalls\",\n            steps: [\"drawelements\", \"drawarrays\"]\n          }]\n        };\n      }, window.threeStats = function (e) {\n        var t = null;\n        return {\n          update: function () {\n            t(\"renderer.info.memory.geometries\").set(e.info.memory.geometries), t(\"renderer.info.programs\").set(e.info.programs?.length ?? NaN), t(\"renderer.info.memory.textures\").set(e.info.memory.textures), t(\"renderer.info.render.calls\").set(e.info.render.calls), t(\"renderer.info.render.triangles\").set(e.info.render.triangles), t(\"renderer.info.render.points\").set(e.info.render.points);\n          },\n          start: function () {},\n          end: function () {},\n          attach: function (e) {\n            t = e;\n          },\n          values: {\n            \"renderer.info.memory.geometries\": {\n              caption: \"Geometries\"\n            },\n            \"renderer.info.memory.textures\": {\n              caption: \"Textures\"\n            },\n            \"renderer.info.programs\": {\n              caption: \"Programs\"\n            },\n            \"renderer.info.render.calls\": {\n              caption: \"Calls\"\n            },\n            \"renderer.info.render.triangles\": {\n              caption: \"Triangles\",\n              over: 1e3\n            },\n            \"renderer.info.render.points\": {\n              caption: \"Points\"\n            }\n          },\n          groups: [{\n            caption: \"Three.js - Memory\",\n            values: [\"renderer.info.memory.geometries\", \"renderer.info.programs\", \"renderer.info.memory.textures\"]\n          }, {\n            caption: \"Three.js - Render\",\n            values: [\"renderer.info.render.calls\", \"renderer.info.render.triangles\", \"renderer.info.render.points\"]\n          }],\n          fractions: []\n        };\n      }, window.BrowserStats = function () {\n        var e = null,\n          t = 0,\n          n = 0;\n        window.performance && !performance.memory && (performance.memory = {\n          usedJSHeapSize: 0,\n          totalJSHeapSize: 0\n        }), 0 === performance.memory.totalJSHeapSize && console.warn(\"totalJSHeapSize === 0... performance.memory is only available in Chrome .\");\n        var i = Math.log(1024);\n        function r(e) {\n          var t = Math.floor(Math.log(e) / i);\n          return Math.round(100 * e / Math.pow(1024, t)) / 100;\n        }\n        return {\n          update: function () {\n            t = r(performance.memory.usedJSHeapSize), n = r(performance.memory.totalJSHeapSize), e(\"memory\").set(t), e(\"total\").set(n);\n          },\n          start: function () {\n            t = 0;\n          },\n          end: function () {},\n          attach: function (t) {\n            e = t;\n          },\n          values: {\n            memory: {\n              caption: \"Used Memory\",\n              average: !0,\n              avgMs: 1e3,\n              over: 22\n            },\n            total: {\n              caption: \"Total Memory\"\n            }\n          },\n          groups: [{\n            caption: \"Browser\",\n            values: [\"memory\", \"total\"]\n          }],\n          fractions: [{\n            base: \"total\",\n            steps: [\"memory\"]\n          }]\n        };\n      }, e.exports = {\n        glStats: window.glStats,\n        threeStats: window.threeStats,\n        BrowserStats: window.BrowserStats\n      };\n    },\n    282: e => {\n      !function () {\n        \"performance\" in window == 0 && (window.performance = {});\n        var e = window.performance;\n        if (\"now\" in e == 0) {\n          var t = Date.now();\n          e.timing && e.timing.navigationStart && (t = e.timing.navigationStart), e.now = function () {\n            return Date.now() - t;\n          };\n        }\n        e.mark || (e.mark = function () {}), e.measure || (e.measure = function () {});\n      }(), window.rStats = function (e) {\n        function t(e, t) {\n          for (var n = Object.keys(e), i = 0, r = n.length; i < r; i++) t(n[i]);\n        }\n        var n = e || {},\n          i = n.colours || [\"#850700\", \"#c74900\", \"#fcb300\", \"#284280\", \"#4c7c0c\"],\n          r = (n.CSSPath ? n.CSSPath : \"\") + \"rStats.css\";\n        (n.css || [\"https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300\", r]).forEach(function (e) {\n          var t, n;\n          t = e, (n = document.createElement(\"link\")).href = t, n.rel = \"stylesheet\", n.type = \"text/css\", document.getElementsByTagName(\"head\")[0].appendChild(n);\n        }), n.values || (n.values = {});\n        var o,\n          s,\n          a = 10,\n          A = {};\n        function l(e, t, n) {\n          var i = n || {},\n            r = document.createElement(\"canvas\"),\n            o = r.getContext(\"2d\"),\n            s = 0,\n            A = 0,\n            l = i.color ? i.color : \"#666666\",\n            c = document.createElement(\"canvas\"),\n            h = c.getContext(\"2d\");\n          c.width = 1, c.height = 20, h.fillStyle = \"#444444\", h.fillRect(0, 0, 1, 20), h.fillStyle = l, h.fillRect(0, a, 1, a), h.fillStyle = \"#ffffff\", h.globalAlpha = .5, h.fillRect(0, a, 1, 1), h.globalAlpha = 1;\n          var d = document.createElement(\"canvas\"),\n            u = d.getContext(\"2d\");\n          return d.width = 1, d.height = 20, u.fillStyle = \"#444444\", u.fillRect(0, 0, 1, 20), u.fillStyle = \"#b70000\", u.fillRect(0, a, 1, a), u.globalAlpha = .5, u.fillStyle = \"#ffffff\", u.fillRect(0, a, 1, 1), u.globalAlpha = 1, r.width = 200, r.height = a, r.style.width = r.width + \"px\", r.style.height = r.height + \"px\", r.className = \"rs-canvas\", e.appendChild(r), o.fillStyle = \"#444444\", o.fillRect(0, 0, r.width, r.height), {\n            draw: function (e, t) {\n              (A += .1 * (e - A)) > (s *= .99) && (s = A), o.drawImage(r, 1, 0, r.width - 1, r.height, 0, 0, r.width - 1, r.height), t ? o.drawImage(d, r.width - 1, r.height - A * r.height / s - a) : o.drawImage(c, r.width - 1, r.height - A * r.height / s - a);\n            }\n          };\n        }\n        function c(e, n) {\n          var r = document.createElement(\"canvas\"),\n            o = r.getContext(\"2d\");\n          return r.width = 200, r.height = a * n, r.style.width = r.width + \"px\", r.style.height = r.height + \"px\", r.className = \"rs-canvas\", e.appendChild(r), o.fillStyle = \"#444444\", o.fillRect(0, 0, r.width, r.height), {\n            draw: function (e) {\n              o.drawImage(r, 1, 0, r.width - 1, r.height, 0, 0, r.width - 1, r.height);\n              var n = 0;\n              t(e, function (t) {\n                var s = e[t] * r.height;\n                o.fillStyle = i[t], o.fillRect(r.width - 1, n, 1, s), n += s;\n              });\n            }\n          };\n        }\n        function h(e, t) {\n          var i,\n            r = e,\n            o = 0,\n            a = 0,\n            A = 0,\n            c = 0,\n            h = performance.now(),\n            d = 0,\n            u = document.createElement(\"div\"),\n            g = document.createElement(\"span\"),\n            p = document.createElement(\"div\"),\n            f = document.createTextNode(\"\"),\n            m = n ? n.values[r.toLowerCase()] : null,\n            E = new l(u, r, m),\n            C = !1;\n          function v(e) {\n            if (m && m.average) {\n              c += e, d++;\n              var t = performance.now();\n              t - h >= (m.avgMs || 1e3) && (A = c / d, c = 0, h = t, d = 0);\n            }\n          }\n          function B() {\n            i = performance.now(), n.userTimingAPI && performance.mark(r + \"-start\"), C = !0;\n          }\n          function b() {\n            o = performance.now() - i, n.userTimingAPI && (performance.mark(r + \"-end\"), C && performance.measure(r, r + \"-start\", r + \"-end\")), v(o);\n          }\n          return g.className = \"rs-counter-id\", g.textContent = m && m.caption ? m.caption : r, p.className = \"rs-counter-value\", p.appendChild(f), u.appendChild(g), u.appendChild(p), t ? t.div.appendChild(u) : s.appendChild(u), i = performance.now(), {\n            set: function (e) {\n              v(o = e);\n            },\n            start: B,\n            tick: function () {\n              b(), B();\n            },\n            end: b,\n            frame: function () {\n              var e = performance.now(),\n                t = e - i;\n              a++, t > 1e3 && (o = m && !1 === m.interpolate ? a : 1e3 * a / t, a = 0, i = e, v(o));\n            },\n            value: function () {\n              return o;\n            },\n            draw: function () {\n              var e = m && m.average ? A : o;\n              f.nodeValue = Math.round(100 * e) / 100;\n              var t = m && (m.below && o < m.below || m.over && o > m.over);\n              E.draw(o, t), u.className = t ? \"rs-counter-base alarm\" : \"rs-counter-base\";\n            }\n          };\n        }\n        function d(e) {\n          var i = e.toLowerCase();\n          if (void 0 === i && (i = \"default\"), A[i]) return A[i];\n          var r = null;\n          n && n.groups && t(n.groups, function (e) {\n            var t = n.groups[parseInt(e, 10)];\n            r || -1 === t.values.indexOf(i.toLowerCase()) || (r = t);\n          });\n          var o = new h(i, r);\n          return A[i] = o, o;\n        }\n        function u() {\n          t(n.plugins, function (e) {\n            n.plugins[e].update();\n          }), t(A, function (e) {\n            A[e].draw();\n          }), n && n.fractions && t(n.fractions, function (e) {\n            var i = n.fractions[parseInt(e, 10)],\n              r = [],\n              o = A[i.base.toLowerCase()];\n            o && (o = o.value(), t(n.fractions[e].steps, function (t) {\n              var i = n.fractions[e].steps[parseInt(t, 10)].toLowerCase(),\n                s = A[i];\n              s && r.push(s.value() / o);\n            })), i.graph.draw(r);\n          });\n        }\n        return function () {\n          if (n.plugins) {\n            n.values || (n.values = {}), n.groups || (n.groups = []), n.fractions || (n.fractions = []);\n            for (var e = 0; e < n.plugins.length; e++) n.plugins[e].attach(d), t(n.plugins[e].values, function (t) {\n              n.values[t] = n.plugins[e].values[t];\n            }), n.groups = n.groups.concat(n.plugins[e].groups), n.fractions = n.fractions.concat(n.plugins[e].fractions);\n          } else n.plugins = {};\n          (o = document.createElement(\"div\")).className = \"rs-base\", (s = document.createElement(\"div\")).className = \"rs-container\", s.style.height = \"auto\", o.appendChild(s), document.body.appendChild(o), n && (n.groups && t(n.groups, function (e) {\n            var t = n.groups[parseInt(e, 10)],\n              i = document.createElement(\"div\");\n            i.className = \"rs-group\", t.div = i;\n            var r = document.createElement(\"h1\");\n            r.textContent = t.caption, r.addEventListener(\"click\", function (e) {\n              this.classList.toggle(\"hidden\"), e.preventDefault();\n            }.bind(i)), s.appendChild(r), s.appendChild(i);\n          }), n.fractions && t(n.fractions, function (e) {\n            var r = n.fractions[parseInt(e, 10)],\n              o = document.createElement(\"div\");\n            o.className = \"rs-fraction\";\n            var A = document.createElement(\"div\");\n            A.className = \"rs-legend\";\n            var l = 0;\n            t(n.fractions[e].steps, function (t) {\n              var r = document.createElement(\"p\");\n              r.textContent = n.fractions[e].steps[t], r.style.color = i[l], A.appendChild(r), l++;\n            }), o.appendChild(A), o.style.height = l * a + \"px\", r.div = o;\n            var h = new c(o, l);\n            r.graph = h, s.appendChild(o);\n          }));\n        }(), function (e) {\n          return e ? d(e) : {\n            element: o,\n            update: u\n          };\n        };\n      }, e.exports = window.rStats;\n    },\n    2535: e => {\n      var t = {\n        base64: function (e, t) {\n          return \"data:\" + e + \";base64,\" + t;\n        },\n        isMobile: function () {\n          var e,\n            t = !1;\n          return e = navigator.userAgent || navigator.vendor || window.opera, (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(e.substr(0, 4))) && (t = !0), t;\n        },\n        isIOS: function () {\n          return /(iPad|iPhone|iPod)/g.test(navigator.userAgent);\n        },\n        isIFrame: function () {\n          try {\n            return window.self !== window.top;\n          } catch (e) {\n            return !0;\n          }\n        },\n        appendQueryParameter: function (e, t, n) {\n          var i = e.indexOf(\"?\") < 0 ? \"?\" : \"&\";\n          return e + (i + t + \"=\") + n;\n        },\n        getQueryParameter: function (e) {\n          e = e.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n          var t = new RegExp(\"[\\\\?&]\" + e + \"=([^&#]*)\").exec(location.search);\n          return null === t ? \"\" : decodeURIComponent(t[1].replace(/\\+/g, \" \"));\n        },\n        isLandscapeMode: function () {\n          return 90 == window.orientation || -90 == window.orientation;\n        }\n      };\n      e.exports = t;\n    },\n    5928: (e, t, n) => {\n      var i,\n        r = n(2535);\n      e.exports = (i = navigator.userAgent || navigator.vendor || window.opera).match(/iPhone/i) || i.match(/iPod/i) ? function () {\n        var e = null;\n        this.request = function () {\n          e || (e = setInterval(function () {\n            window.location.href = \"/\", setTimeout(window.stop, 0);\n          }, 15e3));\n        }, this.release = function () {\n          e && (clearInterval(e), e = null);\n        };\n      } : function () {\n        var e = document.createElement(\"video\");\n        e.addEventListener(\"ended\", function () {\n          e.play();\n        }), this.request = function () {\n          e.paused && (e.src = r.base64(\"video/webm\", \"GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw==\"), e.play());\n        }, this.release = function () {\n          e.pause(), e.src = \"\";\n        };\n      };\n    },\n    8217: (e, t, n) => {\n      n.d(t, {\n        A: () => v\n      });\n      var i = n(963),\n        r = n.n(i),\n        o = n(9089),\n        s = n.n(o),\n        a = n(6492),\n        A = n.n(a),\n        l = new URL(n(9169), n.b),\n        c = new URL(n(6085), n.b),\n        h = new URL(n(3931), n.b),\n        d = new URL(n(7889), n.b),\n        u = new URL(n(6517), n.b),\n        g = s()(r()),\n        p = A()(l),\n        f = A()(c),\n        m = A()(h),\n        E = A()(d),\n        C = A()(u);\n      g.push([e.id, `/* .a-fullscreen means not embedded. */\\nhtml.a-fullscreen {\\n  bottom: 0;\\n  left: 0;\\n  position: fixed;\\n  right: 0;\\n  top: 0;\\n}\\n\\nhtml.a-fullscreen body {\\n  height: 100%;\\n  margin: 0;\\n  overflow: hidden;\\n  padding: 0;\\n  width: 100%;\\n}\\n\\n/* Class is removed when doing <a-scene embedded>. */\\nhtml.a-fullscreen .a-canvas {\\n  width: 100% !important;\\n  height: 100% !important;\\n  top: 0 !important;\\n  left: 0 !important;\\n  right: 0 !important;\\n  bottom: 0 !important;\\n  position: fixed !important;\\n}\\n\\nhtml:not(.a-fullscreen) .a-enter-vr,\\nhtml:not(.a-fullscreen) .a-enter-ar {\\n  right: 5px;\\n  bottom: 5px;\\n}\\n\\nhtml:not(.a-fullscreen) .a-enter-ar {\\n  right: 60px;\\n}\\n\\n/* In chrome mobile the user agent stylesheet set it to white  */\\n:-webkit-full-screen {\\n  background-color: transparent;\\n}\\n\\n.a-hidden {\\n  display: none !important;\\n}\\n\\n.a-canvas {\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n\\n.a-canvas.a-grab-cursor:hover {\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\ncanvas.a-canvas.a-mouse-cursor-hover:hover {\\n  cursor: pointer;\\n}\\n\\n.a-inspector-loader {\\n  background-color: #ed3160;\\n  position: fixed;\\n  left: 3px;\\n  top: 3px;\\n  padding: 6px 10px;\\n  color: #fff;\\n  text-decoration: none;\\n  font-size: 12px;\\n  font-family: Roboto,sans-serif;\\n  text-align: center;\\n  z-index: 99999;\\n  width: 204px;\\n}\\n\\n/* Inspector loader animation */\\n@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\\n@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\\n@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\\n@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\\n@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\\n@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\\n\\n.a-inspector-loader .dots span {\\n  animation: dots-1 2s infinite steps(1);\\n  -webkit-animation: dots-1 2s infinite steps(1);\\n}\\n\\n.a-inspector-loader .dots span:first-child + span {\\n  animation-name: dots-2;\\n  -webkit-animation-name: dots-2;\\n}\\n\\n.a-inspector-loader .dots span:first-child + span + span {\\n  animation-name: dots-3;\\n  -webkit-animation-name: dots-3;\\n}\\n\\na-scene {\\n  display: block;\\n  position: relative;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\na-assets,\\na-scene video,\\na-scene img,\\na-scene audio {\\n  display: none;\\n}\\n\\n.a-enter-vr-modal,\\n.a-orientation-modal {\\n  font-family: Consolas, Andale Mono, Courier New, monospace;\\n}\\n\\n.a-enter-vr-modal a {\\n  border-bottom: 1px solid #fff;\\n  padding: 2px 0;\\n  text-decoration: none;\\n  transition: .1s color ease-in;\\n}\\n\\n.a-enter-vr-modal a:hover {\\n  background-color: #fff;\\n  color: #111;\\n  padding: 2px 4px;\\n  position: relative;\\n  left: -4px;\\n}\\n\\n.a-enter-vr,\\n.a-enter-ar {\\n  font-family: sans-serif, monospace;\\n  font-size: 13px;\\n  width: 100%;\\n  font-weight: 200;\\n  line-height: 16px;\\n  position: absolute;\\n  right: 20px;\\n  bottom: 20px;\\n}\\n\\n.a-enter-ar.xr {\\n  right: 90px;\\n}\\n\\n.a-enter-vr-button,\\n.a-enter-vr-modal,\\n.a-enter-vr-modal a {\\n  color: #fff;\\n  user-select: none;\\n  outline: none;\\n}\\n\\n.a-enter-vr-button {\\n  background: rgba(0, 0, 0, 0.35) url(${p}) 50% 50% no-repeat;\\n}\\n\\n.a-enter-ar-button {\\n  background: rgba(0, 0, 0, 0.20) url(${f}) 50% 50% no-repeat;\\n}\\n\\n.a-enter-vr.fullscreen .a-enter-vr-button {\\n  background-image: url(${m});\\n}\\n\\n.a-enter-vr-button,\\n.a-enter-ar-button {\\n  background-size: 90% 90%;\\n  border: 0;\\n  bottom: 0;\\n  cursor: pointer;\\n  min-width: 58px;\\n  min-height: 34px;\\n  /* 1.74418604651 */\\n  /*\\n    In order to keep the aspect ratio when resizing\\n    padding-top percentages are relative to the containing block's width.\\n    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio\\n  */\\n  padding-right: 0;\\n  padding-top: 0;\\n  position: absolute;\\n  right: 0;\\n  transition: background-color .05s ease;\\n  -webkit-transition: background-color .05s ease;\\n  z-index: 9999;\\n  border-radius: 8px;\\n  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */\\n}\\n\\n.a-enter-ar-button {\\n  background-size: 100% 90%;\\n  border-radius: 7px;\\n}\\n\\n.a-enter-ar-button:active,\\n.a-enter-ar-button:hover,\\n.a-enter-vr-button:active,\\n.a-enter-vr-button:hover {\\n  background-color: #ef2d5e;\\n}\\n\\n.a-enter-vr-button.resethover {\\n  background-color: rgba(0, 0, 0, 0.35);\\n}\\n\\n.a-enter-vr-modal {\\n  background-color: #666;\\n  border-radius: 0;\\n  display: none;\\n  min-height: 32px;\\n  margin-right: 70px;\\n  padding: 9px;\\n  width: 280px;\\n  right: 2%;\\n  position: absolute;\\n}\\n\\n.a-enter-vr-modal:after {\\n  border-bottom: 10px solid transparent;\\n  border-left: 10px solid #666;\\n  border-top: 10px solid transparent;\\n  display: inline-block;\\n  content: '';\\n  position: absolute;\\n  right: -5px;\\n  top: 5px;\\n  width: 0;\\n  height: 0;\\n}\\n\\n.a-enter-vr-modal p,\\n.a-enter-vr-modal a {\\n  display: inline;\\n}\\n\\n.a-enter-vr-modal p {\\n  margin: 0;\\n}\\n\\n.a-enter-vr-modal p:after {\\n  content: ' ';\\n}\\n\\n.a-orientation-modal {\\n  background: rgba(244, 244, 244, 1) url(${E}) center no-repeat;\\n  background-size: 50% 50%;\\n  bottom: 0;\\n  font-size: 14px;\\n  font-weight: 600;\\n  left: 0;\\n  line-height: 20px;\\n  right: 0;\\n  position: fixed;\\n  top: 0;\\n  z-index: 9999999;\\n}\\n\\n.a-orientation-modal:after {\\n  color: #666;\\n  content: \"Insert phone into Cardboard holder.\";\\n  display: block;\\n  position: absolute;\\n  text-align: center;\\n  top: 70%;\\n  transform: translateY(-70%);\\n  width: 100%;\\n}\\n\\n.a-orientation-modal button {\\n  background: url(${C}) no-repeat;\\n  border: none;\\n  height: 50px;\\n  text-indent: -9999px;\\n  width: 50px;\\n}\\n\\n.a-loader-title {\\n  background-color: rgba(0, 0, 0, 0.6);\\n  font-family: sans-serif, monospace;\\n  text-align: center;\\n  font-size: 20px;\\n  height: 50px;\\n  font-weight: 300;\\n  line-height: 50px;\\n  position: absolute;\\n  right: 0px;\\n  left: 0px;\\n  top: 0px;\\n  color: white;\\n}\\n\\n.a-modal {\\n  position: absolute;\\n  background: rgba(0, 0, 0, 0.60);\\n  background-size: 50% 50%;\\n  bottom: 0;\\n  font-size: 14px;\\n  font-weight: 600;\\n  left: 0;\\n  line-height: 20px;\\n  right: 0;\\n  position: fixed;\\n  top: 0;\\n  z-index: 9999999;\\n}\\n\\n.a-dialog {\\n  position: relative;\\n  left: 50%;\\n  top: 50%;\\n  transform: translate(-50%, -50%);\\n  z-index: 199995;\\n  width: 300px;\\n  height: 200px;\\n  background-size: contain;\\n  background-color: white;\\n  font-family: sans-serif, monospace;\\n  font-size: 20px;\\n  border-radius: 3px;\\n  padding: 6px;\\n}\\n\\n.a-dialog-text-container {\\n  width: 100%;\\n  height: 70%;\\n  align-self: flex-start;\\n  display: flex;\\n  justify-content: center;\\n  align-content: center;\\n  flex-direction: column;\\n}\\n\\n.a-dialog-text {\\n  display: inline-block;\\n  font-weight: normal;\\n  font-size: 14pt;\\n  margin: 8px;\\n}\\n\\n.a-dialog-buttons-container {\\n  display: inline-flex;\\n  align-self: flex-end;\\n  width: 100%;\\n  height: 30%;\\n}\\n\\n.a-dialog-button {\\n  cursor: pointer;\\n  align-self: center;\\n  opacity: 0.9;\\n  height: 80%;\\n  width: 50%;\\n  font-size: 12pt;\\n  margin: 4px;\\n  border-radius: 2px;\\n  text-align:center;\\n  border: none;\\n  display: inline-block;\\n  -webkit-transition: all 0.25s ease-in-out;\\n  transition: all 0.25s ease-in-out;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);\\n  user-select: none;\\n}\\n\\n.a-dialog-permission-button:hover {\\n  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);\\n}\\n\\n.a-dialog-allow-button {\\n  background-color: #00ceff;\\n}\\n\\n.a-dialog-deny-button {\\n  background-color: #ff005b;\\n}\\n\\n.a-dialog-ok-button {\\n  background-color: #00ceff;\\n  width: 100%;\\n}\\n\\n.a-dom-overlay:not(.a-no-style) {\\n  overflow: hidden;\\n  position: absolute;\\n  pointer-events: none;\\n  box-sizing: border-box;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  padding: 1em;\\n}\\n\\n.a-dom-overlay:not(.a-no-style)>* {\\n  pointer-events: auto;\\n}\\n`, \"\", {\n        version: 3,\n        sources: [\"webpack://./src/style/aframe.css\"],\n        names: [],\n        mappings: \"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\",\n        sourcesContent: [\"/* .a-fullscreen means not embedded. */\\nhtml.a-fullscreen {\\n  bottom: 0;\\n  left: 0;\\n  position: fixed;\\n  right: 0;\\n  top: 0;\\n}\\n\\nhtml.a-fullscreen body {\\n  height: 100%;\\n  margin: 0;\\n  overflow: hidden;\\n  padding: 0;\\n  width: 100%;\\n}\\n\\n/* Class is removed when doing <a-scene embedded>. */\\nhtml.a-fullscreen .a-canvas {\\n  width: 100% !important;\\n  height: 100% !important;\\n  top: 0 !important;\\n  left: 0 !important;\\n  right: 0 !important;\\n  bottom: 0 !important;\\n  position: fixed !important;\\n}\\n\\nhtml:not(.a-fullscreen) .a-enter-vr,\\nhtml:not(.a-fullscreen) .a-enter-ar {\\n  right: 5px;\\n  bottom: 5px;\\n}\\n\\nhtml:not(.a-fullscreen) .a-enter-ar {\\n  right: 60px;\\n}\\n\\n/* In chrome mobile the user agent stylesheet set it to white  */\\n:-webkit-full-screen {\\n  background-color: transparent;\\n}\\n\\n.a-hidden {\\n  display: none !important;\\n}\\n\\n.a-canvas {\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n\\n.a-canvas.a-grab-cursor:hover {\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\ncanvas.a-canvas.a-mouse-cursor-hover:hover {\\n  cursor: pointer;\\n}\\n\\n.a-inspector-loader {\\n  background-color: #ed3160;\\n  position: fixed;\\n  left: 3px;\\n  top: 3px;\\n  padding: 6px 10px;\\n  color: #fff;\\n  text-decoration: none;\\n  font-size: 12px;\\n  font-family: Roboto,sans-serif;\\n  text-align: center;\\n  z-index: 99999;\\n  width: 204px;\\n}\\n\\n/* Inspector loader animation */\\n@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\\n@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\\n@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\\n@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\\n@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\\n@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\\n\\n.a-inspector-loader .dots span {\\n  animation: dots-1 2s infinite steps(1);\\n  -webkit-animation: dots-1 2s infinite steps(1);\\n}\\n\\n.a-inspector-loader .dots span:first-child + span {\\n  animation-name: dots-2;\\n  -webkit-animation-name: dots-2;\\n}\\n\\n.a-inspector-loader .dots span:first-child + span + span {\\n  animation-name: dots-3;\\n  -webkit-animation-name: dots-3;\\n}\\n\\na-scene {\\n  display: block;\\n  position: relative;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\na-assets,\\na-scene video,\\na-scene img,\\na-scene audio {\\n  display: none;\\n}\\n\\n.a-enter-vr-modal,\\n.a-orientation-modal {\\n  font-family: Consolas, Andale Mono, Courier New, monospace;\\n}\\n\\n.a-enter-vr-modal a {\\n  border-bottom: 1px solid #fff;\\n  padding: 2px 0;\\n  text-decoration: none;\\n  transition: .1s color ease-in;\\n}\\n\\n.a-enter-vr-modal a:hover {\\n  background-color: #fff;\\n  color: #111;\\n  padding: 2px 4px;\\n  position: relative;\\n  left: -4px;\\n}\\n\\n.a-enter-vr,\\n.a-enter-ar {\\n  font-family: sans-serif, monospace;\\n  font-size: 13px;\\n  width: 100%;\\n  font-weight: 200;\\n  line-height: 16px;\\n  position: absolute;\\n  right: 20px;\\n  bottom: 20px;\\n}\\n\\n.a-enter-ar.xr {\\n  right: 90px;\\n}\\n\\n.a-enter-vr-button,\\n.a-enter-vr-modal,\\n.a-enter-vr-modal a {\\n  color: #fff;\\n  user-select: none;\\n  outline: none;\\n}\\n\\n.a-enter-vr-button {\\n  background: rgba(0, 0, 0, 0.35) url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E\\\") 50% 50% no-repeat;\\n}\\n\\n.a-enter-ar-button {\\n  background: rgba(0, 0, 0, 0.20) url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E\\\") 50% 50% no-repeat;\\n}\\n\\n.a-enter-vr.fullscreen .a-enter-vr-button {\\n  background-image: url(\\\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg width='108' height='62' viewBox='0 0 108 62' version='1.1' id='svg320' sodipodi:docname='fullscreen-aframe.svg' xml:space='preserve' inkscape:version='1.2.1 (9c6d41e  2022-07-14)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E%3Cdefs id='defs324' /%3E%3Csodipodi:namedview id='namedview322' pagecolor='%23ffffff' bordercolor='%23000000' borderopacity='0.25' inkscape:showpageshadow='2' inkscape:pageopacity='0.0' inkscape:pagecheckerboard='0' inkscape:deskcolor='%23d1d1d1' showgrid='false' inkscape:zoom='3.8064516' inkscape:cx='91.423729' inkscape:cy='-1.4449153' inkscape:window-width='1440' inkscape:window-height='847' inkscape:window-x='32' inkscape:window-y='25' inkscape:window-maximized='0' inkscape:current-layer='svg320' /%3E%3Ctitle id='title312'%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z' fill='%23fff' id='path314' style='fill:%23ffffff' /%3E%3Cg id='g356' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g358' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g360' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g362' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g364' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g366' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g368' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g370' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g372' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g374' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g376' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g378' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g380' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g382' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g384' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cmetadata id='metadata561'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d='m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4' id='path596' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4' id='path598' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4' id='path600' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616' id='path602' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3C/svg%3E\\\");\\n}\\n\\n.a-enter-vr-button,\\n.a-enter-ar-button {\\n  background-size: 90% 90%;\\n  border: 0;\\n  bottom: 0;\\n  cursor: pointer;\\n  min-width: 58px;\\n  min-height: 34px;\\n  /* 1.74418604651 */\\n  /*\\n    In order to keep the aspect ratio when resizing\\n    padding-top percentages are relative to the containing block's width.\\n    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio\\n  */\\n  padding-right: 0;\\n  padding-top: 0;\\n  position: absolute;\\n  right: 0;\\n  transition: background-color .05s ease;\\n  -webkit-transition: background-color .05s ease;\\n  z-index: 9999;\\n  border-radius: 8px;\\n  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */\\n}\\n\\n.a-enter-ar-button {\\n  background-size: 100% 90%;\\n  border-radius: 7px;\\n}\\n\\n.a-enter-ar-button:active,\\n.a-enter-ar-button:hover,\\n.a-enter-vr-button:active,\\n.a-enter-vr-button:hover {\\n  background-color: #ef2d5e;\\n}\\n\\n.a-enter-vr-button.resethover {\\n  background-color: rgba(0, 0, 0, 0.35);\\n}\\n\\n.a-enter-vr-modal {\\n  background-color: #666;\\n  border-radius: 0;\\n  display: none;\\n  min-height: 32px;\\n  margin-right: 70px;\\n  padding: 9px;\\n  width: 280px;\\n  right: 2%;\\n  position: absolute;\\n}\\n\\n.a-enter-vr-modal:after {\\n  border-bottom: 10px solid transparent;\\n  border-left: 10px solid #666;\\n  border-top: 10px solid transparent;\\n  display: inline-block;\\n  content: '';\\n  position: absolute;\\n  right: -5px;\\n  top: 5px;\\n  width: 0;\\n  height: 0;\\n}\\n\\n.a-enter-vr-modal p,\\n.a-enter-vr-modal a {\\n  display: inline;\\n}\\n\\n.a-enter-vr-modal p {\\n  margin: 0;\\n}\\n\\n.a-enter-vr-modal p:after {\\n  content: ' ';\\n}\\n\\n.a-orientation-modal {\\n  background: rgba(244, 244, 244, 1) url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center no-repeat;\\n  background-size: 50% 50%;\\n  bottom: 0;\\n  font-size: 14px;\\n  font-weight: 600;\\n  left: 0;\\n  line-height: 20px;\\n  right: 0;\\n  position: fixed;\\n  top: 0;\\n  z-index: 9999999;\\n}\\n\\n.a-orientation-modal:after {\\n  color: #666;\\n  content: \\\"Insert phone into Cardboard holder.\\\";\\n  display: block;\\n  position: absolute;\\n  text-align: center;\\n  top: 70%;\\n  transform: translateY(-70%);\\n  width: 100%;\\n}\\n\\n.a-orientation-modal button {\\n  background: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;\\n  border: none;\\n  height: 50px;\\n  text-indent: -9999px;\\n  width: 50px;\\n}\\n\\n.a-loader-title {\\n  background-color: rgba(0, 0, 0, 0.6);\\n  font-family: sans-serif, monospace;\\n  text-align: center;\\n  font-size: 20px;\\n  height: 50px;\\n  font-weight: 300;\\n  line-height: 50px;\\n  position: absolute;\\n  right: 0px;\\n  left: 0px;\\n  top: 0px;\\n  color: white;\\n}\\n\\n.a-modal {\\n  position: absolute;\\n  background: rgba(0, 0, 0, 0.60);\\n  background-size: 50% 50%;\\n  bottom: 0;\\n  font-size: 14px;\\n  font-weight: 600;\\n  left: 0;\\n  line-height: 20px;\\n  right: 0;\\n  position: fixed;\\n  top: 0;\\n  z-index: 9999999;\\n}\\n\\n.a-dialog {\\n  position: relative;\\n  left: 50%;\\n  top: 50%;\\n  transform: translate(-50%, -50%);\\n  z-index: 199995;\\n  width: 300px;\\n  height: 200px;\\n  background-size: contain;\\n  background-color: white;\\n  font-family: sans-serif, monospace;\\n  font-size: 20px;\\n  border-radius: 3px;\\n  padding: 6px;\\n}\\n\\n.a-dialog-text-container {\\n  width: 100%;\\n  height: 70%;\\n  align-self: flex-start;\\n  display: flex;\\n  justify-content: center;\\n  align-content: center;\\n  flex-direction: column;\\n}\\n\\n.a-dialog-text {\\n  display: inline-block;\\n  font-weight: normal;\\n  font-size: 14pt;\\n  margin: 8px;\\n}\\n\\n.a-dialog-buttons-container {\\n  display: inline-flex;\\n  align-self: flex-end;\\n  width: 100%;\\n  height: 30%;\\n}\\n\\n.a-dialog-button {\\n  cursor: pointer;\\n  align-self: center;\\n  opacity: 0.9;\\n  height: 80%;\\n  width: 50%;\\n  font-size: 12pt;\\n  margin: 4px;\\n  border-radius: 2px;\\n  text-align:center;\\n  border: none;\\n  display: inline-block;\\n  -webkit-transition: all 0.25s ease-in-out;\\n  transition: all 0.25s ease-in-out;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);\\n  user-select: none;\\n}\\n\\n.a-dialog-permission-button:hover {\\n  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);\\n}\\n\\n.a-dialog-allow-button {\\n  background-color: #00ceff;\\n}\\n\\n.a-dialog-deny-button {\\n  background-color: #ff005b;\\n}\\n\\n.a-dialog-ok-button {\\n  background-color: #00ceff;\\n  width: 100%;\\n}\\n\\n.a-dom-overlay:not(.a-no-style) {\\n  overflow: hidden;\\n  position: absolute;\\n  pointer-events: none;\\n  box-sizing: border-box;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  padding: 1em;\\n}\\n\\n.a-dom-overlay:not(.a-no-style)>* {\\n  pointer-events: auto;\\n}\\n\"],\n        sourceRoot: \"\"\n      }]);\n      const v = g;\n    },\n    2470: (e, t, n) => {\n      n.d(t, {\n        A: () => a\n      });\n      var i = n(963),\n        r = n.n(i),\n        o = n(9089),\n        s = n.n(o)()(r());\n      s.push([e.id, \".rs-base {\\n  background-color: #333;\\n  color: #fafafa;\\n  border-radius: 0;\\n  font: 10px monospace;\\n  left: 5px;\\n  line-height: 1em;\\n  opacity: 0.85;\\n  overflow: hidden;\\n  padding: 10px;\\n  position: fixed;\\n  top: 5px;\\n  width: 300px;\\n  z-index: 10000;\\n}\\n\\n.rs-base div.hidden {\\n  display: none;\\n}\\n\\n.rs-base h1 {\\n  color: #fff;\\n  cursor: pointer;\\n  font-size: 1.4em;\\n  font-weight: 300;\\n  margin: 0 0 5px;\\n  padding: 0;\\n}\\n\\n.rs-group {\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-direction: column-reverse;\\n  flex-direction: column-reverse;\\n  margin-bottom: 5px;\\n}\\n\\n.rs-group:last-child {\\n  margin-bottom: 0;\\n}\\n\\n.rs-counter-base {\\n  align-items: center;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  height: 10px;\\n  -webkit-justify-content: space-between;\\n  justify-content: space-between;\\n  margin: 2px 0;\\n}\\n\\n.rs-counter-base.alarm {\\n  color: #b70000;\\n  text-shadow: 0 0 0 #b70000,\\n               0 0 1px #fff,\\n               0 0 1px #fff,\\n               0 0 2px #fff,\\n               0 0 2px #fff,\\n               0 0 3px #fff,\\n               0 0 3px #fff,\\n               0 0 4px #fff,\\n               0 0 4px #fff;\\n}\\n\\n.rs-counter-id {\\n  font-weight: 300;\\n  -webkit-box-ordinal-group: 0;\\n  -webkit-order: 0;\\n  order: 0;\\n  width: 54px;\\n}\\n\\n.rs-counter-value {\\n  font-weight: 300;\\n  -webkit-box-ordinal-group: 1;\\n  -webkit-order: 1;\\n  order: 1;\\n  text-align: right;\\n  width: 35px;\\n}\\n\\n.rs-canvas {\\n  -webkit-box-ordinal-group: 2;\\n  -webkit-order: 2;\\n  order: 2;\\n}\\n\\n@media (min-width: 480px) {\\n  .rs-base {\\n    left: 20px;\\n    top: 20px;\\n  }\\n}\\n\", \"\", {\n        version: 3,\n        sources: [\"webpack://./src/style/rStats.css\"],\n        names: [],\n        mappings: \"AAAA;EACE,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,SAAS;EACT,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,QAAQ;EACR,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,UAAU;AACZ;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,sCAAsC;EACtC,8BAA8B;EAC9B,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,YAAY;EACZ,sCAAsC;EACtC,8BAA8B;EAC9B,aAAa;AACf;;AAEA;EACE,cAAc;EACd;;;;;;;;2BAQyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;AACV;;AAEA;EACE;IACE,UAAU;IACV,SAAS;EACX;AACF\",\n        sourcesContent: [\".rs-base {\\n  background-color: #333;\\n  color: #fafafa;\\n  border-radius: 0;\\n  font: 10px monospace;\\n  left: 5px;\\n  line-height: 1em;\\n  opacity: 0.85;\\n  overflow: hidden;\\n  padding: 10px;\\n  position: fixed;\\n  top: 5px;\\n  width: 300px;\\n  z-index: 10000;\\n}\\n\\n.rs-base div.hidden {\\n  display: none;\\n}\\n\\n.rs-base h1 {\\n  color: #fff;\\n  cursor: pointer;\\n  font-size: 1.4em;\\n  font-weight: 300;\\n  margin: 0 0 5px;\\n  padding: 0;\\n}\\n\\n.rs-group {\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-direction: column-reverse;\\n  flex-direction: column-reverse;\\n  margin-bottom: 5px;\\n}\\n\\n.rs-group:last-child {\\n  margin-bottom: 0;\\n}\\n\\n.rs-counter-base {\\n  align-items: center;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  height: 10px;\\n  -webkit-justify-content: space-between;\\n  justify-content: space-between;\\n  margin: 2px 0;\\n}\\n\\n.rs-counter-base.alarm {\\n  color: #b70000;\\n  text-shadow: 0 0 0 #b70000,\\n               0 0 1px #fff,\\n               0 0 1px #fff,\\n               0 0 2px #fff,\\n               0 0 2px #fff,\\n               0 0 3px #fff,\\n               0 0 3px #fff,\\n               0 0 4px #fff,\\n               0 0 4px #fff;\\n}\\n\\n.rs-counter-id {\\n  font-weight: 300;\\n  -webkit-box-ordinal-group: 0;\\n  -webkit-order: 0;\\n  order: 0;\\n  width: 54px;\\n}\\n\\n.rs-counter-value {\\n  font-weight: 300;\\n  -webkit-box-ordinal-group: 1;\\n  -webkit-order: 1;\\n  order: 1;\\n  text-align: right;\\n  width: 35px;\\n}\\n\\n.rs-canvas {\\n  -webkit-box-ordinal-group: 2;\\n  -webkit-order: 2;\\n  order: 2;\\n}\\n\\n@media (min-width: 480px) {\\n  .rs-base {\\n    left: 20px;\\n    top: 20px;\\n  }\\n}\\n\"],\n        sourceRoot: \"\"\n      }]);\n      const a = s;\n    },\n    7180: (e, t, n) => {\n      n.r(t), n.d(t, {\n        default: () => m\n      });\n      var i = n(5072),\n        r = n.n(i),\n        o = n(7825),\n        s = n.n(o),\n        a = n(7659),\n        A = n.n(a),\n        l = n(5056),\n        c = n.n(l),\n        h = n(540),\n        d = n.n(h),\n        u = n(1113),\n        g = n.n(u),\n        p = n(8217),\n        f = {};\n      f.styleTagTransform = g(), f.setAttributes = c(), f.insert = A().bind(null, \"head\"), f.domAPI = s(), f.insertStyleElement = d(), r()(p.A, f);\n      const m = p.A && p.A.locals ? p.A.locals : void 0;\n    },\n    9379: (e, t, n) => {\n      n.r(t), n.d(t, {\n        default: () => m\n      });\n      var i = n(5072),\n        r = n.n(i),\n        o = n(7825),\n        s = n.n(o),\n        a = n(7659),\n        A = n.n(a),\n        l = n(5056),\n        c = n.n(l),\n        h = n(540),\n        d = n.n(h),\n        u = n(1113),\n        g = n.n(u),\n        p = n(2470),\n        f = {};\n      f.styleTagTransform = g(), f.setAttributes = c(), f.insert = A().bind(null, \"head\"), f.domAPI = s(), f.insertStyleElement = d(), r()(p.A, f);\n      const m = p.A && p.A.locals ? p.A.locals : void 0;\n    },\n    5072: e => {\n      var t = [];\n      function n(e) {\n        for (var n = -1, i = 0; i < t.length; i++) if (t[i].identifier === e) {\n          n = i;\n          break;\n        }\n        return n;\n      }\n      function i(e, i) {\n        for (var o = {}, s = [], a = 0; a < e.length; a++) {\n          var A = e[a],\n            l = i.base ? A[0] + i.base : A[0],\n            c = o[l] || 0,\n            h = \"\".concat(l, \" \").concat(c);\n          o[l] = c + 1;\n          var d = n(h),\n            u = {\n              css: A[1],\n              media: A[2],\n              sourceMap: A[3],\n              supports: A[4],\n              layer: A[5]\n            };\n          if (-1 !== d) t[d].references++, t[d].updater(u);else {\n            var g = r(u, i);\n            i.byIndex = a, t.splice(a, 0, {\n              identifier: h,\n              updater: g,\n              references: 1\n            });\n          }\n          s.push(h);\n        }\n        return s;\n      }\n      function r(e, t) {\n        var n = t.domAPI(t);\n        return n.update(e), function (t) {\n          if (t) {\n            if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap && t.supports === e.supports && t.layer === e.layer) return;\n            n.update(e = t);\n          } else n.remove();\n        };\n      }\n      e.exports = function (e, r) {\n        var o = i(e = e || [], r = r || {});\n        return function (e) {\n          e = e || [];\n          for (var s = 0; s < o.length; s++) {\n            var a = n(o[s]);\n            t[a].references--;\n          }\n          for (var A = i(e, r), l = 0; l < o.length; l++) {\n            var c = n(o[l]);\n            0 === t[c].references && (t[c].updater(), t.splice(c, 1));\n          }\n          o = A;\n        };\n      };\n    },\n    7659: e => {\n      var t = {};\n      e.exports = function (e, n) {\n        var i = function (e) {\n          if (void 0 === t[e]) {\n            var n = document.querySelector(e);\n            if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement) try {\n              n = n.contentDocument.head;\n            } catch (e) {\n              n = null;\n            }\n            t[e] = n;\n          }\n          return t[e];\n        }(e);\n        if (!i) throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n        i.appendChild(n);\n      };\n    },\n    540: e => {\n      e.exports = function (e) {\n        var t = document.createElement(\"style\");\n        return e.setAttributes(t, e.attributes), e.insert(t, e.options), t;\n      };\n    },\n    5056: (e, t, n) => {\n      e.exports = function (e) {\n        var t = n.nc;\n        t && e.setAttribute(\"nonce\", t);\n      };\n    },\n    7825: e => {\n      e.exports = function (e) {\n        if (\"undefined\" == typeof document) return {\n          update: function () {},\n          remove: function () {}\n        };\n        var t = e.insertStyleElement(e);\n        return {\n          update: function (n) {\n            !function (e, t, n) {\n              var i = \"\";\n              n.supports && (i += \"@supports (\".concat(n.supports, \") {\")), n.media && (i += \"@media \".concat(n.media, \" {\"));\n              var r = void 0 !== n.layer;\n              r && (i += \"@layer\".concat(n.layer.length > 0 ? \" \".concat(n.layer) : \"\", \" {\")), i += n.css, r && (i += \"}\"), n.media && (i += \"}\"), n.supports && (i += \"}\");\n              var o = n.sourceMap;\n              o && \"undefined\" != typeof btoa && (i += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o)))), \" */\")), t.styleTagTransform(i, e, t.options);\n            }(t, e, n);\n          },\n          remove: function () {\n            !function (e) {\n              if (null === e.parentNode) return !1;\n              e.parentNode.removeChild(e);\n            }(t);\n          }\n        };\n      };\n    },\n    1113: e => {\n      e.exports = function (e, t) {\n        if (t.styleSheet) t.styleSheet.cssText = e;else {\n          for (; t.firstChild;) t.removeChild(t.firstChild);\n          t.appendChild(document.createTextNode(e));\n        }\n      };\n    },\n    3931: e => {\n      e.exports = \"data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E\";\n    },\n    6085: e => {\n      e.exports = \"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E\";\n    },\n    9169: e => {\n      e.exports = \"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E\";\n    },\n    6517: e => {\n      e.exports = \"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E\";\n    },\n    7889: e => {\n      e.exports = \"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E\";\n    }\n  },\n  n = {};\nfunction i(e) {\n  var r = n[e];\n  if (void 0 !== r) return r.exports;\n  var o = n[e] = {\n    id: e,\n    exports: {}\n  };\n  return t[e](o, o.exports, i), o.exports;\n}\ni.m = t, i.n = e => {\n  var t = e && e.__esModule ? () => e.default : () => e;\n  return i.d(t, {\n    a: t\n  }), t;\n}, i.d = (e, t) => {\n  for (var n in t) i.o(t, n) && !i.o(e, n) && Object.defineProperty(e, n, {\n    enumerable: !0,\n    get: t[n]\n  });\n}, i.g = function () {\n  if (\"object\" == typeof globalThis) return globalThis;\n  try {\n    return this || new Function(\"return this\")();\n  } catch (e) {\n    if (\"object\" == typeof window) return window;\n  }\n}(), i.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t), i.r = e => {\n  \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n    value: \"Module\"\n  }), Object.defineProperty(e, \"__esModule\", {\n    value: !0\n  });\n}, i.b = document.baseURI || self.location.href, i.nc = void 0;\nvar r = {};\ni.d(r, {\n  A: () => qc\n});\nvar o = {};\ni.r(o), i.d(o, {\n  computeMikkTSpaceTangents: () => Pe,\n  computeMorphedAttributes: () => Ke,\n  deepCloneAttribute: () => je,\n  deinterleaveAttribute: () => He,\n  deinterleaveGeometry: () => qe,\n  estimateBytesUsed: () => Ve,\n  interleaveAttributes: () => _e,\n  mergeAttributes: () => Ne,\n  mergeGeometries: () => Ge,\n  mergeGroups: () => We,\n  mergeVertices: () => ze,\n  toCreasedNormals: () => Je,\n  toTrianglesDrawMode: () => Ye\n});\nvar s = {};\ni.r(s), i.d(s, {\n  checkARSupport: () => xi,\n  checkHeadsetConnected: () => wi,\n  checkVRSupport: () => Qi,\n  isAppleVisionPro: () => Ti,\n  isBrowserEnvironment: () => ji,\n  isFirefoxReality: () => Oi,\n  isIOS: () => Ri,\n  isIpad: () => ki,\n  isLandscape: () => Ni,\n  isMobile: () => Si,\n  isMobileDeviceRequestingDesktopSite: () => Fi,\n  isMobileVR: () => Pi,\n  isNodeEnvironment: () => _i,\n  isOculusBrowser: () => Ui,\n  isR7: () => Gi,\n  isTablet: () => Di,\n  isWebXRAvailable: () => bi\n});\nvar a = {};\ni.r(a), i.d(a, {\n  clearObject: () => zi,\n  createPool: () => Vi,\n  removeUnusedKeys: () => Yi\n});\nvar A = {};\ni.r(A), i.d(A, {\n  equals: () => er,\n  isCoordinate: () => nr,\n  isCoordinates: () => tr,\n  parse: () => Zi,\n  regex: () => Ji,\n  stringify: () => $i,\n  toVector3: () => rr\n});\nvar l = {};\ni.r(l), i.d(l, {\n  getComponentProperty: () => ar,\n  getComponentPropertyPath: () => sr,\n  setComponentProperty: () => Ar\n});\nvar c = {};\ni.r(c), i.d(c, {\n  parseUrl: () => gr,\n  validateCubemapSrc: () => ur,\n  validateEnvMapSrc: () => dr,\n  validateSrc: () => hr\n});\nvar h = {};\ni.r(h), i.d(h, {\n  createCompatibleTexture: () => xr,\n  handleTextureEvents: () => Ir,\n  isCompatibleTexture: () => wr,\n  setTextureProperties: () => Er,\n  updateDistortionMap: () => Br,\n  updateEnvMap: () => yr,\n  updateMap: () => vr,\n  updateMapMaterialFromData: () => Cr\n});\nvar d = {};\ni.r(d), i.d(d, {\n  parse: () => Lr,\n  stringify: () => Mr,\n  toCamelCase: () => Sr\n});\nvar u = {};\ni.r(u), i.d(u, {\n  checkControllerPresentAndSetup: () => Ur,\n  emitIfAxesChanged: () => Gr,\n  findMatchingControllerWebXR: () => Pr,\n  isControllerPresentWebXR: () => Or,\n  onButtonEvent: () => Nr\n});\nvar g = {};\ni.r(g), i.d(g, {\n  bind: () => _r,\n  checkHeadsetConnected: () => Hr,\n  clone: () => Zr,\n  coordinates: () => A,\n  debounce: () => Wr,\n  debug: () => fi,\n  deepEqual: () => to,\n  device: () => s,\n  diff: () => no,\n  entity: () => l,\n  extend: () => Jr,\n  extendDeep: () => Xr,\n  findAllScenes: () => Ao,\n  forceCanvasResizeSafariMobile: () => lr,\n  getElData: () => oo,\n  getUrlParameter: () => so,\n  isIOS: () => qr,\n  isIframed: () => ao,\n  isMobile: () => Vr,\n  material: () => h,\n  objectPool: () => a,\n  shouldCaptureKeyEvent: () => io,\n  split: () => or,\n  splitString: () => ro,\n  srcLoader: () => c,\n  styleParser: () => d,\n  throttle: () => zr,\n  throttleLeadingAndTrailing: () => Yr,\n  throttleTick: () => Kr,\n  trackedControls: () => u\n});\nvar p = {};\ni.r(p), i.d(p, {\n  isSingleProperty: () => No,\n  parseProperties: () => qo,\n  parseProperty: () => Vo,\n  process: () => jo,\n  processPropertyDefinition: () => _o,\n  stringifyProperties: () => zo,\n  stringifyProperty: () => Yo\n});\nvar f = {};\ni.r(f), i.d(f, {\n  Component: () => As,\n  components: () => Ko,\n  registerComponent: () => cs,\n  registrationOrderWarnings: () => ls\n});\nvar m = {};\ni.r(m), i.d(m, {\n  System: () => ms,\n  registerSystem: () => Es,\n  systems: () => fs\n});\nvar E = {\n    update: null,\n    begin: null,\n    loopBegin: null,\n    changeBegin: null,\n    change: null,\n    changeComplete: null,\n    loopComplete: null,\n    complete: null,\n    loop: 1,\n    direction: \"normal\",\n    autoplay: !0,\n    timelineOffset: 0\n  },\n  C = {\n    duration: 1e3,\n    delay: 0,\n    endDelay: 0,\n    easing: \"easeOutElastic(1, .5)\",\n    round: 0\n  },\n  v = [\"translateX\", \"translateY\", \"translateZ\", \"rotate\", \"rotateX\", \"rotateY\", \"rotateZ\", \"scale\", \"scaleX\", \"scaleY\", \"scaleZ\", \"skew\", \"skewX\", \"skewY\", \"perspective\"],\n  B = {\n    CSS: {},\n    springs: {}\n  };\nfunction b(e, t, n) {\n  return Math.min(Math.max(e, t), n);\n}\nfunction y(e, t) {\n  return e.indexOf(t) > -1;\n}\nfunction I(e, t) {\n  return e.apply(null, t);\n}\nvar w = /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,\n  x = /^rgb/,\n  Q = /^hsl/,\n  L = {\n    arr: function (e) {\n      return Array.isArray(e);\n    },\n    obj: function (e) {\n      return y(Object.prototype.toString.call(e), \"Object\");\n    },\n    pth: function (e) {\n      return L.obj(e) && e.hasOwnProperty(\"totalLength\");\n    },\n    svg: function (e) {\n      return e instanceof SVGElement;\n    },\n    inp: function (e) {\n      return e instanceof HTMLInputElement;\n    },\n    dom: function (e) {\n      return e.nodeType || L.svg(e);\n    },\n    str: function (e) {\n      return \"string\" == typeof e;\n    },\n    fnc: function (e) {\n      return \"function\" == typeof e;\n    },\n    und: function (e) {\n      return void 0 === e;\n    },\n    hex: function (e) {\n      return w.test(e);\n    },\n    rgb: function (e) {\n      return x.test(e);\n    },\n    hsl: function (e) {\n      return Q.test(e);\n    },\n    col: function (e) {\n      return L.hex(e) || L.rgb(e) || L.hsl(e);\n    },\n    key: function (e) {\n      return !E.hasOwnProperty(e) && !C.hasOwnProperty(e) && \"targets\" !== e && \"keyframes\" !== e;\n    }\n  },\n  M = /\\(([^)]+)\\)/;\nfunction S(e) {\n  var t = M.exec(e);\n  return t ? t[1].split(\",\").map(function (e) {\n    return parseFloat(e);\n  }) : [];\n}\nfunction D(e, t) {\n  var n = S(e),\n    i = b(L.und(n[0]) ? 1 : n[0], .1, 100),\n    r = b(L.und(n[1]) ? 100 : n[1], .1, 100),\n    o = b(L.und(n[2]) ? 10 : n[2], .1, 100),\n    s = b(L.und(n[3]) ? 0 : n[3], .1, 100),\n    a = Math.sqrt(r / i),\n    A = o / (2 * Math.sqrt(r * i)),\n    l = A < 1 ? a * Math.sqrt(1 - A * A) : 0,\n    c = A < 1 ? (A * a - s) / l : -s + a;\n  function h(e) {\n    var n = t ? t * e / 1e3 : e;\n    return n = A < 1 ? Math.exp(-n * A * a) * (1 * Math.cos(l * n) + c * Math.sin(l * n)) : (1 + c * n) * Math.exp(-n * a), 0 === e || 1 === e ? e : 1 - n;\n  }\n  return t ? h : function () {\n    var t = B.springs[e];\n    if (t) return t;\n    for (var n = 1 / 6, i = 0, r = 0;;) if (1 === h(i += n)) {\n      if (++r >= 16) break;\n    } else r = 0;\n    var o = i * n * 1e3;\n    return B.springs[e] = o, o;\n  };\n}\nfunction k(e, t) {\n  void 0 === e && (e = 1), void 0 === t && (t = .5);\n  var n = b(e, 1, 10),\n    i = b(t, .1, 2);\n  return function (e) {\n    return 0 === e || 1 === e ? e : -n * Math.pow(2, 10 * (e - 1)) * Math.sin((e - 1 - i / (2 * Math.PI) * Math.asin(1 / n)) * (2 * Math.PI) / i);\n  };\n}\nfunction T(e) {\n  return void 0 === e && (e = 10), function (t) {\n    return Math.round(t * e) * (1 / e);\n  };\n}\nvar R = function () {\n    var e = .1;\n    function t(e, t) {\n      return 1 - 3 * t + 3 * e;\n    }\n    function n(e, t) {\n      return 3 * t - 6 * e;\n    }\n    function i(e) {\n      return 3 * e;\n    }\n    function r(e, r, o) {\n      return ((t(r, o) * e + n(r, o)) * e + i(r)) * e;\n    }\n    function o(e, r, o) {\n      return 3 * t(r, o) * e * e + 2 * n(r, o) * e + i(r);\n    }\n    return function (t, n, i, s) {\n      if (0 <= t && t <= 1 && 0 <= i && i <= 1) {\n        var a = new Float32Array(11);\n        if (t !== n || i !== s) for (var A = 0; A < 11; ++A) a[A] = r(A * e, t, i);\n        return function (A) {\n          return t === n && i === s || 0 === A || 1 === A ? A : r(function (n) {\n            for (var s = 0, A = 1; 10 !== A && a[A] <= n; ++A) s += e;\n            --A;\n            var l = s + (n - a[A]) / (a[A + 1] - a[A]) * e,\n              c = o(l, t, i);\n            return c >= .001 ? function (e, t, n, i) {\n              for (var s = 0; s < 4; ++s) {\n                var a = o(t, n, i);\n                if (0 === a) return t;\n                t -= (r(t, n, i) - e) / a;\n              }\n              return t;\n            }(n, l, t, i) : 0 === c ? l : function (e, t, n, i, o) {\n              var s,\n                a,\n                A = 0;\n              do {\n                (s = r(a = t + (n - t) / 2, i, o) - e) > 0 ? n = a : t = a;\n              } while (Math.abs(s) > 1e-7 && ++A < 10);\n              return a;\n            }(n, s, s + e, t, i);\n          }(A), n, s);\n        };\n      }\n    };\n  }(),\n  F = function () {\n    var e = [\"Quad\", \"Cubic\", \"Quart\", \"Quint\", \"Sine\", \"Expo\", \"Circ\", \"Back\", \"Elastic\"],\n      t = {\n        In: [[.55, .085, .68, .53], [.55, .055, .675, .19], [.895, .03, .685, .22], [.755, .05, .855, .06], [.47, 0, .745, .715], [.95, .05, .795, .035], [.6, .04, .98, .335], [.6, -.28, .735, .045], k],\n        Out: [[.25, .46, .45, .94], [.215, .61, .355, 1], [.165, .84, .44, 1], [.23, 1, .32, 1], [.39, .575, .565, 1], [.19, 1, .22, 1], [.075, .82, .165, 1], [.175, .885, .32, 1.275], function (e, t) {\n          return function (n) {\n            return 1 - k(e, t)(1 - n);\n          };\n        }],\n        InOut: [[.455, .03, .515, .955], [.645, .045, .355, 1], [.77, 0, .175, 1], [.86, 0, .07, 1], [.445, .05, .55, .95], [1, 0, 0, 1], [.785, .135, .15, .86], [.68, -.55, .265, 1.55], function (e, t) {\n          return function (n) {\n            return n < .5 ? k(e, t)(2 * n) / 2 : 1 - k(e, t)(-2 * n + 2) / 2;\n          };\n        }]\n      },\n      n = {\n        linear: [.25, .25, .75, .75]\n      };\n    for (var i in t) for (var r = 0, o = t[i].length; r < o; r++) n[\"ease\" + i + e[r]] = t[i][r];\n    return n;\n  }();\nfunction U(e, t) {\n  if (L.fnc(e)) return e;\n  var n = e.split(\"(\")[0],\n    i = F[n],\n    r = S(e);\n  switch (n) {\n    case \"spring\":\n      return D(e, t);\n    case \"cubicBezier\":\n      return I(R, r);\n    case \"steps\":\n      return I(T, r);\n    default:\n      return L.fnc(i) ? I(i, r) : I(R, i);\n  }\n}\nfunction O(e) {\n  try {\n    return document.querySelectorAll(e);\n  } catch (e) {\n    return;\n  }\n}\nvar P = [];\nfunction G(e, t) {\n  for (var n = P, i = e.length, r = arguments.length >= 2 ? arguments[1] : void 0, o = 0; o < i; o++) if (o in e) {\n    var s = e[o];\n    t.call(r, s, o, e) && n.push(s);\n  }\n  return (P = e).length = 0, n;\n}\nfunction N(e, t) {\n  t || (t = []);\n  for (var n = 0, i = e.length; n < i; n++) {\n    var r = e[n];\n    Array.isArray(r) ? N(r, t) : t.push(r);\n  }\n  return t;\n}\nfunction j(e) {\n  return L.arr(e) ? e : (L.str(e) && (e = O(e) || e), e instanceof NodeList || e instanceof HTMLCollection ? [].slice.call(e) : [e]);\n}\nfunction _(e, t) {\n  return e.some(function (e) {\n    return e === t;\n  });\n}\nfunction H(e) {\n  var t = {};\n  for (var n in e) t[n] = e[n];\n  return t;\n}\nfunction q(e, t) {\n  var n = H(e);\n  for (var i in e) n[i] = t.hasOwnProperty(i) ? t[i] : e[i];\n  return n;\n}\nfunction V(e, t) {\n  var n = H(e);\n  for (var i in t) n[i] = L.und(e[i]) ? t[i] : e[i];\n  return n;\n}\nvar z = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g,\n  Y = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,\n  K = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i,\n  W = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g,\n  J = /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g;\nvar X = /([\\+\\-]?[0-9#\\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;\nfunction Z(e) {\n  var t = X.exec(e);\n  if (t) return t[2];\n}\nfunction $(e, t) {\n  return L.fnc(e) ? e(t.target, t.id, t.total) : e;\n}\nfunction ee(e, t) {\n  return e.getAttribute(t);\n}\nfunction te(e, t, n) {\n  if (_([n, \"deg\", \"rad\", \"turn\"], Z(t))) return t;\n  var i = B.CSS[t + n];\n  if (!L.und(i)) return i;\n  var r = document.createElement(e.tagName),\n    o = e.parentNode && e.parentNode !== document ? e.parentNode : document.body;\n  o.appendChild(r), r.style.position = \"absolute\", r.style.width = 100 + n;\n  var s = 100 / r.offsetWidth;\n  o.removeChild(r);\n  var a = s * parseFloat(t);\n  return B.CSS[t + n] = a, a;\n}\nfunction ne(e, t, n) {\n  if (t in e.style) {\n    var i = t.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase(),\n      r = e.style[t] || getComputedStyle(e).getPropertyValue(i) || \"0\";\n    return n ? te(e, r, n) : r;\n  }\n}\nfunction ie(e, t) {\n  return L.dom(e) && !L.inp(e) && (ee(e, t) || L.svg(e) && e[t]) ? \"attribute\" : L.dom(e) && _(v, t) ? \"transform\" : L.dom(e) && \"transform\" !== t && ne(e, t) ? \"css\" : null != e[t] ? \"object\" : void 0;\n}\nvar re = /(\\w+)\\(([^)]*)\\)/g;\nfunction oe(e) {\n  if (L.dom(e)) {\n    for (var t, n = e.style.transform || \"\", i = new Map(); t = re.exec(n);) i.set(t[1], t[2]);\n    return i;\n  }\n}\nfunction se(e, t, n, i) {\n  switch (ie(e, t)) {\n    case \"transform\":\n      return function (e, t, n, i) {\n        var r = y(t, \"scale\") ? 1 : 0 + function (e) {\n            return y(e, \"translate\") || \"perspective\" === e ? \"px\" : y(e, \"rotate\") || y(e, \"skew\") ? \"deg\" : void 0;\n          }(t),\n          o = oe(e).get(t) || r;\n        return n && (n.transforms.list.set(t, o), n.transforms.last = t), i ? te(e, o, i) : o;\n      }(e, t, i, n);\n    case \"css\":\n      return ne(e, t, n);\n    case \"attribute\":\n      return ee(e, t);\n    default:\n      return e[t] || 0;\n  }\n}\nvar ae = /^(\\*=|\\+=|-=)/;\nfunction Ae(e, t) {\n  var n = ae.exec(e);\n  if (!n) return e;\n  var i = Z(e) || 0,\n    r = parseFloat(t),\n    o = parseFloat(e.replace(n[0], \"\"));\n  switch (n[0][0]) {\n    case \"+\":\n      return r + o + i;\n    case \"-\":\n      return r - o + i;\n    case \"*\":\n      return r * o + i;\n  }\n}\nvar le = /\\s/g;\nfunction ce(e, t) {\n  if (L.col(e)) return function (e) {\n    return L.rgb(e) ? (t = e, (n = z.exec(t)) ? \"rgba(\" + n[1] + \",1)\" : t) : L.hex(e) ? function (e) {\n      var t = e.replace(Y, function (e, t, n, i) {\n          return t + t + n + n + i + i;\n        }),\n        n = K.exec(t);\n      return \"rgba(\" + parseInt(n[1], 16) + \",\" + parseInt(n[2], 16) + \",\" + parseInt(n[3], 16) + \",1)\";\n    }(e) : L.hsl(e) ? function (e) {\n      var t,\n        n,\n        i,\n        r = W.exec(e) || J.exec(e),\n        o = parseInt(r[1], 10) / 360,\n        s = parseInt(r[2], 10) / 100,\n        a = parseInt(r[3], 10) / 100,\n        A = r[4] || 1;\n      function l(e, t, n) {\n        return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + (t - e) * (2 / 3 - n) * 6 : e;\n      }\n      if (0 == s) t = n = i = a;else {\n        var c = a < .5 ? a * (1 + s) : a + s - a * s,\n          h = 2 * a - c;\n        t = l(h, c, o + 1 / 3), n = l(h, c, o), i = l(h, c, o - 1 / 3);\n      }\n      return \"rgba(\" + 255 * t + \",\" + 255 * n + \",\" + 255 * i + \",\" + A + \")\";\n    }(e) : void 0;\n    var t, n;\n  }(e);\n  var n = Z(e),\n    i = n ? e.substr(0, e.length - n.length) : e;\n  return t && !le.test(e) ? i + t : i;\n}\nfunction he(e, t) {\n  return Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2));\n}\nfunction de(e) {\n  for (var t, n = e.points, i = 0, r = 0; r < n.numberOfItems; r++) {\n    var o = n.getItem(r);\n    r > 0 && (i += he(t, o)), t = o;\n  }\n  return i;\n}\nfunction ue(e) {\n  if (e.getTotalLength) return e.getTotalLength();\n  switch (e.tagName.toLowerCase()) {\n    case \"circle\":\n      return function (e) {\n        return 2 * Math.PI * ee(e, \"r\");\n      }(e);\n    case \"rect\":\n      return function (e) {\n        return 2 * ee(e, \"width\") + 2 * ee(e, \"height\");\n      }(e);\n    case \"line\":\n      return function (e) {\n        return he({\n          x: ee(e, \"x1\"),\n          y: ee(e, \"y1\")\n        }, {\n          x: ee(e, \"x2\"),\n          y: ee(e, \"y2\")\n        });\n      }(e);\n    case \"polyline\":\n      return de(e);\n    case \"polygon\":\n      return function (e) {\n        var t = e.points;\n        return de(e) + he(t.getItem(t.numberOfItems - 1), t.getItem(0));\n      }(e);\n  }\n}\nfunction ge(e, t) {\n  var n = t || {},\n    i = n.el || function (e) {\n      for (var t = e.parentNode; L.svg(t) && (t = t.parentNode, L.svg(t.parentNode)););\n      return t;\n    }(e),\n    r = i.getBoundingClientRect(),\n    o = ee(i, \"viewBox\"),\n    s = r.width,\n    a = r.height,\n    A = n.viewBox || (o ? o.split(\" \") : [0, 0, s, a]);\n  return {\n    el: i,\n    viewBox: A,\n    x: A[0] / 1,\n    y: A[1] / 1,\n    w: s / A[2],\n    h: a / A[3]\n  };\n}\nfunction pe(e, t) {\n  function n(n) {\n    void 0 === n && (n = 0);\n    var i = t + n >= 1 ? t + n : 0;\n    return e.el.getPointAtLength(i);\n  }\n  var i = ge(e.el, e.svg),\n    r = n(),\n    o = n(-1),\n    s = n(1);\n  switch (e.property) {\n    case \"x\":\n      return (r.x - i.x) * i.w;\n    case \"y\":\n      return (r.y - i.y) * i.h;\n    case \"angle\":\n      return 180 * Math.atan2(s.y - o.y, s.x - o.x) / Math.PI;\n  }\n}\nvar fe = /-?\\d*\\.?\\d+/g;\nfunction me(e, t) {\n  var n = ce(L.pth(e) ? e.totalLength : e, t) + \"\";\n  return {\n    original: n,\n    numbers: n.match(fe) ? n.match(fe).map(Number) : [0],\n    strings: L.str(e) || t ? n.split(fe) : []\n  };\n}\nfunction Ee(e) {\n  return G(e ? N(L.arr(e) ? e.map(j) : j(e)) : [], function (e, t, n) {\n    return n.indexOf(e) === t;\n  });\n}\nfunction Ce(e) {\n  var t = Ee(e);\n  return t.map(function (e, n) {\n    return {\n      target: e,\n      id: n,\n      total: t.length,\n      transforms: {\n        list: oe(e)\n      }\n    };\n  });\n}\nvar ve = /^spring/;\nfunction Be(e, t) {\n  var n = H(t);\n  if (ve.test(n.easing) && (n.duration = D(n.easing)), L.arr(e)) {\n    var i = e.length;\n    2 !== i || L.obj(e[0]) ? L.fnc(t.duration) || (n.duration = t.duration / i) : e = {\n      value: e\n    };\n  }\n  var r = L.arr(e) ? e : [e];\n  return r.map(function (e, n) {\n    var i = L.obj(e) && !L.pth(e) ? e : {\n      value: e\n    };\n    return L.und(i.delay) && (i.delay = n ? 0 : t.delay), L.und(i.endDelay) && (i.endDelay = n === r.length - 1 ? t.endDelay : 0), i;\n  }).map(function (e) {\n    return V(e, n);\n  });\n}\nvar be = {\n  css: function (e, t, n) {\n    return e.style[t] = n;\n  },\n  attribute: function (e, t, n) {\n    return e.setAttribute(t, n);\n  },\n  object: function (e, t, n) {\n    return e[t] = n;\n  },\n  transform: function (e, t, n, i, r) {\n    if (i.list.set(t, n), t === i.last || r) {\n      var o = \"\";\n      i.list.forEach(function (e, t) {\n        o += t + \"(\" + e + \") \";\n      }), e.style.transform = o;\n    }\n  }\n};\nfunction ye(e, t) {\n  for (var n = Ce(e), i = 0, r = n.length; i < r; i++) {\n    var o = n[i];\n    for (var s in t) {\n      var a = $(t[s], o),\n        A = o.target,\n        l = Z(a),\n        c = se(A, s, l, o),\n        h = Ae(ce(a, l || Z(c)), c),\n        d = ie(A, s);\n      be[d](A, s, h, o.transforms, !0);\n    }\n  }\n}\nfunction Ie(e, t) {\n  return G(N(e.map(function (e) {\n    return t.map(function (t) {\n      return function (e, t) {\n        var n = ie(e.target, t.name);\n        if (n) {\n          var i = function (e, t) {\n              var n;\n              return e.tweens.map(function (i) {\n                var r = function (e, t) {\n                    var n = {};\n                    for (var i in e) {\n                      var r = $(e[i], t);\n                      L.arr(r) && 1 === (r = r.map(function (e) {\n                        return $(e, t);\n                      })).length && (r = r[0]), n[i] = r;\n                    }\n                    return n.duration = parseFloat(n.duration), n.delay = parseFloat(n.delay), n;\n                  }(i, t),\n                  o = r.value,\n                  s = L.arr(o) ? o[1] : o,\n                  a = Z(s),\n                  A = se(t.target, e.name, a, t),\n                  l = n ? n.to.original : A,\n                  c = L.arr(o) ? o[0] : l,\n                  h = Z(c) || Z(A),\n                  d = a || h;\n                return L.und(s) && (s = l), r.from = me(c, d), r.to = me(Ae(s, c), d), r.start = n ? n.end : 0, r.end = r.start + r.delay + r.duration + r.endDelay, r.easing = U(r.easing, r.duration), r.isPath = L.pth(o), r.isColor = L.col(r.from.original), r.isColor && (r.round = 1), n = r, r;\n              });\n            }(t, e),\n            r = i[i.length - 1];\n          return {\n            type: n,\n            property: t.name,\n            animatable: e,\n            tweens: i,\n            duration: r.end,\n            delay: i[0].delay,\n            endDelay: r.endDelay\n          };\n        }\n      }(e, t);\n    });\n  })), function (e) {\n    return !L.und(e);\n  });\n}\nfunction we(e, t) {\n  var n = e.length,\n    i = function (e) {\n      return e.timelineOffset ? e.timelineOffset : 0;\n    },\n    r = {};\n  return r.duration = n ? Math.max.apply(Math, e.map(function (e) {\n    return i(e) + e.duration;\n  })) : t.duration, r.delay = n ? Math.min.apply(Math, e.map(function (e) {\n    return i(e) + e.delay;\n  })) : t.delay, r.endDelay = n ? r.duration - Math.max.apply(Math, e.map(function (e) {\n    return i(e) + e.duration - e.endDelay;\n  })) : t.endDelay, r;\n}\nvar xe,\n  Qe = 0,\n  Le = [],\n  Me = [],\n  Se = function () {\n    function e() {\n      xe = requestAnimationFrame(t);\n    }\n    function t(t) {\n      var n = Le.length;\n      if (n) {\n        for (var i = 0; i < n;) {\n          var r = Le[i];\n          if (r.paused) {\n            var o = Le.indexOf(r);\n            o > -1 && (Le.splice(o, 1), n = Le.length);\n          } else r.tick(t);\n          i++;\n        }\n        e();\n      } else xe = cancelAnimationFrame(xe);\n    }\n    return e;\n  }();\nfunction De(e) {\n  void 0 === e && (e = {});\n  var t,\n    n = 0,\n    i = 0,\n    r = 0,\n    o = 0,\n    s = null;\n  function a() {\n    return window.Promise && new Promise(function (e) {\n      return s = e;\n    });\n  }\n  var A = a(),\n    l = function (e) {\n      var t = q(E, e),\n        n = q(C, e),\n        i = function (e, t) {\n          var n = [],\n            i = t.keyframes;\n          for (var r in i && (t = V(function (e) {\n            for (var t = G(N(e.map(function (e) {\n                return Object.keys(e);\n              })), function (e) {\n                return L.key(e);\n              }).reduce(function (e, t) {\n                return e.indexOf(t) < 0 && e.push(t), e;\n              }, []), n = {}, i = function (i) {\n                var r = t[i];\n                n[r] = e.map(function (e) {\n                  var t = {};\n                  for (var n in e) L.key(n) ? n == r && (t.value = e[n]) : t[n] = e[n];\n                  return t;\n                });\n              }, r = 0; r < t.length; r++) i(r);\n            return n;\n          }(i), t)), t) L.key(r) && n.push({\n            name: r,\n            tweens: Be(t[r], e)\n          });\n          return n;\n        }(n, e),\n        r = Ce(e.targets),\n        o = Ie(r, i),\n        s = we(o, n),\n        a = Qe;\n      return Qe++, V(t, {\n        id: a,\n        children: [],\n        animatables: r,\n        animations: o,\n        duration: s.duration,\n        delay: s.delay,\n        endDelay: s.endDelay\n      });\n    }(e);\n  function c() {\n    l.reversed = !l.reversed;\n    for (var e = 0, n = t.length; e < n; e++) t[e].reversed = l.reversed;\n  }\n  function h(e) {\n    return l.reversed ? l.duration - e : e;\n  }\n  function d() {\n    n = 0, i = h(l.currentTime) * (1 / De.speed);\n  }\n  function u(e, t) {\n    t && t.seek(e - t.timelineOffset);\n  }\n  function g(e) {\n    for (var t = 0, n = l.animations, i = n.length; t < i;) {\n      var r = n[t],\n        o = r.animatable,\n        s = r.tweens,\n        a = s.length - 1,\n        A = s[a];\n      a && (A = G(s, function (t) {\n        return e < t.end;\n      })[0] || A);\n      for (var c = b(e - A.start - A.delay, 0, A.duration) / A.duration, h = isNaN(c) ? 1 : A.easing(c), d = A.to.strings, u = A.round, g = [], p = A.to.numbers.length, f = void 0, m = 0; m < p; m++) {\n        var E = void 0,\n          C = A.to.numbers[m],\n          v = A.from.numbers[m] || 0;\n        E = A.isPath ? pe(A.value, h * C) : v + h * (C - v), u && (A.isColor && m > 2 || (E = Math.round(E * u) / u)), g.push(E);\n      }\n      var B = d.length;\n      if (B) {\n        f = d[0];\n        for (var y = 0; y < B; y++) {\n          d[y];\n          var I = d[y + 1],\n            w = g[y];\n          isNaN(w) || (f += I ? w + I : w + \" \");\n        }\n      } else f = g[0];\n      be[r.type](o.target, r.property, f, o.transforms), r.currentValue = f, t++;\n    }\n  }\n  function p(e) {\n    l[e] && !l.passThrough && l[e](l);\n  }\n  function f(e) {\n    var d = l.duration,\n      f = l.delay,\n      m = d - l.endDelay,\n      E = h(e);\n    l.progress = b(E / d * 100, 0, 100), l.reversePlayback = E < l.currentTime, t && function (e) {\n      if (l.reversePlayback) for (var n = o; n--;) u(e, t[n]);else for (var i = 0; i < o; i++) u(e, t[i]);\n    }(E), !l.began && l.currentTime > 0 && (l.began = !0, p(\"begin\"), p(\"loopBegin\")), E <= f && 0 !== l.currentTime && g(0), (E >= m && l.currentTime !== d || !d) && g(d), E > f && E < m ? (l.changeBegan || (l.changeBegan = !0, l.changeCompleted = !1, p(\"changeBegin\")), p(\"change\"), g(E)) : l.changeBegan && (l.changeCompleted = !0, l.changeBegan = !1, p(\"changeComplete\")), l.currentTime = b(E, 0, d), l.began && p(\"update\"), e >= d && (i = 0, l.remaining && !0 !== l.remaining && l.remaining--, l.remaining ? (n = r, p(\"loopComplete\"), p(\"loopBegin\"), \"alternate\" === l.direction && c()) : (l.paused = !0, l.completed || (l.completed = !0, p(\"loopComplete\"), p(\"complete\"), \"Promise\" in window && (s(), A = a()))));\n  }\n  return l.reset = function () {\n    var e = l.direction;\n    l.passThrough = !1, l.currentTime = 0, l.progress = 0, l.paused = !0, l.began = !1, l.changeBegan = !1, l.completed = !1, l.changeCompleted = !1, l.reversePlayback = !1, l.reversed = \"reverse\" === e, l.remaining = l.loop, t = l.children;\n    for (var n = o = t.length; n--;) l.children[n].reset();\n    (l.reversed && !0 !== l.loop || \"alternate\" === e && 1 === l.loop) && l.remaining++, g(0);\n  }, l.set = function (e, t) {\n    return ye(e, t), l;\n  }, l.tick = function (e) {\n    r = e, n || (n = r), f((r + (i - n)) * De.speed);\n  }, l.seek = function (e) {\n    f(h(e));\n  }, l.pause = function () {\n    l.paused = !0, d();\n  }, l.play = function () {\n    l.paused && (l.paused = !1, Le.push(l), d(), xe || Se());\n  }, l.reverse = function () {\n    c(), d();\n  }, l.restart = function () {\n    l.reset(), l.play();\n  }, l.finished = A, l.reset(), l.autoplay && l.play(), l;\n}\nfunction ke(e, t) {\n  for (var n = t.length; n--;) _(e, t[n].animatable.target) && t.splice(n, 1);\n}\ndocument.addEventListener(\"visibilitychange\", function () {\n  if (document.hidden) {\n    for (var e = 0, t = Le.length; e < t; e++) activeInstance[e].pause();\n    Me = Le.slice(0), Le = [];\n  } else for (var n = 0, i = Me.length; n < i; n++) Me[n].play();\n}), De.version = \"3.0.0\", De.speed = 1, De.running = Le, De.remove = function (e) {\n  for (var t = Ee(e), n = Le.length; n--;) {\n    var i = Le[n],\n      r = i.animations,\n      o = i.children;\n    ke(t, r);\n    for (var s = o.length; s--;) {\n      var a = o[s],\n        A = a.animations;\n      ke(t, A), A.length || a.children.length || o.splice(s, 1);\n    }\n    r.length || o.length || i.pause();\n  }\n}, De.get = se, De.set = ye, De.convertPx = te, De.path = function (e, t) {\n  var n = L.str(e) ? O(e)[0] : e,\n    i = t || 100;\n  return function (e) {\n    return {\n      property: e,\n      el: n,\n      svg: ge(n),\n      totalLength: ue(n) * (i / 100)\n    };\n  };\n}, De.setDashoffset = function (e) {\n  var t = ue(e);\n  return e.setAttribute(\"stroke-dasharray\", t), t;\n}, De.stagger = function (e, t) {\n  void 0 === t && (t = {});\n  var n = t.direction || \"normal\",\n    i = t.easing ? U(t.easing) : null,\n    r = t.grid,\n    o = t.axis,\n    s = t.from || 0,\n    a = \"first\" === s,\n    A = \"center\" === s,\n    l = \"last\" === s,\n    c = L.arr(e),\n    h = c ? parseFloat(e[0]) : parseFloat(e),\n    d = c ? parseFloat(e[1]) : 0,\n    u = Z(c ? e[1] : e) || 0,\n    g = t.start || 0 + (c ? h : 0),\n    p = [],\n    f = 0;\n  return function (e, t, m) {\n    if (a && (s = 0), A && (s = (m - 1) / 2), l && (s = m - 1), !p.length) {\n      for (var E = 0; E < m; E++) {\n        if (r) {\n          var C = A ? (r[0] - 1) / 2 : s % r[0],\n            v = A ? (r[1] - 1) / 2 : Math.floor(s / r[0]),\n            B = C - E % r[0],\n            b = v - Math.floor(E / r[0]),\n            y = Math.sqrt(B * B + b * b);\n          \"x\" === o && (y = -B), \"y\" === o && (y = -b), p.push(y);\n        } else p.push(Math.abs(s - E));\n        f = Math.max.apply(Math, p);\n      }\n      i && (p = p.map(function (e) {\n        return i(e / f) * f;\n      })), \"reverse\" === n && (p = p.map(function (e) {\n        return o ? e < 0 ? -1 * e : -e : Math.abs(f - e);\n      }));\n    }\n    return g + (c ? (d - h) / f : h) * (Math.round(100 * p[t]) / 100) + u;\n  };\n}, De.timeline = function (e) {\n  void 0 === e && (e = {});\n  var t = De(e);\n  return t.duration = 0, t.add = function (n, i) {\n    var r = Le.indexOf(t),\n      o = t.children;\n    function s(e) {\n      e.passThrough = !0;\n    }\n    r > -1 && Le.splice(r, 1);\n    for (var a = 0; a < o.length; a++) s(o[a]);\n    var A = V(n, q(C, e));\n    A.targets = A.targets || e.targets;\n    var l = t.duration;\n    A.autoplay = !1, A.direction = t.direction, A.timelineOffset = L.und(i) ? l : Ae(i, l), s(t), t.seek(A.timelineOffset);\n    var c = De(A);\n    s(c), o.push(c);\n    var h = we(o, e);\n    return t.delay = h.delay, t.endDelay = h.endDelay, t.duration = h.duration, t.seek(0), t.reset(), t.autoplay && t.play(), t;\n  }, t;\n}, De.easing = U, De.penner = F, De.random = function (e, t) {\n  return Math.floor(Math.random() * (t - e + 1)) + e;\n};\nconst Te = De,\n  Re = e,\n  Fe = new WeakMap();\nclass Ue extends Re.Loader {\n  constructor(e) {\n    super(e), this.decoderPath = \"\", this.decoderConfig = {}, this.decoderBinary = null, this.decoderPending = null, this.workerLimit = 4, this.workerPool = [], this.workerNextTaskID = 1, this.workerSourceURL = \"\", this.defaultAttributeIDs = {\n      position: \"POSITION\",\n      normal: \"NORMAL\",\n      color: \"COLOR\",\n      uv: \"TEX_COORD\"\n    }, this.defaultAttributeTypes = {\n      position: \"Float32Array\",\n      normal: \"Float32Array\",\n      color: \"Float32Array\",\n      uv: \"Float32Array\"\n    };\n  }\n  setDecoderPath(e) {\n    return this.decoderPath = e, this;\n  }\n  setDecoderConfig(e) {\n    return this.decoderConfig = e, this;\n  }\n  setWorkerLimit(e) {\n    return this.workerLimit = e, this;\n  }\n  load(e, t, n, i) {\n    const r = new Re.FileLoader(this.manager);\n    r.setPath(this.path), r.setResponseType(\"arraybuffer\"), r.setRequestHeader(this.requestHeader), r.setWithCredentials(this.withCredentials), r.load(e, e => {\n      this.parse(e, t, i);\n    }, n, i);\n  }\n  parse(e, t, n = () => {}) {\n    this.decodeDracoFile(e, t, null, null, Re.SRGBColorSpace, n).catch(n);\n  }\n  decodeDracoFile(e, t, n, i, r = Re.LinearSRGBColorSpace, o = () => {}) {\n    const s = {\n      attributeIDs: n || this.defaultAttributeIDs,\n      attributeTypes: i || this.defaultAttributeTypes,\n      useUniqueIDs: !!n,\n      vertexColorSpace: r\n    };\n    return this.decodeGeometry(e, s).then(t).catch(o);\n  }\n  decodeGeometry(e, t) {\n    const n = JSON.stringify(t);\n    if (Fe.has(e)) {\n      const t = Fe.get(e);\n      if (t.key === n) return t.promise;\n      if (0 === e.byteLength) throw new Error(\"THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.\");\n    }\n    let i;\n    const r = this.workerNextTaskID++,\n      o = e.byteLength,\n      s = this._getWorker(r, o).then(n => (i = n, new Promise((n, o) => {\n        i._callbacks[r] = {\n          resolve: n,\n          reject: o\n        }, i.postMessage({\n          type: \"decode\",\n          id: r,\n          taskConfig: t,\n          buffer: e\n        }, [e]);\n      }))).then(e => this._createGeometry(e.geometry));\n    return s.catch(() => !0).then(() => {\n      i && r && this._releaseTask(i, r);\n    }), Fe.set(e, {\n      key: n,\n      promise: s\n    }), s;\n  }\n  _createGeometry(e) {\n    const t = new Re.BufferGeometry();\n    e.index && t.setIndex(new Re.BufferAttribute(e.index.array, 1));\n    for (let n = 0; n < e.attributes.length; n++) {\n      const i = e.attributes[n],\n        r = i.name,\n        o = i.array,\n        s = i.itemSize,\n        a = new Re.BufferAttribute(o, s);\n      \"color\" === r && (this._assignVertexColorSpace(a, i.vertexColorSpace), a.normalized = o instanceof Float32Array == 0), t.setAttribute(r, a);\n    }\n    return t;\n  }\n  _assignVertexColorSpace(e, t) {\n    if (t !== Re.SRGBColorSpace) return;\n    const n = new Re.Color();\n    for (let t = 0, i = e.count; t < i; t++) n.fromBufferAttribute(e, t), Re.ColorManagement.toWorkingColorSpace(n, Re.SRGBColorSpace), e.setXYZ(t, n.r, n.g, n.b);\n  }\n  _loadLibrary(e, t) {\n    const n = new Re.FileLoader(this.manager);\n    return n.setPath(this.decoderPath), n.setResponseType(t), n.setWithCredentials(this.withCredentials), new Promise((t, i) => {\n      n.load(e, t, void 0, i);\n    });\n  }\n  preload() {\n    return this._initDecoder(), this;\n  }\n  _initDecoder() {\n    if (this.decoderPending) return this.decoderPending;\n    const e = \"object\" != typeof WebAssembly || \"js\" === this.decoderConfig.type,\n      t = [];\n    return e ? t.push(this._loadLibrary(\"draco_decoder.js\", \"text\")) : (t.push(this._loadLibrary(\"draco_wasm_wrapper.js\", \"text\")), t.push(this._loadLibrary(\"draco_decoder.wasm\", \"arraybuffer\"))), this.decoderPending = Promise.all(t).then(t => {\n      const n = t[0];\n      e || (this.decoderConfig.wasmBinary = t[1]);\n      const i = Oe.toString(),\n        r = [\"/* draco decoder */\", n, \"\", \"/* worker */\", i.substring(i.indexOf(\"{\") + 1, i.lastIndexOf(\"}\"))].join(\"\\n\");\n      this.workerSourceURL = URL.createObjectURL(new Blob([r]));\n    }), this.decoderPending;\n  }\n  _getWorker(e, t) {\n    return this._initDecoder().then(() => {\n      if (this.workerPool.length < this.workerLimit) {\n        const e = new Worker(this.workerSourceURL);\n        e._callbacks = {}, e._taskCosts = {}, e._taskLoad = 0, e.postMessage({\n          type: \"init\",\n          decoderConfig: this.decoderConfig\n        }), e.onmessage = function (t) {\n          const n = t.data;\n          switch (n.type) {\n            case \"decode\":\n              e._callbacks[n.id].resolve(n);\n              break;\n            case \"error\":\n              e._callbacks[n.id].reject(n);\n              break;\n            default:\n              console.error('THREE.DRACOLoader: Unexpected message, \"' + n.type + '\"');\n          }\n        }, this.workerPool.push(e);\n      } else this.workerPool.sort(function (e, t) {\n        return e._taskLoad > t._taskLoad ? -1 : 1;\n      });\n      const n = this.workerPool[this.workerPool.length - 1];\n      return n._taskCosts[e] = t, n._taskLoad += t, n;\n    });\n  }\n  _releaseTask(e, t) {\n    e._taskLoad -= e._taskCosts[t], delete e._callbacks[t], delete e._taskCosts[t];\n  }\n  debug() {\n    console.log(\"Task load: \", this.workerPool.map(e => e._taskLoad));\n  }\n  dispose() {\n    for (let e = 0; e < this.workerPool.length; ++e) this.workerPool[e].terminate();\n    return this.workerPool.length = 0, \"\" !== this.workerSourceURL && URL.revokeObjectURL(this.workerSourceURL), this;\n  }\n}\nfunction Oe() {\n  let e, t;\n  function n(e, t, n, i, r, o) {\n    const s = o.num_components(),\n      a = n.num_points() * s,\n      A = a * r.BYTES_PER_ELEMENT,\n      l = function (e, t) {\n        switch (t) {\n          case Float32Array:\n            return e.DT_FLOAT32;\n          case Int8Array:\n            return e.DT_INT8;\n          case Int16Array:\n            return e.DT_INT16;\n          case Int32Array:\n            return e.DT_INT32;\n          case Uint8Array:\n            return e.DT_UINT8;\n          case Uint16Array:\n            return e.DT_UINT16;\n          case Uint32Array:\n            return e.DT_UINT32;\n        }\n      }(e, r),\n      c = e._malloc(A);\n    t.GetAttributeDataArrayForAllPoints(n, o, l, A, c);\n    const h = new r(e.HEAPF32.buffer, c, a).slice();\n    return e._free(c), {\n      name: i,\n      array: h,\n      itemSize: s\n    };\n  }\n  onmessage = function (i) {\n    const r = i.data;\n    switch (r.type) {\n      case \"init\":\n        e = r.decoderConfig, t = new Promise(function (t) {\n          e.onModuleLoaded = function (e) {\n            t({\n              draco: e\n            });\n          }, DracoDecoderModule(e);\n        });\n        break;\n      case \"decode\":\n        const i = r.buffer,\n          o = r.taskConfig;\n        t.then(e => {\n          const t = e.draco,\n            s = new t.Decoder();\n          try {\n            const e = function (e, t, i, r) {\n                const o = r.attributeIDs,\n                  s = r.attributeTypes;\n                let a, A;\n                const l = t.GetEncodedGeometryType(i);\n                if (l === e.TRIANGULAR_MESH) a = new e.Mesh(), A = t.DecodeArrayToMesh(i, i.byteLength, a);else {\n                  if (l !== e.POINT_CLOUD) throw new Error(\"THREE.DRACOLoader: Unexpected geometry type.\");\n                  a = new e.PointCloud(), A = t.DecodeArrayToPointCloud(i, i.byteLength, a);\n                }\n                if (!A.ok() || 0 === a.ptr) throw new Error(\"THREE.DRACOLoader: Decoding failed: \" + A.error_msg());\n                const c = {\n                  index: null,\n                  attributes: []\n                };\n                for (const i in o) {\n                  const A = self[s[i]];\n                  let l, h;\n                  if (r.useUniqueIDs) h = o[i], l = t.GetAttributeByUniqueId(a, h);else {\n                    if (h = t.GetAttributeId(a, e[o[i]]), -1 === h) continue;\n                    l = t.GetAttribute(a, h);\n                  }\n                  const d = n(e, t, a, i, A, l);\n                  \"color\" === i && (d.vertexColorSpace = r.vertexColorSpace), c.attributes.push(d);\n                }\n                return l === e.TRIANGULAR_MESH && (c.index = function (e, t, n) {\n                  const i = 3 * n.num_faces(),\n                    r = 4 * i,\n                    o = e._malloc(r);\n                  t.GetTrianglesUInt32Array(n, r, o);\n                  const s = new Uint32Array(e.HEAPF32.buffer, o, i).slice();\n                  return e._free(o), {\n                    array: s,\n                    itemSize: 1\n                  };\n                }(e, t, a)), e.destroy(a), c;\n              }(t, s, new Int8Array(i), o),\n              a = e.attributes.map(e => e.array.buffer);\n            e.index && a.push(e.index.array.buffer), self.postMessage({\n              type: \"decode\",\n              id: r.id,\n              geometry: e\n            }, a);\n          } catch (e) {\n            console.error(e), self.postMessage({\n              type: \"error\",\n              id: r.id,\n              error: e.message\n            });\n          } finally {\n            t.destroy(s);\n          }\n        });\n    }\n  };\n}\nfunction Pe(e, t, n = !0) {\n  if (!t || !t.isReady) throw new Error(\"BufferGeometryUtils: Initialized MikkTSpace library required.\");\n  if (!e.hasAttribute(\"position\") || !e.hasAttribute(\"normal\") || !e.hasAttribute(\"uv\")) throw new Error('BufferGeometryUtils: Tangents require \"position\", \"normal\", and \"uv\" attributes.');\n  function i(e) {\n    if (e.normalized || e.isInterleavedBufferAttribute) {\n      const t = new Float32Array(e.count * e.itemSize);\n      for (let n = 0, i = 0; n < e.count; n++) t[i++] = e.getX(n), t[i++] = e.getY(n), e.itemSize > 2 && (t[i++] = e.getZ(n));\n      return t;\n    }\n    return e.array instanceof Float32Array ? e.array : new Float32Array(e.array);\n  }\n  const r = e.index ? e.toNonIndexed() : e,\n    o = t.generateTangents(i(r.attributes.position), i(r.attributes.normal), i(r.attributes.uv));\n  if (n) for (let e = 3; e < o.length; e += 4) o[e] *= -1;\n  return r.setAttribute(\"tangent\", new Re.BufferAttribute(o, 4)), e !== r && e.copy(r), e;\n}\nfunction Ge(e, t = !1) {\n  const n = null !== e[0].index,\n    i = new Set(Object.keys(e[0].attributes)),\n    r = new Set(Object.keys(e[0].morphAttributes)),\n    o = {},\n    s = {},\n    a = e[0].morphTargetsRelative,\n    A = new Re.BufferGeometry();\n  let l = 0;\n  for (let c = 0; c < e.length; ++c) {\n    const h = e[c];\n    let d = 0;\n    if (n !== (null !== h.index)) return console.error(\"THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index \" + c + \". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.\"), null;\n    for (const e in h.attributes) {\n      if (!i.has(e)) return console.error(\"THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index \" + c + '. All geometries must have compatible attributes; make sure \"' + e + '\" attribute exists among all geometries, or in none of them.'), null;\n      void 0 === o[e] && (o[e] = []), o[e].push(h.attributes[e]), d++;\n    }\n    if (d !== i.size) return console.error(\"THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index \" + c + \". Make sure all geometries have the same number of attributes.\"), null;\n    if (a !== h.morphTargetsRelative) return console.error(\"THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index \" + c + \". .morphTargetsRelative must be consistent throughout all geometries.\"), null;\n    for (const e in h.morphAttributes) {\n      if (!r.has(e)) return console.error(\"THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index \" + c + \".  .morphAttributes must be consistent throughout all geometries.\"), null;\n      void 0 === s[e] && (s[e] = []), s[e].push(h.morphAttributes[e]);\n    }\n    if (t) {\n      let e;\n      if (n) e = h.index.count;else {\n        if (void 0 === h.attributes.position) return console.error(\"THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index \" + c + \". The geometry must have either an index or a position attribute\"), null;\n        e = h.attributes.position.count;\n      }\n      A.addGroup(l, e, c), l += e;\n    }\n  }\n  if (n) {\n    let t = 0;\n    const n = [];\n    for (let i = 0; i < e.length; ++i) {\n      const r = e[i].index;\n      for (let e = 0; e < r.count; ++e) n.push(r.getX(e) + t);\n      t += e[i].attributes.position.count;\n    }\n    A.setIndex(n);\n  }\n  for (const e in o) {\n    const t = Ne(o[e]);\n    if (!t) return console.error(\"THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the \" + e + \" attribute.\"), null;\n    A.setAttribute(e, t);\n  }\n  for (const e in s) {\n    const t = s[e][0].length;\n    if (0 === t) break;\n    A.morphAttributes = A.morphAttributes || {}, A.morphAttributes[e] = [];\n    for (let n = 0; n < t; ++n) {\n      const t = [];\n      for (let i = 0; i < s[e].length; ++i) t.push(s[e][i][n]);\n      const i = Ne(t);\n      if (!i) return console.error(\"THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the \" + e + \" morphAttribute.\"), null;\n      A.morphAttributes[e].push(i);\n    }\n  }\n  return A;\n}\nfunction Ne(e) {\n  let t,\n    n,\n    i,\n    r = -1,\n    o = 0;\n  for (let s = 0; s < e.length; ++s) {\n    const a = e[s];\n    if (void 0 === t && (t = a.array.constructor), t !== a.array.constructor) return console.error(\"THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.\"), null;\n    if (void 0 === n && (n = a.itemSize), n !== a.itemSize) return console.error(\"THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.\"), null;\n    if (void 0 === i && (i = a.normalized), i !== a.normalized) return console.error(\"THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.\"), null;\n    if (-1 === r && (r = a.gpuType), r !== a.gpuType) return console.error(\"THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes.\"), null;\n    o += a.count * n;\n  }\n  const s = new t(o),\n    a = new Re.BufferAttribute(s, n, i);\n  let A = 0;\n  for (let t = 0; t < e.length; ++t) {\n    const i = e[t];\n    if (i.isInterleavedBufferAttribute) {\n      const e = A / n;\n      for (let t = 0, r = i.count; t < r; t++) for (let r = 0; r < n; r++) {\n        const n = i.getComponent(t, r);\n        a.setComponent(t + e, r, n);\n      }\n    } else s.set(i.array, A);\n    A += i.count * n;\n  }\n  return void 0 !== r && (a.gpuType = r), a;\n}\nfunction je(e) {\n  return e.isInstancedInterleavedBufferAttribute || e.isInterleavedBufferAttribute ? He(e) : e.isInstancedBufferAttribute ? new Re.InstancedBufferAttribute().copy(e) : new Re.BufferAttribute().copy(e);\n}\nfunction _e(e) {\n  let t,\n    n = 0,\n    i = 0;\n  for (let r = 0, o = e.length; r < o; ++r) {\n    const o = e[r];\n    if (void 0 === t && (t = o.array.constructor), t !== o.array.constructor) return console.error(\"AttributeBuffers of different types cannot be interleaved\"), null;\n    n += o.array.length, i += o.itemSize;\n  }\n  const r = new Re.InterleavedBuffer(new t(n), i);\n  let o = 0;\n  const s = [],\n    a = [\"getX\", \"getY\", \"getZ\", \"getW\"],\n    A = [\"setX\", \"setY\", \"setZ\", \"setW\"];\n  for (let t = 0, n = e.length; t < n; t++) {\n    const n = e[t],\n      i = n.itemSize,\n      l = n.count,\n      c = new Re.InterleavedBufferAttribute(r, i, o, n.normalized);\n    s.push(c), o += i;\n    for (let e = 0; e < l; e++) for (let t = 0; t < i; t++) c[A[t]](e, n[a[t]](e));\n  }\n  return s;\n}\nfunction He(e) {\n  const t = e.data.array.constructor,\n    n = e.count,\n    i = e.itemSize,\n    r = e.normalized,\n    o = new t(n * i);\n  let s;\n  s = e.isInstancedInterleavedBufferAttribute ? new Re.InstancedBufferAttribute(o, i, r, e.meshPerAttribute) : new Re.BufferAttribute(o, i, r);\n  for (let t = 0; t < n; t++) s.setX(t, e.getX(t)), i >= 2 && s.setY(t, e.getY(t)), i >= 3 && s.setZ(t, e.getZ(t)), i >= 4 && s.setW(t, e.getW(t));\n  return s;\n}\nfunction qe(e) {\n  const t = e.attributes,\n    n = e.morphTargets,\n    i = new Map();\n  for (const e in t) {\n    const n = t[e];\n    n.isInterleavedBufferAttribute && (i.has(n) || i.set(n, He(n)), t[e] = i.get(n));\n  }\n  for (const e in n) {\n    const t = n[e];\n    t.isInterleavedBufferAttribute && (i.has(t) || i.set(t, He(t)), n[e] = i.get(t));\n  }\n}\nfunction Ve(e) {\n  let t = 0;\n  for (const n in e.attributes) {\n    const i = e.getAttribute(n);\n    t += i.count * i.itemSize * i.array.BYTES_PER_ELEMENT;\n  }\n  const n = e.getIndex();\n  return t += n ? n.count * n.itemSize * n.array.BYTES_PER_ELEMENT : 0, t;\n}\nfunction ze(e, t = 1e-4) {\n  t = Math.max(t, Number.EPSILON);\n  const n = {},\n    i = e.getIndex(),\n    r = e.getAttribute(\"position\"),\n    o = i ? i.count : r.count;\n  let s = 0;\n  const a = Object.keys(e.attributes),\n    A = {},\n    l = {},\n    c = [],\n    h = [\"getX\", \"getY\", \"getZ\", \"getW\"],\n    d = [\"setX\", \"setY\", \"setZ\", \"setW\"];\n  for (let t = 0, n = a.length; t < n; t++) {\n    const n = a[t],\n      i = e.attributes[n];\n    A[n] = new i.constructor(new i.array.constructor(i.count * i.itemSize), i.itemSize, i.normalized);\n    const r = e.morphAttributes[n];\n    r && (l[n] || (l[n] = []), r.forEach((e, t) => {\n      const i = new e.array.constructor(e.count * e.itemSize);\n      l[n][t] = new e.constructor(i, e.itemSize, e.normalized);\n    }));\n  }\n  const u = .5 * t,\n    g = Math.log10(1 / t),\n    p = Math.pow(10, g),\n    f = u * p;\n  for (let t = 0; t < o; t++) {\n    const r = i ? i.getX(t) : t;\n    let o = \"\";\n    for (let t = 0, n = a.length; t < n; t++) {\n      const n = a[t],\n        i = e.getAttribute(n),\n        s = i.itemSize;\n      for (let e = 0; e < s; e++) o += ~~(i[h[e]](r) * p + f) + \",\";\n    }\n    if (o in n) c.push(n[o]);else {\n      for (let t = 0, n = a.length; t < n; t++) {\n        const n = a[t],\n          i = e.getAttribute(n),\n          o = e.morphAttributes[n],\n          c = i.itemSize,\n          u = A[n],\n          g = l[n];\n        for (let e = 0; e < c; e++) {\n          const t = h[e],\n            n = d[e];\n          if (u[n](s, i[t](r)), o) for (let e = 0, i = o.length; e < i; e++) g[e][n](s, o[e][t](r));\n        }\n      }\n      n[o] = s, c.push(s), s++;\n    }\n  }\n  const m = e.clone();\n  for (const t in e.attributes) {\n    const e = A[t];\n    if (m.setAttribute(t, new e.constructor(e.array.slice(0, s * e.itemSize), e.itemSize, e.normalized)), t in l) for (let e = 0; e < l[t].length; e++) {\n      const n = l[t][e];\n      m.morphAttributes[t][e] = new n.constructor(n.array.slice(0, s * n.itemSize), n.itemSize, n.normalized);\n    }\n  }\n  return m.setIndex(c), m;\n}\nfunction Ye(e, t) {\n  if (t === Re.TrianglesDrawMode) return console.warn(\"THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.\"), e;\n  if (t === Re.TriangleFanDrawMode || t === Re.TriangleStripDrawMode) {\n    let n = e.getIndex();\n    if (null === n) {\n      const t = [],\n        i = e.getAttribute(\"position\");\n      if (void 0 === i) return console.error(\"THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.\"), e;\n      for (let e = 0; e < i.count; e++) t.push(e);\n      e.setIndex(t), n = e.getIndex();\n    }\n    const i = n.count - 2,\n      r = [];\n    if (t === Re.TriangleFanDrawMode) for (let e = 1; e <= i; e++) r.push(n.getX(0)), r.push(n.getX(e)), r.push(n.getX(e + 1));else for (let e = 0; e < i; e++) e % 2 == 0 ? (r.push(n.getX(e)), r.push(n.getX(e + 1)), r.push(n.getX(e + 2))) : (r.push(n.getX(e + 2)), r.push(n.getX(e + 1)), r.push(n.getX(e)));\n    r.length / 3 !== i && console.error(\"THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.\");\n    const o = e.clone();\n    return o.setIndex(r), o.clearGroups(), o;\n  }\n  return console.error(\"THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:\", t), e;\n}\nfunction Ke(e) {\n  const t = new Re.Vector3(),\n    n = new Re.Vector3(),\n    i = new Re.Vector3(),\n    r = new Re.Vector3(),\n    o = new Re.Vector3(),\n    s = new Re.Vector3(),\n    a = new Re.Vector3(),\n    A = new Re.Vector3(),\n    l = new Re.Vector3();\n  function c(e, c, h, d, u, g, p, f) {\n    t.fromBufferAttribute(c, u), n.fromBufferAttribute(c, g), i.fromBufferAttribute(c, p);\n    const m = e.morphTargetInfluences;\n    if (h && m) {\n      a.set(0, 0, 0), A.set(0, 0, 0), l.set(0, 0, 0);\n      for (let e = 0, c = h.length; e < c; e++) {\n        const c = m[e],\n          f = h[e];\n        0 !== c && (r.fromBufferAttribute(f, u), o.fromBufferAttribute(f, g), s.fromBufferAttribute(f, p), d ? (a.addScaledVector(r, c), A.addScaledVector(o, c), l.addScaledVector(s, c)) : (a.addScaledVector(r.sub(t), c), A.addScaledVector(o.sub(n), c), l.addScaledVector(s.sub(i), c)));\n      }\n      t.add(a), n.add(A), i.add(l);\n    }\n    e.isSkinnedMesh && (e.applyBoneTransform(u, t), e.applyBoneTransform(g, n), e.applyBoneTransform(p, i)), f[3 * u + 0] = t.x, f[3 * u + 1] = t.y, f[3 * u + 2] = t.z, f[3 * g + 0] = n.x, f[3 * g + 1] = n.y, f[3 * g + 2] = n.z, f[3 * p + 0] = i.x, f[3 * p + 1] = i.y, f[3 * p + 2] = i.z;\n  }\n  const h = e.geometry,\n    d = e.material;\n  let u, g, p;\n  const f = h.index,\n    m = h.attributes.position,\n    E = h.morphAttributes.position,\n    C = h.morphTargetsRelative,\n    v = h.attributes.normal,\n    B = h.morphAttributes.position,\n    b = h.groups,\n    y = h.drawRange;\n  let I, w, x, Q, L, M, S;\n  const D = new Float32Array(m.count * m.itemSize),\n    k = new Float32Array(v.count * v.itemSize);\n  if (null !== f) {\n    if (Array.isArray(d)) for (I = 0, x = b.length; I < x; I++) for (L = b[I], M = Math.max(L.start, y.start), S = Math.min(L.start + L.count, y.start + y.count), w = M, Q = S; w < Q; w += 3) u = f.getX(w), g = f.getX(w + 1), p = f.getX(w + 2), c(e, m, E, C, u, g, p, D), c(e, v, B, C, u, g, p, k);else for (M = Math.max(0, y.start), S = Math.min(f.count, y.start + y.count), I = M, x = S; I < x; I += 3) u = f.getX(I), g = f.getX(I + 1), p = f.getX(I + 2), c(e, m, E, C, u, g, p, D), c(e, v, B, C, u, g, p, k);\n  } else if (Array.isArray(d)) for (I = 0, x = b.length; I < x; I++) for (L = b[I], M = Math.max(L.start, y.start), S = Math.min(L.start + L.count, y.start + y.count), w = M, Q = S; w < Q; w += 3) u = w, g = w + 1, p = w + 2, c(e, m, E, C, u, g, p, D), c(e, v, B, C, u, g, p, k);else for (M = Math.max(0, y.start), S = Math.min(m.count, y.start + y.count), I = M, x = S; I < x; I += 3) u = I, g = I + 1, p = I + 2, c(e, m, E, C, u, g, p, D), c(e, v, B, C, u, g, p, k);\n  return {\n    positionAttribute: m,\n    normalAttribute: v,\n    morphedPositionAttribute: new Re.Float32BufferAttribute(D, 3),\n    morphedNormalAttribute: new Re.Float32BufferAttribute(k, 3)\n  };\n}\nfunction We(e) {\n  if (0 === e.groups.length) return console.warn(\"THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge.\"), e;\n  let t = e.groups;\n  if (t = t.sort((e, t) => e.materialIndex !== t.materialIndex ? e.materialIndex - t.materialIndex : e.start - t.start), null === e.getIndex()) {\n    const t = e.getAttribute(\"position\"),\n      n = [];\n    for (let e = 0; e < t.count; e += 3) n.push(e, e + 1, e + 2);\n    e.setIndex(n);\n  }\n  const n = e.getIndex(),\n    i = [];\n  for (let e = 0; e < t.length; e++) {\n    const r = t[e],\n      o = r.start,\n      s = o + r.count;\n    for (let e = o; e < s; e++) i.push(n.getX(e));\n  }\n  e.dispose(), e.setIndex(i);\n  let r = 0;\n  for (let e = 0; e < t.length; e++) {\n    const n = t[e];\n    n.start = r, r += n.count;\n  }\n  let o = t[0];\n  e.groups = [o];\n  for (let n = 1; n < t.length; n++) {\n    const i = t[n];\n    o.materialIndex === i.materialIndex ? o.count += i.count : (o = i, e.groups.push(o));\n  }\n  return e;\n}\nfunction Je(e, t = Math.PI / 3) {\n  const n = Math.cos(t),\n    i = 100 * (1 + 1e-10),\n    r = [new Re.Vector3(), new Re.Vector3(), new Re.Vector3()],\n    o = new Re.Vector3(),\n    s = new Re.Vector3(),\n    a = new Re.Vector3(),\n    A = new Re.Vector3();\n  function l(e) {\n    return `${~~(e.x * i)},${~~(e.y * i)},${~~(e.z * i)}`;\n  }\n  const c = e.index ? e.toNonIndexed() : e,\n    h = c.attributes.position,\n    d = {};\n  for (let e = 0, t = h.count / 3; e < t; e++) {\n    const t = 3 * e,\n      n = r[0].fromBufferAttribute(h, t + 0),\n      i = r[1].fromBufferAttribute(h, t + 1),\n      a = r[2].fromBufferAttribute(h, t + 2);\n    o.subVectors(a, i), s.subVectors(n, i);\n    const A = new Re.Vector3().crossVectors(o, s).normalize();\n    for (let e = 0; e < 3; e++) {\n      const t = l(r[e]);\n      t in d || (d[t] = []), d[t].push(A);\n    }\n  }\n  const u = new Float32Array(3 * h.count),\n    g = new Re.BufferAttribute(u, 3, !1);\n  for (let e = 0, t = h.count / 3; e < t; e++) {\n    const t = 3 * e,\n      i = r[0].fromBufferAttribute(h, t + 0),\n      c = r[1].fromBufferAttribute(h, t + 1),\n      u = r[2].fromBufferAttribute(h, t + 2);\n    o.subVectors(u, c), s.subVectors(i, c), a.crossVectors(o, s).normalize();\n    for (let e = 0; e < 3; e++) {\n      const i = d[l(r[e])];\n      A.set(0, 0, 0);\n      for (let e = 0, t = i.length; e < t; e++) {\n        const t = i[e];\n        a.dot(t) > n && A.add(t);\n      }\n      A.normalize(), g.setXYZ(t + e, A.x, A.y, A.z);\n    }\n  }\n  return c.setAttribute(\"normal\", g), c;\n}\nclass Xe extends Re.Loader {\n  constructor(e) {\n    super(e), this.dracoLoader = null, this.ktx2Loader = null, this.meshoptDecoder = null, this.pluginCallbacks = [], this.register(function (e) {\n      return new it(e);\n    }), this.register(function (e) {\n      return new rt(e);\n    }), this.register(function (e) {\n      return new ut(e);\n    }), this.register(function (e) {\n      return new gt(e);\n    }), this.register(function (e) {\n      return new pt(e);\n    }), this.register(function (e) {\n      return new st(e);\n    }), this.register(function (e) {\n      return new at(e);\n    }), this.register(function (e) {\n      return new At(e);\n    }), this.register(function (e) {\n      return new lt(e);\n    }), this.register(function (e) {\n      return new nt(e);\n    }), this.register(function (e) {\n      return new ct(e);\n    }), this.register(function (e) {\n      return new ot(e);\n    }), this.register(function (e) {\n      return new dt(e);\n    }), this.register(function (e) {\n      return new ht(e);\n    }), this.register(function (e) {\n      return new et(e);\n    }), this.register(function (e) {\n      return new ft(e);\n    }), this.register(function (e) {\n      return new mt(e);\n    });\n  }\n  load(e, t, n, i) {\n    const r = this;\n    let o;\n    if (\"\" !== this.resourcePath) o = this.resourcePath;else if (\"\" !== this.path) {\n      const t = Re.LoaderUtils.extractUrlBase(e);\n      o = Re.LoaderUtils.resolveURL(t, this.path);\n    } else o = Re.LoaderUtils.extractUrlBase(e);\n    this.manager.itemStart(e);\n    const s = function (t) {\n        i ? i(t) : console.error(t), r.manager.itemError(e), r.manager.itemEnd(e);\n      },\n      a = new Re.FileLoader(this.manager);\n    a.setPath(this.path), a.setResponseType(\"arraybuffer\"), a.setRequestHeader(this.requestHeader), a.setWithCredentials(this.withCredentials), a.load(e, function (n) {\n      try {\n        r.parse(n, o, function (n) {\n          t(n), r.manager.itemEnd(e);\n        }, s);\n      } catch (e) {\n        s(e);\n      }\n    }, n, s);\n  }\n  setDRACOLoader(e) {\n    return this.dracoLoader = e, this;\n  }\n  setKTX2Loader(e) {\n    return this.ktx2Loader = e, this;\n  }\n  setMeshoptDecoder(e) {\n    return this.meshoptDecoder = e, this;\n  }\n  register(e) {\n    return -1 === this.pluginCallbacks.indexOf(e) && this.pluginCallbacks.push(e), this;\n  }\n  unregister(e) {\n    return -1 !== this.pluginCallbacks.indexOf(e) && this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e), 1), this;\n  }\n  parse(e, t, n, i) {\n    let r;\n    const o = {},\n      s = {},\n      a = new TextDecoder();\n    if (\"string\" == typeof e) r = JSON.parse(e);else if (e instanceof ArrayBuffer) {\n      if (a.decode(new Uint8Array(e, 0, 4)) === Et) {\n        try {\n          o[$e.KHR_BINARY_GLTF] = new Ct(e);\n        } catch (e) {\n          return void (i && i(e));\n        }\n        r = JSON.parse(o[$e.KHR_BINARY_GLTF].content);\n      } else r = JSON.parse(a.decode(e));\n    } else r = e;\n    if (void 0 === r.asset || r.asset.version[0] < 2) return void (i && i(new Error(\"THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.\")));\n    const A = new _t(r, {\n      path: t || this.resourcePath || \"\",\n      crossOrigin: this.crossOrigin,\n      requestHeader: this.requestHeader,\n      manager: this.manager,\n      ktx2Loader: this.ktx2Loader,\n      meshoptDecoder: this.meshoptDecoder\n    });\n    A.fileLoader.setRequestHeader(this.requestHeader);\n    for (let e = 0; e < this.pluginCallbacks.length; e++) {\n      const t = this.pluginCallbacks[e](A);\n      t.name || console.error(\"THREE.GLTFLoader: Invalid plugin found: missing name\"), s[t.name] = t, o[t.name] = !0;\n    }\n    if (r.extensionsUsed) for (let e = 0; e < r.extensionsUsed.length; ++e) {\n      const t = r.extensionsUsed[e],\n        n = r.extensionsRequired || [];\n      switch (t) {\n        case $e.KHR_MATERIALS_UNLIT:\n          o[t] = new tt();\n          break;\n        case $e.KHR_DRACO_MESH_COMPRESSION:\n          o[t] = new vt(r, this.dracoLoader);\n          break;\n        case $e.KHR_TEXTURE_TRANSFORM:\n          o[t] = new Bt();\n          break;\n        case $e.KHR_MESH_QUANTIZATION:\n          o[t] = new bt();\n          break;\n        default:\n          n.indexOf(t) >= 0 && void 0 === s[t] && console.warn('THREE.GLTFLoader: Unknown extension \"' + t + '\".');\n      }\n    }\n    A.setExtensions(o), A.setPlugins(s), A.parse(n, i);\n  }\n  parseAsync(e, t) {\n    const n = this;\n    return new Promise(function (i, r) {\n      n.parse(e, t, i, r);\n    });\n  }\n}\nfunction Ze() {\n  let e = {};\n  return {\n    get: function (t) {\n      return e[t];\n    },\n    add: function (t, n) {\n      e[t] = n;\n    },\n    remove: function (t) {\n      delete e[t];\n    },\n    removeAll: function () {\n      e = {};\n    }\n  };\n}\nconst $e = {\n  KHR_BINARY_GLTF: \"KHR_binary_glTF\",\n  KHR_DRACO_MESH_COMPRESSION: \"KHR_draco_mesh_compression\",\n  KHR_LIGHTS_PUNCTUAL: \"KHR_lights_punctual\",\n  KHR_MATERIALS_CLEARCOAT: \"KHR_materials_clearcoat\",\n  KHR_MATERIALS_DISPERSION: \"KHR_materials_dispersion\",\n  KHR_MATERIALS_IOR: \"KHR_materials_ior\",\n  KHR_MATERIALS_SHEEN: \"KHR_materials_sheen\",\n  KHR_MATERIALS_SPECULAR: \"KHR_materials_specular\",\n  KHR_MATERIALS_TRANSMISSION: \"KHR_materials_transmission\",\n  KHR_MATERIALS_IRIDESCENCE: \"KHR_materials_iridescence\",\n  KHR_MATERIALS_ANISOTROPY: \"KHR_materials_anisotropy\",\n  KHR_MATERIALS_UNLIT: \"KHR_materials_unlit\",\n  KHR_MATERIALS_VOLUME: \"KHR_materials_volume\",\n  KHR_TEXTURE_BASISU: \"KHR_texture_basisu\",\n  KHR_TEXTURE_TRANSFORM: \"KHR_texture_transform\",\n  KHR_MESH_QUANTIZATION: \"KHR_mesh_quantization\",\n  KHR_MATERIALS_EMISSIVE_STRENGTH: \"KHR_materials_emissive_strength\",\n  EXT_MATERIALS_BUMP: \"EXT_materials_bump\",\n  EXT_TEXTURE_WEBP: \"EXT_texture_webp\",\n  EXT_TEXTURE_AVIF: \"EXT_texture_avif\",\n  EXT_MESHOPT_COMPRESSION: \"EXT_meshopt_compression\",\n  EXT_MESH_GPU_INSTANCING: \"EXT_mesh_gpu_instancing\"\n};\nclass et {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_LIGHTS_PUNCTUAL, this.cache = {\n      refs: {},\n      uses: {}\n    };\n  }\n  _markDefs() {\n    const e = this.parser,\n      t = this.parser.json.nodes || [];\n    for (let n = 0, i = t.length; n < i; n++) {\n      const i = t[n];\n      i.extensions && i.extensions[this.name] && void 0 !== i.extensions[this.name].light && e._addNodeRef(this.cache, i.extensions[this.name].light);\n    }\n  }\n  _loadLight(e) {\n    const t = this.parser,\n      n = \"light:\" + e;\n    let i = t.cache.get(n);\n    if (i) return i;\n    const r = t.json,\n      o = ((r.extensions && r.extensions[this.name] || {}).lights || [])[e];\n    let s;\n    const a = new Re.Color(16777215);\n    void 0 !== o.color && a.setRGB(o.color[0], o.color[1], o.color[2], Re.LinearSRGBColorSpace);\n    const A = void 0 !== o.range ? o.range : 0;\n    switch (o.type) {\n      case \"directional\":\n        s = new Re.DirectionalLight(a), s.target.position.set(0, 0, -1), s.add(s.target);\n        break;\n      case \"point\":\n        s = new Re.PointLight(a), s.distance = A;\n        break;\n      case \"spot\":\n        s = new Re.SpotLight(a), s.distance = A, o.spot = o.spot || {}, o.spot.innerConeAngle = void 0 !== o.spot.innerConeAngle ? o.spot.innerConeAngle : 0, o.spot.outerConeAngle = void 0 !== o.spot.outerConeAngle ? o.spot.outerConeAngle : Math.PI / 4, s.angle = o.spot.outerConeAngle, s.penumbra = 1 - o.spot.innerConeAngle / o.spot.outerConeAngle, s.target.position.set(0, 0, -1), s.add(s.target);\n        break;\n      default:\n        throw new Error(\"THREE.GLTFLoader: Unexpected light type: \" + o.type);\n    }\n    return s.position.set(0, 0, 0), Ut(s, o), void 0 !== o.intensity && (s.intensity = o.intensity), s.name = t.createUniqueName(o.name || \"light_\" + e), i = Promise.resolve(s), t.cache.add(n, i), i;\n  }\n  getDependency(e, t) {\n    if (\"light\" === e) return this._loadLight(t);\n  }\n  createNodeAttachment(e) {\n    const t = this,\n      n = this.parser,\n      i = n.json.nodes[e],\n      r = (i.extensions && i.extensions[this.name] || {}).light;\n    return void 0 === r ? null : this._loadLight(r).then(function (e) {\n      return n._getNodeRef(t.cache, r, e);\n    });\n  }\n}\nclass tt {\n  constructor() {\n    this.name = $e.KHR_MATERIALS_UNLIT;\n  }\n  getMaterialType() {\n    return Re.MeshBasicMaterial;\n  }\n  extendParams(e, t, n) {\n    const i = [];\n    e.color = new Re.Color(1, 1, 1), e.opacity = 1;\n    const r = t.pbrMetallicRoughness;\n    if (r) {\n      if (Array.isArray(r.baseColorFactor)) {\n        const t = r.baseColorFactor;\n        e.color.setRGB(t[0], t[1], t[2], Re.LinearSRGBColorSpace), e.opacity = t[3];\n      }\n      void 0 !== r.baseColorTexture && i.push(n.assignTexture(e, \"map\", r.baseColorTexture, Re.SRGBColorSpace));\n    }\n    return Promise.all(i);\n  }\n}\nclass nt {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_MATERIALS_EMISSIVE_STRENGTH;\n  }\n  extendMaterialParams(e, t) {\n    const n = this.parser.json.materials[e];\n    if (!n.extensions || !n.extensions[this.name]) return Promise.resolve();\n    const i = n.extensions[this.name].emissiveStrength;\n    return void 0 !== i && (t.emissiveIntensity = i), Promise.resolve();\n  }\n}\nclass it {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_MATERIALS_CLEARCOAT;\n  }\n  getMaterialType(e) {\n    const t = this.parser.json.materials[e];\n    return t.extensions && t.extensions[this.name] ? Re.MeshPhysicalMaterial : null;\n  }\n  extendMaterialParams(e, t) {\n    const n = this.parser,\n      i = n.json.materials[e];\n    if (!i.extensions || !i.extensions[this.name]) return Promise.resolve();\n    const r = [],\n      o = i.extensions[this.name];\n    if (void 0 !== o.clearcoatFactor && (t.clearcoat = o.clearcoatFactor), void 0 !== o.clearcoatTexture && r.push(n.assignTexture(t, \"clearcoatMap\", o.clearcoatTexture)), void 0 !== o.clearcoatRoughnessFactor && (t.clearcoatRoughness = o.clearcoatRoughnessFactor), void 0 !== o.clearcoatRoughnessTexture && r.push(n.assignTexture(t, \"clearcoatRoughnessMap\", o.clearcoatRoughnessTexture)), void 0 !== o.clearcoatNormalTexture && (r.push(n.assignTexture(t, \"clearcoatNormalMap\", o.clearcoatNormalTexture)), void 0 !== o.clearcoatNormalTexture.scale)) {\n      const e = o.clearcoatNormalTexture.scale;\n      t.clearcoatNormalScale = new Re.Vector2(e, e);\n    }\n    return Promise.all(r);\n  }\n}\nclass rt {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_MATERIALS_DISPERSION;\n  }\n  getMaterialType(e) {\n    const t = this.parser.json.materials[e];\n    return t.extensions && t.extensions[this.name] ? Re.MeshPhysicalMaterial : null;\n  }\n  extendMaterialParams(e, t) {\n    const n = this.parser.json.materials[e];\n    if (!n.extensions || !n.extensions[this.name]) return Promise.resolve();\n    const i = n.extensions[this.name];\n    return t.dispersion = void 0 !== i.dispersion ? i.dispersion : 0, Promise.resolve();\n  }\n}\nclass ot {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_MATERIALS_IRIDESCENCE;\n  }\n  getMaterialType(e) {\n    const t = this.parser.json.materials[e];\n    return t.extensions && t.extensions[this.name] ? Re.MeshPhysicalMaterial : null;\n  }\n  extendMaterialParams(e, t) {\n    const n = this.parser,\n      i = n.json.materials[e];\n    if (!i.extensions || !i.extensions[this.name]) return Promise.resolve();\n    const r = [],\n      o = i.extensions[this.name];\n    return void 0 !== o.iridescenceFactor && (t.iridescence = o.iridescenceFactor), void 0 !== o.iridescenceTexture && r.push(n.assignTexture(t, \"iridescenceMap\", o.iridescenceTexture)), void 0 !== o.iridescenceIor && (t.iridescenceIOR = o.iridescenceIor), void 0 === t.iridescenceThicknessRange && (t.iridescenceThicknessRange = [100, 400]), void 0 !== o.iridescenceThicknessMinimum && (t.iridescenceThicknessRange[0] = o.iridescenceThicknessMinimum), void 0 !== o.iridescenceThicknessMaximum && (t.iridescenceThicknessRange[1] = o.iridescenceThicknessMaximum), void 0 !== o.iridescenceThicknessTexture && r.push(n.assignTexture(t, \"iridescenceThicknessMap\", o.iridescenceThicknessTexture)), Promise.all(r);\n  }\n}\nclass st {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_MATERIALS_SHEEN;\n  }\n  getMaterialType(e) {\n    const t = this.parser.json.materials[e];\n    return t.extensions && t.extensions[this.name] ? Re.MeshPhysicalMaterial : null;\n  }\n  extendMaterialParams(e, t) {\n    const n = this.parser,\n      i = n.json.materials[e];\n    if (!i.extensions || !i.extensions[this.name]) return Promise.resolve();\n    const r = [];\n    t.sheenColor = new Re.Color(0, 0, 0), t.sheenRoughness = 0, t.sheen = 1;\n    const o = i.extensions[this.name];\n    if (void 0 !== o.sheenColorFactor) {\n      const e = o.sheenColorFactor;\n      t.sheenColor.setRGB(e[0], e[1], e[2], Re.LinearSRGBColorSpace);\n    }\n    return void 0 !== o.sheenRoughnessFactor && (t.sheenRoughness = o.sheenRoughnessFactor), void 0 !== o.sheenColorTexture && r.push(n.assignTexture(t, \"sheenColorMap\", o.sheenColorTexture, Re.SRGBColorSpace)), void 0 !== o.sheenRoughnessTexture && r.push(n.assignTexture(t, \"sheenRoughnessMap\", o.sheenRoughnessTexture)), Promise.all(r);\n  }\n}\nclass at {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_MATERIALS_TRANSMISSION;\n  }\n  getMaterialType(e) {\n    const t = this.parser.json.materials[e];\n    return t.extensions && t.extensions[this.name] ? Re.MeshPhysicalMaterial : null;\n  }\n  extendMaterialParams(e, t) {\n    const n = this.parser,\n      i = n.json.materials[e];\n    if (!i.extensions || !i.extensions[this.name]) return Promise.resolve();\n    const r = [],\n      o = i.extensions[this.name];\n    return void 0 !== o.transmissionFactor && (t.transmission = o.transmissionFactor), void 0 !== o.transmissionTexture && r.push(n.assignTexture(t, \"transmissionMap\", o.transmissionTexture)), Promise.all(r);\n  }\n}\nclass At {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_MATERIALS_VOLUME;\n  }\n  getMaterialType(e) {\n    const t = this.parser.json.materials[e];\n    return t.extensions && t.extensions[this.name] ? Re.MeshPhysicalMaterial : null;\n  }\n  extendMaterialParams(e, t) {\n    const n = this.parser,\n      i = n.json.materials[e];\n    if (!i.extensions || !i.extensions[this.name]) return Promise.resolve();\n    const r = [],\n      o = i.extensions[this.name];\n    t.thickness = void 0 !== o.thicknessFactor ? o.thicknessFactor : 0, void 0 !== o.thicknessTexture && r.push(n.assignTexture(t, \"thicknessMap\", o.thicknessTexture)), t.attenuationDistance = o.attenuationDistance || 1 / 0;\n    const s = o.attenuationColor || [1, 1, 1];\n    return t.attenuationColor = new Re.Color().setRGB(s[0], s[1], s[2], Re.LinearSRGBColorSpace), Promise.all(r);\n  }\n}\nclass lt {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_MATERIALS_IOR;\n  }\n  getMaterialType(e) {\n    const t = this.parser.json.materials[e];\n    return t.extensions && t.extensions[this.name] ? Re.MeshPhysicalMaterial : null;\n  }\n  extendMaterialParams(e, t) {\n    const n = this.parser.json.materials[e];\n    if (!n.extensions || !n.extensions[this.name]) return Promise.resolve();\n    const i = n.extensions[this.name];\n    return t.ior = void 0 !== i.ior ? i.ior : 1.5, Promise.resolve();\n  }\n}\nclass ct {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_MATERIALS_SPECULAR;\n  }\n  getMaterialType(e) {\n    const t = this.parser.json.materials[e];\n    return t.extensions && t.extensions[this.name] ? Re.MeshPhysicalMaterial : null;\n  }\n  extendMaterialParams(e, t) {\n    const n = this.parser,\n      i = n.json.materials[e];\n    if (!i.extensions || !i.extensions[this.name]) return Promise.resolve();\n    const r = [],\n      o = i.extensions[this.name];\n    t.specularIntensity = void 0 !== o.specularFactor ? o.specularFactor : 1, void 0 !== o.specularTexture && r.push(n.assignTexture(t, \"specularIntensityMap\", o.specularTexture));\n    const s = o.specularColorFactor || [1, 1, 1];\n    return t.specularColor = new Re.Color().setRGB(s[0], s[1], s[2], Re.LinearSRGBColorSpace), void 0 !== o.specularColorTexture && r.push(n.assignTexture(t, \"specularColorMap\", o.specularColorTexture, Re.SRGBColorSpace)), Promise.all(r);\n  }\n}\nclass ht {\n  constructor(e) {\n    this.parser = e, this.name = $e.EXT_MATERIALS_BUMP;\n  }\n  getMaterialType(e) {\n    const t = this.parser.json.materials[e];\n    return t.extensions && t.extensions[this.name] ? Re.MeshPhysicalMaterial : null;\n  }\n  extendMaterialParams(e, t) {\n    const n = this.parser,\n      i = n.json.materials[e];\n    if (!i.extensions || !i.extensions[this.name]) return Promise.resolve();\n    const r = [],\n      o = i.extensions[this.name];\n    return t.bumpScale = void 0 !== o.bumpFactor ? o.bumpFactor : 1, void 0 !== o.bumpTexture && r.push(n.assignTexture(t, \"bumpMap\", o.bumpTexture)), Promise.all(r);\n  }\n}\nclass dt {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_MATERIALS_ANISOTROPY;\n  }\n  getMaterialType(e) {\n    const t = this.parser.json.materials[e];\n    return t.extensions && t.extensions[this.name] ? Re.MeshPhysicalMaterial : null;\n  }\n  extendMaterialParams(e, t) {\n    const n = this.parser,\n      i = n.json.materials[e];\n    if (!i.extensions || !i.extensions[this.name]) return Promise.resolve();\n    const r = [],\n      o = i.extensions[this.name];\n    return void 0 !== o.anisotropyStrength && (t.anisotropy = o.anisotropyStrength), void 0 !== o.anisotropyRotation && (t.anisotropyRotation = o.anisotropyRotation), void 0 !== o.anisotropyTexture && r.push(n.assignTexture(t, \"anisotropyMap\", o.anisotropyTexture)), Promise.all(r);\n  }\n}\nclass ut {\n  constructor(e) {\n    this.parser = e, this.name = $e.KHR_TEXTURE_BASISU;\n  }\n  loadTexture(e) {\n    const t = this.parser,\n      n = t.json,\n      i = n.textures[e];\n    if (!i.extensions || !i.extensions[this.name]) return null;\n    const r = i.extensions[this.name],\n      o = t.options.ktx2Loader;\n    if (!o) {\n      if (n.extensionsRequired && n.extensionsRequired.indexOf(this.name) >= 0) throw new Error(\"THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures\");\n      return null;\n    }\n    return t.loadTextureImage(e, r.source, o);\n  }\n}\nclass gt {\n  constructor(e) {\n    this.parser = e, this.name = $e.EXT_TEXTURE_WEBP, this.isSupported = null;\n  }\n  loadTexture(e) {\n    const t = this.name,\n      n = this.parser,\n      i = n.json,\n      r = i.textures[e];\n    if (!r.extensions || !r.extensions[t]) return null;\n    const o = r.extensions[t],\n      s = i.images[o.source];\n    let a = n.textureLoader;\n    if (s.uri) {\n      const e = n.options.manager.getHandler(s.uri);\n      null !== e && (a = e);\n    }\n    return this.detectSupport().then(function (r) {\n      if (r) return n.loadTextureImage(e, o.source, a);\n      if (i.extensionsRequired && i.extensionsRequired.indexOf(t) >= 0) throw new Error(\"THREE.GLTFLoader: WebP required by asset but unsupported.\");\n      return n.loadTexture(e);\n    });\n  }\n  detectSupport() {\n    return this.isSupported || (this.isSupported = new Promise(function (e) {\n      const t = new Image();\n      t.src = \"data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA\", t.onload = t.onerror = function () {\n        e(1 === t.height);\n      };\n    })), this.isSupported;\n  }\n}\nclass pt {\n  constructor(e) {\n    this.parser = e, this.name = $e.EXT_TEXTURE_AVIF, this.isSupported = null;\n  }\n  loadTexture(e) {\n    const t = this.name,\n      n = this.parser,\n      i = n.json,\n      r = i.textures[e];\n    if (!r.extensions || !r.extensions[t]) return null;\n    const o = r.extensions[t],\n      s = i.images[o.source];\n    let a = n.textureLoader;\n    if (s.uri) {\n      const e = n.options.manager.getHandler(s.uri);\n      null !== e && (a = e);\n    }\n    return this.detectSupport().then(function (r) {\n      if (r) return n.loadTextureImage(e, o.source, a);\n      if (i.extensionsRequired && i.extensionsRequired.indexOf(t) >= 0) throw new Error(\"THREE.GLTFLoader: AVIF required by asset but unsupported.\");\n      return n.loadTexture(e);\n    });\n  }\n  detectSupport() {\n    return this.isSupported || (this.isSupported = new Promise(function (e) {\n      const t = new Image();\n      t.src = \"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=\", t.onload = t.onerror = function () {\n        e(1 === t.height);\n      };\n    })), this.isSupported;\n  }\n}\nclass ft {\n  constructor(e) {\n    this.name = $e.EXT_MESHOPT_COMPRESSION, this.parser = e;\n  }\n  loadBufferView(e) {\n    const t = this.parser.json,\n      n = t.bufferViews[e];\n    if (n.extensions && n.extensions[this.name]) {\n      const e = n.extensions[this.name],\n        i = this.parser.getDependency(\"buffer\", e.buffer),\n        r = this.parser.options.meshoptDecoder;\n      if (!r || !r.supported) {\n        if (t.extensionsRequired && t.extensionsRequired.indexOf(this.name) >= 0) throw new Error(\"THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files\");\n        return null;\n      }\n      return i.then(function (t) {\n        const n = e.byteOffset || 0,\n          i = e.byteLength || 0,\n          o = e.count,\n          s = e.byteStride,\n          a = new Uint8Array(t, n, i);\n        return r.decodeGltfBufferAsync ? r.decodeGltfBufferAsync(o, s, a, e.mode, e.filter).then(function (e) {\n          return e.buffer;\n        }) : r.ready.then(function () {\n          const t = new ArrayBuffer(o * s);\n          return r.decodeGltfBuffer(new Uint8Array(t), o, s, a, e.mode, e.filter), t;\n        });\n      });\n    }\n    return null;\n  }\n}\nclass mt {\n  constructor(e) {\n    this.name = $e.EXT_MESH_GPU_INSTANCING, this.parser = e;\n  }\n  createNodeMesh(e) {\n    const t = this.parser.json,\n      n = t.nodes[e];\n    if (!n.extensions || !n.extensions[this.name] || void 0 === n.mesh) return null;\n    const i = t.meshes[n.mesh];\n    for (const e of i.primitives) if (e.mode !== xt.TRIANGLES && e.mode !== xt.TRIANGLE_STRIP && e.mode !== xt.TRIANGLE_FAN && void 0 !== e.mode) return null;\n    const r = n.extensions[this.name].attributes,\n      o = [],\n      s = {};\n    for (const e in r) o.push(this.parser.getDependency(\"accessor\", r[e]).then(t => (s[e] = t, s[e])));\n    return o.length < 1 ? null : (o.push(this.parser.createNodeMesh(e)), Promise.all(o).then(e => {\n      const t = e.pop(),\n        n = t.isGroup ? t.children : [t],\n        i = e[0].count,\n        r = [];\n      for (const e of n) {\n        const t = new Re.Matrix4(),\n          n = new Re.Vector3(),\n          o = new Re.Quaternion(),\n          a = new Re.Vector3(1, 1, 1),\n          A = new Re.InstancedMesh(e.geometry, e.material, i);\n        for (let e = 0; e < i; e++) s.TRANSLATION && n.fromBufferAttribute(s.TRANSLATION, e), s.ROTATION && o.fromBufferAttribute(s.ROTATION, e), s.SCALE && a.fromBufferAttribute(s.SCALE, e), A.setMatrixAt(e, t.compose(n, o, a));\n        for (const t in s) if (\"_COLOR_0\" === t) {\n          const e = s[t];\n          A.instanceColor = new Re.InstancedBufferAttribute(e.array, e.itemSize, e.normalized);\n        } else \"TRANSLATION\" !== t && \"ROTATION\" !== t && \"SCALE\" !== t && e.geometry.setAttribute(t, s[t]);\n        Re.Object3D.prototype.copy.call(A, e), this.parser.assignFinalMaterial(A), r.push(A);\n      }\n      return t.isGroup ? (t.clear(), t.add(...r), t) : r[0];\n    }));\n  }\n}\nconst Et = \"glTF\";\nclass Ct {\n  constructor(e) {\n    this.name = $e.KHR_BINARY_GLTF, this.content = null, this.body = null;\n    const t = new DataView(e, 0, 12),\n      n = new TextDecoder();\n    if (this.header = {\n      magic: n.decode(new Uint8Array(e.slice(0, 4))),\n      version: t.getUint32(4, !0),\n      length: t.getUint32(8, !0)\n    }, this.header.magic !== Et) throw new Error(\"THREE.GLTFLoader: Unsupported glTF-Binary header.\");\n    if (this.header.version < 2) throw new Error(\"THREE.GLTFLoader: Legacy binary file detected.\");\n    const i = this.header.length - 12,\n      r = new DataView(e, 12);\n    let o = 0;\n    for (; o < i;) {\n      const t = r.getUint32(o, !0);\n      o += 4;\n      const i = r.getUint32(o, !0);\n      if (o += 4, 1313821514 === i) {\n        const i = new Uint8Array(e, 12 + o, t);\n        this.content = n.decode(i);\n      } else if (5130562 === i) {\n        const n = 12 + o;\n        this.body = e.slice(n, n + t);\n      }\n      o += t;\n    }\n    if (null === this.content) throw new Error(\"THREE.GLTFLoader: JSON content not found.\");\n  }\n}\nclass vt {\n  constructor(e, t) {\n    if (!t) throw new Error(\"THREE.GLTFLoader: No DRACOLoader instance provided.\");\n    this.name = $e.KHR_DRACO_MESH_COMPRESSION, this.json = e, this.dracoLoader = t, this.dracoLoader.preload();\n  }\n  decodePrimitive(e, t) {\n    const n = this.json,\n      i = this.dracoLoader,\n      r = e.extensions[this.name].bufferView,\n      o = e.extensions[this.name].attributes,\n      s = {},\n      a = {},\n      A = {};\n    for (const e in o) {\n      const t = Dt[e] || e.toLowerCase();\n      s[t] = o[e];\n    }\n    for (const t in e.attributes) {\n      const i = Dt[t] || t.toLowerCase();\n      if (void 0 !== o[t]) {\n        const r = n.accessors[e.attributes[t]],\n          o = Qt[r.componentType];\n        A[i] = o.name, a[i] = !0 === r.normalized;\n      }\n    }\n    return t.getDependency(\"bufferView\", r).then(function (e) {\n      return new Promise(function (t, n) {\n        i.decodeDracoFile(e, function (e) {\n          for (const t in e.attributes) {\n            const n = e.attributes[t],\n              i = a[t];\n            void 0 !== i && (n.normalized = i);\n          }\n          t(e);\n        }, s, A, Re.LinearSRGBColorSpace, n);\n      });\n    });\n  }\n}\nclass Bt {\n  constructor() {\n    this.name = $e.KHR_TEXTURE_TRANSFORM;\n  }\n  extendTexture(e, t) {\n    return void 0 !== t.texCoord && t.texCoord !== e.channel || void 0 !== t.offset || void 0 !== t.rotation || void 0 !== t.scale ? (e = e.clone(), void 0 !== t.texCoord && (e.channel = t.texCoord), void 0 !== t.offset && e.offset.fromArray(t.offset), void 0 !== t.rotation && (e.rotation = t.rotation), void 0 !== t.scale && e.repeat.fromArray(t.scale), e.needsUpdate = !0, e) : e;\n  }\n}\nclass bt {\n  constructor() {\n    this.name = $e.KHR_MESH_QUANTIZATION;\n  }\n}\nclass yt extends Re.Interpolant {\n  constructor(e, t, n, i) {\n    super(e, t, n, i);\n  }\n  copySampleValue_(e) {\n    const t = this.resultBuffer,\n      n = this.sampleValues,\n      i = this.valueSize,\n      r = e * i * 3 + i;\n    for (let e = 0; e !== i; e++) t[e] = n[r + e];\n    return t;\n  }\n  interpolate_(e, t, n, i) {\n    const r = this.resultBuffer,\n      o = this.sampleValues,\n      s = this.valueSize,\n      a = 2 * s,\n      A = 3 * s,\n      l = i - t,\n      c = (n - t) / l,\n      h = c * c,\n      d = h * c,\n      u = e * A,\n      g = u - A,\n      p = -2 * d + 3 * h,\n      f = d - h,\n      m = 1 - p,\n      E = f - h + c;\n    for (let e = 0; e !== s; e++) {\n      const t = o[g + e + s],\n        n = o[g + e + a] * l,\n        i = o[u + e + s],\n        A = o[u + e] * l;\n      r[e] = m * t + E * n + p * i + f * A;\n    }\n    return r;\n  }\n}\nconst It = new Re.Quaternion();\nclass wt extends yt {\n  interpolate_(e, t, n, i) {\n    const r = super.interpolate_(e, t, n, i);\n    return It.fromArray(r).normalize().toArray(r), r;\n  }\n}\nconst xt = {\n    FLOAT: 5126,\n    FLOAT_MAT3: 35675,\n    FLOAT_MAT4: 35676,\n    FLOAT_VEC2: 35664,\n    FLOAT_VEC3: 35665,\n    FLOAT_VEC4: 35666,\n    LINEAR: 9729,\n    REPEAT: 10497,\n    SAMPLER_2D: 35678,\n    POINTS: 0,\n    LINES: 1,\n    LINE_LOOP: 2,\n    LINE_STRIP: 3,\n    TRIANGLES: 4,\n    TRIANGLE_STRIP: 5,\n    TRIANGLE_FAN: 6,\n    UNSIGNED_BYTE: 5121,\n    UNSIGNED_SHORT: 5123\n  },\n  Qt = {\n    5120: Int8Array,\n    5121: Uint8Array,\n    5122: Int16Array,\n    5123: Uint16Array,\n    5125: Uint32Array,\n    5126: Float32Array\n  },\n  Lt = {\n    9728: Re.NearestFilter,\n    9729: Re.LinearFilter,\n    9984: Re.NearestMipmapNearestFilter,\n    9985: Re.LinearMipmapNearestFilter,\n    9986: Re.NearestMipmapLinearFilter,\n    9987: Re.LinearMipmapLinearFilter\n  },\n  Mt = {\n    33071: Re.ClampToEdgeWrapping,\n    33648: Re.MirroredRepeatWrapping,\n    10497: Re.RepeatWrapping\n  },\n  St = {\n    SCALAR: 1,\n    VEC2: 2,\n    VEC3: 3,\n    VEC4: 4,\n    MAT2: 4,\n    MAT3: 9,\n    MAT4: 16\n  },\n  Dt = {\n    POSITION: \"position\",\n    NORMAL: \"normal\",\n    TANGENT: \"tangent\",\n    TEXCOORD_0: \"uv\",\n    TEXCOORD_1: \"uv1\",\n    TEXCOORD_2: \"uv2\",\n    TEXCOORD_3: \"uv3\",\n    COLOR_0: \"color\",\n    WEIGHTS_0: \"skinWeight\",\n    JOINTS_0: \"skinIndex\"\n  },\n  kt = {\n    scale: \"scale\",\n    translation: \"position\",\n    rotation: \"quaternion\",\n    weights: \"morphTargetInfluences\"\n  },\n  Tt = {\n    CUBICSPLINE: void 0,\n    LINEAR: Re.InterpolateLinear,\n    STEP: Re.InterpolateDiscrete\n  };\nfunction Rt(e) {\n  return void 0 === e.DefaultMaterial && (e.DefaultMaterial = new Re.MeshStandardMaterial({\n    color: 16777215,\n    emissive: 0,\n    metalness: 1,\n    roughness: 1,\n    transparent: !1,\n    depthTest: !0,\n    side: Re.FrontSide\n  })), e.DefaultMaterial;\n}\nfunction Ft(e, t, n) {\n  for (const i in n.extensions) void 0 === e[i] && (t.userData.gltfExtensions = t.userData.gltfExtensions || {}, t.userData.gltfExtensions[i] = n.extensions[i]);\n}\nfunction Ut(e, t) {\n  void 0 !== t.extras && (\"object\" == typeof t.extras ? Object.assign(e.userData, t.extras) : console.warn(\"THREE.GLTFLoader: Ignoring primitive type .extras, \" + t.extras));\n}\nfunction Ot(e, t) {\n  if (e.updateMorphTargets(), void 0 !== t.weights) for (let n = 0, i = t.weights.length; n < i; n++) e.morphTargetInfluences[n] = t.weights[n];\n  if (t.extras && Array.isArray(t.extras.targetNames)) {\n    const n = t.extras.targetNames;\n    if (e.morphTargetInfluences.length === n.length) {\n      e.morphTargetDictionary = {};\n      for (let t = 0, i = n.length; t < i; t++) e.morphTargetDictionary[n[t]] = t;\n    } else console.warn(\"THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.\");\n  }\n}\nfunction Pt(e) {\n  let t;\n  const n = e.extensions && e.extensions[$e.KHR_DRACO_MESH_COMPRESSION];\n  if (t = n ? \"draco:\" + n.bufferView + \":\" + n.indices + \":\" + Gt(n.attributes) : e.indices + \":\" + Gt(e.attributes) + \":\" + e.mode, void 0 !== e.targets) for (let n = 0, i = e.targets.length; n < i; n++) t += \":\" + Gt(e.targets[n]);\n  return t;\n}\nfunction Gt(e) {\n  let t = \"\";\n  const n = Object.keys(e).sort();\n  for (let i = 0, r = n.length; i < r; i++) t += n[i] + \":\" + e[n[i]] + \";\";\n  return t;\n}\nfunction Nt(e) {\n  switch (e) {\n    case Int8Array:\n      return 1 / 127;\n    case Uint8Array:\n      return 1 / 255;\n    case Int16Array:\n      return 1 / 32767;\n    case Uint16Array:\n      return 1 / 65535;\n    default:\n      throw new Error(\"THREE.GLTFLoader: Unsupported normalized accessor component type.\");\n  }\n}\nconst jt = new Re.Matrix4();\nclass _t {\n  constructor(e = {}, t = {}) {\n    this.json = e, this.extensions = {}, this.plugins = {}, this.options = t, this.cache = new Ze(), this.associations = new Map(), this.primitiveCache = {}, this.nodeCache = {}, this.meshCache = {\n      refs: {},\n      uses: {}\n    }, this.cameraCache = {\n      refs: {},\n      uses: {}\n    }, this.lightCache = {\n      refs: {},\n      uses: {}\n    }, this.sourceCache = {}, this.textureCache = {}, this.nodeNamesUsed = {};\n    let n = !1,\n      i = -1,\n      r = !1,\n      o = -1;\n    if (\"undefined\" != typeof navigator) {\n      const e = navigator.userAgent;\n      n = !0 === /^((?!chrome|android).)*safari/i.test(e);\n      const t = e.match(/Version\\/(\\d+)/);\n      i = n && t ? parseInt(t[1], 10) : -1, r = e.indexOf(\"Firefox\") > -1, o = r ? e.match(/Firefox\\/([0-9]+)\\./)[1] : -1;\n    }\n    \"undefined\" == typeof createImageBitmap || n && i < 17 || r && o < 98 ? this.textureLoader = new Re.TextureLoader(this.options.manager) : this.textureLoader = new Re.ImageBitmapLoader(this.options.manager), this.textureLoader.setCrossOrigin(this.options.crossOrigin), this.textureLoader.setRequestHeader(this.options.requestHeader), this.fileLoader = new Re.FileLoader(this.options.manager), this.fileLoader.setResponseType(\"arraybuffer\"), \"use-credentials\" === this.options.crossOrigin && this.fileLoader.setWithCredentials(!0);\n  }\n  setExtensions(e) {\n    this.extensions = e;\n  }\n  setPlugins(e) {\n    this.plugins = e;\n  }\n  parse(e, t) {\n    const n = this,\n      i = this.json,\n      r = this.extensions;\n    this.cache.removeAll(), this.nodeCache = {}, this._invokeAll(function (e) {\n      return e._markDefs && e._markDefs();\n    }), Promise.all(this._invokeAll(function (e) {\n      return e.beforeRoot && e.beforeRoot();\n    })).then(function () {\n      return Promise.all([n.getDependencies(\"scene\"), n.getDependencies(\"animation\"), n.getDependencies(\"camera\")]);\n    }).then(function (t) {\n      const o = {\n        scene: t[0][i.scene || 0],\n        scenes: t[0],\n        animations: t[1],\n        cameras: t[2],\n        asset: i.asset,\n        parser: n,\n        userData: {}\n      };\n      return Ft(r, o, i), Ut(o, i), Promise.all(n._invokeAll(function (e) {\n        return e.afterRoot && e.afterRoot(o);\n      })).then(function () {\n        for (const e of o.scenes) e.updateMatrixWorld();\n        e(o);\n      });\n    }).catch(t);\n  }\n  _markDefs() {\n    const e = this.json.nodes || [],\n      t = this.json.skins || [],\n      n = this.json.meshes || [];\n    for (let n = 0, i = t.length; n < i; n++) {\n      const i = t[n].joints;\n      for (let t = 0, n = i.length; t < n; t++) e[i[t]].isBone = !0;\n    }\n    for (let t = 0, i = e.length; t < i; t++) {\n      const i = e[t];\n      void 0 !== i.mesh && (this._addNodeRef(this.meshCache, i.mesh), void 0 !== i.skin && (n[i.mesh].isSkinnedMesh = !0)), void 0 !== i.camera && this._addNodeRef(this.cameraCache, i.camera);\n    }\n  }\n  _addNodeRef(e, t) {\n    void 0 !== t && (void 0 === e.refs[t] && (e.refs[t] = e.uses[t] = 0), e.refs[t]++);\n  }\n  _getNodeRef(e, t, n) {\n    if (e.refs[t] <= 1) return n;\n    const i = n.clone(),\n      r = (e, t) => {\n        const n = this.associations.get(e);\n        null != n && this.associations.set(t, n);\n        for (const [n, i] of e.children.entries()) r(i, t.children[n]);\n      };\n    return r(n, i), i.name += \"_instance_\" + e.uses[t]++, i;\n  }\n  _invokeOne(e) {\n    const t = Object.values(this.plugins);\n    t.push(this);\n    for (let n = 0; n < t.length; n++) {\n      const i = e(t[n]);\n      if (i) return i;\n    }\n    return null;\n  }\n  _invokeAll(e) {\n    const t = Object.values(this.plugins);\n    t.unshift(this);\n    const n = [];\n    for (let i = 0; i < t.length; i++) {\n      const r = e(t[i]);\n      r && n.push(r);\n    }\n    return n;\n  }\n  getDependency(e, t) {\n    const n = e + \":\" + t;\n    let i = this.cache.get(n);\n    if (!i) {\n      switch (e) {\n        case \"scene\":\n          i = this.loadScene(t);\n          break;\n        case \"node\":\n          i = this._invokeOne(function (e) {\n            return e.loadNode && e.loadNode(t);\n          });\n          break;\n        case \"mesh\":\n          i = this._invokeOne(function (e) {\n            return e.loadMesh && e.loadMesh(t);\n          });\n          break;\n        case \"accessor\":\n          i = this.loadAccessor(t);\n          break;\n        case \"bufferView\":\n          i = this._invokeOne(function (e) {\n            return e.loadBufferView && e.loadBufferView(t);\n          });\n          break;\n        case \"buffer\":\n          i = this.loadBuffer(t);\n          break;\n        case \"material\":\n          i = this._invokeOne(function (e) {\n            return e.loadMaterial && e.loadMaterial(t);\n          });\n          break;\n        case \"texture\":\n          i = this._invokeOne(function (e) {\n            return e.loadTexture && e.loadTexture(t);\n          });\n          break;\n        case \"skin\":\n          i = this.loadSkin(t);\n          break;\n        case \"animation\":\n          i = this._invokeOne(function (e) {\n            return e.loadAnimation && e.loadAnimation(t);\n          });\n          break;\n        case \"camera\":\n          i = this.loadCamera(t);\n          break;\n        default:\n          if (i = this._invokeOne(function (n) {\n            return n != this && n.getDependency && n.getDependency(e, t);\n          }), !i) throw new Error(\"Unknown type: \" + e);\n      }\n      this.cache.add(n, i);\n    }\n    return i;\n  }\n  getDependencies(e) {\n    let t = this.cache.get(e);\n    if (!t) {\n      const n = this,\n        i = this.json[e + (\"mesh\" === e ? \"es\" : \"s\")] || [];\n      t = Promise.all(i.map(function (t, i) {\n        return n.getDependency(e, i);\n      })), this.cache.add(e, t);\n    }\n    return t;\n  }\n  loadBuffer(e) {\n    const t = this.json.buffers[e],\n      n = this.fileLoader;\n    if (t.type && \"arraybuffer\" !== t.type) throw new Error(\"THREE.GLTFLoader: \" + t.type + \" buffer type is not supported.\");\n    if (void 0 === t.uri && 0 === e) return Promise.resolve(this.extensions[$e.KHR_BINARY_GLTF].body);\n    const i = this.options;\n    return new Promise(function (e, r) {\n      n.load(Re.LoaderUtils.resolveURL(t.uri, i.path), e, void 0, function () {\n        r(new Error('THREE.GLTFLoader: Failed to load buffer \"' + t.uri + '\".'));\n      });\n    });\n  }\n  loadBufferView(e) {\n    const t = this.json.bufferViews[e];\n    return this.getDependency(\"buffer\", t.buffer).then(function (e) {\n      const n = t.byteLength || 0,\n        i = t.byteOffset || 0;\n      return e.slice(i, i + n);\n    });\n  }\n  loadAccessor(e) {\n    const t = this,\n      n = this.json,\n      i = this.json.accessors[e];\n    if (void 0 === i.bufferView && void 0 === i.sparse) {\n      const e = St[i.type],\n        t = Qt[i.componentType],\n        n = !0 === i.normalized,\n        r = new t(i.count * e);\n      return Promise.resolve(new Re.BufferAttribute(r, e, n));\n    }\n    const r = [];\n    return void 0 !== i.bufferView ? r.push(this.getDependency(\"bufferView\", i.bufferView)) : r.push(null), void 0 !== i.sparse && (r.push(this.getDependency(\"bufferView\", i.sparse.indices.bufferView)), r.push(this.getDependency(\"bufferView\", i.sparse.values.bufferView))), Promise.all(r).then(function (e) {\n      const r = e[0],\n        o = St[i.type],\n        s = Qt[i.componentType],\n        a = s.BYTES_PER_ELEMENT,\n        A = a * o,\n        l = i.byteOffset || 0,\n        c = void 0 !== i.bufferView ? n.bufferViews[i.bufferView].byteStride : void 0,\n        h = !0 === i.normalized;\n      let d, u;\n      if (c && c !== A) {\n        const e = Math.floor(l / c),\n          n = \"InterleavedBuffer:\" + i.bufferView + \":\" + i.componentType + \":\" + e + \":\" + i.count;\n        let A = t.cache.get(n);\n        A || (d = new s(r, e * c, i.count * c / a), A = new Re.InterleavedBuffer(d, c / a), t.cache.add(n, A)), u = new Re.InterleavedBufferAttribute(A, o, l % c / a, h);\n      } else d = null === r ? new s(i.count * o) : new s(r, l, i.count * o), u = new Re.BufferAttribute(d, o, h);\n      if (void 0 !== i.sparse) {\n        const t = St.SCALAR,\n          n = Qt[i.sparse.indices.componentType],\n          a = i.sparse.indices.byteOffset || 0,\n          A = i.sparse.values.byteOffset || 0,\n          l = new n(e[1], a, i.sparse.count * t),\n          c = new s(e[2], A, i.sparse.count * o);\n        null !== r && (u = new Re.BufferAttribute(u.array.slice(), u.itemSize, u.normalized)), u.normalized = !1;\n        for (let e = 0, t = l.length; e < t; e++) {\n          const t = l[e];\n          if (u.setX(t, c[e * o]), o >= 2 && u.setY(t, c[e * o + 1]), o >= 3 && u.setZ(t, c[e * o + 2]), o >= 4 && u.setW(t, c[e * o + 3]), o >= 5) throw new Error(\"THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.\");\n        }\n        u.normalized = h;\n      }\n      return u;\n    });\n  }\n  loadTexture(e) {\n    const t = this.json,\n      n = this.options,\n      i = t.textures[e].source,\n      r = t.images[i];\n    let o = this.textureLoader;\n    if (r.uri) {\n      const e = n.manager.getHandler(r.uri);\n      null !== e && (o = e);\n    }\n    return this.loadTextureImage(e, i, o);\n  }\n  loadTextureImage(e, t, n) {\n    const i = this,\n      r = this.json,\n      o = r.textures[e],\n      s = r.images[t],\n      a = (s.uri || s.bufferView) + \":\" + o.sampler;\n    if (this.textureCache[a]) return this.textureCache[a];\n    const A = this.loadImageSource(t, n).then(function (t) {\n      t.flipY = !1, t.name = o.name || s.name || \"\", \"\" === t.name && \"string\" == typeof s.uri && !1 === s.uri.startsWith(\"data:image/\") && (t.name = s.uri);\n      const n = (r.samplers || {})[o.sampler] || {};\n      return t.magFilter = Lt[n.magFilter] || Re.LinearFilter, t.minFilter = Lt[n.minFilter] || Re.LinearMipmapLinearFilter, t.wrapS = Mt[n.wrapS] || Re.RepeatWrapping, t.wrapT = Mt[n.wrapT] || Re.RepeatWrapping, t.generateMipmaps = !t.isCompressedTexture && t.minFilter !== Re.NearestFilter && t.minFilter !== Re.LinearFilter, i.associations.set(t, {\n        textures: e\n      }), t;\n    }).catch(function () {\n      return null;\n    });\n    return this.textureCache[a] = A, A;\n  }\n  loadImageSource(e, t) {\n    const n = this.json,\n      i = this.options;\n    if (void 0 !== this.sourceCache[e]) return this.sourceCache[e].then(e => e.clone());\n    const r = n.images[e],\n      o = self.URL || self.webkitURL;\n    let s = r.uri || \"\",\n      a = !1;\n    if (void 0 !== r.bufferView) s = this.getDependency(\"bufferView\", r.bufferView).then(function (e) {\n      a = !0;\n      const t = new Blob([e], {\n        type: r.mimeType\n      });\n      return s = o.createObjectURL(t), s;\n    });else if (void 0 === r.uri) throw new Error(\"THREE.GLTFLoader: Image \" + e + \" is missing URI and bufferView\");\n    const A = Promise.resolve(s).then(function (e) {\n      return new Promise(function (n, r) {\n        let o = n;\n        !0 === t.isImageBitmapLoader && (o = function (e) {\n          const t = new Re.Texture(e);\n          t.needsUpdate = !0, n(t);\n        }), t.load(Re.LoaderUtils.resolveURL(e, i.path), o, void 0, r);\n      });\n    }).then(function (e) {\n      var t;\n      return !0 === a && o.revokeObjectURL(s), Ut(e, r), e.userData.mimeType = r.mimeType || ((t = r.uri).search(/\\.jpe?g($|\\?)/i) > 0 || 0 === t.search(/^data\\:image\\/jpeg/) ? \"image/jpeg\" : t.search(/\\.webp($|\\?)/i) > 0 || 0 === t.search(/^data\\:image\\/webp/) ? \"image/webp\" : t.search(/\\.ktx2($|\\?)/i) > 0 || 0 === t.search(/^data\\:image\\/ktx2/) ? \"image/ktx2\" : \"image/png\"), e;\n    }).catch(function (e) {\n      throw console.error(\"THREE.GLTFLoader: Couldn't load texture\", s), e;\n    });\n    return this.sourceCache[e] = A, A;\n  }\n  assignTexture(e, t, n, i) {\n    const r = this;\n    return this.getDependency(\"texture\", n.index).then(function (o) {\n      if (!o) return null;\n      if (void 0 !== n.texCoord && n.texCoord > 0 && ((o = o.clone()).channel = n.texCoord), r.extensions[$e.KHR_TEXTURE_TRANSFORM]) {\n        const e = void 0 !== n.extensions ? n.extensions[$e.KHR_TEXTURE_TRANSFORM] : void 0;\n        if (e) {\n          const t = r.associations.get(o);\n          o = r.extensions[$e.KHR_TEXTURE_TRANSFORM].extendTexture(o, e), r.associations.set(o, t);\n        }\n      }\n      return void 0 !== i && (o.colorSpace = i), e[t] = o, o;\n    });\n  }\n  assignFinalMaterial(e) {\n    const t = e.geometry;\n    let n = e.material;\n    const i = void 0 === t.attributes.tangent,\n      r = void 0 !== t.attributes.color,\n      o = void 0 === t.attributes.normal;\n    if (e.isPoints) {\n      const e = \"PointsMaterial:\" + n.uuid;\n      let t = this.cache.get(e);\n      t || (t = new Re.PointsMaterial(), Re.Material.prototype.copy.call(t, n), t.color.copy(n.color), t.map = n.map, t.sizeAttenuation = !1, this.cache.add(e, t)), n = t;\n    } else if (e.isLine) {\n      const e = \"LineBasicMaterial:\" + n.uuid;\n      let t = this.cache.get(e);\n      t || (t = new Re.LineBasicMaterial(), Re.Material.prototype.copy.call(t, n), t.color.copy(n.color), t.map = n.map, this.cache.add(e, t)), n = t;\n    }\n    if (i || r || o) {\n      let e = \"ClonedMaterial:\" + n.uuid + \":\";\n      i && (e += \"derivative-tangents:\"), r && (e += \"vertex-colors:\"), o && (e += \"flat-shading:\");\n      let t = this.cache.get(e);\n      t || (t = n.clone(), r && (t.vertexColors = !0), o && (t.flatShading = !0), i && (t.normalScale && (t.normalScale.y *= -1), t.clearcoatNormalScale && (t.clearcoatNormalScale.y *= -1)), this.cache.add(e, t), this.associations.set(t, this.associations.get(n))), n = t;\n    }\n    e.material = n;\n  }\n  getMaterialType() {\n    return Re.MeshStandardMaterial;\n  }\n  loadMaterial(e) {\n    const t = this,\n      n = this.json,\n      i = this.extensions,\n      r = n.materials[e];\n    let o;\n    const s = {},\n      a = [];\n    if ((r.extensions || {})[$e.KHR_MATERIALS_UNLIT]) {\n      const e = i[$e.KHR_MATERIALS_UNLIT];\n      o = e.getMaterialType(), a.push(e.extendParams(s, r, t));\n    } else {\n      const n = r.pbrMetallicRoughness || {};\n      if (s.color = new Re.Color(1, 1, 1), s.opacity = 1, Array.isArray(n.baseColorFactor)) {\n        const e = n.baseColorFactor;\n        s.color.setRGB(e[0], e[1], e[2], Re.LinearSRGBColorSpace), s.opacity = e[3];\n      }\n      void 0 !== n.baseColorTexture && a.push(t.assignTexture(s, \"map\", n.baseColorTexture, Re.SRGBColorSpace)), s.metalness = void 0 !== n.metallicFactor ? n.metallicFactor : 1, s.roughness = void 0 !== n.roughnessFactor ? n.roughnessFactor : 1, void 0 !== n.metallicRoughnessTexture && (a.push(t.assignTexture(s, \"metalnessMap\", n.metallicRoughnessTexture)), a.push(t.assignTexture(s, \"roughnessMap\", n.metallicRoughnessTexture))), o = this._invokeOne(function (t) {\n        return t.getMaterialType && t.getMaterialType(e);\n      }), a.push(Promise.all(this._invokeAll(function (t) {\n        return t.extendMaterialParams && t.extendMaterialParams(e, s);\n      })));\n    }\n    !0 === r.doubleSided && (s.side = Re.DoubleSide);\n    const A = r.alphaMode || \"OPAQUE\";\n    if (\"BLEND\" === A ? (s.transparent = !0, s.depthWrite = !1) : (s.transparent = !1, \"MASK\" === A && (s.alphaTest = void 0 !== r.alphaCutoff ? r.alphaCutoff : .5)), void 0 !== r.normalTexture && o !== Re.MeshBasicMaterial && (a.push(t.assignTexture(s, \"normalMap\", r.normalTexture)), s.normalScale = new Re.Vector2(1, 1), void 0 !== r.normalTexture.scale)) {\n      const e = r.normalTexture.scale;\n      s.normalScale.set(e, e);\n    }\n    if (void 0 !== r.occlusionTexture && o !== Re.MeshBasicMaterial && (a.push(t.assignTexture(s, \"aoMap\", r.occlusionTexture)), void 0 !== r.occlusionTexture.strength && (s.aoMapIntensity = r.occlusionTexture.strength)), void 0 !== r.emissiveFactor && o !== Re.MeshBasicMaterial) {\n      const e = r.emissiveFactor;\n      s.emissive = new Re.Color().setRGB(e[0], e[1], e[2], Re.LinearSRGBColorSpace);\n    }\n    return void 0 !== r.emissiveTexture && o !== Re.MeshBasicMaterial && a.push(t.assignTexture(s, \"emissiveMap\", r.emissiveTexture, Re.SRGBColorSpace)), Promise.all(a).then(function () {\n      const n = new o(s);\n      return r.name && (n.name = r.name), Ut(n, r), t.associations.set(n, {\n        materials: e\n      }), r.extensions && Ft(i, n, r), n;\n    });\n  }\n  createUniqueName(e) {\n    const t = Re.PropertyBinding.sanitizeNodeName(e || \"\");\n    return t in this.nodeNamesUsed ? t + \"_\" + ++this.nodeNamesUsed[t] : (this.nodeNamesUsed[t] = 0, t);\n  }\n  loadGeometries(e) {\n    const t = this,\n      n = this.extensions,\n      i = this.primitiveCache;\n    function r(e) {\n      return n[$e.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e, t).then(function (n) {\n        return Ht(n, e, t);\n      });\n    }\n    const o = [];\n    for (let n = 0, s = e.length; n < s; n++) {\n      const s = e[n],\n        a = Pt(s),\n        A = i[a];\n      if (A) o.push(A.promise);else {\n        let e;\n        e = s.extensions && s.extensions[$e.KHR_DRACO_MESH_COMPRESSION] ? r(s) : Ht(new Re.BufferGeometry(), s, t), i[a] = {\n          primitive: s,\n          promise: e\n        }, o.push(e);\n      }\n    }\n    return Promise.all(o);\n  }\n  loadMesh(e) {\n    const t = this,\n      n = this.json,\n      i = this.extensions,\n      r = n.meshes[e],\n      o = r.primitives,\n      s = [];\n    for (let e = 0, t = o.length; e < t; e++) {\n      const t = void 0 === o[e].material ? Rt(this.cache) : this.getDependency(\"material\", o[e].material);\n      s.push(t);\n    }\n    return s.push(t.loadGeometries(o)), Promise.all(s).then(function (n) {\n      const s = n.slice(0, n.length - 1),\n        a = n[n.length - 1],\n        A = [];\n      for (let n = 0, l = a.length; n < l; n++) {\n        const l = a[n],\n          c = o[n];\n        let h;\n        const d = s[n];\n        if (c.mode === xt.TRIANGLES || c.mode === xt.TRIANGLE_STRIP || c.mode === xt.TRIANGLE_FAN || void 0 === c.mode) h = !0 === r.isSkinnedMesh ? new Re.SkinnedMesh(l, d) : new Re.Mesh(l, d), !0 === h.isSkinnedMesh && h.normalizeSkinWeights(), c.mode === xt.TRIANGLE_STRIP ? h.geometry = Ye(h.geometry, Re.TriangleStripDrawMode) : c.mode === xt.TRIANGLE_FAN && (h.geometry = Ye(h.geometry, Re.TriangleFanDrawMode));else if (c.mode === xt.LINES) h = new Re.LineSegments(l, d);else if (c.mode === xt.LINE_STRIP) h = new Re.Line(l, d);else if (c.mode === xt.LINE_LOOP) h = new Re.LineLoop(l, d);else {\n          if (c.mode !== xt.POINTS) throw new Error(\"THREE.GLTFLoader: Primitive mode unsupported: \" + c.mode);\n          h = new Re.Points(l, d);\n        }\n        Object.keys(h.geometry.morphAttributes).length > 0 && Ot(h, r), h.name = t.createUniqueName(r.name || \"mesh_\" + e), Ut(h, r), c.extensions && Ft(i, h, c), t.assignFinalMaterial(h), A.push(h);\n      }\n      for (let n = 0, i = A.length; n < i; n++) t.associations.set(A[n], {\n        meshes: e,\n        primitives: n\n      });\n      if (1 === A.length) return r.extensions && Ft(i, A[0], r), A[0];\n      const l = new Re.Group();\n      r.extensions && Ft(i, l, r), t.associations.set(l, {\n        meshes: e\n      });\n      for (let e = 0, t = A.length; e < t; e++) l.add(A[e]);\n      return l;\n    });\n  }\n  loadCamera(e) {\n    let t;\n    const n = this.json.cameras[e],\n      i = n[n.type];\n    if (i) return \"perspective\" === n.type ? t = new Re.PerspectiveCamera(Re.MathUtils.radToDeg(i.yfov), i.aspectRatio || 1, i.znear || 1, i.zfar || 2e6) : \"orthographic\" === n.type && (t = new Re.OrthographicCamera(-i.xmag, i.xmag, i.ymag, -i.ymag, i.znear, i.zfar)), n.name && (t.name = this.createUniqueName(n.name)), Ut(t, n), Promise.resolve(t);\n    console.warn(\"THREE.GLTFLoader: Missing camera parameters.\");\n  }\n  loadSkin(e) {\n    const t = this.json.skins[e],\n      n = [];\n    for (let e = 0, i = t.joints.length; e < i; e++) n.push(this._loadNodeShallow(t.joints[e]));\n    return void 0 !== t.inverseBindMatrices ? n.push(this.getDependency(\"accessor\", t.inverseBindMatrices)) : n.push(null), Promise.all(n).then(function (e) {\n      const n = e.pop(),\n        i = e,\n        r = [],\n        o = [];\n      for (let e = 0, s = i.length; e < s; e++) {\n        const s = i[e];\n        if (s) {\n          r.push(s);\n          const t = new Re.Matrix4();\n          null !== n && t.fromArray(n.array, 16 * e), o.push(t);\n        } else console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', t.joints[e]);\n      }\n      return new Re.Skeleton(r, o);\n    });\n  }\n  loadAnimation(e) {\n    const t = this.json,\n      n = this,\n      i = t.animations[e],\n      r = i.name ? i.name : \"animation_\" + e,\n      o = [],\n      s = [],\n      a = [],\n      A = [],\n      l = [];\n    for (let e = 0, t = i.channels.length; e < t; e++) {\n      const t = i.channels[e],\n        n = i.samplers[t.sampler],\n        r = t.target,\n        c = r.node,\n        h = void 0 !== i.parameters ? i.parameters[n.input] : n.input,\n        d = void 0 !== i.parameters ? i.parameters[n.output] : n.output;\n      void 0 !== r.node && (o.push(this.getDependency(\"node\", c)), s.push(this.getDependency(\"accessor\", h)), a.push(this.getDependency(\"accessor\", d)), A.push(n), l.push(r));\n    }\n    return Promise.all([Promise.all(o), Promise.all(s), Promise.all(a), Promise.all(A), Promise.all(l)]).then(function (e) {\n      const t = e[0],\n        i = e[1],\n        o = e[2],\n        s = e[3],\n        a = e[4],\n        A = [];\n      for (let e = 0, r = t.length; e < r; e++) {\n        const r = t[e],\n          l = i[e],\n          c = o[e],\n          h = s[e],\n          d = a[e];\n        if (void 0 === r) continue;\n        r.updateMatrix && r.updateMatrix();\n        const u = n._createAnimationTracks(r, l, c, h, d);\n        if (u) for (let e = 0; e < u.length; e++) A.push(u[e]);\n      }\n      return new Re.AnimationClip(r, void 0, A);\n    });\n  }\n  createNodeMesh(e) {\n    const t = this.json,\n      n = this,\n      i = t.nodes[e];\n    return void 0 === i.mesh ? null : n.getDependency(\"mesh\", i.mesh).then(function (e) {\n      const t = n._getNodeRef(n.meshCache, i.mesh, e);\n      return void 0 !== i.weights && t.traverse(function (e) {\n        if (e.isMesh) for (let t = 0, n = i.weights.length; t < n; t++) e.morphTargetInfluences[t] = i.weights[t];\n      }), t;\n    });\n  }\n  loadNode(e) {\n    const t = this,\n      n = this.json.nodes[e],\n      i = t._loadNodeShallow(e),\n      r = [],\n      o = n.children || [];\n    for (let e = 0, n = o.length; e < n; e++) r.push(t.getDependency(\"node\", o[e]));\n    const s = void 0 === n.skin ? Promise.resolve(null) : t.getDependency(\"skin\", n.skin);\n    return Promise.all([i, Promise.all(r), s]).then(function (e) {\n      const t = e[0],\n        n = e[1],\n        i = e[2];\n      null !== i && t.traverse(function (e) {\n        e.isSkinnedMesh && e.bind(i, jt);\n      });\n      for (let e = 0, i = n.length; e < i; e++) t.add(n[e]);\n      return t;\n    });\n  }\n  _loadNodeShallow(e) {\n    const t = this.json,\n      n = this.extensions,\n      i = this;\n    if (void 0 !== this.nodeCache[e]) return this.nodeCache[e];\n    const r = t.nodes[e],\n      o = r.name ? i.createUniqueName(r.name) : \"\",\n      s = [],\n      a = i._invokeOne(function (t) {\n        return t.createNodeMesh && t.createNodeMesh(e);\n      });\n    return a && s.push(a), void 0 !== r.camera && s.push(i.getDependency(\"camera\", r.camera).then(function (e) {\n      return i._getNodeRef(i.cameraCache, r.camera, e);\n    })), i._invokeAll(function (t) {\n      return t.createNodeAttachment && t.createNodeAttachment(e);\n    }).forEach(function (e) {\n      s.push(e);\n    }), this.nodeCache[e] = Promise.all(s).then(function (t) {\n      let s;\n      if (s = !0 === r.isBone ? new Re.Bone() : t.length > 1 ? new Re.Group() : 1 === t.length ? t[0] : new Re.Object3D(), s !== t[0]) for (let e = 0, n = t.length; e < n; e++) s.add(t[e]);\n      if (r.name && (s.userData.name = r.name, s.name = o), Ut(s, r), r.extensions && Ft(n, s, r), void 0 !== r.matrix) {\n        const e = new Re.Matrix4();\n        e.fromArray(r.matrix), s.applyMatrix4(e);\n      } else void 0 !== r.translation && s.position.fromArray(r.translation), void 0 !== r.rotation && s.quaternion.fromArray(r.rotation), void 0 !== r.scale && s.scale.fromArray(r.scale);\n      return i.associations.has(s) || i.associations.set(s, {}), i.associations.get(s).nodes = e, s;\n    }), this.nodeCache[e];\n  }\n  loadScene(e) {\n    const t = this.extensions,\n      n = this.json.scenes[e],\n      i = this,\n      r = new Re.Group();\n    n.name && (r.name = i.createUniqueName(n.name)), Ut(r, n), n.extensions && Ft(t, r, n);\n    const o = n.nodes || [],\n      s = [];\n    for (let e = 0, t = o.length; e < t; e++) s.push(i.getDependency(\"node\", o[e]));\n    return Promise.all(s).then(function (e) {\n      for (let t = 0, n = e.length; t < n; t++) r.add(e[t]);\n      return i.associations = (e => {\n        const t = new Map();\n        for (const [e, n] of i.associations) (e instanceof Re.Material || e instanceof Re.Texture) && t.set(e, n);\n        return e.traverse(e => {\n          const n = i.associations.get(e);\n          null != n && t.set(e, n);\n        }), t;\n      })(r), r;\n    });\n  }\n  _createAnimationTracks(e, t, n, i, r) {\n    const o = [],\n      s = e.name ? e.name : e.uuid,\n      a = [];\n    let A;\n    switch (kt[r.path] === kt.weights ? e.traverse(function (e) {\n      e.morphTargetInfluences && a.push(e.name ? e.name : e.uuid);\n    }) : a.push(s), kt[r.path]) {\n      case kt.weights:\n        A = Re.NumberKeyframeTrack;\n        break;\n      case kt.rotation:\n        A = Re.QuaternionKeyframeTrack;\n        break;\n      case kt.position:\n      case kt.scale:\n        A = Re.VectorKeyframeTrack;\n        break;\n      default:\n        A = 1 === n.itemSize ? Re.NumberKeyframeTrack : Re.VectorKeyframeTrack;\n    }\n    const l = void 0 !== i.interpolation ? Tt[i.interpolation] : Re.InterpolateLinear,\n      c = this._getArrayFromAccessor(n);\n    for (let e = 0, n = a.length; e < n; e++) {\n      const n = new A(a[e] + \".\" + kt[r.path], t.array, c, l);\n      \"CUBICSPLINE\" === i.interpolation && this._createCubicSplineTrackInterpolant(n), o.push(n);\n    }\n    return o;\n  }\n  _getArrayFromAccessor(e) {\n    let t = e.array;\n    if (e.normalized) {\n      const e = Nt(t.constructor),\n        n = new Float32Array(t.length);\n      for (let i = 0, r = t.length; i < r; i++) n[i] = t[i] * e;\n      t = n;\n    }\n    return t;\n  }\n  _createCubicSplineTrackInterpolant(e) {\n    e.createInterpolant = function (e) {\n      return new (this instanceof Re.QuaternionKeyframeTrack ? wt : yt)(this.times, this.values, this.getValueSize() / 3, e);\n    }, e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = !0;\n  }\n}\nfunction Ht(e, t, n) {\n  const i = t.attributes,\n    r = [];\n  function o(t, i) {\n    return n.getDependency(\"accessor\", t).then(function (t) {\n      e.setAttribute(i, t);\n    });\n  }\n  for (const t in i) {\n    const n = Dt[t] || t.toLowerCase();\n    n in e.attributes || r.push(o(i[t], n));\n  }\n  if (void 0 !== t.indices && !e.index) {\n    const i = n.getDependency(\"accessor\", t.indices).then(function (t) {\n      e.setIndex(t);\n    });\n    r.push(i);\n  }\n  return Re.ColorManagement.workingColorSpace !== Re.LinearSRGBColorSpace && \"COLOR_0\" in i && console.warn(`THREE.GLTFLoader: Converting vertex colors from \"srgb-linear\" to \"${Re.ColorManagement.workingColorSpace}\" not supported.`), Ut(e, t), function (e, t, n) {\n    const i = t.attributes,\n      r = new Re.Box3();\n    if (void 0 === i.POSITION) return;\n    {\n      const e = n.json.accessors[i.POSITION],\n        t = e.min,\n        o = e.max;\n      if (void 0 === t || void 0 === o) return void console.warn(\"THREE.GLTFLoader: Missing min/max properties for accessor POSITION.\");\n      if (r.set(new Re.Vector3(t[0], t[1], t[2]), new Re.Vector3(o[0], o[1], o[2])), e.normalized) {\n        const t = Nt(Qt[e.componentType]);\n        r.min.multiplyScalar(t), r.max.multiplyScalar(t);\n      }\n    }\n    const o = t.targets;\n    if (void 0 !== o) {\n      const e = new Re.Vector3(),\n        t = new Re.Vector3();\n      for (let i = 0, r = o.length; i < r; i++) {\n        const r = o[i];\n        if (void 0 !== r.POSITION) {\n          const i = n.json.accessors[r.POSITION],\n            o = i.min,\n            s = i.max;\n          if (void 0 !== o && void 0 !== s) {\n            if (t.setX(Math.max(Math.abs(o[0]), Math.abs(s[0]))), t.setY(Math.max(Math.abs(o[1]), Math.abs(s[1]))), t.setZ(Math.max(Math.abs(o[2]), Math.abs(s[2]))), i.normalized) {\n              const e = Nt(Qt[i.componentType]);\n              t.multiplyScalar(e);\n            }\n            e.max(t);\n          } else console.warn(\"THREE.GLTFLoader: Missing min/max properties for accessor POSITION.\");\n        }\n      }\n      r.expandByVector(e);\n    }\n    e.boundingBox = r;\n    const s = new Re.Sphere();\n    r.getCenter(s.center), s.radius = r.min.distanceTo(r.max) / 2, e.boundingSphere = s;\n  }(e, t, n), Promise.all(r).then(function () {\n    return void 0 !== t.targets ? function (e, t, n) {\n      let i = !1,\n        r = !1,\n        o = !1;\n      for (let e = 0, n = t.length; e < n; e++) {\n        const n = t[e];\n        if (void 0 !== n.POSITION && (i = !0), void 0 !== n.NORMAL && (r = !0), void 0 !== n.COLOR_0 && (o = !0), i && r && o) break;\n      }\n      if (!i && !r && !o) return Promise.resolve(e);\n      const s = [],\n        a = [],\n        A = [];\n      for (let l = 0, c = t.length; l < c; l++) {\n        const c = t[l];\n        if (i) {\n          const t = void 0 !== c.POSITION ? n.getDependency(\"accessor\", c.POSITION) : e.attributes.position;\n          s.push(t);\n        }\n        if (r) {\n          const t = void 0 !== c.NORMAL ? n.getDependency(\"accessor\", c.NORMAL) : e.attributes.normal;\n          a.push(t);\n        }\n        if (o) {\n          const t = void 0 !== c.COLOR_0 ? n.getDependency(\"accessor\", c.COLOR_0) : e.attributes.color;\n          A.push(t);\n        }\n      }\n      return Promise.all([Promise.all(s), Promise.all(a), Promise.all(A)]).then(function (t) {\n        const n = t[0],\n          s = t[1],\n          a = t[2];\n        return i && (e.morphAttributes.position = n), r && (e.morphAttributes.normal = s), o && (e.morphAttributes.color = a), e.morphTargetsRelative = !0, e;\n      });\n    }(e, t.targets, n) : e;\n  });\n}\nclass qt {\n  constructor(e = 4) {\n    this.pool = e, this.queue = [], this.workers = [], this.workersResolve = [], this.workerStatus = 0;\n  }\n  _initWorker(e) {\n    if (!this.workers[e]) {\n      const t = this.workerCreator();\n      t.addEventListener(\"message\", this._onMessage.bind(this, e)), this.workers[e] = t;\n    }\n  }\n  _getIdleWorker() {\n    for (let e = 0; e < this.pool; e++) if (!(this.workerStatus & 1 << e)) return e;\n    return -1;\n  }\n  _onMessage(e, t) {\n    const n = this.workersResolve[e];\n    if (n && n(t), this.queue.length) {\n      const {\n        resolve: t,\n        msg: n,\n        transfer: i\n      } = this.queue.shift();\n      this.workersResolve[e] = t, this.workers[e].postMessage(n, i);\n    } else this.workerStatus ^= 1 << e;\n  }\n  setWorkerCreator(e) {\n    this.workerCreator = e;\n  }\n  setWorkerLimit(e) {\n    this.pool = e;\n  }\n  postMessage(e, t) {\n    return new Promise(n => {\n      const i = this._getIdleWorker();\n      -1 !== i ? (this._initWorker(i), this.workerStatus |= 1 << i, this.workersResolve[i] = n, this.workers[i].postMessage(e, t)) : this.queue.push({\n        resolve: n,\n        msg: e,\n        transfer: t\n      });\n    });\n  }\n  dispose() {\n    this.workers.forEach(e => e.terminate()), this.workersResolve.length = 0, this.workers.length = 0, this.queue.length = 0, this.workerStatus = 0;\n  }\n}\nconst Vt = 9,\n  zt = 15,\n  Yt = 16,\n  Kt = 22,\n  Wt = 37,\n  Jt = 43,\n  Xt = 76,\n  Zt = 83,\n  $t = 97,\n  en = 100,\n  tn = 103,\n  nn = 109,\n  rn = 165,\n  on = 166,\n  sn = 1000066e3;\nclass an {\n  constructor() {\n    this.vkFormat = 0, this.typeSize = 1, this.pixelWidth = 0, this.pixelHeight = 0, this.pixelDepth = 0, this.layerCount = 0, this.faceCount = 1, this.supercompressionScheme = 0, this.levels = [], this.dataFormatDescriptor = [{\n      vendorId: 0,\n      descriptorType: 0,\n      descriptorBlockSize: 0,\n      versionNumber: 2,\n      colorModel: 0,\n      colorPrimaries: 1,\n      transferFunction: 2,\n      flags: 0,\n      texelBlockDimension: [0, 0, 0, 0],\n      bytesPlane: [0, 0, 0, 0, 0, 0, 0, 0],\n      samples: []\n    }], this.keyValue = {}, this.globalData = null;\n  }\n}\nclass An {\n  constructor(e, t, n, i) {\n    this._dataView = void 0, this._littleEndian = void 0, this._offset = void 0, this._dataView = new DataView(e.buffer, e.byteOffset + t, n), this._littleEndian = i, this._offset = 0;\n  }\n  _nextUint8() {\n    const e = this._dataView.getUint8(this._offset);\n    return this._offset += 1, e;\n  }\n  _nextUint16() {\n    const e = this._dataView.getUint16(this._offset, this._littleEndian);\n    return this._offset += 2, e;\n  }\n  _nextUint32() {\n    const e = this._dataView.getUint32(this._offset, this._littleEndian);\n    return this._offset += 4, e;\n  }\n  _nextUint64() {\n    const e = this._dataView.getUint32(this._offset, this._littleEndian) + 2 ** 32 * this._dataView.getUint32(this._offset + 4, this._littleEndian);\n    return this._offset += 8, e;\n  }\n  _nextInt32() {\n    const e = this._dataView.getInt32(this._offset, this._littleEndian);\n    return this._offset += 4, e;\n  }\n  _nextUint8Array(e) {\n    const t = new Uint8Array(this._dataView.buffer, this._dataView.byteOffset + this._offset, e);\n    return this._offset += e, t;\n  }\n  _skip(e) {\n    return this._offset += e, this;\n  }\n  _scan(e, t) {\n    void 0 === t && (t = 0);\n    const n = this._offset;\n    let i = 0;\n    for (; this._dataView.getUint8(this._offset) !== t && i < e;) i++, this._offset++;\n    return i < e && this._offset++, new Uint8Array(this._dataView.buffer, this._dataView.byteOffset + n, i);\n  }\n}\nnew Uint8Array([0]);\nconst ln = [171, 75, 84, 88, 32, 50, 48, 187, 13, 10, 26, 10];\nfunction cn(e) {\n  return new TextDecoder().decode(e);\n}\nvar hn = i(9922).hp;\nlet dn, un, gn;\nconst pn = {\n  env: {\n    emscripten_notify_memory_growth: function (e) {\n      gn = new Uint8Array(un.exports.memory.buffer);\n    }\n  }\n};\nclass fn {\n  init() {\n    return dn || (dn = \"undefined\" != typeof fetch ? fetch(\"data:application/wasm;base64,\" + mn).then(e => e.arrayBuffer()).then(e => WebAssembly.instantiate(e, pn)).then(this._init) : WebAssembly.instantiate(hn.from(mn, \"base64\"), pn).then(this._init), dn);\n  }\n  _init(e) {\n    un = e.instance, pn.env.emscripten_notify_memory_growth(0);\n  }\n  decode(e, t = 0) {\n    if (!un) throw new Error(\"ZSTDDecoder: Await .init() before decoding.\");\n    const n = e.byteLength,\n      i = un.exports.malloc(n);\n    gn.set(e, i), t = t || Number(un.exports.ZSTD_findDecompressedSize(i, n));\n    const r = un.exports.malloc(t),\n      o = un.exports.ZSTD_decompress(r, t, i, n),\n      s = gn.slice(r, r + o);\n    return un.exports.free(i), un.exports.free(r), s;\n  }\n}\nconst mn = \"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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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\",\n  En = (Re.SRGBTransfer, Re.LinearTransfer, Re.LinearTransfer, new WeakMap());\nlet Cn,\n  vn = 0;\nclass Bn extends Re.Loader {\n  constructor(e) {\n    super(e), this.transcoderPath = \"\", this.transcoderBinary = null, this.transcoderPending = null, this.workerPool = new qt(), this.workerSourceURL = \"\", this.workerConfig = null, \"undefined\" != typeof MSC_TRANSCODER && console.warn('THREE.KTX2Loader: Please update to latest \"basis_transcoder\". \"msc_basis_transcoder\" is no longer supported in three.js r125+.');\n  }\n  setTranscoderPath(e) {\n    return this.transcoderPath = e, this;\n  }\n  setWorkerLimit(e) {\n    return this.workerPool.setWorkerLimit(e), this;\n  }\n  async detectSupportAsync(e) {\n    return this.workerConfig = {\n      astcSupported: await e.hasFeatureAsync(\"texture-compression-astc\"),\n      astcHDRSupported: !1,\n      etc1Supported: await e.hasFeatureAsync(\"texture-compression-etc1\"),\n      etc2Supported: await e.hasFeatureAsync(\"texture-compression-etc2\"),\n      dxtSupported: await e.hasFeatureAsync(\"texture-compression-bc\"),\n      bptcSupported: await e.hasFeatureAsync(\"texture-compression-bptc\"),\n      pvrtcSupported: await e.hasFeatureAsync(\"texture-compression-pvrtc\")\n    }, this;\n  }\n  detectSupport(e) {\n    return !0 === e.isWebGPURenderer ? this.workerConfig = {\n      astcSupported: e.hasFeature(\"texture-compression-astc\"),\n      astcHDRSupported: !1,\n      etc1Supported: e.hasFeature(\"texture-compression-etc1\"),\n      etc2Supported: e.hasFeature(\"texture-compression-etc2\"),\n      dxtSupported: e.hasFeature(\"texture-compression-bc\"),\n      bptcSupported: e.hasFeature(\"texture-compression-bptc\"),\n      pvrtcSupported: e.hasFeature(\"texture-compression-pvrtc\")\n    } : this.workerConfig = {\n      astcSupported: e.extensions.has(\"WEBGL_compressed_texture_astc\"),\n      astcHDRSupported: e.extensions.has(\"WEBGL_compressed_texture_astc\") && e.extensions.get(\"WEBGL_compressed_texture_astc\").getSupportedProfiles().includes(\"hdr\"),\n      etc1Supported: e.extensions.has(\"WEBGL_compressed_texture_etc1\"),\n      etc2Supported: e.extensions.has(\"WEBGL_compressed_texture_etc\"),\n      dxtSupported: e.extensions.has(\"WEBGL_compressed_texture_s3tc\"),\n      bptcSupported: e.extensions.has(\"EXT_texture_compression_bptc\"),\n      pvrtcSupported: e.extensions.has(\"WEBGL_compressed_texture_pvrtc\") || e.extensions.has(\"WEBKIT_WEBGL_compressed_texture_pvrtc\")\n    }, this;\n  }\n  init() {\n    if (!this.transcoderPending) {\n      const e = new Re.FileLoader(this.manager);\n      e.setPath(this.transcoderPath), e.setWithCredentials(this.withCredentials);\n      const t = e.loadAsync(\"basis_transcoder.js\"),\n        n = new Re.FileLoader(this.manager);\n      n.setPath(this.transcoderPath), n.setResponseType(\"arraybuffer\"), n.setWithCredentials(this.withCredentials);\n      const i = n.loadAsync(\"basis_transcoder.wasm\");\n      this.transcoderPending = Promise.all([t, i]).then(([e, t]) => {\n        const n = Bn.BasisWorker.toString(),\n          i = [\"/* constants */\", \"let _EngineFormat = \" + JSON.stringify(Bn.EngineFormat), \"let _EngineType = \" + JSON.stringify(Bn.EngineType), \"let _TranscoderFormat = \" + JSON.stringify(Bn.TranscoderFormat), \"let _BasisFormat = \" + JSON.stringify(Bn.BasisFormat), \"/* basis_transcoder.js */\", e, \"/* worker */\", n.substring(n.indexOf(\"{\") + 1, n.lastIndexOf(\"}\"))].join(\"\\n\");\n        this.workerSourceURL = URL.createObjectURL(new Blob([i])), this.transcoderBinary = t, this.workerPool.setWorkerCreator(() => {\n          const e = new Worker(this.workerSourceURL),\n            t = this.transcoderBinary.slice(0);\n          return e.postMessage({\n            type: \"init\",\n            config: this.workerConfig,\n            transcoderBinary: t\n          }, [t]), e;\n        });\n      }), vn > 0 && console.warn(\"THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances.\"), vn++;\n    }\n    return this.transcoderPending;\n  }\n  load(e, t, n, i) {\n    if (null === this.workerConfig) throw new Error(\"THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.\");\n    const r = new Re.FileLoader(this.manager);\n    r.setResponseType(\"arraybuffer\"), r.setWithCredentials(this.withCredentials), r.load(e, e => {\n      this.parse(e, t, i);\n    }, n, i);\n  }\n  parse(e, t, n) {\n    if (null === this.workerConfig) throw new Error(\"THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.\");\n    if (En.has(e)) return En.get(e).promise.then(t).catch(n);\n    this._createTexture(e).then(e => t ? t(e) : null).catch(n);\n  }\n  _createTextureFrom(e, t) {\n    const {\n      type: n,\n      error: i,\n      data: {\n        faces: r,\n        width: o,\n        height: s,\n        format: a,\n        type: A,\n        dfdFlags: l\n      }\n    } = e;\n    if (\"error\" === n) return Promise.reject(i);\n    let c;\n    if (6 === t.faceCount) c = new Re.CompressedCubeTexture(r, a, A);else {\n      const e = r[0].mipmaps;\n      c = t.layerCount > 1 ? new Re.CompressedArrayTexture(e, o, s, t.layerCount, a, A) : new Re.CompressedTexture(e, o, s, a, A);\n    }\n    return c.minFilter = 1 === r[0].mipmaps.length ? Re.LinearFilter : Re.LinearMipmapLinearFilter, c.magFilter = Re.LinearFilter, c.generateMipmaps = !1, c.needsUpdate = !0, c.colorSpace = wn(t), c.premultiplyAlpha = !!(1 & l), c;\n  }\n  async _createTexture(e, t = {}) {\n    const n = function (e) {\n        const t = new Uint8Array(e.buffer, e.byteOffset, ln.length);\n        if (t[0] !== ln[0] || t[1] !== ln[1] || t[2] !== ln[2] || t[3] !== ln[3] || t[4] !== ln[4] || t[5] !== ln[5] || t[6] !== ln[6] || t[7] !== ln[7] || t[8] !== ln[8] || t[9] !== ln[9] || t[10] !== ln[10] || t[11] !== ln[11]) throw new Error(\"Missing KTX 2.0 identifier.\");\n        const n = new an(),\n          i = 17 * Uint32Array.BYTES_PER_ELEMENT,\n          r = new An(e, ln.length, i, !0);\n        n.vkFormat = r._nextUint32(), n.typeSize = r._nextUint32(), n.pixelWidth = r._nextUint32(), n.pixelHeight = r._nextUint32(), n.pixelDepth = r._nextUint32(), n.layerCount = r._nextUint32(), n.faceCount = r._nextUint32();\n        const o = r._nextUint32();\n        n.supercompressionScheme = r._nextUint32();\n        const s = r._nextUint32(),\n          a = r._nextUint32(),\n          A = r._nextUint32(),\n          l = r._nextUint32(),\n          c = r._nextUint64(),\n          h = r._nextUint64(),\n          d = new An(e, ln.length + i, 3 * o * 8, !0);\n        for (let t = 0; t < o; t++) n.levels.push({\n          levelData: new Uint8Array(e.buffer, e.byteOffset + d._nextUint64(), d._nextUint64()),\n          uncompressedByteLength: d._nextUint64()\n        });\n        const u = new An(e, s, a, !0),\n          g = {\n            vendorId: u._skip(4)._nextUint16(),\n            descriptorType: u._nextUint16(),\n            versionNumber: u._nextUint16(),\n            descriptorBlockSize: u._nextUint16(),\n            colorModel: u._nextUint8(),\n            colorPrimaries: u._nextUint8(),\n            transferFunction: u._nextUint8(),\n            flags: u._nextUint8(),\n            texelBlockDimension: [u._nextUint8(), u._nextUint8(), u._nextUint8(), u._nextUint8()],\n            bytesPlane: [u._nextUint8(), u._nextUint8(), u._nextUint8(), u._nextUint8(), u._nextUint8(), u._nextUint8(), u._nextUint8(), u._nextUint8()],\n            samples: []\n          },\n          p = (g.descriptorBlockSize / 4 - 6) / 4;\n        for (let e = 0; e < p; e++) {\n          const t = {\n            bitOffset: u._nextUint16(),\n            bitLength: u._nextUint8(),\n            channelType: u._nextUint8(),\n            samplePosition: [u._nextUint8(), u._nextUint8(), u._nextUint8(), u._nextUint8()],\n            sampleLower: -1 / 0,\n            sampleUpper: 1 / 0\n          };\n          64 & t.channelType ? (t.sampleLower = u._nextInt32(), t.sampleUpper = u._nextInt32()) : (t.sampleLower = u._nextUint32(), t.sampleUpper = u._nextUint32()), g.samples[e] = t;\n        }\n        n.dataFormatDescriptor.length = 0, n.dataFormatDescriptor.push(g);\n        const f = new An(e, A, l, !0);\n        for (; f._offset < l;) {\n          const e = f._nextUint32(),\n            t = f._scan(e),\n            i = cn(t);\n          if (n.keyValue[i] = f._nextUint8Array(e - t.byteLength - 1), i.match(/^ktx/i)) {\n            const e = cn(n.keyValue[i]);\n            n.keyValue[i] = e.substring(0, e.lastIndexOf(\"\\0\"));\n          }\n          f._skip(e % 4 ? 4 - e % 4 : 0);\n        }\n        if (h <= 0) return n;\n        const m = new An(e, c, h, !0),\n          E = m._nextUint16(),\n          C = m._nextUint16(),\n          v = m._nextUint32(),\n          B = m._nextUint32(),\n          b = m._nextUint32(),\n          y = m._nextUint32(),\n          I = [];\n        for (let e = 0; e < o; e++) I.push({\n          imageFlags: m._nextUint32(),\n          rgbSliceByteOffset: m._nextUint32(),\n          rgbSliceByteLength: m._nextUint32(),\n          alphaSliceByteOffset: m._nextUint32(),\n          alphaSliceByteLength: m._nextUint32()\n        });\n        const w = c + m._offset,\n          x = w + v,\n          Q = x + B,\n          L = Q + b,\n          M = new Uint8Array(e.buffer, e.byteOffset + w, v),\n          S = new Uint8Array(e.buffer, e.byteOffset + x, B),\n          D = new Uint8Array(e.buffer, e.byteOffset + Q, b),\n          k = new Uint8Array(e.buffer, e.byteOffset + L, y);\n        return n.globalData = {\n          endpointCount: E,\n          selectorCount: C,\n          imageDescs: I,\n          endpointsData: M,\n          selectorsData: S,\n          tablesData: D,\n          extendedData: k\n        }, n;\n      }(new Uint8Array(e)),\n      i = n.vkFormat === sn && 167 === n.dataFormatDescriptor[0].colorModel;\n    if (0 !== n.vkFormat && (!i || this.workerConfig.astcHDRSupported)) return async function (e) {\n      const {\n        vkFormat: t\n      } = e;\n      if (void 0 === yn[t]) throw new Error(\"THREE.KTX2Loader: Unsupported vkFormat.\");\n      let n;\n      2 === e.supercompressionScheme && (Cn || (Cn = new Promise(async e => {\n        const t = new fn();\n        await t.init(), e(t);\n      })), n = await Cn);\n      const i = [];\n      for (let r = 0; r < e.levels.length; r++) {\n        const o = Math.max(1, e.pixelWidth >> r),\n          s = Math.max(1, e.pixelHeight >> r),\n          a = e.pixelDepth ? Math.max(1, e.pixelDepth >> r) : 0,\n          A = e.levels[r];\n        let l, c;\n        if (0 === e.supercompressionScheme) l = A.levelData;else {\n          if (2 !== e.supercompressionScheme) throw new Error(\"THREE.KTX2Loader: Unsupported supercompressionScheme.\");\n          l = n.decode(A.levelData, A.uncompressedByteLength);\n        }\n        c = In[t] === Re.FloatType ? new Float32Array(l.buffer, l.byteOffset, l.byteLength / Float32Array.BYTES_PER_ELEMENT) : In[t] === Re.HalfFloatType ? new Uint16Array(l.buffer, l.byteOffset, l.byteLength / Uint16Array.BYTES_PER_ELEMENT) : l, i.push({\n          data: c,\n          width: o,\n          height: s,\n          depth: a\n        });\n      }\n      let r;\n      if (bn.has(yn[t])) r = 0 === e.pixelDepth ? new Re.DataTexture(i[0].data, e.pixelWidth, e.pixelHeight) : new Re.Data3DTexture(i[0].data, e.pixelWidth, e.pixelHeight, e.pixelDepth);else {\n        if (e.pixelDepth > 0) throw new Error(\"THREE.KTX2Loader: Unsupported pixelDepth.\");\n        r = new Re.CompressedTexture(i, e.pixelWidth, e.pixelHeight), r.minFilter = 1 === i.length ? Re.LinearFilter : Re.LinearMipmapLinearFilter, r.magFilter = Re.LinearFilter;\n      }\n      return r.mipmaps = i, r.type = In[t], r.format = yn[t], r.colorSpace = wn(e), r.needsUpdate = !0, Promise.resolve(r);\n    }(n);\n    const r = t,\n      o = this.init().then(() => this.workerPool.postMessage({\n        type: \"transcode\",\n        buffer: e,\n        taskConfig: r\n      }, [e])).then(e => this._createTextureFrom(e.data, n));\n    return En.set(e, {\n      promise: o\n    }), o;\n  }\n  dispose() {\n    return this.workerPool.dispose(), this.workerSourceURL && URL.revokeObjectURL(this.workerSourceURL), vn--, this;\n  }\n}\nBn.BasisFormat = {\n  ETC1S: 0,\n  UASTC: 1,\n  UASTC_HDR: 2\n}, Bn.TranscoderFormat = {\n  ETC1: 0,\n  ETC2: 1,\n  BC1: 2,\n  BC3: 3,\n  BC4: 4,\n  BC5: 5,\n  BC7_M6_OPAQUE_ONLY: 6,\n  BC7_M5: 7,\n  PVRTC1_4_RGB: 8,\n  PVRTC1_4_RGBA: 9,\n  ASTC_4x4: 10,\n  ATC_RGB: 11,\n  ATC_RGBA_INTERPOLATED_ALPHA: 12,\n  RGBA32: 13,\n  RGB565: 14,\n  BGR565: 15,\n  RGBA4444: 16,\n  BC6H: 22,\n  RGB_HALF: 24,\n  RGBA_HALF: 25\n}, Bn.EngineFormat = {\n  RGBAFormat: Re.RGBAFormat,\n  RGBA_ASTC_4x4_Format: Re.RGBA_ASTC_4x4_Format,\n  RGB_BPTC_UNSIGNED_Format: Re.RGB_BPTC_UNSIGNED_Format,\n  RGBA_BPTC_Format: Re.RGBA_BPTC_Format,\n  RGBA_ETC2_EAC_Format: Re.RGBA_ETC2_EAC_Format,\n  RGBA_PVRTC_4BPPV1_Format: Re.RGBA_PVRTC_4BPPV1_Format,\n  RGBA_S3TC_DXT5_Format: Re.RGBA_S3TC_DXT5_Format,\n  RGB_ETC1_Format: Re.RGB_ETC1_Format,\n  RGB_ETC2_Format: Re.RGB_ETC2_Format,\n  RGB_PVRTC_4BPPV1_Format: Re.RGB_PVRTC_4BPPV1_Format,\n  RGBA_S3TC_DXT1_Format: Re.RGBA_S3TC_DXT1_Format\n}, Bn.EngineType = {\n  UnsignedByteType: Re.UnsignedByteType,\n  HalfFloatType: Re.HalfFloatType,\n  FloatType: Re.FloatType\n}, Bn.BasisWorker = function () {\n  let e, t, n;\n  const i = _EngineFormat,\n    r = _EngineType,\n    o = _TranscoderFormat,\n    s = _BasisFormat;\n  self.addEventListener(\"message\", function (i) {\n    const o = i.data;\n    switch (o.type) {\n      case \"init\":\n        e = o.config, a = o.transcoderBinary, t = new Promise(e => {\n          n = {\n            wasmBinary: a,\n            onRuntimeInitialized: e\n          }, BASIS(n);\n        }).then(() => {\n          n.initializeBasis(), void 0 === n.KTX2File && console.warn(\"THREE.KTX2Loader: Please update Basis Universal transcoder.\");\n        });\n        break;\n      case \"transcode\":\n        t.then(() => {\n          try {\n            const {\n              faces: t,\n              buffers: i,\n              width: a,\n              height: h,\n              hasAlpha: d,\n              format: u,\n              type: g,\n              dfdFlags: p\n            } = function (t) {\n              const i = new n.KTX2File(new Uint8Array(t));\n              function o() {\n                i.close(), i.delete();\n              }\n              if (!i.isValid()) throw o(), new Error(\"THREE.KTX2Loader:\\tInvalid or unsupported .ktx2 file\");\n              let a;\n              if (i.isUASTC()) a = s.UASTC;else if (i.isETC1S()) a = s.ETC1S;else {\n                if (!i.isHDR()) throw new Error(\"THREE.KTX2Loader: Unknown Basis encoding\");\n                a = s.UASTC_HDR;\n              }\n              const h = i.getWidth(),\n                d = i.getHeight(),\n                u = i.getLayers() || 1,\n                g = i.getLevels(),\n                p = i.getFaces(),\n                f = i.getHasAlpha(),\n                m = i.getDFDFlags(),\n                {\n                  transcoderFormat: E,\n                  engineFormat: C,\n                  engineType: v\n                } = function (t, n, i, r) {\n                  const o = A[t];\n                  for (let s = 0; s < o.length; s++) {\n                    const a = o[s];\n                    if ((!a.if || e[a.if]) && a.basisFormat.includes(t) && !(r && a.transcoderFormat.length < 2) && (!a.needsPowerOfTwo || l(n) && l(i))) return {\n                      transcoderFormat: a.transcoderFormat[r ? 1 : 0],\n                      engineFormat: a.engineFormat[r ? 1 : 0],\n                      engineType: a.engineType[0]\n                    };\n                  }\n                  throw new Error(\"THREE.KTX2Loader: Failed to identify transcoding target.\");\n                }(a, h, d, f);\n              if (!h || !d || !g) throw o(), new Error(\"THREE.KTX2Loader:\\tInvalid texture\");\n              if (!i.startTranscoding()) throw o(), new Error(\"THREE.KTX2Loader: .startTranscoding failed\");\n              const B = [],\n                b = [];\n              for (let e = 0; e < p; e++) {\n                const t = [];\n                for (let n = 0; n < g; n++) {\n                  const s = [];\n                  let a, A;\n                  for (let t = 0; t < u; t++) {\n                    const l = i.getImageLevelInfo(n, t, e);\n                    0 !== e || 0 !== n || 0 !== t || l.origWidth % 4 == 0 && l.origHeight % 4 == 0 || console.warn(\"THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions.\"), g > 1 ? (a = l.origWidth, A = l.origHeight) : (a = l.width, A = l.height);\n                    let c = new Uint8Array(i.getImageTranscodedSizeInBytes(n, t, 0, E));\n                    const h = i.transcodeImage(c, n, t, e, E, 0, -1, -1);\n                    if (v === r.HalfFloatType && (c = new Uint16Array(c.buffer, c.byteOffset, c.byteLength / Uint16Array.BYTES_PER_ELEMENT)), !h) throw o(), new Error(\"THREE.KTX2Loader: .transcodeImage failed.\");\n                    s.push(c);\n                  }\n                  const l = c(s);\n                  t.push({\n                    data: l,\n                    width: a,\n                    height: A\n                  }), b.push(l.buffer);\n                }\n                B.push({\n                  mipmaps: t,\n                  width: h,\n                  height: d,\n                  format: C,\n                  type: v\n                });\n              }\n              return o(), {\n                faces: B,\n                buffers: b,\n                width: h,\n                height: d,\n                hasAlpha: f,\n                dfdFlags: m,\n                format: C,\n                type: v\n              };\n            }(o.buffer);\n            self.postMessage({\n              type: \"transcode\",\n              id: o.id,\n              data: {\n                faces: t,\n                width: a,\n                height: h,\n                hasAlpha: d,\n                format: u,\n                type: g,\n                dfdFlags: p\n              }\n            }, i);\n          } catch (e) {\n            console.error(e), self.postMessage({\n              type: \"error\",\n              id: o.id,\n              error: e.message\n            });\n          }\n        });\n    }\n    var a;\n  });\n  const a = [{\n      if: \"astcSupported\",\n      basisFormat: [s.UASTC],\n      transcoderFormat: [o.ASTC_4x4, o.ASTC_4x4],\n      engineFormat: [i.RGBA_ASTC_4x4_Format, i.RGBA_ASTC_4x4_Format],\n      engineType: [r.UnsignedByteType],\n      priorityETC1S: 1 / 0,\n      priorityUASTC: 1,\n      needsPowerOfTwo: !1\n    }, {\n      if: \"bptcSupported\",\n      basisFormat: [s.ETC1S, s.UASTC],\n      transcoderFormat: [o.BC7_M5, o.BC7_M5],\n      engineFormat: [i.RGBA_BPTC_Format, i.RGBA_BPTC_Format],\n      engineType: [r.UnsignedByteType],\n      priorityETC1S: 3,\n      priorityUASTC: 2,\n      needsPowerOfTwo: !1\n    }, {\n      if: \"dxtSupported\",\n      basisFormat: [s.ETC1S, s.UASTC],\n      transcoderFormat: [o.BC1, o.BC3],\n      engineFormat: [i.RGBA_S3TC_DXT1_Format, i.RGBA_S3TC_DXT5_Format],\n      engineType: [r.UnsignedByteType],\n      priorityETC1S: 4,\n      priorityUASTC: 5,\n      needsPowerOfTwo: !1\n    }, {\n      if: \"etc2Supported\",\n      basisFormat: [s.ETC1S, s.UASTC],\n      transcoderFormat: [o.ETC1, o.ETC2],\n      engineFormat: [i.RGB_ETC2_Format, i.RGBA_ETC2_EAC_Format],\n      engineType: [r.UnsignedByteType],\n      priorityETC1S: 1,\n      priorityUASTC: 3,\n      needsPowerOfTwo: !1\n    }, {\n      if: \"etc1Supported\",\n      basisFormat: [s.ETC1S, s.UASTC],\n      transcoderFormat: [o.ETC1],\n      engineFormat: [i.RGB_ETC1_Format],\n      engineType: [r.UnsignedByteType],\n      priorityETC1S: 2,\n      priorityUASTC: 4,\n      needsPowerOfTwo: !1\n    }, {\n      if: \"pvrtcSupported\",\n      basisFormat: [s.ETC1S, s.UASTC],\n      transcoderFormat: [o.PVRTC1_4_RGB, o.PVRTC1_4_RGBA],\n      engineFormat: [i.RGB_PVRTC_4BPPV1_Format, i.RGBA_PVRTC_4BPPV1_Format],\n      engineType: [r.UnsignedByteType],\n      priorityETC1S: 5,\n      priorityUASTC: 6,\n      needsPowerOfTwo: !0\n    }, {\n      if: \"bptcSupported\",\n      basisFormat: [s.UASTC_HDR],\n      transcoderFormat: [o.BC6H],\n      engineFormat: [i.RGB_BPTC_UNSIGNED_Format],\n      engineType: [r.HalfFloatType],\n      priorityHDR: 1,\n      needsPowerOfTwo: !1\n    }, {\n      basisFormat: [s.ETC1S, s.UASTC],\n      transcoderFormat: [o.RGBA32, o.RGBA32],\n      engineFormat: [i.RGBAFormat, i.RGBAFormat],\n      engineType: [r.UnsignedByteType, r.UnsignedByteType],\n      priorityETC1S: 100,\n      priorityUASTC: 100,\n      needsPowerOfTwo: !1\n    }, {\n      basisFormat: [s.UASTC_HDR],\n      transcoderFormat: [o.RGBA_HALF],\n      engineFormat: [i.RGBAFormat],\n      engineType: [r.HalfFloatType],\n      priorityHDR: 100,\n      needsPowerOfTwo: !1\n    }],\n    A = {\n      [s.ETC1S]: a.filter(e => e.basisFormat.includes(s.ETC1S)).sort((e, t) => e.priorityUASTC - t.priorityUASTC),\n      [s.UASTC]: a.filter(e => e.basisFormat.includes(s.UASTC)).sort((e, t) => e.priorityUASTC - t.priorityUASTC),\n      [s.UASTC_HDR]: a.filter(e => e.basisFormat.includes(s.UASTC_HDR)).sort((e, t) => e.priorityHDR - t.priorityHDR)\n    };\n  function l(e) {\n    return e <= 2 || !(e & e - 1) && 0 !== e;\n  }\n  function c(e) {\n    if (1 === e.length) return e[0];\n    let t = 0;\n    for (let n = 0; n < e.length; n++) t += e[n].byteLength;\n    const n = new Uint8Array(t);\n    let i = 0;\n    for (let t = 0; t < e.length; t++) {\n      const r = e[t];\n      n.set(r, i), i += r.byteLength;\n    }\n    return n;\n  }\n};\nconst bn = new Set([Re.RGBAFormat, Re.RGFormat, Re.RedFormat]),\n  yn = {\n    [nn]: Re.RGBAFormat,\n    [$t]: Re.RGBAFormat,\n    [Wt]: Re.RGBAFormat,\n    [Jt]: Re.RGBAFormat,\n    [tn]: Re.RGFormat,\n    [Zt]: Re.RGFormat,\n    [Yt]: Re.RGFormat,\n    [Kt]: Re.RGFormat,\n    [en]: Re.RedFormat,\n    [Xt]: Re.RedFormat,\n    [zt]: Re.RedFormat,\n    [Vt]: Re.RedFormat,\n    [sn]: Re.RGBA_ASTC_4x4_Format,\n    [on]: Re.RGBA_ASTC_6x6_Format,\n    [rn]: Re.RGBA_ASTC_6x6_Format\n  },\n  In = {\n    [nn]: Re.FloatType,\n    [$t]: Re.HalfFloatType,\n    [Wt]: Re.UnsignedByteType,\n    [Jt]: Re.UnsignedByteType,\n    [tn]: Re.FloatType,\n    [Zt]: Re.HalfFloatType,\n    [Yt]: Re.UnsignedByteType,\n    [Kt]: Re.UnsignedByteType,\n    [en]: Re.FloatType,\n    [Xt]: Re.HalfFloatType,\n    [zt]: Re.UnsignedByteType,\n    [Vt]: Re.UnsignedByteType,\n    [sn]: Re.HalfFloatType,\n    [on]: Re.UnsignedByteType,\n    [rn]: Re.UnsignedByteType\n  };\nfunction wn(e) {\n  const t = e.dataFormatDescriptor[0];\n  return 1 === t.colorPrimaries ? 2 === t.transferFunction ? Re.SRGBColorSpace : Re.LinearSRGBColorSpace : 10 === t.colorPrimaries ? 2 === t.transferFunction ? \"display-p3\" : \"display-p3-linear\" : (0 === t.colorPrimaries || console.warn(`THREE.KTX2Loader: Unsupported color primaries, \"${t.colorPrimaries}\"`), Re.NoColorSpace);\n}\nconst xn = {\n    c: null,\n    u: [new Re.Vector3(), new Re.Vector3(), new Re.Vector3()],\n    e: []\n  },\n  Qn = {\n    c: null,\n    u: [new Re.Vector3(), new Re.Vector3(), new Re.Vector3()],\n    e: []\n  },\n  Ln = [[], [], []],\n  Mn = [[], [], []],\n  Sn = [],\n  Dn = new Re.Vector3(),\n  kn = new Re.Vector3(),\n  Tn = new Re.Vector3(),\n  Rn = new Re.Vector3(),\n  Fn = new Re.Vector3(),\n  Un = new Re.Vector3(),\n  On = new Re.Matrix3(),\n  Pn = new Re.Box3(),\n  Gn = new Re.Matrix4(),\n  Nn = new Re.Matrix4(),\n  jn = new Re.Ray();\nclass _n {\n  constructor(e = new Re.Vector3(), t = new Re.Vector3(), n = new Re.Matrix3()) {\n    this.center = e, this.halfSize = t, this.rotation = n;\n  }\n  set(e, t, n) {\n    return this.center = e, this.halfSize = t, this.rotation = n, this;\n  }\n  copy(e) {\n    return this.center.copy(e.center), this.halfSize.copy(e.halfSize), this.rotation.copy(e.rotation), this;\n  }\n  clone() {\n    return new this.constructor().copy(this);\n  }\n  getSize(e) {\n    return e.copy(this.halfSize).multiplyScalar(2);\n  }\n  clampPoint(e, t) {\n    const n = this.halfSize;\n    Rn.subVectors(e, this.center), this.rotation.extractBasis(Dn, kn, Tn), t.copy(this.center);\n    const i = Re.MathUtils.clamp(Rn.dot(Dn), -n.x, n.x);\n    t.add(Dn.multiplyScalar(i));\n    const r = Re.MathUtils.clamp(Rn.dot(kn), -n.y, n.y);\n    t.add(kn.multiplyScalar(r));\n    const o = Re.MathUtils.clamp(Rn.dot(Tn), -n.z, n.z);\n    return t.add(Tn.multiplyScalar(o)), t;\n  }\n  containsPoint(e) {\n    return Rn.subVectors(e, this.center), this.rotation.extractBasis(Dn, kn, Tn), Math.abs(Rn.dot(Dn)) <= this.halfSize.x && Math.abs(Rn.dot(kn)) <= this.halfSize.y && Math.abs(Rn.dot(Tn)) <= this.halfSize.z;\n  }\n  intersectsBox3(e) {\n    return this.intersectsOBB(Hn.fromBox3(e));\n  }\n  intersectsSphere(e) {\n    return this.clampPoint(e.center, Un), Un.distanceToSquared(e.center) <= e.radius * e.radius;\n  }\n  intersectsOBB(e, t = Number.EPSILON) {\n    xn.c = this.center, xn.e[0] = this.halfSize.x, xn.e[1] = this.halfSize.y, xn.e[2] = this.halfSize.z, this.rotation.extractBasis(xn.u[0], xn.u[1], xn.u[2]), Qn.c = e.center, Qn.e[0] = e.halfSize.x, Qn.e[1] = e.halfSize.y, Qn.e[2] = e.halfSize.z, e.rotation.extractBasis(Qn.u[0], Qn.u[1], Qn.u[2]);\n    for (let e = 0; e < 3; e++) for (let t = 0; t < 3; t++) Ln[e][t] = xn.u[e].dot(Qn.u[t]);\n    Rn.subVectors(Qn.c, xn.c), Sn[0] = Rn.dot(xn.u[0]), Sn[1] = Rn.dot(xn.u[1]), Sn[2] = Rn.dot(xn.u[2]);\n    for (let e = 0; e < 3; e++) for (let n = 0; n < 3; n++) Mn[e][n] = Math.abs(Ln[e][n]) + t;\n    let n, i;\n    for (let e = 0; e < 3; e++) if (n = xn.e[e], i = Qn.e[0] * Mn[e][0] + Qn.e[1] * Mn[e][1] + Qn.e[2] * Mn[e][2], Math.abs(Sn[e]) > n + i) return !1;\n    for (let e = 0; e < 3; e++) if (n = xn.e[0] * Mn[0][e] + xn.e[1] * Mn[1][e] + xn.e[2] * Mn[2][e], i = Qn.e[e], Math.abs(Sn[0] * Ln[0][e] + Sn[1] * Ln[1][e] + Sn[2] * Ln[2][e]) > n + i) return !1;\n    return n = xn.e[1] * Mn[2][0] + xn.e[2] * Mn[1][0], i = Qn.e[1] * Mn[0][2] + Qn.e[2] * Mn[0][1], !(Math.abs(Sn[2] * Ln[1][0] - Sn[1] * Ln[2][0]) > n + i || (n = xn.e[1] * Mn[2][1] + xn.e[2] * Mn[1][1], i = Qn.e[0] * Mn[0][2] + Qn.e[2] * Mn[0][0], Math.abs(Sn[2] * Ln[1][1] - Sn[1] * Ln[2][1]) > n + i || (n = xn.e[1] * Mn[2][2] + xn.e[2] * Mn[1][2], i = Qn.e[0] * Mn[0][1] + Qn.e[1] * Mn[0][0], Math.abs(Sn[2] * Ln[1][2] - Sn[1] * Ln[2][2]) > n + i || (n = xn.e[0] * Mn[2][0] + xn.e[2] * Mn[0][0], i = Qn.e[1] * Mn[1][2] + Qn.e[2] * Mn[1][1], Math.abs(Sn[0] * Ln[2][0] - Sn[2] * Ln[0][0]) > n + i || (n = xn.e[0] * Mn[2][1] + xn.e[2] * Mn[0][1], i = Qn.e[0] * Mn[1][2] + Qn.e[2] * Mn[1][0], Math.abs(Sn[0] * Ln[2][1] - Sn[2] * Ln[0][1]) > n + i || (n = xn.e[0] * Mn[2][2] + xn.e[2] * Mn[0][2], i = Qn.e[0] * Mn[1][1] + Qn.e[1] * Mn[1][0], Math.abs(Sn[0] * Ln[2][2] - Sn[2] * Ln[0][2]) > n + i || (n = xn.e[0] * Mn[1][0] + xn.e[1] * Mn[0][0], i = Qn.e[1] * Mn[2][2] + Qn.e[2] * Mn[2][1], Math.abs(Sn[1] * Ln[0][0] - Sn[0] * Ln[1][0]) > n + i || (n = xn.e[0] * Mn[1][1] + xn.e[1] * Mn[0][1], i = Qn.e[0] * Mn[2][2] + Qn.e[2] * Mn[2][0], Math.abs(Sn[1] * Ln[0][1] - Sn[0] * Ln[1][1]) > n + i || (n = xn.e[0] * Mn[1][2] + xn.e[1] * Mn[0][2], i = Qn.e[0] * Mn[2][1] + Qn.e[1] * Mn[2][0], Math.abs(Sn[1] * Ln[0][2] - Sn[0] * Ln[1][2]) > n + i)))))))));\n  }\n  intersectsPlane(e) {\n    this.rotation.extractBasis(Dn, kn, Tn);\n    const t = this.halfSize.x * Math.abs(e.normal.dot(Dn)) + this.halfSize.y * Math.abs(e.normal.dot(kn)) + this.halfSize.z * Math.abs(e.normal.dot(Tn)),\n      n = e.normal.dot(this.center) - e.constant;\n    return Math.abs(n) <= t;\n  }\n  intersectRay(e, t) {\n    return this.getSize(Fn), Pn.setFromCenterAndSize(Rn.set(0, 0, 0), Fn), Gn.setFromMatrix3(this.rotation), Gn.setPosition(this.center), Nn.copy(Gn).invert(), jn.copy(e).applyMatrix4(Nn), jn.intersectBox(Pn, t) ? t.applyMatrix4(Gn) : null;\n  }\n  intersectsRay(e) {\n    return null !== this.intersectRay(e, Rn);\n  }\n  fromBox3(e) {\n    return e.getCenter(this.center), e.getSize(this.halfSize).multiplyScalar(.5), this.rotation.identity(), this;\n  }\n  equals(e) {\n    return e.center.equals(this.center) && e.halfSize.equals(this.halfSize) && e.rotation.equals(this.rotation);\n  }\n  applyMatrix4(e) {\n    const t = e.elements;\n    let n = Rn.set(t[0], t[1], t[2]).length();\n    const i = Rn.set(t[4], t[5], t[6]).length(),\n      r = Rn.set(t[8], t[9], t[10]).length();\n    e.determinant() < 0 && (n = -n), On.setFromMatrix4(e);\n    const o = 1 / n,\n      s = 1 / i,\n      a = 1 / r;\n    return On.elements[0] *= o, On.elements[1] *= o, On.elements[2] *= o, On.elements[3] *= s, On.elements[4] *= s, On.elements[5] *= s, On.elements[6] *= a, On.elements[7] *= a, On.elements[8] *= a, this.rotation.multiply(On), this.halfSize.x *= n, this.halfSize.y *= i, this.halfSize.z *= r, Rn.setFromMatrixPosition(e), this.center.add(Rn), this;\n  }\n}\nconst Hn = new _n(),\n  qn = /^[og]\\s*(.+)?/,\n  Vn = /^mtllib /,\n  zn = /^usemtl /,\n  Yn = /^usemap /,\n  Kn = /\\s+/,\n  Wn = new Re.Vector3(),\n  Jn = new Re.Vector3(),\n  Xn = new Re.Vector3(),\n  Zn = new Re.Vector3(),\n  $n = new Re.Vector3(),\n  ei = new Re.Color();\nfunction ti() {\n  const e = {\n    objects: [],\n    object: {},\n    vertices: [],\n    normals: [],\n    colors: [],\n    uvs: [],\n    materials: {},\n    materialLibraries: [],\n    startObject: function (e, t) {\n      if (this.object && !1 === this.object.fromDeclaration) return this.object.name = e, void (this.object.fromDeclaration = !1 !== t);\n      const n = this.object && \"function\" == typeof this.object.currentMaterial ? this.object.currentMaterial() : void 0;\n      if (this.object && \"function\" == typeof this.object._finalize && this.object._finalize(!0), this.object = {\n        name: e || \"\",\n        fromDeclaration: !1 !== t,\n        geometry: {\n          vertices: [],\n          normals: [],\n          colors: [],\n          uvs: [],\n          hasUVIndices: !1\n        },\n        materials: [],\n        smooth: !0,\n        startMaterial: function (e, t) {\n          const n = this._finalize(!1);\n          n && (n.inherited || n.groupCount <= 0) && this.materials.splice(n.index, 1);\n          const i = {\n            index: this.materials.length,\n            name: e || \"\",\n            mtllib: Array.isArray(t) && t.length > 0 ? t[t.length - 1] : \"\",\n            smooth: void 0 !== n ? n.smooth : this.smooth,\n            groupStart: void 0 !== n ? n.groupEnd : 0,\n            groupEnd: -1,\n            groupCount: -1,\n            inherited: !1,\n            clone: function (e) {\n              const t = {\n                index: \"number\" == typeof e ? e : this.index,\n                name: this.name,\n                mtllib: this.mtllib,\n                smooth: this.smooth,\n                groupStart: 0,\n                groupEnd: -1,\n                groupCount: -1,\n                inherited: !1\n              };\n              return t.clone = this.clone.bind(t), t;\n            }\n          };\n          return this.materials.push(i), i;\n        },\n        currentMaterial: function () {\n          if (this.materials.length > 0) return this.materials[this.materials.length - 1];\n        },\n        _finalize: function (e) {\n          const t = this.currentMaterial();\n          if (t && -1 === t.groupEnd && (t.groupEnd = this.geometry.vertices.length / 3, t.groupCount = t.groupEnd - t.groupStart, t.inherited = !1), e && this.materials.length > 1) for (let e = this.materials.length - 1; e >= 0; e--) this.materials[e].groupCount <= 0 && this.materials.splice(e, 1);\n          return e && 0 === this.materials.length && this.materials.push({\n            name: \"\",\n            smooth: this.smooth\n          }), t;\n        }\n      }, n && n.name && \"function\" == typeof n.clone) {\n        const e = n.clone(0);\n        e.inherited = !0, this.object.materials.push(e);\n      }\n      this.objects.push(this.object);\n    },\n    finalize: function () {\n      this.object && \"function\" == typeof this.object._finalize && this.object._finalize(!0);\n    },\n    parseVertexIndex: function (e, t) {\n      const n = parseInt(e, 10);\n      return 3 * (n >= 0 ? n - 1 : n + t / 3);\n    },\n    parseNormalIndex: function (e, t) {\n      const n = parseInt(e, 10);\n      return 3 * (n >= 0 ? n - 1 : n + t / 3);\n    },\n    parseUVIndex: function (e, t) {\n      const n = parseInt(e, 10);\n      return 2 * (n >= 0 ? n - 1 : n + t / 2);\n    },\n    addVertex: function (e, t, n) {\n      const i = this.vertices,\n        r = this.object.geometry.vertices;\n      r.push(i[e + 0], i[e + 1], i[e + 2]), r.push(i[t + 0], i[t + 1], i[t + 2]), r.push(i[n + 0], i[n + 1], i[n + 2]);\n    },\n    addVertexPoint: function (e) {\n      const t = this.vertices;\n      this.object.geometry.vertices.push(t[e + 0], t[e + 1], t[e + 2]);\n    },\n    addVertexLine: function (e) {\n      const t = this.vertices;\n      this.object.geometry.vertices.push(t[e + 0], t[e + 1], t[e + 2]);\n    },\n    addNormal: function (e, t, n) {\n      const i = this.normals,\n        r = this.object.geometry.normals;\n      r.push(i[e + 0], i[e + 1], i[e + 2]), r.push(i[t + 0], i[t + 1], i[t + 2]), r.push(i[n + 0], i[n + 1], i[n + 2]);\n    },\n    addFaceNormal: function (e, t, n) {\n      const i = this.vertices,\n        r = this.object.geometry.normals;\n      Wn.fromArray(i, e), Jn.fromArray(i, t), Xn.fromArray(i, n), $n.subVectors(Xn, Jn), Zn.subVectors(Wn, Jn), $n.cross(Zn), $n.normalize(), r.push($n.x, $n.y, $n.z), r.push($n.x, $n.y, $n.z), r.push($n.x, $n.y, $n.z);\n    },\n    addColor: function (e, t, n) {\n      const i = this.colors,\n        r = this.object.geometry.colors;\n      void 0 !== i[e] && r.push(i[e + 0], i[e + 1], i[e + 2]), void 0 !== i[t] && r.push(i[t + 0], i[t + 1], i[t + 2]), void 0 !== i[n] && r.push(i[n + 0], i[n + 1], i[n + 2]);\n    },\n    addUV: function (e, t, n) {\n      const i = this.uvs,\n        r = this.object.geometry.uvs;\n      r.push(i[e + 0], i[e + 1]), r.push(i[t + 0], i[t + 1]), r.push(i[n + 0], i[n + 1]);\n    },\n    addDefaultUV: function () {\n      const e = this.object.geometry.uvs;\n      e.push(0, 0), e.push(0, 0), e.push(0, 0);\n    },\n    addUVLine: function (e) {\n      const t = this.uvs;\n      this.object.geometry.uvs.push(t[e + 0], t[e + 1]);\n    },\n    addFace: function (e, t, n, i, r, o, s, a, A) {\n      const l = this.vertices.length;\n      let c = this.parseVertexIndex(e, l),\n        h = this.parseVertexIndex(t, l),\n        d = this.parseVertexIndex(n, l);\n      if (this.addVertex(c, h, d), this.addColor(c, h, d), void 0 !== s && \"\" !== s) {\n        const e = this.normals.length;\n        c = this.parseNormalIndex(s, e), h = this.parseNormalIndex(a, e), d = this.parseNormalIndex(A, e), this.addNormal(c, h, d);\n      } else this.addFaceNormal(c, h, d);\n      if (void 0 !== i && \"\" !== i) {\n        const e = this.uvs.length;\n        c = this.parseUVIndex(i, e), h = this.parseUVIndex(r, e), d = this.parseUVIndex(o, e), this.addUV(c, h, d), this.object.geometry.hasUVIndices = !0;\n      } else this.addDefaultUV();\n    },\n    addPointGeometry: function (e) {\n      this.object.geometry.type = \"Points\";\n      const t = this.vertices.length;\n      for (let n = 0, i = e.length; n < i; n++) {\n        const i = this.parseVertexIndex(e[n], t);\n        this.addVertexPoint(i), this.addColor(i);\n      }\n    },\n    addLineGeometry: function (e, t) {\n      this.object.geometry.type = \"Line\";\n      const n = this.vertices.length,\n        i = this.uvs.length;\n      for (let t = 0, i = e.length; t < i; t++) this.addVertexLine(this.parseVertexIndex(e[t], n));\n      for (let e = 0, n = t.length; e < n; e++) this.addUVLine(this.parseUVIndex(t[e], i));\n    }\n  };\n  return e.startObject(\"\", !1), e;\n}\nclass ni extends Re.Loader {\n  constructor(e) {\n    super(e), this.materials = null;\n  }\n  load(e, t, n, i) {\n    const r = this,\n      o = new Re.FileLoader(this.manager);\n    o.setPath(this.path), o.setRequestHeader(this.requestHeader), o.setWithCredentials(this.withCredentials), o.load(e, function (n) {\n      try {\n        t(r.parse(n));\n      } catch (t) {\n        i ? i(t) : console.error(t), r.manager.itemError(e);\n      }\n    }, n, i);\n  }\n  setMaterials(e) {\n    return this.materials = e, this;\n  }\n  parse(e) {\n    const t = new ti();\n    -1 !== e.indexOf(\"\\r\\n\") && (e = e.replace(/\\r\\n/g, \"\\n\")), -1 !== e.indexOf(\"\\\\\\n\") && (e = e.replace(/\\\\\\n/g, \"\"));\n    const n = e.split(\"\\n\");\n    let i = [];\n    for (let e = 0, r = n.length; e < r; e++) {\n      const r = n[e].trimStart();\n      if (0 === r.length) continue;\n      const o = r.charAt(0);\n      if (\"#\" !== o) if (\"v\" === o) {\n        const e = r.split(Kn);\n        switch (e[0]) {\n          case \"v\":\n            t.vertices.push(parseFloat(e[1]), parseFloat(e[2]), parseFloat(e[3])), e.length >= 7 ? (ei.setRGB(parseFloat(e[4]), parseFloat(e[5]), parseFloat(e[6]), Re.SRGBColorSpace), t.colors.push(ei.r, ei.g, ei.b)) : t.colors.push(void 0, void 0, void 0);\n            break;\n          case \"vn\":\n            t.normals.push(parseFloat(e[1]), parseFloat(e[2]), parseFloat(e[3]));\n            break;\n          case \"vt\":\n            t.uvs.push(parseFloat(e[1]), parseFloat(e[2]));\n        }\n      } else if (\"f\" === o) {\n        const e = r.slice(1).trim().split(Kn),\n          n = [];\n        for (let t = 0, i = e.length; t < i; t++) {\n          const i = e[t];\n          if (i.length > 0) {\n            const e = i.split(\"/\");\n            n.push(e);\n          }\n        }\n        const i = n[0];\n        for (let e = 1, r = n.length - 1; e < r; e++) {\n          const r = n[e],\n            o = n[e + 1];\n          t.addFace(i[0], r[0], o[0], i[1], r[1], o[1], i[2], r[2], o[2]);\n        }\n      } else if (\"l\" === o) {\n        const e = r.substring(1).trim().split(\" \");\n        let n = [];\n        const i = [];\n        if (-1 === r.indexOf(\"/\")) n = e;else for (let t = 0, r = e.length; t < r; t++) {\n          const r = e[t].split(\"/\");\n          \"\" !== r[0] && n.push(r[0]), \"\" !== r[1] && i.push(r[1]);\n        }\n        t.addLineGeometry(n, i);\n      } else if (\"p\" === o) {\n        const e = r.slice(1).trim().split(\" \");\n        t.addPointGeometry(e);\n      } else if (null !== (i = qn.exec(r))) {\n        const e = (\" \" + i[0].slice(1).trim()).slice(1);\n        t.startObject(e);\n      } else if (zn.test(r)) t.object.startMaterial(r.substring(7).trim(), t.materialLibraries);else if (Vn.test(r)) t.materialLibraries.push(r.substring(7).trim());else if (Yn.test(r)) console.warn('THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.');else if (\"s\" === o) {\n        if (i = r.split(\" \"), i.length > 1) {\n          const e = i[1].trim().toLowerCase();\n          t.object.smooth = \"0\" !== e && \"off\" !== e;\n        } else t.object.smooth = !0;\n        const e = t.object.currentMaterial();\n        e && (e.smooth = t.object.smooth);\n      } else {\n        if (\"\\0\" === r) continue;\n        console.warn('THREE.OBJLoader: Unexpected line: \"' + r + '\"');\n      }\n    }\n    t.finalize();\n    const r = new Re.Group();\n    if (r.materialLibraries = [].concat(t.materialLibraries), !0 == !(1 === t.objects.length && 0 === t.objects[0].geometry.vertices.length)) for (let e = 0, n = t.objects.length; e < n; e++) {\n      const n = t.objects[e],\n        i = n.geometry,\n        o = n.materials,\n        s = \"Line\" === i.type,\n        a = \"Points\" === i.type;\n      let A = !1;\n      if (0 === i.vertices.length) continue;\n      const l = new Re.BufferGeometry();\n      l.setAttribute(\"position\", new Re.Float32BufferAttribute(i.vertices, 3)), i.normals.length > 0 && l.setAttribute(\"normal\", new Re.Float32BufferAttribute(i.normals, 3)), i.colors.length > 0 && (A = !0, l.setAttribute(\"color\", new Re.Float32BufferAttribute(i.colors, 3))), !0 === i.hasUVIndices && l.setAttribute(\"uv\", new Re.Float32BufferAttribute(i.uvs, 2));\n      const c = [];\n      for (let e = 0, n = o.length; e < n; e++) {\n        const n = o[e],\n          i = n.name + \"_\" + n.smooth + \"_\" + A;\n        let r = t.materials[i];\n        if (null !== this.materials) if (r = this.materials.create(n.name), !s || !r || r instanceof Re.LineBasicMaterial) {\n          if (a && r && !(r instanceof Re.PointsMaterial)) {\n            const e = new Re.PointsMaterial({\n              size: 10,\n              sizeAttenuation: !1\n            });\n            Re.Material.prototype.copy.call(e, r), e.color.copy(r.color), e.map = r.map, r = e;\n          }\n        } else {\n          const e = new Re.LineBasicMaterial();\n          Re.Material.prototype.copy.call(e, r), e.color.copy(r.color), r = e;\n        }\n        void 0 === r && (r = s ? new Re.LineBasicMaterial() : a ? new Re.PointsMaterial({\n          size: 1,\n          sizeAttenuation: !1\n        }) : new Re.MeshPhongMaterial(), r.name = n.name, r.flatShading = !n.smooth, r.vertexColors = A, t.materials[i] = r), c.push(r);\n      }\n      let h;\n      if (c.length > 1) {\n        for (let e = 0, t = o.length; e < t; e++) {\n          const t = o[e];\n          l.addGroup(t.groupStart, t.groupCount, e);\n        }\n        h = s ? new Re.LineSegments(l, c) : a ? new Re.Points(l, c) : new Re.Mesh(l, c);\n      } else h = s ? new Re.LineSegments(l, c[0]) : a ? new Re.Points(l, c[0]) : new Re.Mesh(l, c[0]);\n      h.name = n.name, r.add(h);\n    } else if (t.vertices.length > 0) {\n      const e = new Re.PointsMaterial({\n          size: 1,\n          sizeAttenuation: !1\n        }),\n        n = new Re.BufferGeometry();\n      n.setAttribute(\"position\", new Re.Float32BufferAttribute(t.vertices, 3)), t.colors.length > 0 && void 0 !== t.colors[0] && (n.setAttribute(\"color\", new Re.Float32BufferAttribute(t.colors, 3)), e.vertexColors = !0);\n      const i = new Re.Points(n, e);\n      r.add(i);\n    }\n    return r;\n  }\n}\nclass ii extends Re.Loader {\n  constructor(e) {\n    super(e);\n  }\n  load(e, t, n, i) {\n    const r = this,\n      o = \"\" === this.path ? Re.LoaderUtils.extractUrlBase(e) : this.path,\n      s = new Re.FileLoader(this.manager);\n    s.setPath(this.path), s.setRequestHeader(this.requestHeader), s.setWithCredentials(this.withCredentials), s.load(e, function (n) {\n      try {\n        t(r.parse(n, o));\n      } catch (t) {\n        i ? i(t) : console.error(t), r.manager.itemError(e);\n      }\n    }, n, i);\n  }\n  setMaterialOptions(e) {\n    return this.materialOptions = e, this;\n  }\n  parse(e, t) {\n    const n = e.split(\"\\n\");\n    let i = {};\n    const r = /\\s+/,\n      o = {};\n    for (let e = 0; e < n.length; e++) {\n      let t = n[e];\n      if (t = t.trim(), 0 === t.length || \"#\" === t.charAt(0)) continue;\n      const s = t.indexOf(\" \");\n      let a = s >= 0 ? t.substring(0, s) : t;\n      a = a.toLowerCase();\n      let A = s >= 0 ? t.substring(s + 1) : \"\";\n      if (A = A.trim(), \"newmtl\" === a) i = {\n        name: A\n      }, o[A] = i;else if (\"ka\" === a || \"kd\" === a || \"ks\" === a || \"ke\" === a) {\n        const e = A.split(r, 3);\n        i[a] = [parseFloat(e[0]), parseFloat(e[1]), parseFloat(e[2])];\n      } else i[a] = A;\n    }\n    const s = new ri(this.resourcePath || t, this.materialOptions);\n    return s.setCrossOrigin(this.crossOrigin), s.setManager(this.manager), s.setMaterials(o), s;\n  }\n}\nclass ri {\n  constructor(e = \"\", t = {}) {\n    this.baseUrl = e, this.options = t, this.materialsInfo = {}, this.materials = {}, this.materialsArray = [], this.nameLookup = {}, this.crossOrigin = \"anonymous\", this.side = void 0 !== this.options.side ? this.options.side : Re.FrontSide, this.wrap = void 0 !== this.options.wrap ? this.options.wrap : Re.RepeatWrapping;\n  }\n  setCrossOrigin(e) {\n    return this.crossOrigin = e, this;\n  }\n  setManager(e) {\n    this.manager = e;\n  }\n  setMaterials(e) {\n    this.materialsInfo = this.convert(e), this.materials = {}, this.materialsArray = [], this.nameLookup = {};\n  }\n  convert(e) {\n    if (!this.options) return e;\n    const t = {};\n    for (const n in e) {\n      const i = e[n],\n        r = {};\n      t[n] = r;\n      for (const e in i) {\n        let t = !0,\n          n = i[e];\n        const o = e.toLowerCase();\n        switch (o) {\n          case \"kd\":\n          case \"ka\":\n          case \"ks\":\n            this.options && this.options.normalizeRGB && (n = [n[0] / 255, n[1] / 255, n[2] / 255]), this.options && this.options.ignoreZeroRGBs && 0 === n[0] && 0 === n[1] && 0 === n[2] && (t = !1);\n        }\n        t && (r[o] = n);\n      }\n    }\n    return t;\n  }\n  preload() {\n    for (const e in this.materialsInfo) this.create(e);\n  }\n  getIndex(e) {\n    return this.nameLookup[e];\n  }\n  getAsArray() {\n    let e = 0;\n    for (const t in this.materialsInfo) this.materialsArray[e] = this.create(t), this.nameLookup[t] = e, e++;\n    return this.materialsArray;\n  }\n  create(e) {\n    return void 0 === this.materials[e] && this.createMaterial_(e), this.materials[e];\n  }\n  createMaterial_(e) {\n    const t = this,\n      n = this.materialsInfo[e],\n      i = {\n        name: e,\n        side: this.side\n      };\n    function r(e, n) {\n      if (i[e]) return;\n      const r = t.getTextureParams(n, i),\n        o = t.loadTexture((s = t.baseUrl, \"string\" != typeof (a = r.url) || \"\" === a ? \"\" : /^https?:\\/\\//i.test(a) ? a : s + a));\n      var s, a;\n      o.repeat.copy(r.scale), o.offset.copy(r.offset), o.wrapS = t.wrap, o.wrapT = t.wrap, \"map\" !== e && \"emissiveMap\" !== e || (o.colorSpace = Re.SRGBColorSpace), i[e] = o;\n    }\n    for (const e in n) {\n      const t = n[e];\n      let o;\n      if (\"\" !== t) switch (e.toLowerCase()) {\n        case \"kd\":\n          i.color = Re.ColorManagement.toWorkingColorSpace(new Re.Color().fromArray(t), Re.SRGBColorSpace);\n          break;\n        case \"ks\":\n          i.specular = Re.ColorManagement.toWorkingColorSpace(new Re.Color().fromArray(t), Re.SRGBColorSpace);\n          break;\n        case \"ke\":\n          i.emissive = Re.ColorManagement.toWorkingColorSpace(new Re.Color().fromArray(t), Re.SRGBColorSpace);\n          break;\n        case \"map_kd\":\n          r(\"map\", t);\n          break;\n        case \"map_ks\":\n          r(\"specularMap\", t);\n          break;\n        case \"map_ke\":\n          r(\"emissiveMap\", t);\n          break;\n        case \"norm\":\n          r(\"normalMap\", t);\n          break;\n        case \"map_bump\":\n        case \"bump\":\n          r(\"bumpMap\", t);\n          break;\n        case \"map_d\":\n          r(\"alphaMap\", t), i.transparent = !0;\n          break;\n        case \"ns\":\n          i.shininess = parseFloat(t);\n          break;\n        case \"d\":\n          o = parseFloat(t), o < 1 && (i.opacity = o, i.transparent = !0);\n          break;\n        case \"tr\":\n          o = parseFloat(t), this.options && this.options.invertTrProperty && (o = 1 - o), o > 0 && (i.opacity = 1 - o, i.transparent = !0);\n      }\n    }\n    return this.materials[e] = new Re.MeshPhongMaterial(i), this.materials[e];\n  }\n  getTextureParams(e, t) {\n    const n = {\n        scale: new Re.Vector2(1, 1),\n        offset: new Re.Vector2(0, 0)\n      },\n      i = e.split(/\\s+/);\n    let r;\n    return r = i.indexOf(\"-bm\"), r >= 0 && (t.bumpScale = parseFloat(i[r + 1]), i.splice(r, 2)), r = i.indexOf(\"-s\"), r >= 0 && (n.scale.set(parseFloat(i[r + 1]), parseFloat(i[r + 2])), i.splice(r, 4)), r = i.indexOf(\"-o\"), r >= 0 && (n.offset.set(parseFloat(i[r + 1]), parseFloat(i[r + 2])), i.splice(r, 4)), n.url = i.join(\" \").trim(), n;\n  }\n  loadTexture(e, t, n, i, r) {\n    const o = void 0 !== this.manager ? this.manager : Re.DefaultLoadingManager;\n    let s = o.getHandler(e);\n    null === s && (s = new Re.TextureLoader(o)), s.setCrossOrigin && s.setCrossOrigin(this.crossOrigin);\n    const a = s.load(e, n, i, r);\n    return void 0 !== t && (a.mapping = t), a;\n  }\n}\nclass oi {\n  static fromCubeTexture(e) {\n    let t = 0;\n    const n = new Re.Vector3(),\n      i = new Re.Vector3(),\n      r = new Re.Color(),\n      o = [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      s = new Re.SphericalHarmonics3(),\n      a = s.coefficients;\n    for (let s = 0; s < 6; s++) {\n      const A = e.image[s],\n        l = A.width,\n        c = A.height,\n        h = document.createElement(\"canvas\");\n      h.width = l, h.height = c;\n      const d = h.getContext(\"2d\");\n      d.drawImage(A, 0, 0, l, c);\n      const u = d.getImageData(0, 0, l, c),\n        g = u.data,\n        p = u.width,\n        f = 2 / p;\n      for (let A = 0, l = g.length; A < l; A += 4) {\n        r.setRGB(g[A] / 255, g[A + 1] / 255, g[A + 2] / 255), si(r, e.colorSpace);\n        const l = A / 4,\n          c = (l % p + .5) * f - 1,\n          h = 1 - (Math.floor(l / p) + .5) * f;\n        switch (s) {\n          case 0:\n            n.set(-1, h, -c);\n            break;\n          case 1:\n            n.set(1, h, c);\n            break;\n          case 2:\n            n.set(-c, 1, -h);\n            break;\n          case 3:\n            n.set(-c, -1, h);\n            break;\n          case 4:\n            n.set(-c, h, 1);\n            break;\n          case 5:\n            n.set(c, h, -1);\n        }\n        const d = n.lengthSq(),\n          u = 4 / (Math.sqrt(d) * d);\n        t += u, i.copy(n).normalize(), Re.SphericalHarmonics3.getBasisAt(i, o);\n        for (let e = 0; e < 9; e++) a[e].x += o[e] * r.r * u, a[e].y += o[e] * r.g * u, a[e].z += o[e] * r.b * u;\n      }\n    }\n    const A = 4 * Math.PI / t;\n    for (let e = 0; e < 9; e++) a[e].x *= A, a[e].y *= A, a[e].z *= A;\n    return new Re.LightProbe(s);\n  }\n  static async fromCubeRenderTarget(e, t) {\n    const n = e.coordinateSystem === Re.WebGLCoordinateSystem ? -1 : 1;\n    let i = 0;\n    const r = new Re.Vector3(),\n      o = new Re.Vector3(),\n      s = new Re.Color(),\n      a = [0, 0, 0, 0, 0, 0, 0, 0, 0],\n      A = new Re.SphericalHarmonics3(),\n      l = A.coefficients,\n      c = t.texture.type,\n      h = t.width;\n    let d;\n    e.isWebGLRenderer && (d = c === Re.HalfFloatType ? new Uint16Array(h * h * 4) : new Uint8Array(h * h * 4));\n    for (let A = 0; A < 6; A++) {\n      e.isWebGLRenderer ? await e.readRenderTargetPixelsAsync(t, 0, 0, h, h, d, A) : d = await e.readRenderTargetPixelsAsync(t, 0, 0, h, h, 0, A);\n      const u = 2 / h;\n      for (let e = 0, g = d.length; e < g; e += 4) {\n        let g, p, f;\n        c === Re.HalfFloatType ? (g = Re.DataUtils.fromHalfFloat(d[e]), p = Re.DataUtils.fromHalfFloat(d[e + 1]), f = Re.DataUtils.fromHalfFloat(d[e + 2])) : (g = d[e] / 255, p = d[e + 1] / 255, f = d[e + 2] / 255), s.setRGB(g, p, f), si(s, t.texture.colorSpace);\n        const m = e / 4,\n          E = (1 - (m % h + .5) * u) * n,\n          C = 1 - (Math.floor(m / h) + .5) * u;\n        switch (A) {\n          case 0:\n            r.set(-1 * n, C, E * n);\n            break;\n          case 1:\n            r.set(1 * n, C, -E * n);\n            break;\n          case 2:\n            r.set(E, 1, -C);\n            break;\n          case 3:\n            r.set(E, -1, C);\n            break;\n          case 4:\n            r.set(E, C, 1);\n            break;\n          case 5:\n            r.set(-E, C, -1);\n        }\n        const v = r.lengthSq(),\n          B = 4 / (Math.sqrt(v) * v);\n        i += B, o.copy(r).normalize(), Re.SphericalHarmonics3.getBasisAt(o, a);\n        for (let e = 0; e < 9; e++) l[e].x += a[e] * s.r * B, l[e].y += a[e] * s.g * B, l[e].z += a[e] * s.b * B;\n      }\n    }\n    const u = 4 * Math.PI / i;\n    for (let e = 0; e < 9; e++) l[e].x *= u, l[e].y *= u, l[e].z *= u;\n    return new Re.LightProbe(A);\n  }\n}\nfunction si(e, t) {\n  switch (t) {\n    case Re.SRGBColorSpace:\n      e.convertSRGBToLinear();\n      break;\n    case Re.LinearSRGBColorSpace:\n    case Re.NoColorSpace:\n      break;\n    default:\n      console.warn(\"WARNING: LightProbeGenerator convertColorToLinear() encountered an unsupported color space.\");\n  }\n  return e;\n}\nvar ai = function (e) {\n    var t = this;\n    this.object = e, this.object.rotation.reorder(\"YXZ\"), this.enabled = !0, this.deviceOrientation = {}, this.screenOrientation = 0, this.alphaOffset = 0;\n    var n,\n      i,\n      r,\n      o,\n      s = function (e) {\n        t.deviceOrientation = e;\n      },\n      a = function () {\n        t.screenOrientation = window.orientation || 0;\n      },\n      A = (n = new THREE.Vector3(0, 0, 1), i = new THREE.Euler(), r = new THREE.Quaternion(), o = new THREE.Quaternion(-Math.sqrt(.5), 0, 0, Math.sqrt(.5)), function (e, t, s, a, A) {\n        i.set(s, t, -a, \"YXZ\"), e.setFromEuler(i), e.multiply(o), e.multiply(r.setFromAxisAngle(n, -A));\n      });\n    this.connect = function () {\n      a(), window.addEventListener(\"orientationchange\", a, !1), window.addEventListener(\"deviceorientation\", s, !1), t.enabled = !0;\n    }, this.disconnect = function () {\n      window.removeEventListener(\"orientationchange\", a, !1), window.removeEventListener(\"deviceorientation\", s, !1), t.enabled = !1;\n    }, this.update = function () {\n      if (!1 !== t.enabled) {\n        var e = t.deviceOrientation;\n        if (e) {\n          var n = e.alpha ? THREE.MathUtils.degToRad(e.alpha) + t.alphaOffset : 0,\n            i = e.beta ? THREE.MathUtils.degToRad(e.beta) : 0,\n            r = e.gamma ? THREE.MathUtils.degToRad(e.gamma) : 0,\n            o = t.screenOrientation ? THREE.MathUtils.degToRad(t.screenOrientation) : 0;\n          A(t.object.quaternion, n, i, r, o);\n        }\n      }\n    }, this.dispose = function () {\n      t.disconnect();\n    }, this.connect();\n  },\n  Ai = globalThis.THREE = {\n    ...Re\n  };\nAi.DRACOLoader = Ue, Ai.GLTFLoader = Xe, Ai.KTX2Loader = Bn, Ai.OBJLoader = ni, Ai.MTLLoader = ii, Ai.OBB = _n, Ai.BufferGeometryUtils = o, Ai.LightProbeGenerator = oi, Ai.DeviceOrientationControls = ai, Ai.Cache.enabled = !0;\nconst li = Ai;\nvar ci = window.AFRAME_CDN_ROOT || \"https://cdn.aframe.io/\",\n  hi = \"aframe-injected\",\n  di = i(8878),\n  ui = i.n(di),\n  gi = {\n    colors: {\n      debug: \"gray\",\n      error: \"red\",\n      info: \"gray\",\n      warn: \"orange\"\n    }\n  };\nui().formatArgs = function (e) {\n  if (e[0] = (this.useColors ? \"%c\" : \"\") + this.namespace + (this.useColors ? \" %c\" : \" \") + e[0] + (this.useColors ? \"%c \" : \" \"), this.useColors) {\n    var t;\n    this.color = (t = function (e) {\n      var t = e.split(\":\");\n      return t[t.length - 1];\n    }(this.namespace), gi.colors && gi.colors[t] || null);\n    var n = \"color: \" + this.color;\n    e.splice(1, 0, n, \"color: inherit\");\n    var i = 0,\n      r = 0;\n    e[0].replace(/%[a-zA-Z%]/g, function (e) {\n      \"%%\" !== e && (i++, \"%c\" === e && (r = i));\n    }), e.splice(r, 0, n);\n  }\n};\nvar pi = function () {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}();\npi && (parseInt(pi.logs, 10) || \"true\" === pi.logs) ? ui().enable(\"*\") : ui().enable(\"*:error,*:info,*:warn\");\nconst fi = ui();\nvar mi = i(1124),\n  Ei = i.n(mi),\n  Ci = fi(\"device:error\"),\n  vi = !1,\n  Bi = !1,\n  bi = void 0 !== navigator.xr;\nif (bi) {\n  var yi = function () {\n      var e = document.querySelector(\"a-scene\");\n      e ? e.hasLoaded ? e.components[\"xr-mode-ui\"].updateEnterInterfaces() : e.addEventListener(\"loaded\", yi) : window.addEventListener(\"DOMContentLoaded\", yi);\n    },\n    Ii = function (e) {\n      Ci(\"WebXR session support error: \" + e.message);\n    };\n  navigator.xr.isSessionSupported ? (navigator.xr.isSessionSupported(\"immersive-vr\").then(function (e) {\n    vi = e, yi();\n  }).catch(Ii), navigator.xr.isSessionSupported(\"immersive-ar\").then(function (e) {\n    Bi = e, yi();\n  }).catch(function () {})) : navigator.xr.supportsSession ? (navigator.xr.supportsSession(\"immersive-vr\").then(function () {\n    vi = !0, yi();\n  }).catch(Ii), navigator.xr.supportsSession(\"immersive-ar\").then(function () {\n    Bi = !0, yi();\n  }).catch(function () {})) : Ci(\"WebXR has neither isSessionSupported or supportsSession?!\");\n}\nfunction wi() {\n  return vi || Bi;\n}\nfunction xi() {\n  return Bi;\n}\nfunction Qi() {\n  return vi;\n}\nvar Li,\n  Mi,\n  Si = (Li = !1, Mi = window.navigator.userAgent || window.navigator.vendor || window.opera, (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(Mi) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(Mi.substr(0, 4))) && (Li = !0), (Ri() || Di() || Gi()) && (Li = !0), Pi() && (Li = !1), function () {\n    return Li;\n  });\nfunction Di(e) {\n  var t = e || window.navigator.userAgent;\n  return /Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(t) || ki();\n}\nfunction ki(e, t, n) {\n  var i = e || window.navigator.userAgent,\n    r = t || window.navigator.platform,\n    o = n || window.navigator.maxTouchPoints || 0;\n  return (\"iPad\" === r || \"MacIntel\" === r) && o > 0 && /Macintosh|Intel|iPad|ipad/i.test(i) && !window.MSStream;\n}\nfunction Ti() {\n  var e = navigator.userAgent.includes(\"Macintosh\"),\n    t = 5 === navigator.maxTouchPoints;\n  return e && t && bi;\n}\nfunction Ri() {\n  return /iPad|iPhone|iPod/.test(window.navigator.platform);\n}\nfunction Fi() {\n  return !Si() && !Pi() && void 0 !== window.orientation;\n}\nfunction Ui() {\n  return /(OculusBrowser)/i.test(window.navigator.userAgent);\n}\nfunction Oi() {\n  return /(Mobile VR)/i.test(window.navigator.userAgent);\n}\nfunction Pi() {\n  return Ui() || Oi() || Ti();\n}\nfunction Gi() {\n  return /R7 Build/.test(window.navigator.userAgent);\n}\nfunction Ni() {\n  var e = window.orientation;\n  return Gi() && (e += 90), 90 === e || -90 === e;\n}\nvar ji = \"undefined\" == typeof process || !0 === process.browser,\n  _i = !ji,\n  Hi = Object.freeze(Object.create(null));\nfunction qi() {\n  return {};\n}\nfunction Vi(e) {\n  var t = [],\n    n = null;\n  function i(i) {\n    var r, o;\n    if ((i = void 0 === i ? t.length : i) > 0 && null == n && (n = 0), i > 0) for (r = t.length, t.length += Number(i), o = r; o < t.length; o++) t[o] = e();\n    return t.length;\n  }\n  return e = e || qi, {\n    grow: i,\n    pool: t,\n    recycle: function (e) {\n      e instanceof Object && (null !== n && -1 !== n ? t[--n] = e : t[t.length] = e);\n    },\n    size: function () {\n      return t.length;\n    },\n    use: function () {\n      var e;\n      return null !== n && n !== t.length || i(t.length || 5), e = t[n], t[n++] = Hi, zi(e), e;\n    }\n  };\n}\nfunction zi(e) {\n  var t;\n  if (e && e.constructor === Object) for (t in e) e[t] = void 0;\n}\nfunction Yi(e, t) {\n  var n;\n  if (e && e.constructor === Object) for (n in e) n in t || delete e[n];\n}\nvar Ki = fi(\"utils:coordinates:warn\"),\n  Wi = [\"x\", \"y\", \"z\", \"w\"],\n  Ji = /^\\s*((-?\\d*\\.{0,1}\\d+(e-?\\d+)?)\\s+){2,3}(-?\\d*\\.{0,1}\\d+(e-?\\d+)?)\\s*$/,\n  Xi = /\\s+/g;\nfunction Zi(e, t, n) {\n  var i,\n    r,\n    o,\n    s,\n    a,\n    A,\n    l,\n    c,\n    h = n && \"object\" == typeof n ? n : {};\n  if (e && e instanceof Object) return a = void 0 === e.x ? t && t.x : e.x, A = void 0 === e.y ? t && t.y : e.y, l = void 0 === e.z ? t && t.z : e.z, c = void 0 === e.w ? t && t.w : e.w, null != a && (h.x = ir(a)), null != A && (h.y = ir(A)), null != l && (h.z = ir(l)), null != c && (h.w = ir(c)), h;\n  if (null == e) return \"object\" == typeof t ? Object.assign(h, t) : t;\n  for (i = e.trim().split(Xi), s = 0; s < Wi.length; s++) if (o = Wi[s], i[s]) h[o] = parseFloat(i[s], 10);else {\n    if (void 0 === (r = t && t[o])) continue;\n    h[o] = ir(r);\n  }\n  return h;\n}\nfunction $i(e) {\n  var t;\n  return \"object\" != typeof e ? e : (t = e.x + \" \" + e.y, null != e.z && (t += \" \" + e.z), null != e.w && (t += \" \" + e.w), t);\n}\nfunction er(e, t) {\n  return \"object\" != typeof e || \"object\" != typeof t ? e === t : e.x === t.x && e.y === t.y && e.z === t.z && e.w === t.w;\n}\nfunction tr(e) {\n  return Ji.test(e);\n}\nfunction nr(e) {\n  return Ki(\"`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`\"), tr(e);\n}\nfunction ir(e) {\n  return null != e && e.constructor === String ? parseFloat(e, 10) : e;\n}\nfunction rr(e) {\n  return new Re.Vector3(e.x, e.y, e.z);\n}\nvar or = function () {\n  var e = {};\n  return function (t, n) {\n    return n in e || (e[n] = {}), t in e[n] || (e[n][t] = t.split(n)), e[n][t];\n  };\n}();\nfunction sr(e, t) {\n  var n = or(e, t = t || \".\");\n  return 1 === n.length ? n[0] : n;\n}\nfunction ar(e, t, n) {\n  var i;\n  return n = n || \".\", -1 !== t.indexOf(n) ? (i = sr(t, n)).constructor === String ? e.getAttribute(i) : e.getAttribute(i[0])[i[1]] : e.getAttribute(t);\n}\nfunction Ar(e, t, n, i) {\n  var r;\n  i = i || \".\", -1 === t.indexOf(i) ? e.setAttribute(t, n) : (r = sr(t, i)).constructor === String ? e.setAttribute(r, n) : e.setAttribute(r[0], r[1], n);\n}\nfunction lr(e) {\n  var t = e.style.width,\n    n = e.style.height;\n  e.style.width = parseInt(t, 10) + 1 + \"px\", e.style.height = parseInt(n, 10) + 1 + \"px\", setTimeout(function () {\n    e.style.width = t, e.style.height = n;\n  }, 200);\n}\nvar cr = fi(\"utils:src-loader:warn\");\nfunction hr(e, t, n) {\n  !function (e, t) {\n    var n;\n    e.tagName ? t(\"IMG\" === e.tagName) : ((n = new XMLHttpRequest()).open(\"HEAD\", e), n.addEventListener(\"load\", function (i) {\n      var r;\n      n.status >= 200 && n.status < 300 ? null == (r = n.getResponseHeader(\"Content-Type\")) ? pr(e, t) : r.startsWith(\"image\") ? t(!0) : t(!1) : pr(e, t), n.abort();\n    }), n.send());\n  }(e, function (i) {\n    i ? t(e) : n(e);\n  });\n}\nfunction dr(e, t, n) {\n  var i,\n    r,\n    o,\n    s = \"\",\n    a = [];\n  if (\"string\" == typeof e) {\n    for (r = 0; r < 5; r++) s += \"(url\\\\((?:[^\\\\)]+)\\\\),\\\\s*)\";\n    function A(e) {\n      a.push(e), 6 === a.length && t(a);\n    }\n    if (s += \"(url\\\\((?:[^\\\\)]+)\\\\)\\\\s*)\", o = e.match(new RegExp(s))) {\n      for (r = 1; r < 7; r++) hr(gr(o[r]), A);\n      return;\n    }\n    if (!e.startsWith(\"#\")) return void hr(gr(e) || e, n);\n  }\n  if (i = e.tagName ? e : function (e) {\n    try {\n      var t = document.querySelector(e);\n      return t || cr('No element was found matching the selector: \"%s\"', e), t;\n    } catch (t) {\n      return void cr('\"%s\" is not a valid selector', e);\n    }\n  }(e)) return \"A-CUBEMAP\" === i.tagName && i.srcs ? t(i.srcs) : \"IMG\" === i.tagName ? n(i) : void cr('Selector \"%s\" does not point to <a-cubemap> or <img>', e);\n}\nfunction ur(e, t) {\n  return dr(e, t, function () {\n    cr(\"Expected cubemap but got image\");\n  });\n}\nfunction gr(e) {\n  var t = e.match(/url\\((.+)\\)/);\n  if (t) return t[1];\n}\nfunction pr(e, t) {\n  var n = new Image();\n  n.addEventListener(\"load\", function () {\n    t(!0);\n  }), n.addEventListener(\"error\", function () {\n    t(!1);\n  }), n.src = e;\n}\nvar fr = fi(\"utils:material:warn\"),\n  mr = new Set([\"emissiveMap\", \"envMap\", \"map\", \"specularMap\"]);\nfunction Er(e, t) {\n  var n = t.offset || {\n      x: 0,\n      y: 0\n    },\n    i = t.repeat || {\n      x: 1,\n      y: 1\n    },\n    r = t.npot || !1,\n    o = t.anisotropy || Re.Texture.DEFAULT_ANISOTROPY,\n    s = e.wrapS,\n    a = e.wrapT,\n    A = e.magFilter,\n    l = e.minFilter;\n  r && (s = Re.ClampToEdgeWrapping, a = Re.ClampToEdgeWrapping, A = Re.LinearFilter, l = Re.LinearFilter), 1 === i.x && 1 === i.y || (s = Re.RepeatWrapping, a = Re.RepeatWrapping), e.offset.set(n.x, n.y), e.repeat.set(i.x, i.y), e.wrapS === s && e.wrapT === a && e.magFilter === A && e.minFilter === l && e.anisotropy === o || (e.wrapS = s, e.wrapT = a, e.magFilter = A, e.minFilter = l, e.anisotropy = o, e.needsUpdate = !0);\n}\nfunction Cr(e, t, n, i) {\n  var r = n.el,\n    o = n.material,\n    s = r.sceneEl.systems.renderer,\n    a = i[t];\n  if (n.materialSrcs || (n.materialSrcs = {}), !a) return delete n.materialSrcs[e], void A(null);\n  function A(t) {\n    o[e] !== t && (o[e] && o[e].dispose(), o[e] = t, o.needsUpdate = !0, Ir(r, t));\n  }\n  a === n.materialSrcs[e] && o[e] ? Er(o[e], i) : (n.materialSrcs[e] = a, a instanceof Re.Texture ? A(a) : r.sceneEl.systems.material.loadTextureSource(a, function (t) {\n    if (n.materialSrcs[e] === a) {\n      var r = o[e];\n      !r || null !== t && wr(r, t) || (r = null), !r && t && (r = xr(t)), r && (r.source !== t && (r.source = t, r.needsUpdate = !0), mr.has(e) && s.applyColorCorrection(r), Er(r, i)), A(r);\n    }\n  }));\n}\nfunction vr(e, t) {\n  return Cr(\"map\", \"src\", e, t);\n}\nfunction Br(e, t, n) {\n  var i = e;\n  \"ambientOcclusion\" === e && (i = \"ao\");\n  var r = {};\n  return r.src = n[e + \"Map\"], r.offset = n[e + \"TextureOffset\"], r.repeat = n[e + \"TextureRepeat\"], r.wrap = n[e + \"TextureWrap\"], Cr(i + \"Map\", \"src\", t, r);\n}\nvar br = {};\nfunction yr(e, t) {\n  var n = e.material,\n    i = e.el,\n    r = \"envMap\",\n    o = t.envMap,\n    s = t.sphericalEnvMap,\n    a = t.refract;\n  if (s && (o = s, fr(\"`sphericalEnvMap` property is deprecated, using spherical map as equirectangular map instead. Use `envMap` property with a CubeMap or Equirectangular image instead.\")), e.materialSrcs || (e.materialSrcs = {}), !o) return delete e.materialSrcs[r], n.envMap = null, void (n.needsUpdate = !0);\n  function A(t) {\n    e.materialSrcs[r] === o && (n.envMap = t, n.needsUpdate = !0, Ir(i, t));\n  }\n  e.materialSrcs[r] = o, br[o] ? br[o].then(A) : br[o] = new Promise(function (e) {\n    dr(o, function (t) {\n      i.sceneEl.systems.material.loadCubeMapTexture(t, function (t) {\n        t.mapping = a ? Re.CubeRefractionMapping : Re.CubeReflectionMapping, A(t), e(t);\n      });\n    }, function (t) {\n      i.sceneEl.systems.material.loadTexture(t, {\n        src: t\n      }, function (t) {\n        t.mapping = a ? Re.EquirectangularRefractionMapping : Re.EquirectangularReflectionMapping, A(t), e(t);\n      });\n    });\n  });\n}\nfunction Ir(e, t) {\n  function n() {\n    e.emit(\"materialvideoloadeddata\", {\n      src: t.image,\n      texture: t\n    });\n  }\n  function i() {\n    e.emit(\"materialvideoended\", {\n      src: t.image,\n      texture: t\n    });\n  }\n  t && (e.emit(\"materialtextureloaded\", {\n    src: t.image,\n    texture: t\n  }), t.image && \"VIDEO\" === t.image.tagName && (t.image.addEventListener(\"loadeddata\", n), t.image.addEventListener(\"ended\", i), t.addEventListener(\"dispose\", function () {\n    t.image.removeEventListener(\"loadeddata\", n), t.image.removeEventListener(\"ended\", i);\n  })));\n}\nfunction wr(e, t) {\n  return e.source === t && (t.data instanceof HTMLCanvasElement ? e.isCanvasTexture : t.data instanceof HTMLVideoElement ? e.isVideoTexture : e.isTexture && !e.isCanvasTexture && !e.isVideoTexture);\n}\nfunction xr(e) {\n  var t;\n  return (t = e.data instanceof HTMLCanvasElement ? new Re.CanvasTexture() : e.data instanceof HTMLVideoElement ? new Re.VideoTexture(e.data) : new Re.Texture()).source = e, t.needsUpdate = !0, t;\n}\nvar Qr = /-([a-z])/g;\nfunction Lr(e, t) {\n  var n;\n  return \"string\" != typeof e ? e : (n = function (e, t) {\n    var n, i, r, o, s, a;\n    for (t = t || {}, n = Tr(e), i = 0; i < n.length; i++) (r = n[i]) && (o = r.indexOf(\":\"), s = r.substr(0, o).trim(), a = r.substr(o + 1).trim(), t[Sr(s)] = a);\n    return t;\n  }(e, t), n[\"\"] ? e : n);\n}\nfunction Mr(e) {\n  return \"string\" == typeof e ? e : function (e) {\n    var t,\n      n = 0,\n      i = 0,\n      r = \"\";\n    for (t in e) n++;\n    for (t in e) r += t + \": \" + e[t], i < n - 1 && (r += \"; \"), i++;\n    return r;\n  }(e);\n}\nfunction Sr(e) {\n  return e.replace(Qr, Rr);\n}\nvar Dr,\n  kr,\n  Tr = (Dr = [], kr = /url\\([^)]+$/, function (e) {\n    var t,\n      n = \"\",\n      i = 0;\n    for (Dr.length = 0; i < e.length;) -1 === (t = e.indexOf(\";\", i)) && (t = e.length), n += e.substring(i, t), kr.test(n) ? (n += \";\", i = t + 1) : (Dr.push(n.trim()), n = \"\", i = t + 1);\n    return Dr;\n  });\nfunction Rr(e) {\n  return e[1].toUpperCase();\n}\nvar Fr = [\"x\", \"y\", \"z\", \"w\"];\nfunction Ur(e, t, n) {\n  var i,\n    r,\n    o = e.el;\n  if ((r = !!(i = Or(e, t, n))) === e.controllerPresent) return r;\n  e.controllerPresent = r, r ? (e.addEventListeners(), e.injectTrackedControls(i), o.emit(\"controllerconnected\", {\n    name: e.name,\n    component: e\n  })) : (e.removeEventListeners(), o.emit(\"controllerdisconnected\", {\n    name: e.name,\n    component: e\n  }));\n}\nfunction Or(e, t, n) {\n  var i,\n    r = e.el.sceneEl,\n    o = r && r.systems[\"tracked-controls\"];\n  return !!o && !(!(i = o.controllers) || !i.length) && Pr(i, t, n.hand, n.index, n.iterateControllerProfiles, n.handTracking);\n}\nfunction Pr(e, t, n, i, r, o) {\n  var s,\n    a,\n    A,\n    l,\n    c = !1;\n  for (s = 0; s < e.length; s++) {\n    if (l = (A = e[s]).profiles, o) c = A.hand;else if (r) for (a = 0; a < l.length && !(c = l[a].startsWith(t)); a++);else c = l.length > 0 && l[0].startsWith(t);\n    if (c) if (\"right\" === A.handedness || \"left\" === A.handedness) {\n      if (A.handedness === n) return e[s];\n    } else if (s === i) return e[s];\n  }\n}\nfunction Gr(e, t, n) {\n  var i, r, o, s, a;\n  for (r in t) {\n    for (i = t[r], o = !1, a = 0; a < i.length; a++) n.detail.changed[i[a]] && (o = !0);\n    if (o) {\n      for (s = {}, a = 0; a < i.length; a++) s[Fr[a]] = n.detail.axis[i[a]];\n      e.el.emit(r + \"moved\", s);\n    }\n  }\n}\nfunction Nr(e, t, n, i) {\n  var r = (i ? n.mapping[i] : n.mapping).buttons[e];\n  n.el.emit(r + t), n.updateModel && n.updateModel(r, t);\n}\nvar jr = fi(\"utils:warn\");\nfunction _r(e) {\n  return e.bind.apply(e, Array.prototype.slice.call(arguments, 1));\n}\nfunction Hr() {\n  return jr(\"`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`\"), wi();\n}\nfunction qr() {\n  return jr(\"`utils.isIOS` has moved to `utils.device.isIOS`\"), Ri();\n}\nfunction Vr() {\n  return jr(\"`utils.isMobile has moved to `utils.device.isMobile`\"), Si(arguments);\n}\nfunction zr(e, t, n) {\n  var i;\n  return n && (e = e.bind(n)), function () {\n    var n = Date.now();\n    (void 0 === i || (void 0 === i ? t : n - i) >= t) && (i = n, e.apply(null, arguments));\n  };\n}\nfunction Yr(e, t, n) {\n  var i, r, o;\n  n && (e = e.bind(n));\n  var s = function () {\n    i = Date.now(), e.apply(this, o), r = void 0;\n  };\n  return function () {\n    var n = Date.now(),\n      a = void 0 === i ? t : n - i;\n    a >= t ? (clearTimeout(r), r = void 0, i = n, e.apply(null, arguments)) : (r = r || setTimeout(s, t - a), o = arguments);\n  };\n}\nfunction Kr(e, t, n) {\n  var i;\n  return n && (e = e.bind(n)), function (n, r) {\n    var o = void 0 === i ? r : n - i;\n    (void 0 === i || o >= t) && (i = n, e(n, o));\n  };\n}\nfunction Wr(e, t, n) {\n  var i;\n  return function () {\n    var r = this,\n      o = arguments,\n      s = n && !i;\n    clearTimeout(i), i = setTimeout(function () {\n      i = null, n || e.apply(r, o);\n    }, t), s && e.apply(r, o);\n  };\n}\nvar Jr = Object.assign,\n  Xr = Ei();\nfunction Zr(e) {\n  return JSON.parse(JSON.stringify(e));\n}\nvar $r,\n  eo,\n  to = ($r = Vi(function () {\n    return [];\n  }), function (e, t) {\n    var n, i, r, o, s, a;\n    if (void 0 === e || void 0 === t || null === e || null === t || !(e && t && e.constructor === Object && t.constructor === Object || e.constructor === Array && t.constructor === Array)) return e === t;\n    for (n in i = $r.use(), r = $r.use(), i.length = 0, r.length = 0, e) i.push(n);\n    for (n in t) r.push(n);\n    if (i.length !== r.length) return $r.recycle(i), $r.recycle(r), !1;\n    for (o = 0; o < i.length; ++o) if (s = e[i[o]], a = t[i[o]], \"object\" == typeof s || \"object\" == typeof a || Array.isArray(s) && Array.isArray(a)) {\n      if (s === a) continue;\n      if (!to(s, a)) return $r.recycle(i), $r.recycle(r), !1;\n    } else if (s !== a) return $r.recycle(i), $r.recycle(r), !1;\n    return $r.recycle(i), $r.recycle(r), !0;\n  }),\n  no = (eo = [], function (e, t, n) {\n    var i, r, o, s, a, A, l;\n    for (a in s = n || {}, eo.length = 0, e) eo.push(a);\n    if (!t) return s;\n    for (o in t) -1 === eo.indexOf(o) && eo.push(o);\n    for (A = 0; A < eo.length; A++) i = e[a = eo[A]], r = t[a], ((l = i && r && i.constructor === Object && r.constructor === Object) && !to(i, r) || !l && i !== r) && (s[a] = r);\n    return s;\n  });\nfunction io(e) {\n  return !e.metaKey && document.activeElement === document.body;\n}\nfunction ro(e, t) {\n  void 0 === t && (t = \" \");\n  var n = new RegExp(t, \"g\");\n  return (e = (e || \"\").replace(n, t)).split(t);\n}\nfunction oo(e, t) {\n  t = t || {};\n  var n = {};\n  return Object.keys(t).forEach(function (t) {\n    e.hasAttribute(t) && (n[t] = e.getAttribute(t));\n  }), n;\n}\nfunction so(e) {\n  e = e.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n  var t = new RegExp(\"[\\\\?&]\" + e + \"=([^&#]*)\").exec(location.search);\n  return null === t ? \"\" : decodeURIComponent(t[1].replace(/\\+/g, \" \"));\n}\nfunction ao() {\n  return window.top !== window.self;\n}\nfunction Ao(e) {\n  for (var t = [], n = e.getElementsByTagName(\"*\"), i = 0, r = n.length; i < r; i++) n[i].isScene && t.push(n[i]);\n  return t;\n}\nvar lo,\n  co = [uo({\n    name: \"viewport\",\n    content: \"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover\"\n  }), uo({\n    name: \"mobile-web-app-capable\",\n    content: \"yes\"\n  }), uo({\n    name: \"theme-color\",\n    content: \"black\"\n  })],\n  ho = [uo({\n    name: \"apple-mobile-web-app-capable\",\n    content: \"yes\"\n  }), uo({\n    name: \"apple-mobile-web-app-status-bar-style\",\n    content: \"black\"\n  }), (lo = {\n    rel: \"apple-touch-icon\",\n    href: \"https://aframe.io/images/aframe-logo-152.png\"\n  }, {\n    tagName: \"link\",\n    attributes: lo,\n    exists: function () {\n      return document.querySelector('link[rel=\"' + lo.rel + '\"]');\n    }\n  })];\nfunction uo(e) {\n  return {\n    tagName: \"meta\",\n    attributes: e,\n    exists: function () {\n      return document.querySelector('meta[name=\"' + e.name + '\"]');\n    }\n  };\n}\nvar go,\n  po,\n  fo,\n  mo = i(5928),\n  Eo = i.n(mo),\n  Co = d,\n  vo = \"loading-screen\";\nfunction Bo(e) {\n  var t = go.hasAttribute(\"embedded\"),\n    n = fo(go.canvas, t, go.maxCanvasSize, go.is(\"vr-mode\"));\n  e.aspect = n.width / n.height, e.updateProjectionMatrix(), go.renderer.setSize(n.width, n.height, !1);\n}\nconst bo = [];\nvar yo = ui()(\"core:propertyTypes:warn\"),\n  Io = {},\n  wo = /[,> .[\\]:]/,\n  xo = /url\\((.+)\\)/;\nfunction Qo(e, t, n, i, r, o) {\n  if (e in Io) throw new Error(\"Property type \" + e + \" is already registered.\");\n  Io[e] = {\n    default: t,\n    parse: n || Do,\n    stringify: i || ko,\n    equals: r || To,\n    isCacheable: !1 !== o\n  };\n}\nfunction Lo(e, t) {\n  if (!Array.isArray(e) || !Array.isArray(t)) return e === t;\n  if (e.length !== t.length) return !1;\n  for (var n = 0; n < e.length; n++) if (e[n] !== t[n]) return !1;\n  return !0;\n}\nfunction Mo(e) {\n  var t, n;\n  return \"string\" != typeof e ? e : (n = e.match(xo)) ? n[1] : \"#\" === e.charAt(0) ? (t = document.getElementById(e.substring(1))) ? \"CANVAS\" === t.tagName || \"VIDEO\" === t.tagName || \"IMG\" === t.tagName ? t : t.getAttribute(\"src\") : void yo('\"' + e + '\" asset not found.') : e;\n}\nfunction So(e) {\n  return e.getAttribute ? e.getAttribute(\"id\") ? \"#\" + e.getAttribute(\"id\") : e.getAttribute(\"src\") : ko(e);\n}\nfunction Do(e) {\n  return e;\n}\nfunction ko(e) {\n  return null === e ? \"null\" : e.toString();\n}\nfunction To(e, t) {\n  return e === t;\n}\nfunction Ro(e) {\n  return parseInt(e, 10);\n}\nfunction Fo(e, t, n) {\n  return Zi(e, t, n);\n}\nfunction Uo(e, t) {\n  if (null === e) return !0;\n  if (\"object\" != typeof e) return !1;\n  if (Object.keys(e).length !== t) return !1;\n  var n = e.x,\n    i = e.y,\n    r = e.z,\n    o = e.w;\n  return !(\"number\" != typeof n || \"number\" != typeof i || t > 2 && \"number\" != typeof r || t > 3 && \"number\" != typeof o);\n}\nQo(\"audio\", \"\", Mo, So), Qo(\"array\", [], function (e) {\n  return Array.isArray(e) ? e : e && \"string\" == typeof e ? e.split(\",\").map(function (e) {\n    return e.trim();\n  }) : [];\n}, function (e) {\n  return e.join(\", \");\n}, Lo), Qo(\"asset\", \"\", Mo, So), Qo(\"boolean\", !1, function (e) {\n  return \"false\" !== e && !1 !== e;\n}), Qo(\"color\", \"#FFF\"), Qo(\"int\", 0, Ro), Qo(\"number\", 0, function (e) {\n  return parseFloat(e, 10);\n}), Qo(\"map\", \"\", Mo, So), Qo(\"model\", \"\", Mo, So), Qo(\"selector\", null, function (e) {\n  return e ? \"string\" != typeof e ? e : \"#\" !== e[0] || wo.test(e) ? document.querySelector(e) : document.getElementById(e.substring(1)) : null;\n}, function (e) {\n  return e.getAttribute ? \"#\" + e.getAttribute(\"id\") : ko(e);\n}, To, !1), Qo(\"selectorAll\", null, function (e) {\n  return e ? \"string\" != typeof e ? e : Array.prototype.slice.call(document.querySelectorAll(e), 0) : null;\n}, function (e) {\n  return e instanceof Array ? e.map(function (e) {\n    return \"#\" + e.getAttribute(\"id\");\n  }).join(\", \") : ko(e);\n}, Lo, !1), Qo(\"src\", \"\", function (e) {\n  return yo(\"`src` property type is deprecated. Use `asset` instead.\"), Mo(e);\n}, So), Qo(\"string\", \"\"), Qo(\"time\", 0, Ro), Qo(\"vec2\", {\n  x: 0,\n  y: 0\n}, Fo, $i, er), Qo(\"vec3\", {\n  x: 0,\n  y: 0,\n  z: 0\n}, Fo, $i, er), Qo(\"vec4\", {\n  x: 0,\n  y: 0,\n  z: 0,\n  w: 1\n}, Fo, $i, er);\nvar Oo = function (e, t) {\n    return (\"audio\" !== e || \"string\" == typeof t) && !(\"array\" === e && !Array.isArray(t)) && (\"asset\" !== e || \"string\" == typeof t) && (\"boolean\" !== e || \"boolean\" == typeof t) && (\"color\" !== e || \"string\" == typeof t) && (\"int\" !== e || \"number\" == typeof t) && (\"number\" !== e || \"number\" == typeof t) && (\"map\" !== e || \"string\" == typeof t) && (\"model\" !== e || \"string\" == typeof t) && (\"selector\" !== e || \"string\" == typeof t || null === t) && (\"selectorAll\" !== e || \"string\" == typeof t || null === t) && (\"src\" !== e || \"string\" == typeof t) && (\"string\" !== e || \"string\" == typeof t) && (\"time\" !== e || \"number\" == typeof t) && (\"vec2\" === e ? Uo(t, 2) : \"vec3\" === e ? Uo(t, 3) : \"vec4\" !== e || Uo(t, 4));\n  },\n  Po = Io,\n  Go = fi(\"core:schema:warn\");\nfunction No(e) {\n  return \"type\" in e ? \"string\" == typeof e.type : \"default\" in e;\n}\nfunction jo(e, t) {\n  var n;\n  if (No(e)) return _o(e, t);\n  for (n in e) e[n] = _o(e[n], t);\n  return e;\n}\nfunction _o(e, t) {\n  var n,\n    i,\n    r = e.default,\n    o = e.type;\n  return e.type ? \"bool\" === e.type ? o = \"boolean\" : \"float\" === e.type && (o = \"number\") : o = void 0 === r || \"boolean\" != typeof r && \"number\" != typeof r ? Array.isArray(r) ? \"array\" : \"string\" : typeof r, (i = Po[o]) || Go(\"Unknown property type for component `\" + t + \"`: \" + o), n = !!e.parse, e.parse = e.parse || i.parse, e.stringify = e.stringify || i.stringify, e.equals = e.equals || i.equals, e.isCacheable = !0 === e.isCacheable || i.isCacheable, e.type = o, \"default\" in e ? n || Oo(o, r) || Go(\"Default value `\" + r + \"` does not match type `\" + o + \"` in component `\" + t + \"`\") : e.default = i.default, e;\n}\nvar Ho,\n  qo = (Ho = [], function (e, t, n, i, r) {\n    var o, s, a, A;\n    for (s in Ho.length = 0, n ? e : t) n && void 0 === e[s] || Ho.push(s);\n    if (null === e || \"object\" != typeof e) return e;\n    for (s in e) void 0 === e[s] || t[s] || r || Go(\"Unknown property `\" + s + \"` for component/system `\" + i + \"`.\");\n    for (o = 0; o < Ho.length; o++) {\n      if (a = t[s = Ho[o]], A = e[s], !t[s]) return;\n      e[s] = Vo(A, a);\n    }\n    return e;\n  });\nfunction Vo(e, t, n) {\n  return null != e && \"\" !== e || (e = t.default, Array.isArray(e) && (e = e.slice())), t.parse(e, t.default, n);\n}\nfunction zo(e, t) {\n  var n,\n    i,\n    r,\n    o,\n    s = {};\n  for (n in e) i = t[n], \"object\" == typeof (o = r = e[n]) && (o = Yo(r, i), i || Go(\"Unknown component property: \" + n)), void 0 !== o && (s[n] = o);\n  return s;\n}\nfunction Yo(e, t) {\n  return \"object\" != typeof e ? e : t && null !== e ? t.stringify(e) : JSON.stringify(e);\n}\nvar Ko = {},\n  Wo = Vo,\n  Jo = jo,\n  Xo = No,\n  Zo = zo,\n  $o = Yo,\n  es = d,\n  ts = fi(\"core:component:warn\"),\n  ns = document.currentScript,\n  is = new RegExp(\"[A-Z]+\"),\n  rs = {},\n  os = Object.freeze({}),\n  ss = [],\n  as = {\n    get: function (e, t) {\n      return e.getComputedPropertyValue(t);\n    },\n    set: function (e, t, n) {\n      return t in e.schema ? e.recomputeProperty(t, n) : void 0 !== n && e.handleUnknownProperty(t, n), !0;\n    }\n  },\n  As = function (e, t, n) {\n    var i = this;\n    if (this.sceneOnly && !e.isScene) throw new Error(\"Component `\" + this.name + \"` can only be applied to <a-scene>\");\n    if (n && !this.multiple) throw new Error(\"Trying to initialize multiple components of type `\" + this.name + \"`. There can only be one component of this type per entity.\");\n    this.el = e, this.id = n, this.attrName = this.name + (n ? \"__\" + n : \"\"), this.evtDetail = {\n      id: this.id,\n      name: this.name\n    }, this.initialized = !1, this.el.components[this.attrName] = this, this.objectPool = rs[this.name];\n    var r = this.events;\n    this.events = {}, function (e, t) {\n      var n;\n      for (n in t) e.events[n] = t[n].bind(e);\n    }(this, r), this.attrValue = void 0, this.isObjectBased ? (this.data = this.objectPool.use(), Yi(this.data, this.schema), this.oldData = this.objectPool.use(), Yi(this.oldData, this.schema), this.attrValueProxy = new Proxy(this, as)) : (this.data = void 0, this.oldData = void 0, this.attrValueProxy = void 0), this.deferUnknownPropertyWarnings = !!this.updateSchema, this.throttledEmitComponentChanged = Yr(function () {\n      e.emit(\"componentchanged\", i.evtDetail, !1);\n    }, 200), this.updateProperties(t, !0);\n  };\nAs.prototype = {\n  schema: {},\n  init: function () {},\n  events: {},\n  update: function (e) {},\n  updateSchema: void 0,\n  tick: void 0,\n  tock: void 0,\n  play: function () {},\n  pause: function () {},\n  remove: function () {},\n  stringify: function (e) {\n    var t = this.schema;\n    return \"string\" == typeof e ? e : this.isSingleProperty ? $o(e, t) : (e = Zo(e, t), es.stringify(e));\n  },\n  flushToDOM: function (e) {\n    var t = e ? this.data : this.attrValue;\n    null != t && window.HTMLElement.prototype.setAttribute.call(this.el, this.attrName, this.stringify(t));\n  },\n  updateProperties: function (e, t) {\n    var n = this.el;\n    this.updateData(e, t), (n.hasLoaded || n.isLoading) && (this.initialized ? this.callUpdateHandler() : this.initComponent());\n  },\n  initComponent: function () {\n    var e,\n      t = this.el;\n    t.initializingComponents[this.name] || (t.initializingComponents[this.name] = !0, this.init(), this.initialized = !0, delete t.initializingComponents[this.name], e = this.isObjectBased ? os : void 0, this.dataChanged = !1, this.storeOldData(), this.update(e), t.isPlaying && this.play(), t.emit(\"componentinitialized\", this.evtDetail, !1));\n  },\n  updateData: function (e, t) {\n    this.isSingleProperty ? this.recomputeProperty(void 0, e) : (t ? (zi(this.attrValue), this.recomputeData(e), this.schemaChangeRequired = !!this.updateSchema) : \"string\" == typeof e ? es.parse(e, this.attrValueProxy) : Jr(this.attrValueProxy, e), this.updateSchemaIfNeeded(e));\n  },\n  updateSchemaIfNeeded: function (e) {\n    if (this.schemaChangeRequired && this.updateSchema) for (var t in ss.length = 0, this.updateSchema(this.data), Yi(this.data, this.schema), this.recomputeData(e), this.schemaChangeRequired = !1, this.attrValue) void 0 !== this.attrValue[t] && -1 === ss.indexOf(t) && (t in this.schema || ts(\"Unknown property `\" + t + \"` for component `\" + this.name + \"`.\"));\n    for (var n = 0; n < ss.length; n++) ts(\"Unknown property `\" + ss[n] + \"` for component `\" + this.name + \"`.\");\n    ss.length = 0;\n  },\n  callUpdateHandler: function () {\n    if (this.isPositionRotationScale || this.dataChanged) {\n      this.dataChanged = !1;\n      var e = this.oldData;\n      this.oldDataInUse = !0, this.update(e), e !== this.oldData && this.objectPool.recycle(e), this.oldDataInUse = !1, this.storeOldData(), this.throttledEmitComponentChanged();\n    }\n  },\n  handleMixinUpdate: function () {\n    this.recomputeData(), this.updateSchemaIfNeeded(), this.callUpdateHandler();\n  },\n  resetProperty: function (e) {\n    (this.isSingleProperty || e in this.schema) && (e ? this.attrValue[e] = void 0 : (this.isObjectBased && this.objectPool.recycle(this.attrValue), this.attrValue = void 0), this.recomputeProperty(e, void 0), this.updateSchemaIfNeeded(), this.callUpdateHandler());\n  },\n  extendSchema: function (e) {\n    var t;\n    t = Jr({}, Ko[this.name].schema), Jr(t, e), this.schema = Jo(t), this.el.emit(\"schemachanged\", this.evtDetail);\n  },\n  getComputedPropertyValue: function (e) {\n    var t = this.el.mixinEls,\n      n = this.attrValue && e ? this.attrValue[e] : this.attrValue;\n    if (void 0 !== n) return n;\n    for (var i = t.length - 1; i >= 0; i--) {\n      var r = t[i].getAttribute(this.attrName);\n      if (null !== r && (!e || e in r)) return e ? r[e] : r;\n    }\n    return e ? this.schema[e].default : this.schema.default;\n  },\n  recomputeProperty: function (e, t) {\n    var n = e ? this.schema[e] : this.schema;\n    if (null != t) {\n      void 0 === this.attrValue && this.isObjectBased && (this.attrValue = this.objectPool.use());\n      var i = e ? this.attrValue[e] : this.attrValue;\n      \"string\" == typeof (i = n.isCacheable ? Wo(t, n, i) : t) && (i = \"\" === t ? void 0 : t), e ? this.attrValue[e] = i : this.attrValue = i;\n    }\n    this.oldDataInUse && (this.oldData = this.objectPool.use(), Yi(this.oldData, this.schema), this.storeOldData(), this.oldDataInUse = !1);\n    var r = e ? this.oldData[e] : this.oldData,\n      o = e ? this.data[e] : this.data,\n      s = Wo(this.getComputedPropertyValue(e), n, o);\n    return \"array\" !== n.type || e || (s = Zr(s)), n.equals(s, r) || (this.dataChanged = !0, n.schemaChange && (this.schemaChangeRequired = !0)), e ? this.data[e] = s : this.data = s, s;\n  },\n  handleUnknownProperty: function (e, t) {\n    void 0 === this.attrValue && (this.attrValue = this.objectPool.use()), this.attrValue[e] = t, this.deferUnknownPropertyWarnings ? ss.push(e) : this.silenceUnknownPropertyWarnings || ts(\"Unknown property `\" + e + \"` for component `\" + this.name + \"`.\");\n  },\n  storeOldData: function () {\n    var e;\n    if (this.isObjectBased) {\n      if (this.isSingleProperty) this.oldData = Wo(this.data, this.schema, this.oldData);else for (e in this.schema) void 0 !== this.data[e] && (this.data[e] && \"object\" == typeof this.data[e] ? this.oldData[e] = Wo(this.data[e], this.schema[e], this.oldData[e]) : this.oldData[e] = this.data[e]);\n    } else this.oldData = this.data;\n  },\n  recomputeData: function (e) {\n    var t;\n    if (this.isSingleProperty) this.recomputeProperty(void 0, e);else {\n      for (t in this.schema) this.attrValueProxy[t] = void 0;\n      e && \"object\" == typeof e ? Jr(this.attrValueProxy, e) : \"string\" == typeof e && es.parse(e, this.attrValueProxy);\n    }\n  },\n  eventsAttach: function () {\n    var e;\n    for (e in this.eventsDetach(), this.events) this.el.addEventListener(e, this.events[e]);\n  },\n  eventsDetach: function () {\n    var e;\n    for (e in this.events) this.el.removeEventListener(e, this.events[e]);\n  },\n  destroy: function () {\n    this.objectPool.recycle(this.attrValue), this.objectPool.recycle(this.data), this.objectPool.recycle(this.oldData), this.attrValue = this.data = this.oldData = this.attrValueProxy = void 0;\n  }\n};\nvar ls = {};\nfunction cs(e, t) {\n  var n,\n    i,\n    r,\n    o,\n    s,\n    a = {};\n  if (document.currentScript && document.currentScript !== ns && bo.forEach(function (t) {\n    t.hasLoaded || document.currentScript.compareDocumentPosition(t) !== Node.DOCUMENT_POSITION_FOLLOWING && (ts(\"The component `\" + e + \"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization.\"), window.debug && (ls[e] = !0));\n  }), !0 === is.test(e) && ts(\"The component name `\" + e + \"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `\" + e.toLowerCase() + \"`\"), -1 !== e.indexOf(\"__\")) throw new Error(\"The component name `\" + e + \"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type\");\n  if (Object.keys(t).forEach(function (e) {\n    a[e] = {\n      value: t[e],\n      writable: !0\n    };\n  }), Ko[e]) throw new Error(\"The component `\" + e + \"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.\");\n  ((n = function (e, t, n) {\n    As.call(this, e, t, n);\n  }).prototype = Object.create(As.prototype, a)).name = e, n.prototype.isPositionRotationScale = \"position\" === e || \"rotation\" === e || \"scale\" === e, n.prototype.constructor = n, n.prototype.system = m && fs[e], n.prototype.play = (o = n.prototype.play, function () {\n    var e = this.el.sceneEl,\n      t = this.el.isPlaying && !this.isPlaying;\n    this.initialized && t && (o.call(this), this.isPlaying = !0, this.eventsAttach(), hs(this) && e.addBehavior(this));\n  }), n.prototype.pause = (s = n.prototype.pause, function () {\n    var e = this.el.sceneEl;\n    this.isPlaying && (s.call(this), this.isPlaying = !1, this.eventsDetach(), hs(this) && e.removeBehavior(this));\n  }), i = Jr(Jo(n.prototype.schema, n.prototype.name)), n.prototype.isSingleProperty = r = Xo(n.prototype.schema), n.prototype.isObjectBased = !r || r && (ds(i.default) || ds(Wo(void 0, i))), rs[e] = Vi(), Ko[e] = {\n    Component: n,\n    dependencies: n.prototype.dependencies,\n    before: n.prototype.before,\n    after: n.prototype.after,\n    isSingleProperty: n.prototype.isSingleProperty,\n    isObjectBased: n.prototype.isObjectBased,\n    multiple: n.prototype.multiple,\n    sceneOnly: n.prototype.sceneOnly,\n    name: e,\n    schema: i,\n    stringify: n.prototype.stringify\n  };\n  for (var A = 0; A < bo.length; A++) bo[A].emit(\"componentregistered\", {\n    name: e\n  }, !1);\n  return n;\n}\nfunction hs(e) {\n  return e.tick || e.tock;\n}\nfunction ds(e) {\n  return e && e.constructor === Object && !(e instanceof window.HTMLElement);\n}\nvar us = !1;\nfunction gs() {\n  us || (us = !0, setTimeout(function () {\n    document.dispatchEvent(new CustomEvent(\"aframeready\"));\n  }));\n}\nvar ps = d,\n  fs = {},\n  ms = function (e) {\n    var t = f && Ko[this.name];\n    this.el = e, this.sceneEl = e, t && (t.Component.prototype.system = this), this.buildData(), this.init(), this.update({});\n  };\nfunction Es(e, t) {\n  var n,\n    i,\n    r = {},\n    o = Ao(document);\n  if (Object.keys(t).forEach(function (e) {\n    r[e] = {\n      value: t[e],\n      writable: !0\n    };\n  }), fs[e]) throw new Error(\"The system `\" + e + \"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.\");\n  if (i = function (e) {\n    ms.call(this, e);\n  }, (i.prototype = Object.create(ms.prototype, r)).name = e, i.prototype.constructor = i, i.prototype.schema = Jr(jo(i.prototype.schema)), fs[e] = i, us) for (n = 0; n < o.length; n++) o[n].initSystem(e);\n}\nms.prototype = {\n  schema: {},\n  init: function () {},\n  update: function (e) {},\n  updateProperties: function (e) {\n    var t = this.data;\n    0 !== Object.keys(this.schema).length && (this.buildData(e), this.update(t));\n  },\n  buildData: function (e) {\n    var t = this.schema;\n    0 !== Object.keys(t).length && (e = e || window.HTMLElement.prototype.getAttribute.call(this.sceneEl, this.name), No(t) ? this.data = Vo(e, t) : this.data = qo(ps.parse(e) || {}, t, !1, this.name));\n  },\n  tick: void 0,\n  tock: void 0,\n  play: function () {},\n  pause: function () {}\n};\nvar Cs = fi(\"core:a-node:warn\"),\n  vs = {\n    \"a-scene\": !0,\n    \"a-assets\": !0,\n    \"a-assets-items\": !0,\n    \"a-cubemap\": !0,\n    \"a-mixin\": !0,\n    \"a-node\": !0,\n    \"a-entity\": !0\n  };\nfunction Bs(e) {\n  return e.tagName.toLowerCase() in vs || e.isANode;\n}\nclass bs extends HTMLElement {\n  constructor() {\n    super(), this.computedMixinStr = \"\", this.hasLoaded = !1, this.isANode = !0, this.mixinEls = [];\n  }\n  connectedCallback() {\n    us ? this.doConnectedCallback() : document.addEventListener(\"aframeready\", this.connectedCallback.bind(this));\n  }\n  doConnectedCallback() {\n    var e;\n    this.sceneEl = this.closestScene(), this.sceneEl || Cs(\"You are attempting to attach <\" + this.tagName + \"> outside of an A-Frame scene. Append this element to `<a-scene>` instead.\"), this.hasLoaded = !1, this.emit(\"nodeready\", void 0, !1), this.isMixin || (e = this.getAttribute(\"mixin\")) && this.updateMixins(e);\n  }\n  attributeChangedCallback(e, t, n) {\n    n !== this.computedMixinStr && (\"mixin\" !== e || this.isMixin || this.updateMixins(n, t));\n  }\n  closestScene() {\n    for (var e = this; e && !e.isScene;) e = e.parentElement;\n    return e;\n  }\n  closest(e) {\n    for (var t = this.matches || this.mozMatchesSelector || this.msMatchesSelector || this.oMatchesSelector || this.webkitMatchesSelector, n = this; n && !t.call(n, e);) n = n.parentElement;\n    return n;\n  }\n  disconnectedCallback() {\n    this.hasLoaded = !1;\n  }\n  load(e, t) {\n    var n,\n      i = this;\n    this.hasLoaded || (t = t || Bs, n = this.getChildren().filter(t).map(function (e) {\n      return new Promise(function (t, n) {\n        if (e.hasLoaded) return t();\n        e.addEventListener(\"loaded\", t), e.addEventListener(\"error\", n);\n      });\n    }), Promise.allSettled(n).then(function (t) {\n      t.forEach(function (e) {\n        \"rejected\" === e.status && Cs(\"Rendering scene with errors on node: \", e.reason.target);\n      }), i.isLoading = !0, i.setupMutationObserver(), e && e(), i.isLoading = !1, i.hasLoaded = !0, i.emit(\"loaded-private\", void 0, !1), i.emit(\"loaded\", void 0, !1);\n    }));\n  }\n  setupMutationObserver() {\n    var e = this;\n    new MutationObserver(function (t) {\n      var n;\n      for (n = 0; n < t.length; n++) if (\"attributes\" === t[n].type) {\n        var i = t[n].attributeName,\n          r = window.HTMLElement.prototype.getAttribute.call(e, i),\n          o = t[n].oldValue;\n        e.attributeChangedCallback(i, o, r);\n      }\n    }).observe(this, {\n      attributes: !0,\n      attributeOldValue: !0\n    });\n  }\n  getChildren() {\n    return Array.prototype.slice.call(this.children, 0);\n  }\n  updateMixins(e, t) {\n    var n,\n      i,\n      r,\n      o = bs.newMixinIdArray,\n      s = bs.oldMixinIdArray,\n      a = bs.mixinIds;\n    for (o.length = 0, s.length = 0, i = e ? or(e.trim(), /\\s+/) : o, r = t ? or(t.trim(), /\\s+/) : s, a.newMixinIds = i, a.oldMixinIds = r, n = 0; n < r.length; n++) -1 === i.indexOf(r[n]) && this.unregisterMixin(r[n]);\n    for (this.computedMixinStr = \"\", this.mixinEls.length = 0, n = 0; n < i.length; n++) this.registerMixin(i[n]);\n    return this.computedMixinStr && (this.computedMixinStr = this.computedMixinStr.trim(), window.HTMLElement.prototype.setAttribute.call(this, \"mixin\", this.computedMixinStr)), 0 === i.length && window.HTMLElement.prototype.removeAttribute.call(this, \"mixin\"), a;\n  }\n  registerMixin(e) {\n    var t,\n      n,\n      i,\n      r = document.getElementById(e);\n    if (r) {\n      if (i = r.getAttribute(\"mixin\")) for (t = or(i.trim(), /\\s+/), n = 0; n < t.length; n++) this.registerMixin(t[n]);\n      this.computedMixinStr = this.computedMixinStr + \" \" + r.id, this.mixinEls.push(r);\n    } else Cs(\"No mixin was found with id `%s`\", e);\n  }\n  setAttribute(e, t) {\n    \"mixin\" === e && this.updateMixins(t), window.HTMLElement.prototype.setAttribute.call(this, e, t);\n  }\n  unregisterMixin(e) {\n    var t,\n      n = this.mixinEls;\n    for (t = 0; t < n.length; ++t) if (e === n[t].id) {\n      n.splice(t, 1);\n      break;\n    }\n  }\n  emit(e, t, n, i) {\n    var r = bs.evtData;\n    void 0 === n && (n = !0), r.bubbles = !!n, r.detail = t, i && (r = Jr({}, i, r)), this.dispatchEvent(new CustomEvent(e, r));\n  }\n}\nbs.evtData = {}, bs.newMixinIdArray = [], bs.oldMixinIdArray = [], bs.mixinIds = {}, customElements.define(\"a-node\", bs);\nvar ys = fi(\"core:a-entity:debug\"),\n  Is = fi(\"core:a-entity:warn\"),\n  ws = \"__\",\n  xs = [\"position\", \"rotation\", \"scale\", \"visible\"],\n  Qs = {\n    once: !0\n  };\nclass Ls extends bs {\n  constructor() {\n    super(), this.components = {}, this.initializingComponents = {}, this.componentsToUpdate = {}, this.isEntity = !0, this.isPlaying = !1, this.object3D = new Re.Group(), this.object3D.rotation.order = \"YXZ\", this.object3D.el = this, this.object3DMap = {}, this.parentEl = null, this.rotationObj = {}, this.states = [];\n  }\n  attributeChangedCallback(e, t, n) {\n    var i = this.components[e];\n    super.attributeChangedCallback(), i && i.justInitialized && \"\" === n ? delete i.justInitialized : (i || null !== n) && this.setEntityAttribute(e, t, n);\n  }\n  doConnectedCallback() {\n    var e,\n      t,\n      n = this;\n    super.doConnectedCallback(), t = this.sceneEl, this.addToParent(), this.isScene || (t ? !(e = t.querySelector(\"a-assets\")) || e.hasLoaded ? this.load() : e.addEventListener(\"loaded\", function () {\n      n.load();\n    }) : this.load());\n  }\n  disconnectedCallback() {\n    var e;\n    if (this.parentEl) {\n      for (e in this.components) this.removeComponent(e, !1);\n      this.isScene || (this.removeFromParent(), super.disconnectedCallback(), this.object3D.el = null);\n    }\n  }\n  getObject3D(e) {\n    return this.object3DMap[e];\n  }\n  setObject3D(e, t) {\n    var n,\n      i = this;\n    if (!(t instanceof Re.Object3D)) throw new Error(\"`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.\");\n    (n = this.getObject3D(e)) && this.object3D.remove(n), t.el = this, t.children.length && t.traverse(function (e) {\n      e.el = i;\n    }), this.object3D.add(t), this.object3DMap[e] = t, this.emit(\"object3dset\", {\n      object: t,\n      type: e\n    });\n  }\n  removeObject3D(e) {\n    var t = this.getObject3D(e);\n    t ? (this.object3D.remove(t), delete this.object3DMap[e], this.emit(\"object3dremove\", {\n      type: e\n    })) : Is(\"Tried to remove `Object3D` of type:\", e, \"which was not defined.\");\n  }\n  getOrCreateObject3D(e, t) {\n    var n = this.getObject3D(e);\n    return !n && t && (n = new t(), this.setObject3D(e, n)), Is(\"`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead.\"), n;\n  }\n  add(e) {\n    if (!e.object3D) throw new Error(\"Trying to add an element that doesn't have an `object3D`\");\n    this.object3D.add(e.object3D), this.emit(\"child-attached\", {\n      el: e\n    });\n  }\n  addToParent() {\n    var e = this.parentEl = this.parentNode;\n    e && e.add && !this.attachedToParent && (e.add(this), this.attachedToParent = !0);\n  }\n  removeFromParent() {\n    var e = this.parentEl;\n    this.parentEl.remove(this), this.attachedToParent = !1, this.parentEl = null, e.emit(\"child-detached\", {\n      el: this\n    });\n  }\n  load() {\n    var e = this;\n    !this.hasLoaded && this.parentEl && super.load.call(this, function () {\n      e.parentEl && (e.updateComponents(), (e.isScene || e.parentEl.isPlaying) && e.play());\n    });\n  }\n  remove(e) {\n    e ? this.object3D.remove(e.object3D) : this.parentNode.removeChild(this);\n  }\n  getChildEntities() {\n    for (var e = this.children, t = [], n = 0; n < e.length; n++) {\n      var i = e[n];\n      i instanceof Ls && t.push(i);\n    }\n    return t;\n  }\n  initComponent(e, t, n) {\n    var i, r, o, s;\n    s = (o = or(e, ws))[0], r = o.length > 2 ? o.slice(1).join(\"__\") : o[1], Ko[s] && (Ms(this, e) || void 0 !== t || n) && (e in this.components || (this.initComponentDependencies(s), i = new Ko[s].Component(this, t, r), this.isPlaying && i.play(), this.hasAttribute(e) || (i.justInitialized = !0, window.HTMLElement.prototype.setAttribute.call(this, e, \"\")), ys(\"Component initialized: %s\", e)));\n  }\n  initComponentDependencies(e) {\n    var t, n;\n    if (Ko[e] && (t = Ko[e].dependencies)) for (n = 0; n < t.length; n++) this.initComponent(t[n], window.HTMLElement.prototype.getAttribute.call(this, t[n]) || void 0, !0);\n  }\n  removeComponent(e, t) {\n    var n;\n    (n = this.components[e]) && (n.initialized ? (n.pause(), n.remove(), t && (n.destroy(), delete this.components[e], this.hasAttribute(e) && window.HTMLElement.prototype.removeAttribute.call(this, e)), this.emit(\"componentremoved\", n.evtDetail, !1)) : this.addEventListener(\"componentinitialized\", function n(i) {\n      i.detail.name === e && (this.removeComponent(e, t), this.removeEventListener(\"componentinitialized\", n));\n    }));\n  }\n  updateComponents() {\n    var e,\n      t,\n      n,\n      i,\n      r,\n      o,\n      s = this.componentsToUpdate;\n    if (this.hasLoaded || this.isLoading) {\n      for (n = 0; n < this.mixinEls.length; n++) for (i in this.mixinEls[n].componentCache) Ss(i) && (s[i] = !0);\n      if (this.getExtraComponents) for (i in t = this.getExtraComponents()) Ss(i) && (s[i] = !0);\n      for (n = 0; n < this.attributes.length; ++n) i = this.attributes[n].name, -1 === xs.indexOf(i) && Ss(i) && (s[i] = !0);\n      for (n = 0; n < xs.length; n++) i = xs[n], this.hasAttribute(i) && this.updateComponent(i, this.getDOMAttribute(i));\n      for (i in s) r = this.getDOMAttribute(i), e = (o = t && t[i]) ? o.constructor === Object ? Jr(o, Lr(r || {})) : r || o : r, this.updateComponent(i, e), delete s[i];\n    }\n  }\n  updateComponent(e, t, n) {\n    var i = this.components[e];\n    if (i) return null !== t || Ms(this, e) ? void i.updateProperties(t, n) : void this.removeComponent(e, !0);\n    this.initComponent(e, t, !1);\n  }\n  removeAttribute(e, t) {\n    var n = this.components[e];\n    n && void 0 === t && this.removeComponent(e, !0), n && void 0 !== t ? n.resetProperty(t) : (\"mixin\" === e && this.mixinUpdate(\"\"), window.HTMLElement.prototype.removeAttribute.call(this, e));\n  }\n  play() {\n    var e, t, n;\n    if (!this.isPlaying && (this.hasLoaded || this.isLoading)) {\n      for (n in this.isPlaying = !0, this.components) this.components[n].play();\n      for (e = this.getChildEntities(), t = 0; t < e.length; t++) e[t].play();\n      this.emit(\"play\");\n    }\n  }\n  pause() {\n    var e, t, n;\n    if (this.isPlaying) {\n      for (n in this.isPlaying = !1, this.components) this.components[n].pause();\n      for (e = this.getChildEntities(), t = 0; t < e.length; t++) e[t].pause();\n      this.emit(\"pause\");\n    }\n  }\n  setEntityAttribute(e, t, n) {\n    if (Ko[e] || this.components[e]) this.updateComponent(e, n);else if (\"mixin\" === e) {\n      if (n === this.computedMixinStr) return;\n      this.mixinUpdate(n, t);\n    }\n  }\n  mixinUpdate(e, t, n) {\n    var i,\n      r,\n      o,\n      s,\n      a = Ls.componentsUpdated,\n      A = this;\n    if (n || (t = t || this.getAttribute(\"mixin\")), this.hasLoaded) {\n      for (o = this.updateMixins(e, t), a.length = 0, s = 0; s < this.mixinEls.length; s++) for (i in this.mixinEls[s].componentCache) -1 === a.indexOf(i) && (this.components[i] ? this.components[i].handleMixinUpdate() : this.initComponent(i, null), a.push(i));\n      for (s = 0; s < o.oldMixinIds.length; s++) if (r = document.getElementById(o.oldMixinIds[s])) for (i in r.componentCache) -1 === a.indexOf(i) && this.components[i] && (this.getDOMAttribute(i) ? this.components[i].handleMixinUpdate() : this.removeComponent(i, !0));\n    } else this.addEventListener(\"loaded-private\", function () {\n      A.mixinUpdate(e, t, !0);\n    }, Qs);\n  }\n  setAttribute(e, t, n) {\n    var i,\n      r,\n      o,\n      s,\n      a,\n      A = Ls.singlePropUpdate;\n    if (o = (s = e.indexOf(ws)) > 0 ? e.substring(0, s) : e, !Ko[o]) return \"mixin\" === e && this.mixinUpdate(t), void super.setAttribute.call(this, e, t);\n    if (!this.components[e] && this.hasAttribute(e) && this.updateComponent(e, window.HTMLElement.prototype.getAttribute.call(this, e)), void 0 !== n && \"string\" == typeof t && t.length > 0 && \"string\" == typeof Lr(t)) {\n      for (a in A) delete A[a];\n      (i = A)[t] = n, r = !1;\n    } else i = t, r = !0 === n;\n    this.updateComponent(e, i, r), this.sceneEl && this.sceneEl.getAttribute(\"debug\") && this.components[e].flushToDOM();\n  }\n  flushToDOM(e) {\n    var t,\n      n,\n      i,\n      r = this.components,\n      o = this.children;\n    for (i in r) r[i].flushToDOM();\n    if (e) for (n = 0; n < o.length; ++n) (t = o[n]).flushToDOM && t.flushToDOM(e);\n  }\n  getAttribute(e) {\n    var t, n, i, r;\n    return \"position\" === e ? this.object3D.position : \"rotation\" === e ? (n = Re.MathUtils.radToDeg, i = this.object3D.rotation, (r = this.rotationObj).x = n(i.x), r.y = n(i.y), r.z = n(i.z), r) : \"scale\" === e ? this.object3D.scale : \"visible\" === e ? this.object3D.visible : (t = this.components[e]) ? t.data : window.HTMLElement.prototype.getAttribute.call(this, e);\n  }\n  getDOMAttribute(e) {\n    var t = this.components[e];\n    return t ? t.attrValue : window.HTMLElement.prototype.getAttribute.call(this, e);\n  }\n  addState(e) {\n    this.is(e) || (this.states.push(e), this.emit(\"stateadded\", e));\n  }\n  removeState(e) {\n    var t = this.states.indexOf(e);\n    -1 !== t && (this.states.splice(t, 1), this.emit(\"stateremoved\", e));\n  }\n  is(e) {\n    return -1 !== this.states.indexOf(e);\n  }\n  inspect() {\n    this.sceneEl.components.inspector.openInspector(this);\n  }\n  destroy() {\n    var e;\n    if (this.parentNode) Is(\"Entity can only be destroyed if detached from scenegraph.\");else for (e in this.components) this.components[e].destroy();\n  }\n}\nfunction Ms(e, t) {\n  return !(!e.components[t] || !e.components[t].attrValue) || function (e, t) {\n    var n,\n      i = !1;\n    for (n = 0; n < t.length && !(i = t[n].hasAttribute(e)); ++n);\n    return i;\n  }(t, e.mixinEls);\n}\nfunction Ss(e) {\n  return -1 !== e.indexOf(ws) && (e = or(e, ws)[0]), !!Ko[e];\n}\nfunction Ds(e) {\n  if (e.data && \"vr\" === e.data.type) switch (e.data.data) {\n    case \"enter\":\n      this.enterVR();\n      break;\n    case \"exit\":\n      this.exitVR();\n  }\n}\nLs.componentsUpdated = [], Ls.singlePropUpdate = {}, customElements.define(\"a-entity\", Ls), Ri() && window.addEventListener(\"orientationchange\", function () {\n  document.documentElement.style.height = \"initial\", setTimeout(function () {\n    document.documentElement.style.height = \"100%\", setTimeout(function () {\n      window.scrollTo(0, 1);\n    }, 500);\n  }, 500);\n});\nvar ks = fi(\"core:a-scene:warn\"),\n  Ts = Ri(),\n  Rs = Si(),\n  Fs = bi;\nclass Us extends Ls {\n  constructor() {\n    var e;\n    super(), (e = this).clock = new Re.Clock(), e.isIOS = Ts, e.isMobile = Rs, e.hasWebXR = Fs, e.isAR = !1, e.isScene = !0, e.object3D = new Re.Scene(), e.resize = e.resize.bind(e), e.render = e.render.bind(e), e.systems = {}, e.systemNames = [], e.time = e.delta = 0, e.usedOfferSession = !1, e.componentOrder = [], e.behaviors = {}, e.hasLoaded = !1, e.isPlaying = !1, e.originalHTML = e.innerHTML;\n  }\n  addFullScreenStyles() {\n    document.documentElement.classList.add(\"a-fullscreen\");\n  }\n  removeFullScreenStyles() {\n    document.documentElement.classList.remove(\"a-fullscreen\");\n  }\n  doConnectedCallback() {\n    var e = this,\n      t = this.hasAttribute(\"embedded\");\n    this.setAttribute(\"inspector\", \"\"), this.setAttribute(\"keyboard-shortcuts\", \"\"), this.setAttribute(\"screenshot\", \"\"), this.setAttribute(\"xr-mode-ui\", \"\"), this.setAttribute(\"device-orientation-permission-ui\", \"\"), super.doConnectedCallback(), function (e) {\n      var t;\n      function n() {\n        document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || e.exitVR(), document.activeElement.blur(), document.body.focus();\n      }\n      (t = document.createElement(\"canvas\")).classList.add(\"a-canvas\"), t.dataset.aframeCanvas = !0, e.appendChild(t), document.addEventListener(\"fullscreenchange\", n), document.addEventListener(\"mozfullscreenchange\", n), document.addEventListener(\"webkitfullscreenchange\", n), document.addEventListener(\"MSFullscreenChange\", n), t.addEventListener(\"touchmove\", function (e) {\n        e.preventDefault();\n      }, {\n        passive: !1\n      }), e.canvas = t, e.emit(\"render-target-loaded\", {\n        target: t\n      }), setTimeout(e.resize.bind(e), 0);\n    }(this), this.setupRenderer(), function (e, t) {\n      fo = t;\n      var n,\n        i,\n        r,\n        o,\n        s,\n        a,\n        A,\n        l,\n        c,\n        h,\n        d = (go = e).hasAttribute(vo) ? Co.parse(go.getAttribute(vo)) : void 0,\n        u = d && d.dotsColor || \"white\",\n        g = d && d.backgroundColor || \"#24CAFF\";\n      (void 0 === d || \"true\" === d.enabled || void 0 === d.enabled) && (n = new Re.Scene(), i = new Re.SphereGeometry(.2, 36, 18, 0, 2 * Math.PI, 0, Math.PI), r = new Re.MeshBasicMaterial({\n        color: u\n      }), o = new Re.Mesh(i, r), s = o.clone(), a = o.clone(), A = new Re.PerspectiveCamera(80, window.innerWidth / window.innerHeight, 5e-4, 1e4), l = new Re.Clock(), c = 0, h = function () {\n        go.renderer.render(n, A), c = l.getElapsedTime() % 4, o.visible = c >= 1, s.visible = c >= 2, a.visible = c >= 3;\n      }, n.background = new Re.Color(g), n.add(A), o.position.set(-1, 0, -15), s.position.set(0, 0, -15), a.position.set(1, 0, -15), A.add(o), A.add(s), A.add(a), (po = document.createElement(\"div\")).className = \"a-loader-title\", po.innerHTML = document.title, po.style.display = \"none\", po.setAttribute(hi, \"\"), go.appendChild(po), setTimeout(function () {\n        go.hasLoaded || (Bo(A), po.style.display = \"block\", window.addEventListener(\"resize\", function () {\n          Bo(A);\n        }), go.renderer.setAnimationLoop(h));\n      }, 200));\n    }(this, Gs), this.resize(), t || this.addFullScreenStyles(), ao() && window.addEventListener(\"message\", Ds.bind(this)), function (e) {\n      var t,\n        n = document.head,\n        i = n.querySelector(\"script\"),\n        r = [];\n      return co.forEach(o), e.isIOS && ho.forEach(o), r;\n      function o(e) {\n        e && !e.exists() && (t = function (e) {\n          if (e && e.tagName) {\n            var t = document.createElement(e.tagName);\n            return t.setAttribute(hi, \"\"), Jr(t, e.attributes);\n          }\n        }(e), t && (i ? i.parentNode.insertBefore(t, i) : n.appendChild(t), r.push(t)));\n      }\n    }(this), function (e) {\n      if (e.isMobile) {\n        var t = e.wakelock = new (Eo())();\n        e.addEventListener(\"enter-vr\", function () {\n          t.request();\n        }), e.addEventListener(\"exit-vr\", function () {\n          t.release();\n        });\n      }\n    }(this), this.enterVRBound = function () {\n      e.enterVR();\n    }, this.exitVRBound = function () {\n      e.exitVR();\n    }, window.addEventListener(\"sessionend\", this.resize), this.addEventListener(\"cameraready\", function () {\n      e.attachedCallbackPostCamera();\n    }), this.initSystems(), this.componentOrder = Os(Ko, this.componentOrder), this.addEventListener(\"componentregistered\", function () {\n      e.componentOrder = Os(Ko, e.componentOrder);\n    }), this.hasWebXR && navigator.xr && navigator.xr.addEventListener && navigator.xr.addEventListener(\"sessiongranted\", function () {\n      e.enterVR();\n    });\n  }\n  attachedCallbackPostCamera() {\n    var e = this;\n    window.addEventListener(\"load\", void 0), window.addEventListener(\"resize\", function () {\n      e.isIOS ? setTimeout(e.resize, 100) : e.resize();\n    }), this.play(), bo.push(this);\n  }\n  initSystems() {\n    var e;\n    for (e in this.initSystem(\"camera\"), fs) \"camera\" !== e && this.initSystem(e);\n  }\n  initSystem(e) {\n    this.systems[e] || (this.systems[e] = new fs[e](this), this.systemNames.push(e));\n  }\n  disconnectedCallback() {\n    var e = bo.indexOf(this);\n    super.disconnectedCallback(), bo.splice(e, 1), window.removeEventListener(\"sessionend\", this.resize), this.removeFullScreenStyles(), this.renderer.dispose();\n  }\n  addBehavior(e) {\n    var t,\n      n,\n      i = this.behaviors[e.name];\n    for (n in i || (i = this.behaviors[e.name] = {\n      tick: {\n        inUse: !1,\n        array: [],\n        markedForRemoval: []\n      },\n      tock: {\n        inUse: !1,\n        array: [],\n        markedForRemoval: []\n      }\n    }), i) if (e[n]) {\n      if ((t = i[n]).inUse) {\n        var r = t.markedForRemoval.indexOf(e);\n        -1 !== r && t.markedForRemoval.splice(r, 1);\n      }\n      -1 === t.array.indexOf(e) && t.array.push(e);\n    }\n  }\n  getPointerLockElement() {\n    return document.pointerLockElement;\n  }\n  checkHeadsetConnected() {\n    return wi();\n  }\n  enterAR() {\n    var e;\n    if (!this.hasWebXR) throw e = \"Failed to enter AR mode, WebXR not supported.\", new Error(e);\n    if (!xi()) throw e = \"Failed to enter AR, WebXR immersive-ar mode not supported in your browser or device.\", new Error(e);\n    return this.enterVR(!0);\n  }\n  enterVR(e, t) {\n    var n,\n      i = this,\n      r = i.renderer.xr;\n    if (t && (!navigator.xr || !navigator.xr.offerSession)) return Promise.resolve(\"OfferSession is not supported.\");\n    if (i.usedOfferSession && t) return Promise.resolve(\"OfferSession was already called.\");\n    if (this.is(\"vr-mode\")) return Promise.resolve(\"Already in VR.\");\n    if (this.checkHeadsetConnected() || this.isMobile) {\n      var o = i.getAttribute(\"renderer\");\n      if (r.enabled = !0, this.hasWebXR) {\n        this.xrSession && this.xrSession.removeEventListener(\"end\", this.exitVRBound);\n        var s = this.sceneEl.systems.webxr.sessionReferenceSpaceType;\n        r.setReferenceSpaceType(s);\n        var a = e ? \"immersive-ar\" : \"immersive-vr\";\n        return n = this.sceneEl.systems.webxr.sessionConfiguration, new Promise(function (e, s) {\n          var l = t ? navigator.xr.offerSession.bind(navigator.xr) : navigator.xr.requestSession.bind(navigator.xr);\n          i.usedOfferSession |= t, l(a, n).then(function (s) {\n            t && (i.usedOfferSession = !1), r.layersEnabled = -1 !== n.requiredFeatures.indexOf(\"layers\"), r.setSession(s).then(function () {\n              r.setFoveation(o.foveationLevel), i.xrSession = s, i.systems.renderer.setWebXRFrameRate(s), s.addEventListener(\"end\", i.exitVRBound), A(e);\n            });\n          }, function (e) {\n            s(new Error(\"Failed to enter \" + (\"immersive-ar\" === a ? \"AR\" : \"VR\") + \" mode (`requestSession`)\", {\n              cause: e\n            }));\n          });\n        });\n      }\n      throw new Error(\"Failed to enter \" + (e ? \"AR\" : \"VR\") + \" no WebXR\");\n    }\n    return A(), Promise.resolve();\n    function A(t) {\n      var n;\n      e ? i.addState(\"ar-mode\") : i.addState(\"vr-mode\"), i.emit(\"enter-vr\", {\n        target: i\n      }), !i.hasWebXR && i.isMobile && screen.orientation && screen.orientation.lock && screen.orientation.lock(\"landscape\"), i.addFullScreenStyles(), i.isMobile || i.checkHeadsetConnected() || ((n = i.canvas).requestFullscreen || n.webkitRequestFullscreen || n.mozRequestFullScreen || n.msRequestFullscreen).apply(n, [{\n        navigationUI: \"hide\"\n      }]), i.resize(), t && t();\n    }\n  }\n  exitVR() {\n    var e = this,\n      t = this.renderer.xr;\n    if (!this.is(\"vr-mode\") && !this.is(\"ar-mode\")) return Promise.resolve(\"Not in immersive mode.\");\n    if (this.checkHeadsetConnected() || this.isMobile) {\n      if (t.enabled = !1, !this.hasWebXR) throw Error(\"Failed to exit VR - no WebXR\");\n      this.xrSession.removeEventListener(\"end\", this.exitVRBound), this.xrSession.end().then(function () {}, function () {}), this.xrSession = void 0;\n    } else (document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement) && (document.exitFullscreen ? document.exitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen && document.webkitExitFullscreen());\n    return e.removeState(\"vr-mode\"), e.removeState(\"ar-mode\"), e.isMobile && screen.orientation && screen.orientation.unlock && screen.orientation.unlock(), e.hasAttribute(\"embedded\") && e.removeFullScreenStyles(), e.resize(), e.isIOS && lr(e.canvas), e.renderer.setPixelRatio(window.devicePixelRatio), e.emit(\"exit-vr\", {\n      target: e\n    }), Promise.resolve();\n  }\n  getAttribute(e) {\n    var t = this.systems[e];\n    return t ? t.data : Ls.prototype.getAttribute.call(this, e);\n  }\n  getDOMAttribute(e) {\n    var t = this.systems[e];\n    return t ? t.data : Ls.prototype.getDOMAttribute.call(this, e);\n  }\n  setAttribute(e, t, n) {\n    if (fs[e]) {\n      bs.prototype.setAttribute.call(this, e, t);\n      var i = this.systems[e];\n      i && i.updateProperties(t);\n    } else Ls.prototype.setAttribute.call(this, e, t, n);\n  }\n  removeBehavior(e) {\n    var t,\n      n,\n      i,\n      r = this.behaviors[e.name];\n    for (n in r) e[n] && -1 !== (i = (t = r[n]).array.indexOf(e)) && (t.inUse ? -1 === t.markedForRemoval.indexOf(e) && t.markedForRemoval.push(e) : (t.array[i] = t.array[t.array.length - 1], t.array.pop()));\n  }\n  resize() {\n    var e,\n      t,\n      n = this.camera,\n      i = this.canvas,\n      r = this.renderer.xr.isPresenting;\n    e = this.renderer.xr.enabled && r, !n || !i || this.is(\"vr-mode\") && (this.isMobile || e) || (t = Gs(i, this.getAttribute(\"embedded\") && !this.is(\"vr-mode\"), this.maxCanvasSize, this.is(\"vr-mode\")), n.aspect = t.width / t.height, n.updateProjectionMatrix(), this.renderer.setSize(t.width, t.height, !1), this.emit(\"rendererresize\", null, !1));\n  }\n  setupRenderer() {\n    var e,\n      t,\n      n,\n      i = this;\n    n = {\n      alpha: !0,\n      antialias: !Rs,\n      canvas: this.canvas,\n      logarithmicDepthBuffer: !1,\n      powerPreference: \"high-performance\"\n    }, this.maxCanvasSize = {\n      height: -1,\n      width: -1\n    }, this.hasAttribute(\"renderer\") && ((t = Lr(this.getAttribute(\"renderer\"))).precision && (n.precision = t.precision + \"p\"), t.antialias && \"auto\" !== t.antialias && (n.antialias = \"true\" === t.antialias), t.logarithmicDepthBuffer && \"auto\" !== t.logarithmicDepthBuffer && (n.logarithmicDepthBuffer = \"true\" === t.logarithmicDepthBuffer), t.alpha && (n.alpha = \"true\" === t.alpha), t.stencil && (n.stencil = \"true\" === t.stencil), t.multiviewStereo && (n.multiviewStereo = \"true\" === t.multiviewStereo), this.maxCanvasSize = {\n      width: t.maxCanvasWidth ? parseInt(t.maxCanvasWidth) : this.maxCanvasSize.width,\n      height: t.maxCanvasHeight ? parseInt(t.maxCanvasHeight) : this.maxCanvasSize.height\n    });\n    var r = [\"WebGLRenderer\", \"WebGPURenderer\"].find(function (e) {\n      return Re[e];\n    });\n    (e = this.renderer = new Re[r](n)).xr.setPoseTarget || (e.xr.setPoseTarget = function () {}), e.setPixelRatio(window.devicePixelRatio), this.camera && e.xr.setPoseTarget(this.camera.el.object3D), this.addEventListener(\"camera-set-active\", function () {\n      e.xr.setPoseTarget(i.camera.el.object3D);\n    });\n  }\n  play() {\n    var e = this,\n      t = this;\n    this.renderStarted ? Ls.prototype.play.call(this) : (this.addEventListener(\"loaded\", function () {\n      var e = this.renderer;\n      Ls.prototype.play.call(this), t.renderStarted || (t.resize(), t.renderer && (window.performance && window.performance.mark(\"render-started\"), window.removeEventListener(\"resize\", Bo), po && (po.style.display = \"none\"), e.setAnimationLoop(this.render), t.renderStarted = !0, t.emit(\"renderstart\")));\n    }), setTimeout(function () {\n      Ls.prototype.load.call(e);\n    }));\n  }\n  updateComponent(e) {\n    e in fs || Ls.prototype.updateComponent.apply(this, arguments);\n  }\n  tick(e, t) {\n    var n,\n      i = this.systems;\n    for (this.callComponentBehaviors(\"tick\", e, t), n = 0; n < this.systemNames.length; n++) i[this.systemNames[n]].tick && i[this.systemNames[n]].tick(e, t);\n  }\n  tock(e, t, n) {\n    var i,\n      r = this.systems;\n    for (this.callComponentBehaviors(\"tock\", e, t), i = 0; i < this.systemNames.length; i++) r[this.systemNames[i]].tock && r[this.systemNames[i]].tock(e, t, n);\n  }\n  render(e, t) {\n    var n = this.renderer;\n    this.frame = t, this.delta = 1e3 * this.clock.getDelta(), this.time = 1e3 * this.clock.elapsedTime, this.isPlaying && this.tick(this.time, this.delta);\n    var i = null;\n    if (this.is(\"ar-mode\") && (i = this.object3D.background, this.object3D.background = null), n.render(this.object3D, this.camera), i && (this.object3D.background = i), this.isPlaying) {\n      var r = n.xr.isPresenting ? n.xr.getCamera() : this.camera;\n      this.tock(this.time, this.delta, r);\n    }\n  }\n  callComponentBehaviors(e, t, n) {\n    for (var i, r = 0; r < this.componentOrder.length; r++) {\n      var o = this.behaviors[this.componentOrder[r]];\n      if (o) {\n        var s = o[e];\n        for (s.inUse = !0, i = 0; i < s.array.length; i++) s.array[i].isPlaying && s.array[i][e](t, n);\n        for (s.inUse = !1, i = 0; i < s.markedForRemoval.length; i++) this.removeBehavior(s.markedForRemoval[i]);\n        s.markedForRemoval.length = 0;\n      }\n    }\n  }\n}\nfunction Os(e, t) {\n  var n,\n    i,\n    r = {},\n    o = t || [];\n  for (i in o.length = 0, e) {\n    var s = e[i];\n    if (void 0 !== s) {\n      var a = s.before ? s.before.slice(0) : [],\n        A = s.after ? s.after.slice(0) : [];\n      r[i] = {\n        before: a,\n        after: A,\n        visited: !1,\n        done: !1\n      };\n    }\n  }\n  for (i in r) for (n = 0; n < r[i].before.length; n++) {\n    var l = r[i].before[n];\n    l in r ? r[l].after.push(i) : ks(\"Invalid ordering constraint, no component named `\" + l + \"` referenced by `\" + i + \"`\");\n  }\n  function c(e) {\n    if (e in r && !r[e].done) if (r[e].visited) ks(\"Cycle detected, ignoring one or more before/after constraints. The resulting order might be incorrect\");else {\n      r[e].visited = !0;\n      for (var t = 0; t < r[e].after.length; t++) {\n        var n = r[e].after[t];\n        n in r || ks(\"Invalid before/after constraint, no component named `\" + n + \"` referenced in `\" + e + \"`\"), c(n);\n      }\n      r[e].done = !0, o.push(e);\n    }\n  }\n  for (i in r) r[i].done || c(i);\n  return o;\n}\nfunction Ps(e, t) {\n  var n,\n    i = window.devicePixelRatio;\n  return !t || -1 === t.width && -1 === t.height || e.width * i < t.width && e.height * i < t.height || (n = e.width / e.height, e.width * i > t.width && -1 !== t.width && (e.width = Math.round(t.width / i), e.height = Math.round(t.width / n / i)), e.height * i > t.height && -1 !== t.height && (e.height = Math.round(t.height / i), e.width = Math.round(t.height * n / i))), e;\n}\nfunction Gs(e, t, n, i) {\n  return e.parentElement ? t ? Ps({\n    height: e.parentElement.offsetHeight,\n    width: e.parentElement.offsetWidth\n  }, n) : function (e, t) {\n    var n;\n    return n = {\n      height: document.body.offsetHeight,\n      width: document.body.offsetWidth\n    }, t ? n : Ps(n, e);\n  }(n, i) : {\n    height: 0,\n    width: 0\n  };\n}\ncustomElements.define(\"a-scene\", Us);\nvar Ns = jo,\n  js = {},\n  _s = [],\n  Hs = function () {};\nfunction qs(e, t) {\n  var n,\n    i = {};\n  if (Object.keys(t).forEach(function (e) {\n    i[e] = {\n      value: t[e],\n      writable: !0\n    };\n  }), js[e]) throw new Error(\"The geometry `\" + e + \"` has been already registered\");\n  return ((n = function () {\n    Hs.call(this);\n  }).prototype = Object.create(Hs.prototype, i)).name = e, n.prototype.constructor = n, js[e] = {\n    Geometry: n,\n    schema: Ns(n.prototype.schema)\n  }, _s.push(e), n;\n}\nHs.prototype = {\n  schema: {},\n  init: function (e) {\n    return this.geometry = new Re.BufferGeometry(), this.geometry;\n  },\n  update: function (e) {}\n};\nvar Vs = fi,\n  zs = Ar,\n  Ys = Vs(\"extras:primitives:debug\"),\n  Ks = Vs(\"extras:primitives:warn\"),\n  Ws = Vs(\"extras:primitives:error\"),\n  Js = {};\nfunction Xs(e, t) {\n  if (e = e.toLowerCase(), !vs[e]) {\n    vs[e] = !0, Ys(\"Registering <%s>\", e), t.defaultAttributes && Ks(\"The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.\");\n    var n = t.mappings || {},\n      i = class extends Ls {\n        constructor() {\n          super(), this.defaultComponentsFromPrimitive = t.defaultComponents || t.defaultAttributes || {}, this.deprecated = t.deprecated || null, this.deprecatedMappings = t.deprecatedMappings || {}, this.mappings = n, t.deprecated && console.warn(t.deprecated), this.resolveMappingCollisions();\n        }\n        resolveMappingCollisions() {\n          var e = this.mappings,\n            t = this;\n          Object.keys(e).forEach(function (n) {\n            var i;\n            n !== n.toLowerCase() && Ks(\"Mapping keys should be specified in lower case. The mapping key \" + n + \" may not be recognized\"), Ko[n] && (i = e[n].replace(\".\", \"-\"), e[i] = e[n], delete e[n], console.warn(\"The primitive \" + t.tagName.toLowerCase() + \" has a mapping collision. The attribute \" + n + \" has the same name as a registered component and has been renamed to \" + i));\n          });\n        }\n        getExtraComponents() {\n          var e,\n            t,\n            n,\n            i,\n            r,\n            o = this;\n          for (t = Zr(this.defaultComponentsFromPrimitive), (r = this.getAttribute(\"mixin\")) && (r = or(r.trim(), /\\s+/)).forEach(function (e) {\n            var n,\n              r,\n              l = document.getElementById(e);\n            if (l) {\n              var c = l.rawAttributeCache,\n                h = l.componentCache;\n              for (var d in c) {\n                if (i = o.mappings[d]) return void Zs(i, c[d], t);\n                d in h && (t[d] = (n = t[d], r = h[d], s(n) ? a(r) : s(r) ? a(n) : A(n) && A(r) ? Xr(n, r) : a(r)));\n              }\n            }\n          }), n = 0; n < this.attributes.length; n++) e = this.attributes[n], (i = this.mappings[e.name]) && Zs(i, e.value, t);\n          return t;\n          function s(e) {\n            return void 0 === e;\n          }\n          function a(e) {\n            return A(e) ? Xr({}, e) : e;\n          }\n          function A(e) {\n            return null !== e && e.constructor === Object;\n          }\n        }\n        attributeChangedCallback(e, t, n) {\n          var i = this.mappings[e];\n          e in this.deprecatedMappings && console.warn(this.deprecatedMappings[e]), e && i ? zs(this, i, n) : super.attributeChangedCallback(e, t, n);\n        }\n      };\n    return customElements.define(e, i), i.mappings = n, Js[e] = i, i;\n  }\n  Ws(\"Trying to register primitive \" + e + \" that has been already previously registered\");\n}\nfunction Zs(e, t, n) {\n  var i = sr(e);\n  i.constructor === Array ? (n[i[0]] = n[i[0]] || {}, n[i[0]][i[1]] = t.trim()) : n[i] = t.trim();\n}\nvar $s = {},\n  ea = [],\n  ta = {\n    array: \"v3\",\n    color: \"v3\",\n    int: \"i\",\n    number: \"f\",\n    map: \"t\",\n    time: \"f\",\n    vec2: \"v2\",\n    vec3: \"v3\",\n    vec4: \"v4\"\n  },\n  na = function () {};\nfunction ia(e, t) {\n  var n,\n    i = {};\n  if (Object.keys(t).forEach(function (e) {\n    i[e] = {\n      value: t[e],\n      writable: !0\n    };\n  }), $s[e]) throw new Error(\"The shader \" + e + \" has already been registered\");\n  return ((n = function () {\n    na.call(this);\n  }).prototype = Object.create(na.prototype, i)).name = e, n.prototype.constructor = n, $s[e] = {\n    Shader: n,\n    schema: jo(n.prototype.schema)\n  }, ea.push(e), n;\n}\nna.prototype = {\n  schema: {},\n  vertexShader: \"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}\",\n  fragmentShader: \"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}\",\n  init: function (e) {\n    return this.uniforms = this.initUniforms(), this.material = new (this.raw ? Re.RawShaderMaterial : Re.ShaderMaterial)({\n      uniforms: this.uniforms,\n      glslVersion: this.raw || this.glsl3 ? Re.GLSL3 : null,\n      vertexShader: this.vertexShader,\n      fragmentShader: this.fragmentShader\n    }), this.material;\n  },\n  initUniforms: function () {\n    var e,\n      t,\n      n = this.schema,\n      i = {};\n    for (e in n) \"uniform\" === n[e].is && (t = ta[n[e].type], i[e] = {\n      type: t,\n      value: void 0\n    });\n    return i;\n  },\n  update: function (e) {\n    var t,\n      n,\n      i = this.schema,\n      r = this.uniforms;\n    for (t in e) if (i[t] && \"uniform\" === i[t].is) if (\"map\" !== i[t].type) r[t].value = this.parseValue(i[t].type, e[t]), r[t].needsUpdate = !0;else {\n      if (!r[t] || r[t].value === e[t]) continue;\n      n = \"_texture_\" + t, this.setMapOnTextureLoad(r, t, n), Cr(n, t, this, e);\n    }\n  },\n  parseValue: function (e, t) {\n    var n;\n    switch (e) {\n      case \"vec2\":\n        return new Re.Vector2(t.x, t.y);\n      case \"vec3\":\n        return new Re.Vector3(t.x, t.y, t.z);\n      case \"vec4\":\n        return new Re.Vector4(t.x, t.y, t.z, t.w);\n      case \"color\":\n        return n = new Re.Color(t), new Re.Vector3(n.r, n.g, n.b);\n      default:\n        return t;\n    }\n  },\n  setMapOnTextureLoad: function (e, t, n) {\n    var i = this;\n    this.el.addEventListener(\"materialtextureloaded\", function () {\n      e[t].value = i.material[n], e[t].needsUpdate = !0;\n    });\n  }\n};\nvar ra = new Re.FileLoader(),\n  oa = fi(\"core:a-assets:warn\");\nfunction sa(e) {\n  if (e.hasAttribute(\"autoplay\") || \"auto\" === e.getAttribute(\"preload\")) return new Promise(function (t, n) {\n    if (4 === e.readyState) return t();\n    if (e.error) return n();\n    function i() {\n      for (var n = 0, i = 0; i < e.buffered.length; i++) n += e.buffered.end(i) - e.buffered.start(i);\n      n >= e.duration && (\"VIDEO\" === e.tagName && Re.Cache.add(e.getAttribute(\"src\"), e), t());\n    }\n    e.addEventListener(\"loadeddata\", i, !1), e.addEventListener(\"progress\", i, !1), e.addEventListener(\"error\", n, !1);\n  });\n}\nfunction aa(e) {\n  var t = function (e) {\n    var t, n, i;\n    if (e.hasAttribute(\"crossorigin\")) return e;\n    if (null !== (t = e.getAttribute(\"src\"))) {\n      if (-1 === t.indexOf(\"://\")) return e;\n      if ((i = (n = t).indexOf(\"://\") > -1 ? n.split(\"/\")[2] : n.split(\"/\")[0]).substring(0, i.indexOf(\":\")) === window.location.host) return e;\n    }\n    return oa('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin=\"anonymous\">)', t), e.crossOrigin = \"anonymous\", e.cloneNode(!0);\n  }(e);\n  return t.tagName && \"video\" === t.tagName.toLowerCase() && (t.setAttribute(\"playsinline\", \"\"), t.setAttribute(\"webkit-playsinline\", \"\")), t !== e && (e.parentNode.appendChild(t), e.parentNode.removeChild(e)), t;\n}\ncustomElements.define(\"a-assets\", class extends bs {\n  constructor() {\n    super(), this.isAssets = !0, this.fileLoader = ra, this.timeout = null;\n  }\n  doConnectedCallback() {\n    var e,\n      t,\n      n,\n      i,\n      r,\n      o,\n      s = this,\n      a = [];\n    if (super.doConnectedCallback(), !this.parentNode.isScene) throw new Error(\"<a-assets> must be a child of a <a-scene>.\");\n    for (r = this.querySelectorAll(\"img\"), e = 0; e < r.length; e++) i = aa(r[e]), a.push(new Promise(function (t, n) {\n      Re.Cache.add(r[e].getAttribute(\"src\"), i), i.complete ? t() : (i.onload = t, i.onerror = n);\n    }));\n    for (n = this.querySelectorAll(\"audio, video\"), e = 0; e < n.length; e++) (t = aa(n[e])).src || t.srcObject || oa(\"Audio/video asset has neither `src` nor `srcObject` attributes.\"), a.push(sa(t));\n    this.getChildren().forEach(function (e) {\n      e.isAssetItem && e.hasAttribute(\"src\") && a.push(new Promise(function (t, n) {\n        if (e.hasLoaded) return t();\n        e.addEventListener(\"loaded\", t), e.addEventListener(\"error\", n);\n      }));\n    }), Promise.allSettled(a).then(function () {\n      null !== s.timeout && s.load();\n    }), o = parseInt(this.getAttribute(\"timeout\"), 10) || 3e3, this.timeout = setTimeout(function () {\n      s.hasLoaded || (oa(\"Asset loading timed out in\", o, \"ms\"), s.timeout = null, s.emit(\"timeout\"), s.load());\n    }, o);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback(), this.timeout && clearTimeout(this.timeout);\n  }\n  load() {\n    super.load.call(this, null, function () {\n      return !1;\n    });\n  }\n}), customElements.define(\"a-asset-item\", class extends bs {\n  constructor() {\n    super(), this.data = null, this.isAssetItem = !0;\n  }\n  connectedCallback() {\n    var e = this,\n      t = this.getAttribute(\"src\");\n    ra.setResponseType(this.getAttribute(\"response-type\") || function (e) {\n      var t = function (e) {\n          var t = document.createElement(\"a\");\n          t.href = e;\n          var n = t.search.replace(/^\\?/, \"\"),\n            i = e.replace(n, \"\").replace(\"?\", \"\");\n          return i.substring(i.lastIndexOf(\"/\") + 1);\n        }(e),\n        n = t.lastIndexOf(\".\");\n      return n >= 0 && \".glb\" === t.slice(n, e.search(/\\?|#|$/)) ? \"arraybuffer\" : \"text\";\n    }(t)), ra.load(t, function (t) {\n      e.data = t, bs.prototype.load.call(e);\n    }, function (t) {\n      e.emit(\"progress\", {\n        loadedBytes: t.loaded,\n        totalBytes: t.total,\n        xhr: t\n      });\n    }, function (t) {\n      e.emit(\"error\", {\n        xhr: t\n      }, !1);\n    });\n  }\n});\nvar Aa = fi(\"core:cubemap:warn\");\nclass la extends HTMLElement {\n  constructor(e) {\n    return super(e);\n  }\n  onReadyStateChange() {\n    \"complete\" === document.readyState && this.doConnectedCallback();\n  }\n  connectedCallback() {\n    \"complete\" === document.readyState ? la.prototype.doConnectedCallback.call(this) : document.addEventListener(\"readystatechange\", this.onReadyStateChange.bind(this));\n  }\n  doConnectedCallback() {\n    this.srcs = this.validate();\n  }\n  validate() {\n    var e,\n      t = this.querySelectorAll(\"[src]\"),\n      n = [];\n    if (6 === t.length) {\n      for (e = 0; e < t.length; e++) \"IMG\" === t[e].tagName ? n.push(t[e]) : n.push(t[e].getAttribute(\"src\"));\n      return n;\n    }\n    Aa(\"<a-cubemap> did not contain exactly six elements each with a `src` attribute.\");\n  }\n}\ncustomElements.define(\"a-cubemap\", la), customElements.define(\"a-mixin\", class extends bs {\n  constructor() {\n    super(), this.componentCache = {}, this.rawAttributeCache = {}, this.isMixin = !0;\n  }\n  doConnectedCallback() {\n    super.doConnectedCallback(), this.sceneEl = this.closestScene(), this.id = this.getAttribute(\"id\"), this.cacheAttributes(), this.updateEntities(), this.load();\n  }\n  attributeChangedCallback(e, t, n) {\n    super.attributeChangedCallback(), this.cacheAttribute(e, n), this.updateEntities();\n  }\n  setAttribute(e, t) {\n    window.HTMLElement.prototype.setAttribute.call(this, e, t), this.cacheAttribute(e, t);\n  }\n  cacheAttribute(e, t) {\n    var n, i;\n    i = or(e, \"__\")[0], n = Ko[i], void 0 === t && (t = window.HTMLElement.prototype.getAttribute.call(this, e)), this.rawAttributeCache[e] = t, n && (this.componentCache[e] = this.parseComponentAttrValue(n, t));\n  }\n  parseComponentAttrValue(e, t) {\n    var n;\n    return \"string\" != typeof t ? t : (e.isSingleProperty ? \"string\" == typeof (n = e.schema.parse(t)) && (n = t) : n = Lr(t), n);\n  }\n  getAttribute(e) {\n    return this.componentCache[e] || window.HTMLElement.prototype.getAttribute.call(this, e);\n  }\n  cacheAttributes() {\n    var e,\n      t,\n      n = this.attributes;\n    for (t = 0; t < n.length; t++) e = n[t].name, this.cacheAttribute(e);\n  }\n  updateEntities() {\n    var e, t, n;\n    if (this.sceneEl) for (t = this.sceneEl.querySelectorAll(\"[mixin~=\" + this.id + \"]\"), n = 0; n < t.length; n++) (e = t[n]).hasLoaded && !e.isMixin && e.mixinUpdate(this.id);\n  }\n});\nconst ca = \"1.7.0\";\nvar ha = new Re.Color(),\n  da = new Re.Color(),\n  ua = ar,\n  ga = Ar,\n  pa = {},\n  fa = \"color\",\n  ma = \"rotation\",\n  Ea = \"components\";\nfunction Ca(e) {\n  e.x = Re.MathUtils.degToRad(e.x), e.y = Re.MathUtils.degToRad(e.y), e.z = Re.MathUtils.degToRad(e.z);\n}\nfunction va(e, t, n) {\n  var i;\n  for (i = 0; i < t.length; i++) e.addEventListener(t[i], n);\n}\nfunction Ba(e, t, n) {\n  var i;\n  for (i = 0; i < t.length; i++) e.removeEventListener(t[i], n);\n}\nfunction ba(e, t) {\n  var n, i, r;\n  for (i = Ia(t), r = e, n = 0; n < i.length; n++) r = r[i[n]];\n  if (void 0 === r) throw console.log(e), new Error(\"[animation] property (\" + t + \") could not be found\");\n  return r;\n}\nfunction ya(e, t, n, i) {\n  var r, o, s, a;\n  for (t.startsWith(\"object3D.rotation\") && (n = Re.MathUtils.degToRad(n)), o = Ia(t), a = e, r = 0; r < o.length - 1; r++) a = a[o[r]];\n  s = o[o.length - 1], i !== fa ? a[s] = n : \"r\" in a[s] ? (a[s].r = n.r, a[s].g = n.g, a[s].b = n.b) : (a[s].x = n.r, a[s].y = n.g, a[s].z = n.b);\n}\nfunction Ia(e) {\n  return e in pa || (pa[e] = e.split(\".\")), pa[e];\n}\nfunction wa(e) {\n  return e.isRawProperty || e.property.startsWith(Ea) || e.property.startsWith(\"object3D\");\n}\ncs(\"animation\", {\n  schema: {\n    autoplay: {\n      default: !0\n    },\n    delay: {\n      default: 0\n    },\n    dir: {\n      default: \"\"\n    },\n    dur: {\n      default: 1e3\n    },\n    easing: {\n      default: \"easeInQuad\"\n    },\n    elasticity: {\n      default: 400\n    },\n    enabled: {\n      default: !0\n    },\n    from: {\n      default: \"\"\n    },\n    loop: {\n      default: 0,\n      parse: function (e) {\n        return !0 === e || \"true\" === e || !1 !== e && \"false\" !== e && parseInt(e, 10);\n      }\n    },\n    property: {\n      default: \"\"\n    },\n    startEvents: {\n      type: \"array\"\n    },\n    pauseEvents: {\n      type: \"array\"\n    },\n    resumeEvents: {\n      type: \"array\"\n    },\n    round: {\n      default: !1\n    },\n    to: {\n      default: \"\"\n    },\n    type: {\n      default: \"\"\n    },\n    isRawProperty: {\n      default: !1\n    }\n  },\n  multiple: !0,\n  init: function () {\n    var e = this;\n    this.eventDetail = {\n      name: this.attrName\n    }, this.time = 0, this.animation = null, this.animationIsPlaying = !1, this.onStartEvent = this.onStartEvent.bind(this), this.beginAnimation = this.beginAnimation.bind(this), this.pauseAnimation = this.pauseAnimation.bind(this), this.resumeAnimation = this.resumeAnimation.bind(this), this.fromColor = {}, this.toColor = {}, this.targets = {}, this.targetsArray = [], this.updateConfigForDefault = this.updateConfigForDefault.bind(this), this.updateConfigForRawColor = this.updateConfigForRawColor.bind(this), this.config = {\n      complete: function () {\n        e.animationIsPlaying = !1, e.el.emit(\"animationcomplete\", e.eventDetail, !1), e.id && e.el.emit(\"animationcomplete__\" + e.id, e.eventDetail, !1);\n      }\n    };\n  },\n  update: function (e) {\n    var t = this.config,\n      n = this.data;\n    this.animationIsPlaying = !1, this.data.enabled && n.property && (t.autoplay = !1, t.direction = n.dir, t.duration = n.dur, t.easing = n.easing, t.elasticity = n.elasticity, t.loop = n.loop, t.round = n.round, this.createAndStartAnimation());\n  },\n  tick: function (e, t) {\n    this.animationIsPlaying && (this.time += t, this.animation.tick(this.time));\n  },\n  remove: function () {\n    this.pauseAnimation(), this.removeEventListeners();\n  },\n  pause: function () {\n    this.paused = !0, this.pausedWasPlaying = this.animationIsPlaying, this.pauseAnimation(), this.removeEventListeners();\n  },\n  play: function () {\n    this.paused && (this.paused = !1, this.addEventListeners(), this.pausedWasPlaying && (this.resumeAnimation(), this.pausedWasPlaying = !1));\n  },\n  createAndStartAnimation: function () {\n    var e = this.data;\n    this.updateConfig(), this.animationIsPlaying = !1, this.animation = Te(this.config), this.animation.began = !0, this.removeEventListeners(), this.addEventListeners(), !e.autoplay || e.startEvents && e.startEvents.length || (e.delay ? setTimeout(this.beginAnimation, e.delay) : this.beginAnimation());\n  },\n  beginAnimation: function () {\n    this.updateConfig(), this.animation.began = !0, this.time = 0, this.animationIsPlaying = !0, this.stopRelatedAnimations(), this.el.emit(\"animationbegin\", this.eventDetail, !1);\n  },\n  pauseAnimation: function () {\n    this.animationIsPlaying = !1;\n  },\n  resumeAnimation: function () {\n    this.animationIsPlaying = !0;\n  },\n  onStartEvent: function () {\n    this.data.enabled && (this.updateConfig(), this.animation && this.animation.pause(), this.animation = Te(this.config), this.data.delay ? setTimeout(this.beginAnimation, this.data.delay) : this.beginAnimation());\n  },\n  updateConfigForRawColor: function () {\n    var e,\n      t,\n      n,\n      i = this.config,\n      r = this.data,\n      o = this.el;\n    if (!this.waitComponentInitRawProperty(this.updateConfigForRawColor)) {\n      for (t in e = \"\" === r.from ? ba(o, r.property) : r.from, n = r.to, this.setColorConfig(e, n), e = this.fromColor, n = this.toColor, this.targetsArray.length = 0, this.targetsArray.push(e), i.targets = this.targetsArray, n) i[t] = n[t];\n      var s;\n      i.update = (s = {}, function (e) {\n        var t;\n        (t = e.animatables[0].target).r === s.r && t.g === s.g && t.b === s.b || ya(o, r.property, t, r.type);\n      });\n    }\n  },\n  updateConfigForDefault: function () {\n    var e,\n      t,\n      n,\n      i,\n      r = this.config,\n      o = this.data,\n      s = this.el;\n    this.waitComponentInitRawProperty(this.updateConfigForDefault) || (e = \"\" === o.from ? wa(o) ? ba(s, o.property) : ua(s, o.property) : o.from, n = o.to, isNaN(e || n) ? (e = e ? e.toString() : e, n = n ? n.toString() : n) : (e = parseFloat(e), n = parseFloat(n)), (t = \"true\" === o.to || \"false\" === o.to || !0 === o.to || !1 === o.to) && (e = \"true\" === o.from || !0 === o.from ? 1 : 0, n = \"true\" === o.to || !0 === o.to ? 1 : 0), this.targets.aframeProperty = e, r.targets = this.targets, r.aframeProperty = n, r.update = function (e) {\n      var n;\n      (n = e.animatables[0].target.aframeProperty) !== i && (i = n, t && (n = n >= 1), wa(o) ? ya(s, o.property, n, o.type) : ga(s, o.property, n));\n    });\n  },\n  updateConfigForVector: function () {\n    var e,\n      t,\n      n,\n      i,\n      r = this.config,\n      o = this.data,\n      s = this.el,\n      a = Ia(o.property),\n      A = \"object3D\" === a[0] ? a[1] : a[0];\n    for (e in t = \"\" !== o.from ? Zi(o.from) : ua(s, A), n = Zi(o.to), A === ma && (Ca(t), Ca(n)), this.targetsArray.length = 0, this.targetsArray.push(t), r.targets = this.targetsArray, n) r[e] = n[e];\n    r.update = \"position\" !== A && A !== ma && \"scale\" !== A ? function () {\n      var e = {};\n      return function (t) {\n        var n = t.animatables[0].target;\n        n.x === e.x && n.y === e.y && n.z === e.z || (e.x = n.x, e.y = n.y, e.z = n.z, ga(s, o.property, n));\n      };\n    }() : (i = {}, function (e) {\n      var t = e.animatables[0].target;\n      t.x === i.x && t.y === i.y && t.z === i.z || (i.x = t.x, i.y = t.y, i.z = t.z, s.object3D[A].set(t.x, t.y, t.z));\n    });\n  },\n  updateConfig: function () {\n    var e;\n    e = function (e, t) {\n      var n, i, r, o;\n      return \"object3D\" !== (r = t.split(\".\"))[0] || r[2] || \"position\" !== r[1] && \"rotation\" !== r[1] && \"scale\" !== r[1] ? (i = r[0], o = r[1], (n = e.components[i] || Ko[i]) ? o && !n.schema[o] ? null : o ? n.schema[o].type : n.schema.type : null) : \"vec3\";\n    }(this.el, this.data.property), wa(this.data) && this.data.type === fa ? this.updateConfigForRawColor() : \"vec2\" === e || \"vec3\" === e || \"vec4\" === e ? this.updateConfigForVector() : this.updateConfigForDefault();\n  },\n  waitComponentInitRawProperty: function (e) {\n    var t,\n      n = this.data,\n      i = this.el,\n      r = this;\n    return \"\" === n.from && !!n.property.startsWith(Ea) && (t = Ia(n.property)[1], !i.components[t] && (i.addEventListener(\"componentinitialized\", function n(o) {\n      o.detail.name === t && (e(), r.animation = Te(r.config), i.removeEventListener(\"componentinitialized\", n));\n    }), !0));\n  },\n  stopRelatedAnimations: function () {\n    var e, t;\n    for (t in this.el.components) e = this.el.components[t], t !== this.attrName && \"animation\" === e.name && e.animationIsPlaying && e.data.property === this.data.property && (e.animationIsPlaying = !1);\n  },\n  addEventListeners: function () {\n    var e = this.data,\n      t = this.el;\n    va(t, e.startEvents, this.onStartEvent), va(t, e.pauseEvents, this.pauseAnimation), va(t, e.resumeEvents, this.resumeAnimation);\n  },\n  removeEventListeners: function () {\n    var e = this.data,\n      t = this.el;\n    Ba(t, e.startEvents, this.onStartEvent), Ba(t, e.pauseEvents, this.pauseAnimation), Ba(t, e.resumeEvents, this.resumeAnimation);\n  },\n  setColorConfig: function (e, t) {\n    ha.set(e), da.set(t), e = this.fromColor, t = this.toColor, e.r = ha.r, e.g = ha.g, e.b = ha.b, t.r = da.r, t.g = da.g, t.b = da.b;\n  }\n});\nvar xa = fi(\"components:anchored:warn\");\ncs(\"anchored\", {\n  schema: {\n    persistent: {\n      default: !1\n    }\n  },\n  init: function () {\n    var e = this.el.sceneEl.getAttribute(\"webxr\"),\n      t = e.optionalFeatures;\n    -1 === t.indexOf(\"anchors\") && (t.push(\"anchors\"), this.el.sceneEl.setAttribute(\"webxr\", e)), this.auxQuaternion = new Re.Quaternion(), this.onEnterVR = this.onEnterVR.bind(this), this.el.sceneEl.addEventListener(\"enter-vr\", this.onEnterVR);\n  },\n  onEnterVR: function () {\n    this.anchor = void 0, this.requestPersistentAnchorPending = this.data.persistent, this.requestAnchorPending = !this.data.persistent;\n  },\n  tick: function () {\n    var e,\n      t,\n      n,\n      i = this.el.sceneEl,\n      r = i.renderer.xr,\n      o = this.el.object3D;\n    (i.is(\"ar-mode\") || i.is(\"vr-mode\")) && (!this.anchor && this.requestPersistentAnchorPending && this.restorePersistentAnchor(), !this.anchor && this.requestAnchorPending && this.createAnchor(), this.anchor && (e = i.frame, t = r.getReferenceSpace(), n = e.getPose(this.anchor.anchorSpace, t), o.position.copy(n.transform.position), o.quaternion.copy(n.transform.orientation)));\n  },\n  createAnchor: async function (e, t) {\n    var n,\n      i,\n      r,\n      o,\n      s = this.el.sceneEl,\n      a = s.renderer.xr,\n      A = this.el.object3D;\n    e = e || A.position, t = t || this.auxQuaternion.setFromEuler(A.rotation), function (e) {\n      var t = e.renderer.xr.getSession();\n      return t && t.restorePersistentAnchor;\n    }(s) ? (this.anchor && this.deleteAnchor(), n = s.frame, i = a.getReferenceSpace(), r = new XRRigidTransform({\n      x: e.x,\n      y: e.y,\n      z: e.z\n    }, {\n      x: t.x,\n      y: t.y,\n      z: t.z,\n      w: t.w\n    }), this.requestAnchorPending = !1, o = await n.createAnchor(r, i), this.data.persistent && (this.el.id ? (this.persistentHandle = await o.requestPersistentHandle(), localStorage.setItem(this.el.id, this.persistentHandle)) : xa(\"The anchor won't be persisted because the entity has no assigned id.\")), s.object3D.attach(this.el.object3D), this.anchor = o) : xa(\"This browser doesn't support the WebXR anchors module\");\n  },\n  restorePersistentAnchor: async function () {\n    var e,\n      t = this.el.sceneEl.renderer.xr.getSession(),\n      n = t.persistentAnchors;\n    if (this.requestPersistentAnchorPending = !1, !this.el.id) return xa(\"The entity associated to the persistent anchor cannot be retrieved because it doesn't have an assigned id.\"), void (this.requestAnchorPending = !0);\n    if (n) {\n      e = localStorage.getItem(this.el.id);\n      for (var i = 0; i < n.length; ++i) if (e === n[i]) {\n        this.anchor = await t.restorePersistentAnchor(n[i]), this.anchor && (this.persistentHandle = n[i]);\n        break;\n      }\n      this.anchor || (this.requestAnchorPending = !0);\n    } else this.requestPersistentAnchorPending = !0;\n  },\n  deleteAnchor: function () {\n    var e,\n      t = this.anchor;\n    t && (e = this.el.sceneEl.renderer.xr.getSession(), t.delete(), this.el.sceneEl.object3D.add(this.el.object3D), this.persistentHandle && e.deletePersistentAnchor(this.persistentHandle), this.anchor = void 0);\n  }\n}), cs(\"camera\", {\n  schema: {\n    active: {\n      default: !0\n    },\n    far: {\n      default: 1e4\n    },\n    fov: {\n      default: 80,\n      min: 0\n    },\n    near: {\n      default: .005,\n      min: 0\n    },\n    spectator: {\n      default: !1\n    },\n    zoom: {\n      default: 1,\n      min: 0\n    }\n  },\n  init: function () {\n    var e,\n      t = this.el;\n    e = this.camera = new Re.PerspectiveCamera(), t.setObject3D(\"camera\", e);\n  },\n  update: function (e) {\n    var t = this.data,\n      n = this.camera;\n    n.aspect = t.aspect || window.innerWidth / window.innerHeight, n.far = t.far, n.fov = t.fov, n.near = t.near, n.zoom = t.zoom, n.updateProjectionMatrix(), this.updateActiveCamera(e), this.updateSpectatorCamera(e);\n  },\n  updateActiveCamera: function (e) {\n    var t = this.data,\n      n = this.el,\n      i = this.system;\n    e && e.active === t.active || t.spectator || (t.active && i.activeCameraEl !== n ? i.setActiveCamera(n) : t.active || i.activeCameraEl !== n || i.disableActiveCamera());\n  },\n  updateSpectatorCamera: function (e) {\n    var t = this.data,\n      n = this.el,\n      i = this.system;\n    e && e.spectator === t.spectator || (t.spectator && i.spectatorCameraEl !== n ? i.setSpectatorCamera(n) : t.spectator || i.spectatorCameraEl !== n || i.disableSpectatorCamera());\n  },\n  remove: function () {\n    this.el.removeObject3D(\"camera\");\n  }\n});\nvar Qa,\n  La,\n  Ma,\n  Sa,\n  Da = \"click\",\n  ka = \"mouseup\",\n  Ta = \"cursor-fusing\",\n  Ra = \"cursor-hovering\",\n  Fa = \"cursor-hovered\",\n  Ua = {\n    DOWN: [\"mousedown\", \"touchstart\"],\n    UP: [\"mouseup\", \"touchend\"]\n  },\n  Oa = {\n    DOWN: [\"selectstart\"],\n    UP: [\"selectend\"]\n  },\n  Pa = \"a-mouse-cursor-hover\",\n  Ga = (cs(\"cursor\", {\n    dependencies: [\"raycaster\"],\n    schema: {\n      downEvents: {\n        default: []\n      },\n      fuse: {\n        default: Si()\n      },\n      fuseTimeout: {\n        default: 1500,\n        min: 0\n      },\n      mouseCursorStylesEnabled: {\n        default: !0\n      },\n      upEvents: {\n        default: []\n      },\n      rayOrigin: {\n        default: \"entity\",\n        oneOf: [\"mouse\", \"entity\", \"xrselect\"]\n      }\n    },\n    after: [\"tracked-controls\"],\n    multiple: !0,\n    init: function () {\n      var e = this;\n      this.fuseTimeout = void 0, this.cursorDownEl = null, this.intersectedEl = null, this.canvasBounds = document.body.getBoundingClientRect(), this.isCursorDown = !1, this.activeXRInput = null, this.updateCanvasBounds = Wr(function () {\n        e.canvasBounds = e.el.sceneEl.canvas.getBoundingClientRect();\n      }, 500), this.eventDetail = {}, this.intersectedEventDetail = {\n        cursorEl: this.el\n      }, this.onCursorDown = this.onCursorDown.bind(this), this.onCursorUp = this.onCursorUp.bind(this), this.onIntersection = this.onIntersection.bind(this), this.onIntersectionCleared = this.onIntersectionCleared.bind(this), this.onMouseMove = this.onMouseMove.bind(this), this.onEnterVR = this.onEnterVR.bind(this);\n    },\n    update: function (e) {\n      var t = this.data.rayOrigin;\n      t !== e.rayOrigin && (\"entity\" === t && this.resetRaycaster(), this.updateMouseEventListeners(), \"xrselect\" !== t && \"entity\" !== t || this.addWebXREventListeners(), \"xrselect\" !== e.rayOrigin && \"entity\" !== e.rayOrigin || this.removeWebXREventListeners());\n    },\n    tick: function () {\n      var e = this.el.sceneEl.frame,\n        t = this.activeXRInput;\n      \"xrselect\" === this.data.rayOrigin && e && t && this.onMouseMove({\n        frame: e,\n        inputSource: t,\n        type: \"fakeselectevent\"\n      });\n    },\n    play: function () {\n      this.addEventListeners();\n    },\n    pause: function () {\n      this.removeEventListeners();\n    },\n    remove: function () {\n      var e = this.el;\n      e.removeState(Ra), e.removeState(Ta), clearTimeout(this.fuseTimeout), this.intersectedEl && this.intersectedEl.removeState(Fa), this.removeEventListeners();\n    },\n    addEventListeners: function () {\n      var e,\n        t = this.data,\n        n = this.el,\n        i = this;\n      function r() {\n        e = n.sceneEl.canvas, t.downEvents.length || t.upEvents.length || (Ua.DOWN.forEach(function (t) {\n          e.addEventListener(t, i.onCursorDown, {\n            passive: !1\n          });\n        }), Ua.UP.forEach(function (t) {\n          e.addEventListener(t, i.onCursorUp, {\n            passive: !1\n          });\n        }));\n      }\n      (e = n.sceneEl.canvas) ? r() : n.sceneEl.addEventListener(\"render-target-loaded\", r), t.downEvents.forEach(function (e) {\n        n.addEventListener(e, i.onCursorDown);\n      }), t.upEvents.forEach(function (e) {\n        n.addEventListener(e, i.onCursorUp);\n      }), n.addEventListener(\"raycaster-intersection\", this.onIntersection), n.addEventListener(\"raycaster-closest-entity-changed\", this.onIntersection), n.addEventListener(\"raycaster-intersection-cleared\", this.onIntersectionCleared), n.sceneEl.addEventListener(\"rendererresize\", this.updateCanvasBounds), n.sceneEl.addEventListener(\"enter-vr\", this.onEnterVR), window.addEventListener(\"resize\", this.updateCanvasBounds), window.addEventListener(\"scroll\", this.updateCanvasBounds), this.updateMouseEventListeners();\n    },\n    removeEventListeners: function () {\n      var e,\n        t = this.data,\n        n = this.el,\n        i = this;\n      !(e = n.sceneEl.canvas) || t.downEvents.length || t.upEvents.length || (Ua.DOWN.forEach(function (t) {\n        e.removeEventListener(t, i.onCursorDown);\n      }), Ua.UP.forEach(function (t) {\n        e.removeEventListener(t, i.onCursorUp);\n      })), t.downEvents.forEach(function (e) {\n        n.removeEventListener(e, i.onCursorDown);\n      }), t.upEvents.forEach(function (e) {\n        n.removeEventListener(e, i.onCursorUp);\n      }), n.removeEventListener(\"raycaster-intersection\", this.onIntersection), n.removeEventListener(\"raycaster-closest-entity-changed\", this.onIntersection), n.removeEventListener(\"raycaster-intersection-cleared\", this.onIntersectionCleared), e.removeEventListener(\"mousemove\", this.onMouseMove), e.removeEventListener(\"touchstart\", this.onMouseMove), e.removeEventListener(\"touchmove\", this.onMouseMove), n.sceneEl.removeEventListener(\"rendererresize\", this.updateCanvasBounds), n.sceneEl.removeEventListener(\"enter-vr\", this.onEnterVR), window.removeEventListener(\"resize\", this.updateCanvasBounds), window.removeEventListener(\"scroll\", this.updateCanvasBounds), this.removeWebXREventListeners();\n    },\n    updateMouseEventListeners: function () {\n      var e,\n        t = this.el;\n      (e = t.sceneEl.canvas).removeEventListener(\"mousemove\", this.onMouseMove), e.removeEventListener(\"touchmove\", this.onMouseMove), t.setAttribute(\"raycaster\", \"useWorldCoordinates\", !1), \"mouse\" === this.data.rayOrigin && (e.addEventListener(\"mousemove\", this.onMouseMove), e.addEventListener(\"touchmove\", this.onMouseMove, {\n        passive: !1\n      }), t.setAttribute(\"raycaster\", \"useWorldCoordinates\", !0), this.updateCanvasBounds());\n    },\n    resetRaycaster: function () {\n      this.el.setAttribute(\"raycaster\", {\n        direction: new Re.Vector3().set(0, 0, -1),\n        origin: new Re.Vector3()\n      });\n    },\n    addWebXREventListeners: function () {\n      var e = this,\n        t = this.el.sceneEl.xrSession;\n      t && (Oa.DOWN.forEach(function (n) {\n        t.addEventListener(n, e.onCursorDown);\n      }), Oa.UP.forEach(function (n) {\n        t.addEventListener(n, e.onCursorUp);\n      }));\n    },\n    removeWebXREventListeners: function () {\n      var e = this,\n        t = this.el.sceneEl.xrSession;\n      t && (Oa.DOWN.forEach(function (n) {\n        t.removeEventListener(n, e.onCursorDown);\n      }), Oa.UP.forEach(function (n) {\n        t.removeEventListener(n, e.onCursorUp);\n      }));\n    },\n    onMouseMove: (Qa = new Re.Vector3(), La = new Re.Vector2(), Ma = new Re.Vector3(), Sa = {\n      origin: Ma,\n      direction: Qa\n    }, function (e) {\n      var t,\n        n,\n        i,\n        r,\n        o,\n        s,\n        a,\n        A,\n        l,\n        c = this.canvasBounds,\n        h = this.el.sceneEl.camera;\n      h.parent.updateMatrixWorld(), n = (i = \"touchmove\" === e.type || \"touchstart\" === e.type ? e.touches.item(0) : e).clientX - c.left, r = i.clientY - c.top, La.x = n / c.width * 2 - 1, La.y = -r / c.height * 2 + 1, \"xrselect\" !== this.data.rayOrigin || \"selectstart\" !== e.type && \"fakeselectevent\" !== e.type ? \"fakeselectout\" === e.type ? (Qa.set(0, 1, 0), Ma.set(0, 9999, 0)) : h && h.isPerspectiveCamera ? (Ma.setFromMatrixPosition(h.matrixWorld), Qa.set(La.x, La.y, .5).unproject(h).sub(Ma).normalize()) : h && h.isOrthographicCamera ? (Ma.set(La.x, La.y, (h.near + h.far) / (h.near - h.far)).unproject(h), Qa.set(0, 0, -1).transformDirection(h.matrixWorld)) : console.error(\"AFRAME.Raycaster: Unsupported camera type: \" + h.type) : (o = e.frame, s = e.inputSource, a = this.el.sceneEl.renderer.xr.getReferenceSpace(), (A = o.getPose(s.targetRaySpace, a)) && (l = A.transform, Qa.set(0, 0, -1), Qa.applyQuaternion(l.orientation), Ma.copy(l.position), (t = h.el.object3D.parent).localToWorld(Ma), Qa.transformDirection(t.matrixWorld))), this.el.setAttribute(\"raycaster\", Sa), \"touchmove\" === e.type && e.preventDefault();\n    }),\n    onCursorDown: function (e) {\n      this.isCursorDown = !0, \"mouse\" === this.data.rayOrigin && \"touchstart\" === e.type && (this.onMouseMove(e), this.el.components.raycaster.checkIntersections(), e.preventDefault()), \"xrselect\" === this.data.rayOrigin && \"selectstart\" === e.type && (this.activeXRInput = e.inputSource, this.onMouseMove(e), this.el.components.raycaster.checkIntersections(), this.el.components.raycaster.intersectedEls.length && void 0 !== this.el.sceneEl.components[\"ar-hit-test\"] && this.el.sceneEl.getAttribute(\"ar-hit-test\").enabled && (this.el.sceneEl.setAttribute(\"ar-hit-test\", \"enabled\", !1), this.reenableARHitTest = !0)), this.twoWayEmit(\"mousedown\", e), this.cursorDownEl = this.intersectedEl;\n    },\n    onCursorUp: function (e) {\n      if (this.isCursorDown && (\"xrselect\" !== this.data.rayOrigin || this.activeXRInput === e.inputSource)) {\n        this.isCursorDown = !1;\n        var t = this.data;\n        this.twoWayEmit(ka, e), !0 === this.reenableARHitTest && (this.el.sceneEl.setAttribute(\"ar-hit-test\", \"enabled\", !0), this.reenableARHitTest = void 0), this.cursorDownEl && this.cursorDownEl !== this.intersectedEl && (this.intersectedEventDetail.intersection = null, this.cursorDownEl.emit(ka, this.intersectedEventDetail)), t.fuse && \"mouse\" !== t.rayOrigin && \"xrselect\" !== t.rayOrigin || !this.intersectedEl || this.cursorDownEl !== this.intersectedEl || this.twoWayEmit(Da, e), \"xrselect\" === t.rayOrigin && this.onMouseMove({\n          type: \"fakeselectout\"\n        }), this.activeXRInput = null, this.cursorDownEl = null, \"touchend\" === e.type && e.preventDefault();\n      }\n    },\n    onIntersection: function (e) {\n      var t,\n        n,\n        i,\n        r,\n        o = this.el;\n      n = e.detail.els[0] === o ? 1 : 0, r = e.detail.intersections[n], (i = e.detail.els[n]) && this.intersectedEl !== i && (this.intersectedEl && (t = this.el.components.raycaster.getIntersection(this.intersectedEl)) && t.distance <= r.distance || (this.clearCurrentIntersection(!0), this.setIntersection(i, r)));\n    },\n    onIntersectionCleared: function (e) {\n      -1 !== e.detail.clearedEls.indexOf(this.intersectedEl) && this.clearCurrentIntersection();\n    },\n    onEnterVR: function () {\n      var e = this.data.rayOrigin;\n      this.clearCurrentIntersection(!0), \"xrselect\" !== e && \"entity\" !== e || this.addWebXREventListeners();\n    },\n    setIntersection: function (e, t) {\n      var n = this.el,\n        i = this.data,\n        r = this;\n      this.intersectedEl !== e && (this.intersectedEl = e, n.addState(Ra), e.addState(Fa), this.twoWayEmit(\"mouseenter\"), this.data.mouseCursorStylesEnabled && \"mouse\" === this.data.rayOrigin && this.el.sceneEl.canvas.classList.add(Pa), 0 !== i.fuseTimeout && i.fuse && \"xrselect\" !== i.rayOrigin && \"mouse\" !== i.rayOrigin && (n.addState(Ta), this.twoWayEmit(\"fusing\"), this.fuseTimeout = setTimeout(function () {\n        n.removeState(Ta), r.twoWayEmit(Da);\n      }, i.fuseTimeout)));\n    },\n    clearCurrentIntersection: function (e) {\n      var t,\n        n,\n        i = this.el;\n      this.intersectedEl && (this.intersectedEl.removeState(Fa), i.removeState(Ra), i.removeState(Ta), this.twoWayEmit(\"mouseleave\"), this.data.mouseCursorStylesEnabled && \"mouse\" === this.data.rayOrigin && this.el.sceneEl.canvas.classList.remove(Pa), this.intersectedEl = null, clearTimeout(this.fuseTimeout), !0 !== e && 0 !== (n = this.el.components.raycaster.intersections).length && (t = n[n[0].object.el === i ? 1 : 0]) && this.setIntersection(t.object.el, t));\n    },\n    twoWayEmit: function (e, t) {\n      var n,\n        i = this.el,\n        r = this.intersectedEl;\n      function o(e, n) {\n        t instanceof MouseEvent ? e.mouseEvent = t : \"undefined\" != typeof TouchEvent && t instanceof TouchEvent && (e.touchEvent = t);\n      }\n      n = this.el.components.raycaster.getIntersection(r), this.eventDetail.intersectedEl = r, this.eventDetail.intersection = n, o(this.eventDetail), i.emit(e, this.eventDetail), r && (this.intersectedEventDetail.intersection = n, o(this.intersectedEventDetail), r.emit(e, this.intersectedEventDetail));\n    }\n  }), new Re.BufferGeometry()),\n  Na = (cs(\"geometry\", {\n    schema: {\n      buffer: {\n        default: !0\n      },\n      primitive: {\n        default: \"box\",\n        oneOf: _s,\n        schemaChange: !0\n      },\n      skipCache: {\n        default: !1\n      }\n    },\n    init: function () {\n      this.geometry = null;\n    },\n    update: function (e) {\n      var t,\n        n = this.data,\n        i = this.el,\n        r = this.system;\n      this.geometry && (r.unuseGeometry(e), this.geometry = null), this.geometry = r.getOrCreateGeometry(n), (t = i.getObject3D(\"mesh\")) ? t.geometry = this.geometry : ((t = new Re.Mesh()).geometry = this.geometry, this.el.getAttribute(\"material\") || (t.material = new Re.MeshStandardMaterial({\n        color: 16777215 * Math.random(),\n        metalness: 0,\n        roughness: .5\n      })), i.setObject3D(\"mesh\", t));\n    },\n    remove: function () {\n      this.system.unuseGeometry(this.data), this.el.getObject3D(\"mesh\").geometry = Ga, this.geometry = null;\n    },\n    updateSchema: function (e) {\n      var t = this.oldData && this.oldData.primitive,\n        n = e.primitive,\n        i = js[n] && js[n].schema;\n      if (!i) throw new Error(\"Unknown geometry schema `\" + n + \"`\");\n      t && t === n || this.extendSchema(i);\n    }\n  }), \"generic\"),\n  ja = (cs(\"generic-tracked-controller-controls\", {\n    schema: {\n      hand: {\n        default: \"\"\n      },\n      defaultModel: {\n        default: !0\n      },\n      defaultModelColor: {\n        default: \"gray\"\n      },\n      disabled: {\n        default: !1\n      }\n    },\n    after: [\"tracked-controls\"],\n    mapping: {\n      axes: {\n        touchpad: [0, 1],\n        thumbstick: [2, 3]\n      },\n      buttons: [\"trigger\", \"squeeze\", \"touchpad\", \"thumbstick\"]\n    },\n    bindMethods: function () {\n      this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this), this.onAxisMoved = this.onAxisMoved.bind(this);\n    },\n    init: function () {\n      var e = this;\n      this.onButtonChanged = this.onButtonChanged.bind(this), this.onButtonDown = function (t) {\n        Nr(t.detail.id, \"down\", e);\n      }, this.onButtonUp = function (t) {\n        Nr(t.detail.id, \"up\", e);\n      }, this.onButtonTouchStart = function (t) {\n        Nr(t.detail.id, \"touchstart\", e);\n      }, this.onButtonTouchEnd = function (t) {\n        Nr(t.detail.id, \"touchend\", e);\n      }, this.controllerPresent = !1, this.wasControllerConnected = !1, this.bindMethods(), this.el.addEventListener(\"controllerconnected\", function (t) {\n        t.detail.name !== e.name && (e.wasControllerConnected = !0, e.removeEventListeners(), e.removeControllersUpdateListener());\n      });\n    },\n    addEventListeners: function () {\n      var e = this.el;\n      e.addEventListener(\"buttonchanged\", this.onButtonChanged), e.addEventListener(\"buttondown\", this.onButtonDown), e.addEventListener(\"buttonup\", this.onButtonUp), e.addEventListener(\"touchstart\", this.onButtonTouchStart), e.addEventListener(\"touchend\", this.onButtonTouchEnd), e.addEventListener(\"axismove\", this.onAxisMoved), this.controllerEventsActive = !0;\n    },\n    removeEventListeners: function () {\n      var e = this.el;\n      e.removeEventListener(\"buttonchanged\", this.onButtonChanged), e.removeEventListener(\"buttondown\", this.onButtonDown), e.removeEventListener(\"buttonup\", this.onButtonUp), e.removeEventListener(\"touchstart\", this.onButtonTouchStart), e.removeEventListener(\"touchend\", this.onButtonTouchEnd), e.removeEventListener(\"axismove\", this.onAxisMoved), this.controllerEventsActive = !1;\n    },\n    checkIfControllerPresent: function () {\n      var e = this.data,\n        t = e.hand ? e.hand : void 0;\n      Ur(this, Na, {\n        hand: t,\n        iterateControllerProfiles: !0\n      });\n    },\n    play: function () {\n      this.wasControllerConnected || (this.checkIfControllerPresent(), this.addControllersUpdateListener());\n    },\n    pause: function () {\n      this.removeEventListeners(), this.removeControllersUpdateListener();\n    },\n    injectTrackedControls: function () {\n      var e = this.el,\n        t = this.data;\n      this.el.components[\"tracked-controls\"] ? this.removeEventListeners() : (e.setAttribute(\"tracked-controls\", {\n        hand: t.hand,\n        idPrefix: Na,\n        iterateControllerProfiles: !0\n      }), this.data.defaultModel && this.initDefaultModel());\n    },\n    addControllersUpdateListener: function () {\n      this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    removeControllersUpdateListener: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    onControllersUpdate: function () {\n      this.wasControllerConnected && this.checkIfControllerPresent();\n    },\n    onButtonChanged: function (e) {\n      var t = this.mapping.buttons[e.detail.id];\n      t && this.el.emit(t + \"changed\", e.detail.state);\n    },\n    onAxisMoved: function (e) {\n      Gr(this, this.mapping.axes, e);\n    },\n    initDefaultModel: function () {\n      var e = this.modelEl = document.createElement(\"a-entity\");\n      e.setAttribute(\"geometry\", {\n        primitive: \"sphere\",\n        radius: .03\n      }), e.setAttribute(\"material\", {\n        color: this.data.color\n      }), this.el.appendChild(e), this.el.emit(\"controllermodelready\", {\n        name: \"generic-tracked-controller-controls\",\n        model: this.modelEl,\n        rayOrigin: {\n          origin: {\n            x: 0,\n            y: 0,\n            z: -.01\n          },\n          direction: {\n            x: 0,\n            y: 0,\n            z: -1\n          }\n        }\n      });\n    }\n  }), fi(\"components:gltf-model:warn\"));\ncs(\"gltf-model\", {\n  schema: {\n    type: \"model\"\n  },\n  init: function () {\n    var e = this,\n      t = this.system.getDRACOLoader(),\n      n = this.system.getMeshoptDecoder(),\n      i = this.system.getKTX2Loader();\n    this.model = null, this.loader = new Xe(), t && this.loader.setDRACOLoader(t), this.ready = n ? n.then(function (t) {\n      e.loader.setMeshoptDecoder(t);\n    }) : Promise.resolve(), i && this.loader.setKTX2Loader(i);\n  },\n  update: function () {\n    var e = this,\n      t = this.el,\n      n = this.data;\n    n && (this.remove(), this.ready.then(function () {\n      e.loader.load(n, function (n) {\n        e.model = n.scene || n.scenes[0], e.model.animations = n.animations, t.setObject3D(\"mesh\", e.model), t.emit(\"model-loaded\", {\n          format: \"gltf\",\n          model: e.model\n        });\n      }, void 0, function (e) {\n        var i = e && e.message ? e.message : \"Failed to load glTF model\";\n        ja(i), t.emit(\"model-error\", {\n          format: \"gltf\",\n          src: n\n        });\n      });\n    }));\n  },\n  remove: function () {\n    this.model && this.el.removeObject3D(\"mesh\");\n  }\n}), cs(\"grabbable\", {\n  init: function () {\n    this.el.setAttribute(\"obb-collider\", \"centerModel: true\");\n  }\n});\nvar _a,\n  Ha = ci + \"controllers/oculus-hands/v4/left.glb\",\n  qa = ci + \"controllers/oculus-hands/v4/right.glb\",\n  Va = [\"wrist\", \"thumb-metacarpal\", \"thumb-phalanx-proximal\", \"thumb-phalanx-distal\", \"thumb-tip\", \"index-finger-metacarpal\", \"index-finger-phalanx-proximal\", \"index-finger-phalanx-intermediate\", \"index-finger-phalanx-distal\", \"index-finger-tip\", \"middle-finger-metacarpal\", \"middle-finger-phalanx-proximal\", \"middle-finger-phalanx-intermediate\", \"middle-finger-phalanx-distal\", \"middle-finger-tip\", \"ring-finger-metacarpal\", \"ring-finger-phalanx-proximal\", \"ring-finger-phalanx-intermediate\", \"ring-finger-phalanx-distal\", \"ring-finger-tip\", \"pinky-finger-metacarpal\", \"pinky-finger-phalanx-proximal\", \"pinky-finger-phalanx-intermediate\", \"pinky-finger-phalanx-distal\", \"pinky-finger-tip\"];\ncs(\"hand-tracking-controls\", {\n  schema: {\n    hand: {\n      default: \"right\",\n      oneOf: [\"left\", \"right\"]\n    },\n    modelStyle: {\n      default: \"mesh\",\n      oneOf: [\"dots\", \"mesh\"]\n    },\n    modelColor: {\n      default: \"white\"\n    },\n    modelOpacity: {\n      default: 1\n    }\n  },\n  after: [\"tracked-controls\"],\n  bindMethods: function () {\n    this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this);\n  },\n  addEventListeners: function () {\n    this.el.addEventListener(\"model-loaded\", this.onModelLoaded);\n    for (var e = 0; e < this.jointEls.length; ++e) this.jointEls[e].object3D.visible = !0;\n  },\n  removeEventListeners: function () {\n    this.el.removeEventListener(\"model-loaded\", this.onModelLoaded);\n    for (var e = 0; e < this.jointEls.length; ++e) this.jointEls[e].object3D.visible = !1;\n  },\n  init: function () {\n    var e = this.el.sceneEl,\n      t = e.getAttribute(\"webxr\"),\n      n = t.optionalFeatures;\n    -1 === n.indexOf(\"hand-tracking\") && (n.push(\"hand-tracking\"), e.setAttribute(\"webxr\", t)), this.wristObject3D = new Re.Object3D(), this.el.sceneEl.object3D.add(this.wristObject3D), this.onModelLoaded = this.onModelLoaded.bind(this), this.onChildAttached = this.onChildAttached.bind(this), this.jointEls = [], this.controllerPresent = !1, this.isPinched = !1, this.pinchEventDetail = {\n      position: new Re.Vector3(),\n      wristRotation: new Re.Quaternion()\n    }, this.indexTipPosition = new Re.Vector3(), this.hasPoses = !1, this.jointPoses = new Float32Array(16 * Va.length), this.jointRadii = new Float32Array(Va.length), this.bindMethods(), this.updateReferenceSpace = this.updateReferenceSpace.bind(this), this.el.sceneEl.addEventListener(\"enter-vr\", this.updateReferenceSpace), this.el.sceneEl.addEventListener(\"exit-vr\", this.updateReferenceSpace), this.el.addEventListener(\"child-attached\", this.onChildAttached), this.wristObject3D.visible = !1;\n  },\n  onChildAttached: function (e) {\n    this.addChildEntity(e.detail.el);\n  },\n  update: function () {\n    this.updateModelMaterial();\n  },\n  updateModelMaterial: function () {\n    var e = this.jointEls,\n      t = this.skinnedMesh,\n      n = !(1 === this.data.modelOpacity);\n    t && (this.skinnedMesh.material.color.set(this.data.modelColor), this.skinnedMesh.material.transparent = n, this.skinnedMesh.material.opacity = this.data.modelOpacity);\n    for (var i = 0; i < e.length; i++) e[i].setAttribute(\"material\", {\n      color: this.data.modelColor,\n      transparent: n,\n      opacity: this.data.modelOpacity\n    });\n  },\n  updateReferenceSpace: function () {\n    var e = this,\n      t = this.el.sceneEl.xrSession;\n    if (this.referenceSpace = void 0, t) {\n      var n = e.el.sceneEl.systems.webxr.sessionReferenceSpaceType;\n      t.requestReferenceSpace(n).then(function (t) {\n        e.referenceSpace = t;\n      }).catch(function (t) {\n        throw e.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(n, \"tracked-controls-webxr uses reference space \" + n), t;\n      });\n    }\n  },\n  checkIfControllerPresent: function () {\n    var e = this.data;\n    Ur(this, \"\", {\n      hand: e.hand ? e.hand : void 0,\n      iterateControllerProfiles: !0,\n      handTracking: !0\n    });\n  },\n  play: function () {\n    this.checkIfControllerPresent(), this.addControllersUpdateListener();\n  },\n  tick: function () {\n    var e = this.el.sceneEl,\n      t = this.el.components[\"tracked-controls\"] && this.el.components[\"tracked-controls\"].controller,\n      n = e.frame,\n      i = this.el.components[\"tracked-controls\"],\n      r = this.referenceSpace;\n    t && n && r && i && (this.hasPoses = !1, t.hand && (this.el.object3D.position.set(0, 0, 0), this.el.object3D.rotation.set(0, 0, 0), this.hasPoses = n.fillPoses(t.hand.values(), r, this.jointPoses) && n.fillJointRadii(t.hand.values(), this.jointRadii), this.updateHandModel(), this.detectGesture(), this.updateWristObject()));\n  },\n  updateWristObject: (_a = new Re.Matrix4(), function () {\n    var e = this.wristObject3D;\n    e && this.hasPoses && (_a.fromArray(this.jointPoses, 0), e.position.setFromMatrixPosition(_a), e.quaternion.setFromRotationMatrix(_a));\n  }),\n  updateHandModel: function () {\n    this.wristObject3D.visible = !0, this.el.object3D.visible = !0, \"dots\" === this.data.modelStyle && this.updateHandDotsModel(), \"mesh\" === this.data.modelStyle && this.updateHandMeshModel();\n  },\n  getBone: function (e) {\n    for (var t = this.bones, n = 0; n < t.length; n++) if (t[n].name === e) return t[n];\n    return null;\n  },\n  updateHandMeshModel: function () {\n    var e = new Re.Matrix4();\n    return function () {\n      var t = 0,\n        n = this.jointPoses,\n        i = this.el.components[\"tracked-controls\"] && this.el.components[\"tracked-controls\"].controller;\n      if (i && this.mesh && (this.mesh.visible = !1, this.hasPoses)) for (var r of i.hand.values()) {\n        var o = this.getBone(r.jointName);\n        null != o && (this.mesh.visible = !0, e.fromArray(n, 16 * t), o.position.setFromMatrixPosition(e), o.quaternion.setFromRotationMatrix(e)), t++;\n      }\n    };\n  }(),\n  updateHandDotsModel: function () {\n    for (var e, t, n = this.jointPoses, i = this.jointRadii, r = this.el.components[\"tracked-controls\"] && this.el.components[\"tracked-controls\"].controller, o = 0; o < r.hand.size; o++) t = (e = this.jointEls[o]).object3D, e.object3D.visible = this.hasPoses, this.hasPoses && (t.matrix.fromArray(n, 16 * o), t.matrix.decompose(t.position, t.rotation, t.scale), e.setAttribute(\"scale\", {\n      x: i[o],\n      y: i[o],\n      z: i[o]\n    }));\n  },\n  detectGesture: function () {\n    this.detectPinch();\n  },\n  detectPinch: function () {\n    var e = new Re.Vector3(),\n      t = new Re.Matrix4();\n    return function () {\n      var n = this.indexTipPosition,\n        i = this.pinchEventDetail;\n      if (this.hasPoses) {\n        e.setFromMatrixPosition(t.fromArray(this.jointPoses, 64)), n.setFromMatrixPosition(t.fromArray(this.jointPoses, 144)), i.wristRotation.setFromRotationMatrix(t.fromArray(this.jointPoses, 0));\n        var r = n.distanceTo(e);\n        r < .015 && !1 === this.isPinched && (this.isPinched = !0, i.position.copy(n).add(e).multiplyScalar(.5), this.el.emit(\"pinchstarted\", i)), r > .02 && !0 === this.isPinched && (this.isPinched = !1, i.position.copy(n).add(e).multiplyScalar(.5), this.el.emit(\"pinchended\", i)), this.isPinched && (i.position.copy(n).add(e).multiplyScalar(.5), this.el.emit(\"pinchmoved\", i));\n      }\n    };\n  }(),\n  pause: function () {\n    this.removeEventListeners(), this.removeControllersUpdateListener();\n  },\n  injectTrackedControls: function () {\n    var e = this.el,\n      t = this.data;\n    e.setAttribute(\"tracked-controls\", {\n      id: \"\",\n      hand: t.hand,\n      iterateControllerProfiles: !0,\n      handTrackingEnabled: !0\n    }), this.mesh ? this.mesh !== e.getObject3D(\"mesh\") && e.setObject3D(\"mesh\", this.mesh) : this.initDefaultModel();\n  },\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n  },\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n  },\n  onControllersUpdate: function () {\n    var e,\n      t = this.el;\n    this.checkIfControllerPresent(), e = t.components[\"tracked-controls\"] && t.components[\"tracked-controls\"].controller, this.mesh && e && e.hand && e.hand instanceof XRHand && t.setObject3D(\"mesh\", this.mesh);\n  },\n  initDefaultModel: function () {\n    var e = this.data;\n    \"dots\" === e.modelStyle && this.initDotsModel(), \"mesh\" === e.modelStyle && this.initMeshHandModel(), this.el.object3D.visible = !0, this.wristObject3D.visible = !0;\n  },\n  initDotsModel: function () {\n    if (0 === this.jointEls.length) {\n      for (var e = 0; e < Va.length; ++e) {\n        var t = this.jointEl = document.createElement(\"a-entity\");\n        t.setAttribute(\"geometry\", {\n          primitive: \"sphere\",\n          radius: 1\n        }), t.object3D.visible = !1, this.el.appendChild(t), this.jointEls.push(t);\n      }\n      this.updateModelMaterial();\n    }\n  },\n  initMeshHandModel: function () {\n    var e = \"left\" === this.data.hand ? Ha : qa;\n    this.el.setAttribute(\"gltf-model\", e);\n  },\n  onModelLoaded: function () {\n    var e = this.mesh = this.el.getObject3D(\"mesh\").children[0],\n      t = this.skinnedMesh = e.getObjectByProperty(\"type\", \"SkinnedMesh\");\n    this.skinnedMesh && (this.bones = t.skeleton.bones, this.el.removeObject3D(\"mesh\"), e.position.set(0, 0, 0), e.rotation.set(0, 0, 0), t.frustumCulled = !1, t.material = new Re.MeshStandardMaterial(), this.updateModelMaterial(), this.setupChildrenEntities(), this.el.setObject3D(\"mesh\", e), this.el.emit(\"controllermodelready\", {\n      name: \"hand-tracking-controls\",\n      model: this.data.model,\n      rayOrigin: new Re.Vector3(0, 0, 0)\n    }));\n  },\n  setupChildrenEntities: function () {\n    for (var e = this.el.children, t = 0; t < e.length; ++t) e[t] instanceof Ls && this.addChildEntity(e[t]);\n  },\n  addChildEntity: function (e) {\n    e instanceof Ls && this.wristObject3D.add(e.object3D);\n  }\n}), cs(\"hand-tracking-grab-controls\", {\n  schema: {\n    hand: {\n      default: \"right\",\n      oneOf: [\"left\", \"right\"]\n    },\n    color: {\n      type: \"color\",\n      default: \"white\"\n    },\n    hoverColor: {\n      type: \"color\",\n      default: \"#538df1\"\n    },\n    hoverEnabled: {\n      default: !1\n    }\n  },\n  init: function () {\n    var e,\n      t = this.el,\n      n = this.data;\n    e = \"right\" === n.hand ? \"components.hand-tracking-controls.bones.3\" : \"components.hand-tracking-controls.bones.21\", t.setAttribute(\"hand-tracking-controls\", {\n      hand: n.hand\n    }), t.setAttribute(\"obb-collider\", {\n      trackedObject3D: e,\n      size: .04\n    }), this.auxMatrix = new Re.Matrix4(), this.onCollisionStarted = this.onCollisionStarted.bind(this), this.el.addEventListener(\"obbcollisionstarted\", this.onCollisionStarted), this.onCollisionEnded = this.onCollisionEnded.bind(this), this.el.addEventListener(\"obbcollisionended\", this.onCollisionEnded), this.onPinchStarted = this.onPinchStarted.bind(this), this.el.addEventListener(\"pinchstarted\", this.onPinchStarted), this.onPinchEnded = this.onPinchEnded.bind(this), this.el.addEventListener(\"pinchended\", this.onPinchEnded);\n  },\n  transferEntityOwnership: function () {\n    for (var e, t = this.el.sceneEl.querySelectorAll(\"[hand-tracking-grab-controls]\"), n = 0; n < t.length; ++n) (e = t[n].components[\"hand-tracking-grab-controls\"]) !== this && this.grabbedEl && this.grabbedEl === e.grabbedEl && e.releaseGrabbedEntity();\n    return !1;\n  },\n  onCollisionStarted: function (e) {\n    var t = e.detail.withEl;\n    this.collidedEl || t.getAttribute(\"grabbable\") && (this.collidedEl = t, this.grabbingObject3D = e.detail.trackedObject3D, this.data.hoverEnabled && this.el.setAttribute(\"hand-tracking-controls\", \"modelColor\", this.data.hoverColor));\n  },\n  onCollisionEnded: function () {\n    this.collidedEl = void 0, this.grabbedEl || (this.grabbingObject3D = void 0, this.data.hoverEnabled && this.el.setAttribute(\"hand-tracking-controls\", \"modelColor\", this.data.color));\n  },\n  onPinchStarted: function (e) {\n    this.collidedEl && (this.grabbedEl = this.collidedEl, this.transferEntityOwnership(), this.grab());\n  },\n  onPinchEnded: function () {\n    this.releaseGrabbedEntity();\n  },\n  releaseGrabbedEntity: function () {\n    var e = this.grabbedEl;\n    if (e) {\n      var t = e.object3D,\n        n = t.parent,\n        i = this.originalParent;\n      t.applyMatrix4(n.matrixWorld), t.applyMatrix4(this.auxMatrix.copy(i.matrixWorld).invert()), n.remove(t), i.add(t), this.el.emit(\"grabended\", {\n        grabbedEl: e\n      }), this.grabbedEl = void 0, this.originalParent = void 0;\n    }\n  },\n  grab: function () {\n    var e = this.grabbedEl,\n      t = e.object3D,\n      n = t.parent;\n    this.originalParent = n;\n    var i = this.el.components[\"hand-tracking-controls\"].wristObject3D;\n    t.applyMatrix4(n.matrixWorld), t.applyMatrix4(this.auxMatrix.copy(i.matrixWorld).invert()), n.remove(t), i.add(t), this.el.emit(\"grabstarted\", {\n      grabbedEl: e\n    });\n  }\n});\nvar za = {\n    toonLeft: ci + \"controllers/hands/leftHand.glb\",\n    toonRight: ci + \"controllers/hands/rightHand.glb\",\n    lowPolyLeft: ci + \"controllers/hands/leftHandLow.glb\",\n    lowPolyRight: ci + \"controllers/hands/rightHandLow.glb\",\n    highPolyLeft: ci + \"controllers/hands/leftHandHigh.glb\",\n    highPolyRight: ci + \"controllers/hands/rightHandHigh.glb\"\n  },\n  Ya = \"Point\",\n  Ka = \"Fist\",\n  Wa = \"Thumb Up\",\n  Ja = {};\nfunction Xa(e, t) {\n  var n;\n  if (e) return \"grip\" === (n = Ja[e]) ? n + (t ? \"close\" : \"open\") : \"point\" === n ? n + (t ? \"up\" : \"down\") : \"pointing\" === n || \"pistol\" === n ? n + (t ? \"start\" : \"end\") : void 0;\n}\nJa[Ka] = \"grip\", Ja[Wa] = \"pistol\", Ja[Ya] = \"pointing\", cs(\"hand-controls\", {\n  schema: {\n    color: {\n      default: \"white\",\n      type: \"color\"\n    },\n    hand: {\n      default: \"left\"\n    },\n    handModelStyle: {\n      default: \"lowPoly\",\n      oneOf: [\"lowPoly\", \"highPoly\", \"toon\"]\n    }\n  },\n  after: [\"tracked-controls\"],\n  init: function () {\n    var e = this,\n      t = this.el;\n    this.pressedButtons = {}, this.touchedButtons = {}, this.loader = new Xe(), this.loader.setCrossOrigin(\"anonymous\"), this.onGripDown = function () {\n      e.handleButton(\"grip\", \"down\");\n    }, this.onGripUp = function () {\n      e.handleButton(\"grip\", \"up\");\n    }, this.onTrackpadDown = function () {\n      e.handleButton(\"trackpad\", \"down\");\n    }, this.onTrackpadUp = function () {\n      e.handleButton(\"trackpad\", \"up\");\n    }, this.onTrackpadTouchStart = function () {\n      e.handleButton(\"trackpad\", \"touchstart\");\n    }, this.onTrackpadTouchEnd = function () {\n      e.handleButton(\"trackpad\", \"touchend\");\n    }, this.onTriggerDown = function () {\n      e.handleButton(\"trigger\", \"down\");\n    }, this.onTriggerUp = function () {\n      e.handleButton(\"trigger\", \"up\");\n    }, this.onTriggerTouchStart = function () {\n      e.handleButton(\"trigger\", \"touchstart\");\n    }, this.onTriggerTouchEnd = function () {\n      e.handleButton(\"trigger\", \"touchend\");\n    }, this.onGripTouchStart = function () {\n      e.handleButton(\"grip\", \"touchstart\");\n    }, this.onGripTouchEnd = function () {\n      e.handleButton(\"grip\", \"touchend\");\n    }, this.onThumbstickDown = function () {\n      e.handleButton(\"thumbstick\", \"down\");\n    }, this.onThumbstickUp = function () {\n      e.handleButton(\"thumbstick\", \"up\");\n    }, this.onAorXTouchStart = function () {\n      e.handleButton(\"AorX\", \"touchstart\");\n    }, this.onAorXTouchEnd = function () {\n      e.handleButton(\"AorX\", \"touchend\");\n    }, this.onBorYTouchStart = function () {\n      e.handleButton(\"BorY\", \"touchstart\");\n    }, this.onBorYTouchEnd = function () {\n      e.handleButton(\"BorY\", \"touchend\");\n    }, this.onSurfaceTouchStart = function () {\n      e.handleButton(\"surface\", \"touchstart\");\n    }, this.onSurfaceTouchEnd = function () {\n      e.handleButton(\"surface\", \"touchend\");\n    }, this.onControllerConnected = this.onControllerConnected.bind(this), this.onControllerDisconnected = this.onControllerDisconnected.bind(this), t.addEventListener(\"controllerconnected\", this.onControllerConnected), t.addEventListener(\"controllerdisconnected\", this.onControllerDisconnected), t.object3D.visible = !1;\n  },\n  play: function () {\n    this.addEventListeners();\n  },\n  pause: function () {\n    this.removeEventListeners();\n  },\n  tick: function (e, t) {\n    var n = this.el.getObject3D(\"mesh\");\n    n && n.mixer && n.mixer.update(t / 1e3);\n  },\n  onControllerConnected: function (e) {\n    var t = this.el,\n      n = this.data.hand,\n      i = this.el.getObject3D(\"mesh\");\n    t.object3D.visible = !0;\n    var r = \"left\" === n ? Math.PI / 2 : -Math.PI / 2,\n      o = t.sceneEl.hasWebXR ? -Math.PI / 2 : 0;\n    \"pico-controls\" === e.detail.name && (o += Math.PI / 4), i.position.set(0, 0, 0), i.rotation.set(o, 0, r);\n  },\n  onControllerDisconnected: function () {\n    this.el.object3D.visible = !1;\n  },\n  addEventListeners: function () {\n    var e = this.el;\n    e.addEventListener(\"gripdown\", this.onGripDown), e.addEventListener(\"gripup\", this.onGripUp), e.addEventListener(\"trackpaddown\", this.onTrackpadDown), e.addEventListener(\"trackpadup\", this.onTrackpadUp), e.addEventListener(\"trackpadtouchstart\", this.onTrackpadTouchStart), e.addEventListener(\"trackpadtouchend\", this.onTrackpadTouchEnd), e.addEventListener(\"triggerdown\", this.onTriggerDown), e.addEventListener(\"triggerup\", this.onTriggerUp), e.addEventListener(\"triggertouchstart\", this.onTriggerTouchStart), e.addEventListener(\"triggertouchend\", this.onTriggerTouchEnd), e.addEventListener(\"griptouchstart\", this.onGripTouchStart), e.addEventListener(\"griptouchend\", this.onGripTouchEnd), e.addEventListener(\"thumbstickdown\", this.onThumbstickDown), e.addEventListener(\"thumbstickup\", this.onThumbstickUp), e.addEventListener(\"abuttontouchstart\", this.onAorXTouchStart), e.addEventListener(\"abuttontouchend\", this.onAorXTouchEnd), e.addEventListener(\"bbuttontouchstart\", this.onBorYTouchStart), e.addEventListener(\"bbuttontouchend\", this.onBorYTouchEnd), e.addEventListener(\"xbuttontouchstart\", this.onAorXTouchStart), e.addEventListener(\"xbuttontouchend\", this.onAorXTouchEnd), e.addEventListener(\"ybuttontouchstart\", this.onBorYTouchStart), e.addEventListener(\"ybuttontouchend\", this.onBorYTouchEnd), e.addEventListener(\"surfacetouchstart\", this.onSurfaceTouchStart), e.addEventListener(\"surfacetouchend\", this.onSurfaceTouchEnd);\n  },\n  removeEventListeners: function () {\n    var e = this.el;\n    e.removeEventListener(\"gripdown\", this.onGripDown), e.removeEventListener(\"gripup\", this.onGripUp), e.removeEventListener(\"trackpaddown\", this.onTrackpadDown), e.removeEventListener(\"trackpadup\", this.onTrackpadUp), e.removeEventListener(\"trackpadtouchstart\", this.onTrackpadTouchStart), e.removeEventListener(\"trackpadtouchend\", this.onTrackpadTouchEnd), e.removeEventListener(\"triggerdown\", this.onTriggerDown), e.removeEventListener(\"triggerup\", this.onTriggerUp), e.removeEventListener(\"triggertouchstart\", this.onTriggerTouchStart), e.removeEventListener(\"triggertouchend\", this.onTriggerTouchEnd), e.removeEventListener(\"griptouchstart\", this.onGripTouchStart), e.removeEventListener(\"griptouchend\", this.onGripTouchEnd), e.removeEventListener(\"thumbstickdown\", this.onThumbstickDown), e.removeEventListener(\"thumbstickup\", this.onThumbstickUp), e.removeEventListener(\"abuttontouchstart\", this.onAorXTouchStart), e.removeEventListener(\"abuttontouchend\", this.onAorXTouchEnd), e.removeEventListener(\"bbuttontouchstart\", this.onBorYTouchStart), e.removeEventListener(\"bbuttontouchend\", this.onBorYTouchEnd), e.removeEventListener(\"xbuttontouchstart\", this.onAorXTouchStart), e.removeEventListener(\"xbuttontouchend\", this.onAorXTouchEnd), e.removeEventListener(\"ybuttontouchstart\", this.onBorYTouchStart), e.removeEventListener(\"ybuttontouchend\", this.onBorYTouchEnd), e.removeEventListener(\"surfacetouchstart\", this.onSurfaceTouchStart), e.removeEventListener(\"surfacetouchend\", this.onSurfaceTouchEnd);\n  },\n  update: function (e) {\n    var t,\n      n = this.el,\n      i = this.data.hand,\n      r = this.data.handModelStyle,\n      o = this.data.color,\n      s = this;\n    if (t = {\n      hand: i,\n      model: !1\n    }, i !== e) {\n      var a = za[r + i.charAt(0).toUpperCase() + i.slice(1)];\n      this.loader.load(a, function (e) {\n        var i = e.scene.children[0];\n        i.mixer = new Re.AnimationMixer(i), s.clips = e.animations, n.setObject3D(\"mesh\", i), i.traverse(function (e) {\n          e.isMesh && (e.material.color = new Re.Color(o));\n        }), n.setAttribute(\"magicleap-controls\", t), n.setAttribute(\"vive-controls\", t), n.setAttribute(\"meta-touch-controls\", t), n.setAttribute(\"pico-controls\", t), n.setAttribute(\"windows-motion-controls\", t), n.setAttribute(\"hp-mixed-reality-controls\", t);\n      });\n    }\n  },\n  remove: function () {\n    this.el.removeObject3D(\"mesh\");\n  },\n  handleButton: function (e, t) {\n    var n,\n      i = \"down\" === t,\n      r = \"touchstart\" === t;\n    if (0 === t.indexOf(\"touch\")) {\n      if (r === this.touchedButtons[e]) return;\n      this.touchedButtons[e] = r;\n    } else {\n      if (i === this.pressedButtons[e]) return;\n      this.pressedButtons[e] = i;\n    }\n    n = this.gesture, this.gesture = this.determineGesture(), this.gesture !== n && (this.animateGesture(this.gesture, n), this.emitGestureEvents(this.gesture, n));\n  },\n  determineGesture: function () {\n    var e,\n      t,\n      n,\n      i = this.pressedButtons.grip,\n      r = this.pressedButtons.surface || this.touchedButtons.surface,\n      o = this.pressedButtons.trackpad || this.touchedButtons.trackpad,\n      s = this.pressedButtons.trigger || this.touchedButtons.trigger,\n      a = this.touchedButtons.AorX || this.touchedButtons.BorY;\n    return t = this.el.components[\"tracked-controls\"], (n = t && t.controller) && (n.id && 0 === n.id.indexOf(\"OpenVR \") || n.profiles && n.profiles[0] && \"htc-vive\" === n.profiles[0]) ? i || s ? e = Ka : o && (e = Ya) : i ? e = r || a || o ? s ? Ka : Ya : s ? Wa : \"Point + Thumb\" : s && (e = \"Hold\"), e;\n  },\n  getClip: function (e) {\n    var t, n;\n    for (n = 0; n < this.clips.length; n++) if ((t = this.clips[n]).name === e) return t;\n  },\n  animateGesture: function (e, t) {\n    e ? this.playAnimation(e || \"Open\", t, !1) : this.playAnimation(t, t, !0);\n  },\n  emitGestureEvents: function (e, t) {\n    var n,\n      i = this.el;\n    t !== e && ((n = Xa(t, !1)) && i.emit(n), (n = Xa(e, !0)) && i.emit(n));\n  },\n  playAnimation: function (e, t, n) {\n    var i,\n      r,\n      o = this.el.getObject3D(\"mesh\");\n    if (o) {\n      if (i = this.getClip(e), r = o.mixer.clipAction(i), n) return r.paused = !1, void (r.timeScale = -1);\n      if (r.clampWhenFinished = !0, r.loop = Re.LoopOnce, r.repetitions = 0, r.timeScale = 1, r.time = 0, r.weight = 1, !t) return o.mixer.stopAllAction(), void r.play();\n      i = this.getClip(t), r.reset(), r.play(), o.mixer.clipAction(i).crossFadeTo(r, .15, !0);\n    }\n  }\n}), cs(\"hide-on-enter-ar\", {\n  init: function () {\n    var e = this;\n    this.el.sceneEl.addEventListener(\"enter-vr\", function () {\n      e.el.sceneEl.is(\"ar-mode\") && (e.el.object3D.visible = !1);\n    }), this.el.sceneEl.addEventListener(\"exit-vr\", function () {\n      e.el.object3D.visible = !0;\n    });\n  }\n}), cs(\"hide-on-enter-vr\", {\n  init: function () {\n    var e = this;\n    this.el.sceneEl.addEventListener(\"enter-vr\", function () {\n      e.el.sceneEl.is(\"vr-mode\") && (e.el.object3D.visible = !1);\n    }), this.el.sceneEl.addEventListener(\"exit-vr\", function () {\n      e.el.object3D.visible = !0;\n    });\n  }\n});\nvar Za = \"hp-mixed-reality\",\n  $a = ci + \"controllers/hp/mixed-reality/\",\n  eA = {\n    x: 0,\n    y: 0,\n    z: .06\n  },\n  tA = {\n    _x: Math.PI / 4,\n    _y: 0,\n    _z: 0,\n    _order: \"XYZ\"\n  },\n  nA = (cs(\"hp-mixed-reality-controls\", {\n    schema: {\n      hand: {\n        default: \"none\"\n      },\n      model: {\n        default: !0\n      }\n    },\n    mapping: {\n      left: {\n        axes: {\n          touchpad: [2, 3]\n        },\n        buttons: [\"trigger\", \"grip\", \"none\", \"thumbstick\", \"xbutton\", \"ybutton\"]\n      },\n      right: {\n        axes: {\n          touchpad: [2, 3]\n        },\n        buttons: [\"trigger\", \"grip\", \"none\", \"thumbstick\", \"abutton\", \"bbutton\"]\n      }\n    },\n    init: function () {\n      var e = this;\n      this.controllerPresent = !1, this.onButtonChanged = this.onButtonChanged.bind(this), this.onButtonDown = function (t) {\n        Nr(t.detail.id, \"down\", e, e.data.hand);\n      }, this.onButtonUp = function (t) {\n        Nr(t.detail.id, \"up\", e, e.data.hand);\n      }, this.onButtonTouchEnd = function (t) {\n        Nr(t.detail.id, \"touchend\", e, e.data.hand);\n      }, this.onButtonTouchStart = function (t) {\n        Nr(t.detail.id, \"touchstart\", e, e.data.hand);\n      }, this.previousButtonValues = {}, this.bindMethods();\n    },\n    update: function () {\n      var e = this.data;\n      this.controllerIndex = \"right\" === e.hand ? 0 : \"left\" === e.hand ? 1 : 2;\n    },\n    play: function () {\n      this.checkIfControllerPresent(), this.addControllersUpdateListener();\n    },\n    pause: function () {\n      this.removeEventListeners(), this.removeControllersUpdateListener();\n    },\n    bindMethods: function () {\n      this.onModelLoaded = this.onModelLoaded.bind(this), this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this), this.onAxisMoved = this.onAxisMoved.bind(this);\n    },\n    addEventListeners: function () {\n      var e = this.el;\n      e.addEventListener(\"buttonchanged\", this.onButtonChanged), e.addEventListener(\"buttondown\", this.onButtonDown), e.addEventListener(\"buttonup\", this.onButtonUp), e.addEventListener(\"touchstart\", this.onButtonTouchStart), e.addEventListener(\"touchend\", this.onButtonTouchEnd), e.addEventListener(\"axismove\", this.onAxisMoved), e.addEventListener(\"model-loaded\", this.onModelLoaded), this.controllerEventsActive = !0;\n    },\n    removeEventListeners: function () {\n      var e = this.el;\n      e.removeEventListener(\"buttonchanged\", this.onButtonChanged), e.removeEventListener(\"buttondown\", this.onButtonDown), e.removeEventListener(\"buttonup\", this.onButtonUp), e.removeEventListener(\"touchstart\", this.onButtonTouchStart), e.removeEventListener(\"touchend\", this.onButtonTouchEnd), e.removeEventListener(\"axismove\", this.onAxisMoved), e.removeEventListener(\"model-loaded\", this.onModelLoaded), this.controllerEventsActive = !1;\n    },\n    checkIfControllerPresent: function () {\n      var e = this.data;\n      Ur(this, Za, {\n        index: this.controllerIndex,\n        hand: e.hand\n      });\n    },\n    injectTrackedControls: function () {\n      var e = this.el,\n        t = this.data;\n      e.setAttribute(\"tracked-controls\", {\n        idPrefix: Za,\n        hand: t.hand,\n        controller: this.controllerIndex\n      }), this.data.model && this.el.setAttribute(\"gltf-model\", $a + this.data.hand + \".glb\");\n    },\n    addControllersUpdateListener: function () {\n      this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    removeControllersUpdateListener: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    onControllersUpdate: function () {\n      this.checkIfControllerPresent();\n    },\n    onButtonChanged: function (e) {\n      var t,\n        n = this.mapping[this.data.hand].buttons[e.detail.id];\n      n && (\"trigger\" === n && (t = e.detail.state.value, console.log(\"analog value of trigger press: \" + t)), this.el.emit(n + \"changed\", e.detail.state));\n    },\n    onModelLoaded: function (e) {\n      var t = e.detail.model;\n      this.data.model && (t.position.copy(eA), t.rotation.copy(tA), this.el.emit(\"controllermodelready\", {\n        name: \"hp-mixed-reality-controls\",\n        model: this.data.model,\n        rayOrigin: new Re.Vector3(0, 0, 0)\n      }));\n    },\n    onAxisMoved: function (e) {\n      Gr(this, this.mapping.axes, e);\n    }\n  }), fi(\"components:layer:warn\"));\nfunction iA(e, t, n) {\n  return (t.dot(e) - t.dot(n)) / t.length();\n}\ncs(\"layer\", {\n  schema: {\n    type: {\n      default: \"quad\",\n      oneOf: [\"quad\", \"monocubemap\", \"stereocubemap\"]\n    },\n    src: {\n      type: \"map\"\n    },\n    rotateCubemap: {\n      default: !1\n    },\n    width: {\n      default: 0\n    },\n    height: {\n      default: 0\n    }\n  },\n  init: function () {\n    var e = this.el.sceneEl.renderer.getContext();\n    this.quaternion = new Re.Quaternion(), this.position = new Re.Vector3(), this.bindMethods(), this.needsRedraw = !1, this.frameBuffer = e.createFramebuffer();\n    var t = this.el.sceneEl.getAttribute(\"webxr\"),\n      n = t.requiredFeatures;\n    -1 === n.indexOf(\"layers\") && (n.push(\"layers\"), this.el.sceneEl.setAttribute(\"webxr\", t)), this.el.sceneEl.addEventListener(\"enter-vr\", this.onEnterVR), this.el.sceneEl.addEventListener(\"exit-vr\", this.onExitVR);\n  },\n  bindMethods: function () {\n    this.onRequestedReferenceSpace = this.onRequestedReferenceSpace.bind(this), this.onEnterVR = this.onEnterVR.bind(this), this.onExitVR = this.onExitVR.bind(this);\n  },\n  update: function (e) {\n    this.data.src !== e.src && this.updateSrc();\n  },\n  updateSrc: function () {\n    var e = this.data.type;\n    this.texture = void 0, \"quad\" !== e ? \"monocubemap\" !== e && \"stereocubemap\" !== e || this.loadCubeMapImages() : this.loadQuadImage();\n  },\n  loadCubeMapImages: function () {\n    var e,\n      t = this.xrGLFactory,\n      n = this.el.sceneEl.frame,\n      i = this.data.src,\n      r = this.data.type;\n    this.visibilityChanged = !1, this.layer && (\"monocubemap\" !== r && \"stereocubemap\" !== r || (i.complete ? this.pendingCubeMapUpdate = !1 : this.pendingCubeMapUpdate = !0, this.loadingScreen ? this.loadingScreen = !1 : this.loadingScreen = !0, \"monocubemap\" === r ? (e = t.getSubImage(this.layer, n), this.loadCubeMapImage(e.colorTexture, i, 0)) : (e = t.getSubImage(this.layer, n, \"left\"), this.loadCubeMapImage(e.colorTexture, i, 0), e = t.getSubImage(this.layer, n, \"right\"), this.loadCubeMapImage(e.colorTexture, i, 6))));\n  },\n  loadQuadImage: function () {\n    var e = this.data.src,\n      t = this;\n    this.el.sceneEl.systems.material.loadTexture(e, {\n      src: e\n    }, function (n) {\n      t.el.sceneEl.renderer.initTexture(n), t.texture = n, \"VIDEO\" === e.tagName && setTimeout(function () {\n        t.textureIsVideo = !0;\n      }, 1e3), t.layer && (t.layer.height = t.data.height / 2 || t.texture.image.height / 1e3, t.layer.width = t.data.width / 2 || t.texture.image.width / 1e3, t.needsRedraw = !0), t.updateQuadPanel();\n    });\n  },\n  preGenerateCubeMapTextures: function (e, t) {\n    \"monocubemap\" === this.data.type ? this.generateCubeMapTextures(e, 0, t) : (this.generateCubeMapTextures(e, 0, t), this.generateCubeMapTextures(e, 6, t));\n  },\n  generateCubeMapTextures: function (e, t, n) {\n    for (var i, r, o = this.data, s = this.cubeFaceSize, a = Math.min(e.width, e.height), A = [], l = 0; l < 6; l++) {\n      var c = document.createElement(\"CANVAS\");\n      c.width = c.height = s;\n      var h = c.getContext(\"2d\");\n      o.rotateCubemap && (2 !== l && 3 !== l || (h.save(), h.translate(s, s), h.rotate(Math.PI))), h.drawImage(e, (l + t) * a, 0, a, a, 0, 0, s, s), h.restore(), n && n(), A.push(c);\n    }\n    return o.rotateCubemap && (i = A[0], r = A[1], A[0] = r, A[1] = i, i = A[4], r = A[5], A[4] = r, A[5] = i), n && n(), A;\n  },\n  loadCubeMapImage: function (e, t, n) {\n    var i,\n      r = this.el.sceneEl.renderer.getContext();\n    r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL, !1), r.bindTexture(r.TEXTURE_CUBE_MAP, e), i = !t.complete || this.loadingScreen ? this.loadingScreenImages : this.generateCubeMapTextures(t, n);\n    var o = 0;\n    i.forEach(function (e, t) {\n      r.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X + t, 0, 0, 0, r.RGBA, r.UNSIGNED_BYTE, e), o = r.getError();\n    }), 0 !== o && console.log(\"renderingError, WebGL Error Code: \" + o), r.bindTexture(r.TEXTURE_CUBE_MAP, null);\n  },\n  tick: function () {\n    this.el.sceneEl.xrSession && this.referenceSpace && (this.layer || !this.el.sceneEl.is(\"vr-mode\") && !this.el.sceneEl.is(\"ar-mode\") || this.initLayer(), this.updateTransform(), this.data.src.complete && (this.pendingCubeMapUpdate || this.loadingScreen || this.visibilityChanged) && this.loadCubeMapImages(), (this.needsRedraw || this.layer.needsRedraw || this.textureIsVideo) && (\"quad\" === this.data.type && this.draw(), this.needsRedraw = !1));\n  },\n  initLayer: function () {\n    var e = this,\n      t = this.data.type;\n    this.el.sceneEl.xrSession.onvisibilitychange = function (t) {\n      e.visibilityChanged = \"hidden\" !== t.session.visibilityState;\n    }, \"quad\" !== t ? \"monocubemap\" !== t && \"stereocubemap\" !== t || this.initCubeMapLayer() : this.initQuadLayer();\n  },\n  initQuadLayer: function () {\n    var e = this.el.sceneEl,\n      t = e.renderer.getContext(),\n      n = this.xrGLFactory = new XRWebGLBinding(e.xrSession, t);\n    this.texture && (this.layer = n.createQuadLayer({\n      space: this.referenceSpace,\n      viewPixelHeight: 2048,\n      viewPixelWidth: 2048,\n      height: this.data.height / 2 || this.texture.image.height / 1e3,\n      width: this.data.width / 2 || this.texture.image.width / 1e3\n    }), this.initLoadingScreenImages(), e.renderer.xr.addLayer(this.layer));\n  },\n  initCubeMapLayer: function () {\n    var e = this.data.src,\n      t = this.el.sceneEl,\n      n = t.renderer.getContext(),\n      i = n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),\n      r = this.cubeFaceSize = Math.min(i, Math.min(e.width, e.height)),\n      o = this.xrGLFactory = new XRWebGLBinding(t.xrSession, n);\n    this.layer = o.createCubeLayer({\n      space: this.referenceSpace,\n      viewPixelWidth: r,\n      viewPixelHeight: r,\n      layout: \"monocubemap\" === this.data.type ? \"mono\" : \"stereo\",\n      isStatic: !1\n    }), this.initLoadingScreenImages(), this.loadCubeMapImages(), t.renderer.xr.addLayer(this.layer);\n  },\n  initLoadingScreenImages: function () {\n    for (var e = this.cubeFaceSize, t = this.loadingScreenImages = [], n = 0; n < 6; n++) {\n      var i = document.createElement(\"CANVAS\");\n      i.width = i.height = e;\n      var r = i.getContext(\"2d\");\n      i.width = i.height = e, r.fillStyle = \"black\", r.fillRect(0, 0, e, e), 2 !== n && 3 !== n && (r.translate(e, 0), r.scale(-1, 1), r.fillStyle = \"white\", r.font = \"30px Arial\", r.fillText(\"Loading\", e / 2, e / 2)), t.push(i);\n    }\n  },\n  destroyLayer: function () {\n    this.layer && (this.el.sceneEl.renderer.xr.removeLayer(this.layer), this.layer.destroy(), this.layer = void 0);\n  },\n  toggleCompositorLayer: function () {\n    this.enableCompositorLayer(!this.layerEnabled);\n  },\n  enableCompositorLayer: function (e) {\n    this.layerEnabled = e, this.quadPanelEl.object3D.visible = !this.layerEnabled;\n  },\n  updateQuadPanel: function () {\n    var e = this.quadPanelEl;\n    this.quadPanelEl || (e = this.quadPanelEl = document.createElement(\"a-entity\"), this.el.appendChild(e)), e.setAttribute(\"material\", {\n      shader: \"flat\",\n      src: this.data.src,\n      transparent: !0\n    }), e.setAttribute(\"geometry\", {\n      primitive: \"plane\",\n      height: this.data.height || this.texture.image.height / 1e3,\n      width: this.data.width || this.texture.image.height / 1e3\n    });\n  },\n  draw: function () {\n    var e = this.el.sceneEl,\n      t = this.el.sceneEl.renderer.getContext(),\n      n = this.xrGLFactory.getSubImage(this.layer, e.frame),\n      i = e.renderer.properties.get(this.texture).__webglTexture,\n      r = t.getParameter(t.FRAMEBUFFER_BINDING);\n    t.viewport(n.viewport.x, n.viewport.y, n.viewport.width, n.viewport.height), t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer), t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, n.colorTexture, 0), function (e, t, n, i) {\n      var r = e.createFramebuffer(),\n        o = n.viewport.x,\n        s = n.viewport.y,\n        a = n.viewport.x + n.viewport.width,\n        A = n.viewport.y + n.viewport.height;\n      \"VIDEO\" === i.tagName && (e.bindTexture(e.TEXTURE_2D, t), e.texSubImage2D(e.TEXTURE_2D, 0, 0, 0, i.width, i.height, e.RGB, e.UNSIGNED_BYTE, i)), e.bindFramebuffer(e.READ_FRAMEBUFFER, r), e.framebufferTexture2D(e.READ_FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, t, 0), e.readBuffer(e.COLOR_ATTACHMENT0), e.blitFramebuffer(0, 0, i.width, i.height, o, s, a, A, e.COLOR_BUFFER_BIT, e.NEAREST), e.bindFramebuffer(e.READ_FRAMEBUFFER, null), e.deleteFramebuffer(r);\n    }(t, i, n, this.data.src), t.bindFramebuffer(t.FRAMEBUFFER, r);\n  },\n  updateTransform: function () {\n    var e = this.el,\n      t = this.position,\n      n = this.quaternion;\n    e.object3D.updateMatrixWorld(), t.setFromMatrixPosition(e.object3D.matrixWorld), n.setFromRotationMatrix(e.object3D.matrixWorld), this.layerEnabled || t.set(0, 0, 1e8), this.layer.transform = new XRRigidTransform(t, n);\n  },\n  onEnterVR: function () {\n    var e = this.el.sceneEl,\n      t = e.xrSession;\n    e.hasWebXR && XRWebGLBinding && t ? (t.requestReferenceSpace(\"local-floor\").then(this.onRequestedReferenceSpace), this.layerEnabled = !0, this.quadPanelEl && (this.quadPanelEl.object3D.visible = !1), this.data.src.play && this.data.src.play()) : nA(\"The layer component requires WebXR and the layers API enabled\");\n  },\n  onExitVR: function () {\n    this.quadPanelEl && (this.quadPanelEl.object3D.visible = !0), this.destroyLayer();\n  },\n  onRequestedReferenceSpace: function (e) {\n    this.referenceSpace = e;\n  }\n}), cs(\"laser-controls\", {\n  schema: {\n    hand: {\n      default: \"right\"\n    },\n    model: {\n      default: !0\n    },\n    defaultModelColor: {\n      type: \"color\",\n      default: \"grey\"\n    }\n  },\n  init: function () {\n    var e = this.config,\n      t = this.data,\n      n = this.el,\n      i = this,\n      r = {\n        hand: t.hand,\n        model: t.model\n      };\n    function o(t) {\n      var r = e[t.detail.name];\n      if (r) {\n        var o = Jr({\n          showLine: !0\n        }, r.raycaster || {});\n        t.detail.rayOrigin && (o.origin = t.detail.rayOrigin.origin, o.direction = t.detail.rayOrigin.direction, o.showLine = !0), t.detail.rayOrigin || !i.modelReady ? n.setAttribute(\"raycaster\", o) : n.setAttribute(\"raycaster\", \"showLine\", !0), n.setAttribute(\"cursor\", Jr({\n          fuse: !1\n        }, r.cursor));\n      }\n    }\n    n.setAttribute(\"hp-mixed-reality-controls\", r), n.setAttribute(\"magicleap-controls\", r), n.setAttribute(\"oculus-go-controls\", r), n.setAttribute(\"meta-touch-controls\", r), n.setAttribute(\"pico-controls\", r), n.setAttribute(\"valve-index-controls\", r), n.setAttribute(\"vive-controls\", r), n.setAttribute(\"vive-focus-controls\", r), n.setAttribute(\"windows-motion-controls\", r), n.setAttribute(\"generic-tracked-controller-controls\", {\n      hand: r.hand\n    }), n.addEventListener(\"controllerconnected\", o), n.addEventListener(\"controllerdisconnected\", function (t) {\n      e[t.detail.name] && n.setAttribute(\"raycaster\", \"showLine\", !1);\n    }), n.addEventListener(\"controllermodelready\", function (e) {\n      o(e), i.modelReady = !0;\n    });\n  },\n  config: {\n    \"generic-tracked-controller-controls\": {\n      cursor: {\n        downEvents: [\"triggerdown\"],\n        upEvents: [\"triggerup\"]\n      }\n    },\n    \"hp-mixed-reality-controls\": {\n      cursor: {\n        downEvents: [\"triggerdown\"],\n        upEvents: [\"triggerup\"]\n      },\n      raycaster: {\n        origin: {\n          x: 0,\n          y: 0,\n          z: 0\n        }\n      }\n    },\n    \"magicleap-controls\": {\n      cursor: {\n        downEvents: [\"trackpaddown\", \"triggerdown\"],\n        upEvents: [\"trackpadup\", \"triggerup\"]\n      }\n    },\n    \"oculus-go-controls\": {\n      cursor: {\n        downEvents: [\"triggerdown\"],\n        upEvents: [\"triggerup\"]\n      },\n      raycaster: {\n        origin: {\n          x: 0,\n          y: 5e-4,\n          z: 0\n        }\n      }\n    },\n    \"meta-touch-controls\": {\n      cursor: {\n        downEvents: [\"triggerdown\"],\n        upEvents: [\"triggerup\"]\n      },\n      raycaster: {\n        origin: {\n          x: 0,\n          y: 0,\n          z: 0\n        }\n      }\n    },\n    \"pico-controls\": {\n      cursor: {\n        downEvents: [\"triggerdown\"],\n        upEvents: [\"triggerup\"]\n      }\n    },\n    \"valve-index-controls\": {\n      cursor: {\n        downEvents: [\"triggerdown\"],\n        upEvents: [\"triggerup\"]\n      }\n    },\n    \"vive-controls\": {\n      cursor: {\n        downEvents: [\"triggerdown\"],\n        upEvents: [\"triggerup\"]\n      }\n    },\n    \"vive-focus-controls\": {\n      cursor: {\n        downEvents: [\"trackpaddown\", \"triggerdown\"],\n        upEvents: [\"trackpadup\", \"triggerup\"]\n      }\n    },\n    \"windows-motion-controls\": {\n      cursor: {\n        downEvents: [\"triggerdown\"],\n        upEvents: [\"triggerup\"]\n      },\n      raycaster: {\n        showLine: !1\n      }\n    }\n  }\n});\nvar rA,\n  oA,\n  sA,\n  aA,\n  AA,\n  lA,\n  cA,\n  hA,\n  dA,\n  uA,\n  gA = Re.MathUtils.degToRad,\n  pA = fi(\"components:light:warn\"),\n  fA = new Re.CubeTextureLoader(),\n  mA = {};\nfunction EA(e, t) {\n  return !(!e || !t) && e.x === t.x && e.y === t.y && e.z === t.z;\n}\ncs(\"light\", {\n  schema: {\n    angle: {\n      default: 60,\n      if: {\n        type: [\"spot\"]\n      }\n    },\n    color: {\n      type: \"color\",\n      if: {\n        type: [\"ambient\", \"directional\", \"hemisphere\", \"point\", \"spot\"]\n      }\n    },\n    envMap: {\n      default: \"\",\n      if: {\n        type: [\"probe\"]\n      }\n    },\n    groundColor: {\n      type: \"color\",\n      if: {\n        type: [\"hemisphere\"]\n      }\n    },\n    decay: {\n      default: 1,\n      if: {\n        type: [\"point\", \"spot\"]\n      }\n    },\n    distance: {\n      default: 0,\n      min: 0,\n      if: {\n        type: [\"point\", \"spot\"]\n      }\n    },\n    intensity: {\n      default: 3.14,\n      min: 0,\n      if: {\n        type: [\"ambient\", \"directional\", \"hemisphere\", \"point\", \"spot\", \"probe\"]\n      }\n    },\n    penumbra: {\n      default: 0,\n      min: 0,\n      max: 1,\n      if: {\n        type: [\"spot\"]\n      }\n    },\n    type: {\n      default: \"directional\",\n      oneOf: [\"ambient\", \"directional\", \"hemisphere\", \"point\", \"spot\", \"probe\"],\n      schemaChange: !0\n    },\n    target: {\n      type: \"selector\",\n      if: {\n        type: [\"spot\", \"directional\"]\n      }\n    },\n    castShadow: {\n      default: !1,\n      if: {\n        type: [\"point\", \"spot\", \"directional\"]\n      }\n    },\n    shadowBias: {\n      default: 0,\n      if: {\n        castShadow: !0\n      }\n    },\n    shadowCameraFar: {\n      default: 500,\n      if: {\n        castShadow: !0\n      }\n    },\n    shadowCameraFov: {\n      default: 90,\n      if: {\n        castShadow: !0\n      }\n    },\n    shadowCameraNear: {\n      default: .5,\n      if: {\n        castShadow: !0\n      }\n    },\n    shadowCameraTop: {\n      default: 5,\n      if: {\n        castShadow: !0\n      }\n    },\n    shadowCameraRight: {\n      default: 5,\n      if: {\n        castShadow: !0\n      }\n    },\n    shadowCameraBottom: {\n      default: -5,\n      if: {\n        castShadow: !0\n      }\n    },\n    shadowCameraLeft: {\n      default: -5,\n      if: {\n        castShadow: !0\n      }\n    },\n    shadowCameraVisible: {\n      default: !1,\n      if: {\n        castShadow: !0\n      }\n    },\n    shadowCameraAutomatic: {\n      default: \"\",\n      if: {\n        type: [\"directional\"]\n      }\n    },\n    shadowMapHeight: {\n      default: 512,\n      if: {\n        castShadow: !0\n      }\n    },\n    shadowMapWidth: {\n      default: 512,\n      if: {\n        castShadow: !0\n      }\n    },\n    shadowRadius: {\n      default: 1,\n      if: {\n        castShadow: !0\n      }\n    }\n  },\n  init: function () {\n    var e = this.el;\n    this.light = null, this.defaultTarget = null, this.system.registerLight(e);\n  },\n  update: function (e) {\n    var t = this.data,\n      n = no(t, e),\n      i = this.light,\n      r = this;\n    if (!i || \"type\" in n) this.setLight(this.data), this.updateShadow();else {\n      var o = !1;\n      Object.keys(n).forEach(function (e) {\n        var n = t[e];\n        switch (e) {\n          case \"color\":\n            i.color.set(n);\n            break;\n          case \"groundColor\":\n            i.groundColor.set(n);\n            break;\n          case \"angle\":\n            i.angle = gA(n);\n            break;\n          case \"target\":\n            null === n ? \"spot\" !== t.type && \"directional\" !== t.type || (i.target = r.defaultTarget) : n.hasLoaded ? r.onSetTarget(n, i) : n.addEventListener(\"loaded\", r.onSetTarget.bind(r, n, i));\n            break;\n          case \"envMap\":\n            r.updateProbeMap(t, i);\n            break;\n          case \"castShadow\":\n          case \"shadowBias\":\n          case \"shadowCameraFar\":\n          case \"shadowCameraFov\":\n          case \"shadowCameraNear\":\n          case \"shadowCameraTop\":\n          case \"shadowCameraRight\":\n          case \"shadowCameraBottom\":\n          case \"shadowCameraLeft\":\n          case \"shadowCameraVisible\":\n          case \"shadowMapHeight\":\n          case \"shadowMapWidth\":\n          case \"shadowRadius\":\n            o || (r.updateShadow(), o = !0);\n            break;\n          case \"shadowCameraAutomatic\":\n            t.shadowCameraAutomatic ? r.shadowCameraAutomaticEls = Array.from(document.querySelectorAll(t.shadowCameraAutomatic)) : r.shadowCameraAutomaticEls = [];\n            break;\n          default:\n            i[e] = n;\n        }\n      });\n    }\n  },\n  tick: (rA = new Re.Box3(), oA = new Re.Vector3(), sA = new Re.Vector3(), aA = new Re.Matrix4(), AA = new Re.Sphere(), lA = new Re.Vector3(), function () {\n    if (\"directional\" === this.data.type && this.light.shadow && this.light.shadow.camera instanceof Re.OrthographicCamera && this.shadowCameraAutomaticEls.length) {\n      var e = this.light.shadow.camera;\n      e.getWorldDirection(oA), e.getWorldPosition(sA), aA.copy(e.matrixWorld), aA.invert(), e.near = 1, e.left = 1e5, e.right = -1e5, e.top = -1e5, e.bottom = 1e5, this.shadowCameraAutomaticEls.forEach(function (t) {\n        rA.setFromObject(t.object3D), rA.getBoundingSphere(AA);\n        var n,\n          i,\n          r,\n          o,\n          s,\n          a = iA(sA, oA, AA.center),\n          A = (n = sA, i = oA, r = AA.center, o = lA, s = iA(n, i, r), o.copy(i), o.multiplyScalar(s), o.add(r), o).applyMatrix4(aA);\n        e.near = Math.min(-a - AA.radius - 1, e.near), e.left = Math.min(-AA.radius + A.x, e.left), e.right = Math.max(AA.radius + A.x, e.right), e.top = Math.max(AA.radius + A.y, e.top), e.bottom = Math.min(-AA.radius + A.y, e.bottom);\n      }), e.updateProjectionMatrix();\n    }\n  }),\n  setLight: function (e) {\n    var t = this.el,\n      n = this.getLight(e);\n    n && (this.light && t.removeObject3D(\"light\"), this.light = n, this.light.el = t, t.setObject3D(\"light\", this.light), \"spot\" !== e.type && \"directional\" !== e.type && \"hemisphere\" !== e.type || t.getObject3D(\"light\").translateY(-1), \"spot\" === e.type && (t.setObject3D(\"light-target\", this.defaultTarget), t.getObject3D(\"light-target\").position.set(0, 0, -1)), e.shadowCameraAutomatic ? this.shadowCameraAutomaticEls = Array.from(document.querySelectorAll(e.shadowCameraAutomatic)) : this.shadowCameraAutomaticEls = []);\n  },\n  updateShadow: function () {\n    var e = this.el,\n      t = this.data,\n      n = this.light;\n    n.castShadow = t.castShadow;\n    var i = e.getObject3D(\"cameraHelper\");\n    if (t.shadowCameraVisible && !i ? (i = new Re.CameraHelper(n.shadow.camera), e.setObject3D(\"cameraHelper\", i)) : !t.shadowCameraVisible && i && e.removeObject3D(\"cameraHelper\"), !t.castShadow) return n;\n    n.shadow.bias = t.shadowBias, n.shadow.radius = t.shadowRadius, n.shadow.mapSize.height = t.shadowMapHeight, n.shadow.mapSize.width = t.shadowMapWidth, n.shadow.camera.near = t.shadowCameraNear, n.shadow.camera.far = t.shadowCameraFar, n.shadow.camera instanceof Re.OrthographicCamera ? (n.shadow.camera.top = t.shadowCameraTop, n.shadow.camera.right = t.shadowCameraRight, n.shadow.camera.bottom = t.shadowCameraBottom, n.shadow.camera.left = t.shadowCameraLeft) : n.shadow.camera.fov = t.shadowCameraFov, n.shadow.camera.updateProjectionMatrix(), i && i.update();\n  },\n  getLight: function (e) {\n    var t = e.angle,\n      n = new Re.Color(e.color);\n    n = n.getHex();\n    var i = e.decay,\n      r = e.distance,\n      o = new Re.Color(e.groundColor);\n    o = o.getHex();\n    var s = e.intensity,\n      a = e.type,\n      A = e.target,\n      l = null;\n    switch (a.toLowerCase()) {\n      case \"ambient\":\n        return new Re.AmbientLight(n, s);\n      case \"directional\":\n        return l = new Re.DirectionalLight(n, s), this.defaultTarget = l.target, A && (A.hasLoaded ? this.onSetTarget(A, l) : A.addEventListener(\"loaded\", this.onSetTarget.bind(this, A, l))), l;\n      case \"hemisphere\":\n        return new Re.HemisphereLight(n, o, s);\n      case \"point\":\n        return new Re.PointLight(n, s, r, i);\n      case \"spot\":\n        return l = new Re.SpotLight(n, s, r, gA(t), e.penumbra, i), this.defaultTarget = l.target, A && (A.hasLoaded ? this.onSetTarget(A, l) : A.addEventListener(\"loaded\", this.onSetTarget.bind(this, A, l))), l;\n      case \"probe\":\n        return l = new Re.LightProbe(), this.updateProbeMap(e, l), l;\n      default:\n        pA(\"%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.\", a);\n    }\n  },\n  updateProbeMap: function (e, t) {\n    e.envMap ? (void 0 === mA[e.envMap] && (mA[e.envMap] = new window.Promise(function (t) {\n      ur(e.envMap, function (n) {\n        fA.load(n, function (n) {\n          var i = oi.fromCubeTexture(n);\n          mA[e.envMap] = i, t(i);\n        });\n      });\n    })), mA[e.envMap] instanceof window.Promise ? mA[e.envMap].then(function (e) {\n      t.copy(e);\n    }) : mA[e.envMap] instanceof Re.LightProbe && t.copy(mA[e.envMap])) : t.copy(new Re.LightProbe());\n  },\n  onSetTarget: function (e, t) {\n    t.target = e.object3D;\n  },\n  remove: function () {\n    var e = this.el;\n    e.removeObject3D(\"light\"), e.getObject3D(\"cameraHelper\") && e.removeObject3D(\"cameraHelper\");\n  }\n}), cs(\"line\", {\n  schema: {\n    start: {\n      type: \"vec3\",\n      default: {\n        x: 0,\n        y: 0,\n        z: 0\n      }\n    },\n    end: {\n      type: \"vec3\",\n      default: {\n        x: 0,\n        y: 0,\n        z: 0\n      }\n    },\n    color: {\n      type: \"color\",\n      default: \"#74BEC1\"\n    },\n    opacity: {\n      type: \"number\",\n      default: 1\n    },\n    visible: {\n      default: !0\n    }\n  },\n  multiple: !0,\n  init: function () {\n    var e,\n      t,\n      n = this.data;\n    t = this.material = new Re.LineBasicMaterial({\n      color: n.color,\n      opacity: n.opacity,\n      transparent: n.opacity < 1,\n      visible: n.visible\n    }), (e = this.geometry = new Re.BufferGeometry()).setAttribute(\"position\", new Re.BufferAttribute(new Float32Array(6), 3)), this.line = new Re.Line(e, t), this.el.setObject3D(this.attrName, this.line);\n  },\n  update: function (e) {\n    var t = this.data,\n      n = this.geometry,\n      i = !1,\n      r = this.material,\n      o = n.attributes.position.array;\n    EA(t.start, e.start) || (o[0] = t.start.x, o[1] = t.start.y, o[2] = t.start.z, i = !0), EA(t.end, e.end) || (o[3] = t.end.x, o[4] = t.end.y, o[5] = t.end.z, i = !0), i && (n.attributes.position.needsUpdate = !0, n.computeBoundingSphere()), r.color.setStyle(t.color), r.opacity = t.opacity, r.transparent = t.opacity < 1, r.visible = t.visible;\n  },\n  remove: function () {\n    this.el.removeObject3D(this.attrName, this.line);\n  }\n}), cs(\"link\", {\n  schema: {\n    backgroundColor: {\n      default: \"red\",\n      type: \"color\"\n    },\n    borderColor: {\n      default: \"white\",\n      type: \"color\"\n    },\n    highlighted: {\n      default: !1\n    },\n    highlightedColor: {\n      default: \"#24CAFF\",\n      type: \"color\"\n    },\n    href: {\n      default: \"\"\n    },\n    image: {\n      type: \"asset\"\n    },\n    on: {\n      default: \"click\"\n    },\n    peekMode: {\n      default: !1\n    },\n    title: {\n      default: \"\"\n    },\n    titleColor: {\n      default: \"white\",\n      type: \"color\"\n    },\n    visualAspectEnabled: {\n      default: !1\n    }\n  },\n  init: function () {\n    this.navigate = this.navigate.bind(this), this.previousQuaternion = void 0, this.quaternionClone = new Re.Quaternion(), this.hiddenEls = [];\n  },\n  update: function (e) {\n    var t,\n      n,\n      i = this.data,\n      r = this.el;\n    if (i.visualAspectEnabled) {\n      var o = this.el.getAttribute(\"scale\");\n      this.previewDistance = 15 * (o.x + o.y) / 2, this.initVisualAspect(), t = i.highlighted ? i.highlightedColor : i.backgroundColor, n = i.highlighted ? i.highlightedColor : i.borderColor, r.setAttribute(\"material\", \"backgroundColor\", t), r.setAttribute(\"material\", \"strokeColor\", n), i.on !== e.on && this.updateEventListener(), void 0 !== e.peekMode && i.peekMode !== e.peekMode && this.updatePeekMode(), i.image && e.image !== i.image && r.setAttribute(\"material\", \"pano\", \"string\" == typeof i.image ? i.image : i.image.src);\n    }\n  },\n  updatePeekMode: function () {\n    var e = this.el,\n      t = this.sphereEl;\n    this.data.peekMode ? (this.hideAll(), e.getObject3D(\"mesh\").visible = !1, t.setAttribute(\"visible\", !0)) : (this.showAll(), e.getObject3D(\"mesh\").visible = !0, t.setAttribute(\"visible\", !1));\n  },\n  play: function () {\n    this.updateEventListener();\n  },\n  pause: function () {\n    this.removeEventListener();\n  },\n  updateEventListener: function () {\n    var e = this.el;\n    e.isPlaying && (this.removeEventListener(), e.addEventListener(this.data.on, this.navigate));\n  },\n  removeEventListener: function () {\n    var e = this.data.on;\n    e && this.el.removeEventListener(e, this.navigate);\n  },\n  initVisualAspect: function () {\n    var e,\n      t,\n      n,\n      i = this.el;\n    this.data.visualAspectEnabled && !this.visualAspectInitialized && (n = this.textEl = this.textEl || document.createElement(\"a-entity\"), t = this.sphereEl = this.sphereEl || document.createElement(\"a-entity\"), e = this.semiSphereEl = this.semiSphereEl || document.createElement(\"a-entity\"), i.setAttribute(\"geometry\", {\n      primitive: \"circle\",\n      radius: 1,\n      segments: 64\n    }), i.setAttribute(\"material\", {\n      shader: \"portal\",\n      pano: this.data.image,\n      side: \"double\",\n      previewDistance: this.previewDistance\n    }), n.setAttribute(\"text\", {\n      color: this.data.titleColor,\n      align: \"center\",\n      font: \"kelsonsans\",\n      value: this.data.title || this.data.href,\n      width: 4\n    }), n.setAttribute(\"position\", \"0 1.5 0\"), i.appendChild(n), e.setAttribute(\"geometry\", {\n      primitive: \"sphere\",\n      radius: 1,\n      phiStart: 0,\n      segmentsWidth: 64,\n      segmentsHeight: 64,\n      phiLength: 180,\n      thetaStart: 0,\n      thetaLength: 360\n    }), e.setAttribute(\"material\", {\n      shader: \"portal\",\n      borderEnabled: 0,\n      pano: this.data.image,\n      side: \"back\",\n      previewDistance: this.previewDistance\n    }), e.setAttribute(\"rotation\", \"0 180 0\"), e.setAttribute(\"position\", \"0 0 0\"), e.setAttribute(\"visible\", !1), i.appendChild(e), t.setAttribute(\"geometry\", {\n      primitive: \"sphere\",\n      radius: 10,\n      segmentsWidth: 64,\n      segmentsHeight: 64\n    }), t.setAttribute(\"material\", {\n      shader: \"portal\",\n      borderEnabled: 0,\n      pano: this.data.image,\n      side: \"back\",\n      previewDistance: this.previewDistance\n    }), t.setAttribute(\"visible\", !1), i.appendChild(t), this.visualAspectInitialized = !0);\n  },\n  navigate: function () {\n    window.location = this.data.href;\n  },\n  tick: function () {\n    var e = new Re.Vector3(),\n      t = new Re.Vector3(),\n      n = new Re.Quaternion(),\n      i = new Re.Vector3();\n    return function () {\n      var r,\n        o,\n        s = this.el,\n        a = s.object3D,\n        A = s.sceneEl.camera,\n        l = this.textEl;\n      if (this.data.visualAspectEnabled) if (a.updateMatrixWorld(), A.parent.updateMatrixWorld(), A.updateMatrixWorld(), a.matrix.decompose(t, n, i), t.setFromMatrixPosition(a.matrixWorld), e.setFromMatrixPosition(A.matrixWorld), (o = t.distanceTo(e)) > 1.33333 * this.previewDistance) this.previousQuaternion || (this.quaternionClone.copy(n), this.previousQuaternion = this.quaternionClone), a.lookAt(e);else {\n        if (r = this.calculateCameraPortalOrientation(), o < .5) {\n          if (!0 === this.semiSphereEl.getAttribute(\"visible\")) return;\n          l.setAttribute(\"text\", \"width\", 1.5), r <= 0 ? (l.setAttribute(\"position\", \"0 0 0.75\"), l.setAttribute(\"rotation\", \"0 180 0\"), this.semiSphereEl.setAttribute(\"rotation\", \"0 0 0\")) : (l.setAttribute(\"position\", \"0 0 -0.75\"), l.setAttribute(\"rotation\", \"0 0 0\"), this.semiSphereEl.setAttribute(\"rotation\", \"0 180 0\")), s.getObject3D(\"mesh\").visible = !1, this.semiSphereEl.setAttribute(\"visible\", !0), this.peekCameraPortalOrientation = r;\n        } else r <= 0 ? l.setAttribute(\"rotation\", \"0 180 0\") : l.setAttribute(\"rotation\", \"0 0 0\"), l.setAttribute(\"text\", \"width\", 5), l.setAttribute(\"position\", \"0 1.5 0\"), s.getObject3D(\"mesh\").visible = !0, this.semiSphereEl.setAttribute(\"visible\", !1), this.peekCameraPortalOrientation = void 0;\n        this.previousQuaternion && (a.quaternion.copy(this.previousQuaternion), this.previousQuaternion = void 0);\n      }\n    };\n  }(),\n  hideAll: function () {\n    var e = this.el,\n      t = this.hiddenEls,\n      n = this;\n    t.length > 0 || e.sceneEl.object3D.traverse(function (i) {\n      i && i.el && i.el.hasAttribute(\"link-controls\") || i.el && i !== e.sceneEl.object3D && i.el !== e && i.el !== n.sphereEl && i.el !== e.sceneEl.cameraEl && !1 !== i.el.getAttribute(\"visible\") && i.el !== n.textEl && i.el !== n.semiSphereEl && (i.el.setAttribute(\"visible\", !1), t.push(i.el));\n    });\n  },\n  showAll: function () {\n    this.hiddenEls.forEach(function (e) {\n      e.setAttribute(\"visible\", !0);\n    }), this.hiddenEls = [];\n  },\n  calculateCameraPortalOrientation: (cA = new Re.Matrix4(), hA = new Re.Vector3(), dA = new Re.Vector3(0, 0, 1), uA = new Re.Vector3(0, 0, 0), function () {\n    var e = this.el,\n      t = e.sceneEl.camera;\n    return hA.set(0, 0, 0), dA.set(0, 0, 1), uA.set(0, 0, 0), e.object3D.matrixWorld.extractRotation(cA), dA.applyMatrix4(cA), e.object3D.updateMatrixWorld(), e.object3D.localToWorld(uA), t.parent.parent.updateMatrixWorld(), t.parent.updateMatrixWorld(), t.updateMatrixWorld(), t.localToWorld(hA), hA.sub(uA).normalize(), dA.normalize(), Math.sign(dA.dot(hA));\n  }),\n  remove: function () {\n    this.removeEventListener();\n  }\n}), ia(\"portal\", {\n  schema: {\n    borderEnabled: {\n      default: 1,\n      type: \"int\",\n      is: \"uniform\"\n    },\n    backgroundColor: {\n      default: \"red\",\n      type: \"color\",\n      is: \"uniform\"\n    },\n    pano: {\n      type: \"map\",\n      is: \"uniform\"\n    },\n    strokeColor: {\n      default: \"white\",\n      type: \"color\",\n      is: \"uniform\"\n    },\n    previewDistance: {\n      default: 15,\n      type: \"float\",\n      is: \"uniform\"\n    }\n  },\n  vertexShader: [\"vec3 portalPosition;\", \"varying vec3 vWorldPosition;\", \"varying float vDistanceToCenter;\", \"varying float vDistance;\", \"void main() {\", \"vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);\", \"portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;\", \"vDistance = length(portalPosition - cameraPosition);\", \"vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"#define RECIPROCAL_PI2 0.15915494\", \"uniform sampler2D pano;\", \"uniform vec3 strokeColor;\", \"uniform vec3 backgroundColor;\", \"uniform float borderEnabled;\", \"uniform float previewDistance;\", \"varying float vDistanceToCenter;\", \"varying float vDistance;\", \"varying vec3 vWorldPosition;\", \"void main() {\", \"vec3 direction = normalize(vWorldPosition - cameraPosition);\", \"vec2 sampleUV;\", \"float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);\", \"sampleUV.y = clamp(direction.y * 0.5  + 0.5, 0.0, 1.0);\", \"sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;\", \"if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {\", \"gl_FragColor = vec4(strokeColor, 1.0);\", \"} else {\", \"gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / previewDistance), 2.0), 0.0, 1.0));\", \"}\", \"}\"].join(\"\\n\")\n});\nvar CA = \"logitech-mx-ink\",\n  vA = ci + \"controllers/logitech/\",\n  BA = (cs(\"logitech-mx-ink-controls\", {\n    schema: {\n      hand: {\n        default: \"left\"\n      },\n      model: {\n        default: !0\n      },\n      orientationOffset: {\n        type: \"vec3\"\n      }\n    },\n    mapping: {\n      left: {\n        buttons: [\"front\", \"back\", \"none\", \"none\", \"none\", \"tip\"]\n      },\n      right: {\n        buttons: [\"front\", \"back\", \"none\", \"none\", \"none\", \"tip\"]\n      }\n    },\n    init: function () {\n      var e = this;\n      this.onButtonChanged = this.onButtonChanged.bind(this), this.onButtonDown = function (t) {\n        Nr(t.detail.id, \"down\", e, e.data.hand);\n      }, this.onButtonUp = function (t) {\n        Nr(t.detail.id, \"up\", e, e.data.hand);\n      }, this.onButtonTouchEnd = function (t) {\n        Nr(t.detail.id, \"touchend\", e, e.data.hand);\n      }, this.onButtonTouchStart = function (t) {\n        Nr(t.detail.id, \"touchstart\", e, e.data.hand);\n      }, this.bindMethods();\n    },\n    play: function () {\n      this.checkIfControllerPresent(), this.addControllersUpdateListener();\n    },\n    pause: function () {\n      this.removeEventListeners(), this.removeControllersUpdateListener();\n    },\n    bindMethods: function () {\n      this.onModelLoaded = this.onModelLoaded.bind(this), this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this), this.onAxisMoved = this.onAxisMoved.bind(this);\n    },\n    addEventListeners: function () {\n      var e = this.el;\n      e.addEventListener(\"buttonchanged\", this.onButtonChanged), e.addEventListener(\"buttondown\", this.onButtonDown), e.addEventListener(\"buttonup\", this.onButtonUp), e.addEventListener(\"touchstart\", this.onButtonTouchStart), e.addEventListener(\"touchend\", this.onButtonTouchEnd), e.addEventListener(\"axismove\", this.onAxisMoved), e.addEventListener(\"model-loaded\", this.onModelLoaded), this.controllerEventsActive = !0;\n    },\n    removeEventListeners: function () {\n      var e = this.el;\n      e.removeEventListener(\"buttonchanged\", this.onButtonChanged), e.removeEventListener(\"buttondown\", this.onButtonDown), e.removeEventListener(\"buttonup\", this.onButtonUp), e.removeEventListener(\"touchstart\", this.onButtonTouchStart), e.removeEventListener(\"touchend\", this.onButtonTouchEnd), e.removeEventListener(\"axismove\", this.onAxisMoved), e.removeEventListener(\"model-loaded\", this.onModelLoaded), e.sceneEl.removeEventListener(\"enter-vr\", this.onEnterVR), e.sceneEl.removeEventListener(\"exit-vr\", this.onExitVR), this.controllerEventsActive = !1;\n    },\n    checkIfControllerPresent: function () {\n      var e = this.controllerObject3D;\n      e && (e.visible = !1), Ur(this, CA, {\n        hand: this.data.hand,\n        iterateControllerProfiles: !0\n      });\n    },\n    injectTrackedControls: function () {\n      var e = this.el,\n        t = this.data,\n        n = CA;\n      e.setAttribute(\"tracked-controls\", {\n        id: n,\n        hand: t.hand,\n        handTrackingEnabled: !1,\n        iterateControllerProfiles: !0,\n        orientationOffset: t.orientationOffset\n      }), this.loadModel();\n    },\n    loadModel: function () {\n      var e = this.controllerObject3D;\n      if (this.data.model) return e ? (e.visible = this.el.sceneEl.is(\"vr-mode\"), void this.el.setObject3D(\"mesh\", e)) : void this.el.setAttribute(\"gltf-model\", vA + \"logitech-mx-ink.glb\");\n    },\n    addControllersUpdateListener: function () {\n      this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    removeControllersUpdateListener: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    onControllersUpdate: function () {\n      this.checkIfControllerPresent();\n    },\n    onButtonChanged: function (e) {\n      var t,\n        n = this.mapping[this.data.hand].buttons[e.detail.id];\n      n && (\"trigger\" === n && (t = e.detail.state.value, console.log(\"analog value of trigger press: \" + t)), this.el.emit(n + \"changed\", e.detail.state));\n    },\n    onModelLoaded: function (e) {\n      e.target === this.el && this.data.model && (this.el.emit(\"controllermodelready\", {\n        name: \"logitech-mx-ink-controls\",\n        model: this.data.model,\n        rayOrigin: new Re.Vector3(0, 0, 0)\n      }), this.controllerObject3D = this.el.getObject3D(\"mesh\"), this.controllerObject3D.visible = this.el.sceneEl.is(\"vr-mode\"));\n    },\n    onAxisMoved: function (e) {\n      Gr(this, this.mapping.axes, e);\n    }\n  }), Math.PI / 2),\n  bA = (cs(\"look-controls\", {\n    dependencies: [\"position\", \"rotation\"],\n    schema: {\n      enabled: {\n        default: !0\n      },\n      magicWindowTrackingEnabled: {\n        default: !0\n      },\n      pointerLockEnabled: {\n        default: !1\n      },\n      reverseMouseDrag: {\n        default: !1\n      },\n      reverseTouchDrag: {\n        default: !1\n      },\n      touchEnabled: {\n        default: !0\n      },\n      mouseEnabled: {\n        default: !0\n      }\n    },\n    init: function () {\n      this.deltaYaw = 0, this.previousHMDPosition = new Re.Vector3(), this.hmdQuaternion = new Re.Quaternion(), this.magicWindowAbsoluteEuler = new Re.Euler(), this.magicWindowDeltaEuler = new Re.Euler(), this.position = new Re.Vector3(), this.magicWindowObject = new Re.Object3D(), this.rotation = {}, this.deltaRotation = {}, this.savedPose = null, this.pointerLocked = !1, this.setupMouseControls(), this.bindMethods(), this.previousMouseEvent = {}, this.setupMagicWindowControls(), this.savedPose = {\n        position: new Re.Vector3(),\n        rotation: new Re.Euler()\n      }, (this.el.sceneEl.is(\"vr-mode\") || this.el.sceneEl.is(\"ar-mode\")) && this.onEnterVR();\n    },\n    setupMagicWindowControls: function () {\n      var e,\n        t = this.data;\n      (Si() || Fi()) && (e = this.magicWindowControls = new ai(this.magicWindowObject), \"undefined\" != typeof DeviceOrientationEvent && DeviceOrientationEvent.requestPermission && (e.enabled = !1, this.el.sceneEl.components[\"device-orientation-permission-ui\"].permissionGranted ? e.enabled = t.magicWindowTrackingEnabled : this.el.sceneEl.addEventListener(\"deviceorientationpermissiongranted\", function () {\n        e.enabled = t.magicWindowTrackingEnabled;\n      })));\n    },\n    update: function (e) {\n      var t = this.data;\n      t.enabled !== e.enabled && this.updateGrabCursor(t.enabled), e && !t.magicWindowTrackingEnabled && e.magicWindowTrackingEnabled && (this.magicWindowAbsoluteEuler.set(0, 0, 0), this.magicWindowDeltaEuler.set(0, 0, 0)), this.magicWindowControls && (this.magicWindowControls.enabled = t.magicWindowTrackingEnabled), e && !t.pointerLockEnabled !== e.pointerLockEnabled && (this.removeEventListeners(), this.addEventListeners(), this.pointerLocked && this.exitPointerLock());\n    },\n    tick: function (e) {\n      this.data.enabled && this.updateOrientation();\n    },\n    play: function () {\n      this.addEventListeners();\n    },\n    pause: function () {\n      this.removeEventListeners(), this.pointerLocked && this.exitPointerLock();\n    },\n    remove: function () {\n      this.removeEventListeners(), this.pointerLocked && this.exitPointerLock();\n    },\n    bindMethods: function () {\n      this.onMouseDown = this.onMouseDown.bind(this), this.onMouseMove = this.onMouseMove.bind(this), this.onMouseUp = this.onMouseUp.bind(this), this.onTouchStart = this.onTouchStart.bind(this), this.onTouchMove = this.onTouchMove.bind(this), this.onTouchEnd = this.onTouchEnd.bind(this), this.onEnterVR = this.onEnterVR.bind(this), this.onExitVR = this.onExitVR.bind(this), this.onPointerLockChange = this.onPointerLockChange.bind(this), this.onPointerLockError = this.onPointerLockError.bind(this);\n    },\n    setupMouseControls: function () {\n      this.mouseDown = !1, this.pitchObject = new Re.Object3D(), this.yawObject = new Re.Object3D(), this.yawObject.position.y = 10, this.yawObject.add(this.pitchObject);\n    },\n    addEventListeners: function () {\n      var e = this.el.sceneEl,\n        t = e.canvas;\n      t ? (t.addEventListener(\"mousedown\", this.onMouseDown, !1), window.addEventListener(\"mousemove\", this.onMouseMove, !1), window.addEventListener(\"mouseup\", this.onMouseUp, !1), t.addEventListener(\"touchstart\", this.onTouchStart, {\n        passive: !0\n      }), window.addEventListener(\"touchmove\", this.onTouchMove, {\n        passive: !0\n      }), window.addEventListener(\"touchend\", this.onTouchEnd, {\n        passive: !0\n      }), e.addEventListener(\"enter-vr\", this.onEnterVR), e.addEventListener(\"exit-vr\", this.onExitVR), this.data.pointerLockEnabled && (document.addEventListener(\"pointerlockchange\", this.onPointerLockChange, !1), document.addEventListener(\"mozpointerlockchange\", this.onPointerLockChange, !1), document.addEventListener(\"pointerlockerror\", this.onPointerLockError, !1))) : e.addEventListener(\"render-target-loaded\", this.addEventListeners.bind(this));\n    },\n    removeEventListeners: function () {\n      var e = this.el.sceneEl,\n        t = e && e.canvas;\n      t && (t.removeEventListener(\"mousedown\", this.onMouseDown), window.removeEventListener(\"mousemove\", this.onMouseMove), window.removeEventListener(\"mouseup\", this.onMouseUp), t.removeEventListener(\"touchstart\", this.onTouchStart), window.removeEventListener(\"touchmove\", this.onTouchMove), window.removeEventListener(\"touchend\", this.onTouchEnd), e.removeEventListener(\"enter-vr\", this.onEnterVR), e.removeEventListener(\"exit-vr\", this.onExitVR), document.removeEventListener(\"pointerlockchange\", this.onPointerLockChange, !1), document.removeEventListener(\"mozpointerlockchange\", this.onPointerLockChange, !1), document.removeEventListener(\"pointerlockerror\", this.onPointerLockError, !1));\n    },\n    updateOrientation: function () {\n      var e = this.el.object3D,\n        t = this.pitchObject,\n        n = this.yawObject,\n        i = this.el.sceneEl;\n      (i.is(\"vr-mode\") || i.is(\"ar-mode\")) && i.checkHeadsetConnected() || (this.updateMagicWindowOrientation(), e.rotation.x = this.magicWindowDeltaEuler.x + t.rotation.x, e.rotation.y = this.magicWindowDeltaEuler.y + n.rotation.y, e.rotation.z = this.magicWindowDeltaEuler.z);\n    },\n    updateMagicWindowOrientation: function () {\n      var e = this.magicWindowAbsoluteEuler,\n        t = this.magicWindowDeltaEuler;\n      this.magicWindowControls && this.magicWindowControls.enabled && (this.magicWindowControls.update(), e.setFromQuaternion(this.magicWindowObject.quaternion, \"YXZ\"), this.previousMagicWindowYaw || 0 === e.y || (this.previousMagicWindowYaw = e.y), this.previousMagicWindowYaw && (t.x = e.x, t.y += e.y - this.previousMagicWindowYaw, t.z = e.z, this.previousMagicWindowYaw = e.y));\n    },\n    onMouseMove: function (e) {\n      var t,\n        n,\n        i,\n        r = this.pitchObject,\n        o = this.previousMouseEvent,\n        s = this.yawObject;\n      this.data.enabled && (this.mouseDown || this.pointerLocked) && (this.pointerLocked ? (n = e.movementX || e.mozMovementX || 0, i = e.movementY || e.mozMovementY || 0) : (n = e.screenX - o.screenX, i = e.screenY - o.screenY), this.previousMouseEvent.screenX = e.screenX, this.previousMouseEvent.screenY = e.screenY, t = this.data.reverseMouseDrag ? 1 : -1, s.rotation.y += .002 * n * t, r.rotation.x += .002 * i * t, r.rotation.x = Math.max(-BA, Math.min(BA, r.rotation.x)));\n    },\n    onMouseDown: function (e) {\n      var t = this.el.sceneEl;\n      if (this.data.enabled && this.data.mouseEnabled && (!t.is(\"vr-mode\") && !t.is(\"ar-mode\") || !t.checkHeadsetConnected()) && 0 === e.button) {\n        var n = t && t.canvas;\n        this.mouseDown = !0, this.previousMouseEvent.screenX = e.screenX, this.previousMouseEvent.screenY = e.screenY, this.showGrabbingCursor(), this.data.pointerLockEnabled && !this.pointerLocked && (n.requestPointerLock ? n.requestPointerLock() : n.mozRequestPointerLock && n.mozRequestPointerLock());\n      }\n    },\n    showGrabbingCursor: function () {\n      this.el.sceneEl.canvas.style.cursor = \"grabbing\";\n    },\n    hideGrabbingCursor: function () {\n      this.el.sceneEl.canvas.style.cursor = \"\";\n    },\n    onMouseUp: function () {\n      this.mouseDown = !1, this.hideGrabbingCursor();\n    },\n    onTouchStart: function (e) {\n      1 !== e.touches.length || !this.data.touchEnabled || this.el.sceneEl.is(\"vr-mode\") || this.el.sceneEl.is(\"ar-mode\") || (this.touchStart = {\n        x: e.touches[0].pageX,\n        y: e.touches[0].pageY\n      }, this.touchStarted = !0);\n    },\n    onTouchMove: function (e) {\n      var t,\n        n,\n        i = this.el.sceneEl.canvas,\n        r = this.yawObject;\n      this.touchStarted && this.data.touchEnabled && (n = 2 * Math.PI * (e.touches[0].pageX - this.touchStart.x) / i.clientWidth, t = this.data.reverseTouchDrag ? 1 : -1, r.rotation.y -= .5 * n * t, this.touchStart = {\n        x: e.touches[0].pageX,\n        y: e.touches[0].pageY\n      });\n    },\n    onTouchEnd: function () {\n      this.touchStarted = !1;\n    },\n    onEnterVR: function () {\n      var e = this.el.sceneEl;\n      e.checkHeadsetConnected() && (this.saveCameraPose(), this.el.object3D.position.set(0, 0, 0), this.el.object3D.rotation.set(0, 0, 0), e.hasWebXR && (this.el.object3D.matrixAutoUpdate = !1, this.el.object3D.updateMatrix()));\n    },\n    onExitVR: function () {\n      this.el.sceneEl.checkHeadsetConnected() && (this.restoreCameraPose(), this.previousHMDPosition.set(0, 0, 0), this.el.object3D.matrixAutoUpdate = !0);\n    },\n    onPointerLockChange: function () {\n      this.pointerLocked = !(!document.pointerLockElement && !document.mozPointerLockElement);\n    },\n    onPointerLockError: function () {\n      this.pointerLocked = !1;\n    },\n    exitPointerLock: function () {\n      document.exitPointerLock(), this.pointerLocked = !1;\n    },\n    updateGrabCursor: function (e) {\n      var t = this.el.sceneEl;\n      function n() {\n        t.canvas.classList.add(\"a-grab-cursor\");\n      }\n      function i() {\n        t.canvas.classList.remove(\"a-grab-cursor\");\n      }\n      t.canvas ? e ? n() : i() : e ? t.addEventListener(\"render-target-loaded\", n) : t.addEventListener(\"render-target-loaded\", i);\n    },\n    saveCameraPose: function () {\n      var e = this.el;\n      this.savedPose.position.copy(e.object3D.position), this.savedPose.rotation.copy(e.object3D.rotation), this.hasSavedPose = !0;\n    },\n    restoreCameraPose: function () {\n      var e = this.el,\n        t = this.savedPose;\n      this.hasSavedPose && (e.object3D.position.copy(t.position), e.object3D.rotation.copy(t.rotation), this.hasSavedPose = !1);\n    }\n  }), \"magicleap-one\"),\n  yA = ci + \"controllers/magicleap/magicleap-one-controller.glb\",\n  IA = (cs(\"magicleap-controls\", {\n    schema: {\n      hand: {\n        default: \"none\"\n      },\n      model: {\n        default: !0\n      }\n    },\n    mapping: {\n      axes: {\n        touchpad: [0, 1]\n      },\n      buttons: [\"trigger\", \"grip\", \"touchpad\", \"menu\"]\n    },\n    init: function () {\n      var e = this;\n      this.controllerPresent = !1, this.onButtonChanged = this.onButtonChanged.bind(this), this.onButtonDown = function (t) {\n        Nr(t.detail.id, \"down\", e);\n      }, this.onButtonUp = function (t) {\n        Nr(t.detail.id, \"up\", e);\n      }, this.onButtonTouchEnd = function (t) {\n        Nr(t.detail.id, \"touchend\", e);\n      }, this.onButtonTouchStart = function (t) {\n        Nr(t.detail.id, \"touchstart\", e);\n      }, this.previousButtonValues = {}, this.bindMethods();\n    },\n    update: function () {\n      var e = this.data;\n      this.controllerIndex = \"right\" === e.hand ? 0 : \"left\" === e.hand ? 1 : 2;\n    },\n    play: function () {\n      this.checkIfControllerPresent(), this.addControllersUpdateListener();\n    },\n    pause: function () {\n      this.removeEventListeners(), this.removeControllersUpdateListener();\n    },\n    bindMethods: function () {\n      this.onModelLoaded = this.onModelLoaded.bind(this), this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this), this.onAxisMoved = this.onAxisMoved.bind(this);\n    },\n    addEventListeners: function () {\n      var e = this.el;\n      e.addEventListener(\"buttonchanged\", this.onButtonChanged), e.addEventListener(\"buttondown\", this.onButtonDown), e.addEventListener(\"buttonup\", this.onButtonUp), e.addEventListener(\"touchstart\", this.onButtonTouchStart), e.addEventListener(\"touchend\", this.onButtonTouchEnd), e.addEventListener(\"axismove\", this.onAxisMoved), e.addEventListener(\"model-loaded\", this.onModelLoaded), this.controllerEventsActive = !0;\n    },\n    removeEventListeners: function () {\n      var e = this.el;\n      e.removeEventListener(\"buttonchanged\", this.onButtonChanged), e.removeEventListener(\"buttondown\", this.onButtonDown), e.removeEventListener(\"buttonup\", this.onButtonUp), e.removeEventListener(\"touchstart\", this.onButtonTouchStart), e.removeEventListener(\"touchend\", this.onButtonTouchEnd), e.removeEventListener(\"axismove\", this.onAxisMoved), e.removeEventListener(\"model-loaded\", this.onModelLoaded), this.controllerEventsActive = !1;\n    },\n    checkIfControllerPresent: function () {\n      var e = this.data;\n      Ur(this, bA, {\n        index: this.controllerIndex,\n        hand: e.hand\n      });\n    },\n    injectTrackedControls: function () {\n      var e = this.el,\n        t = this.data;\n      e.setAttribute(\"tracked-controls\", {\n        idPrefix: bA,\n        hand: t.hand,\n        controller: this.controllerIndex\n      }), this.data.model && this.el.setAttribute(\"gltf-model\", yA);\n    },\n    addControllersUpdateListener: function () {\n      this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    removeControllersUpdateListener: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    onControllersUpdate: function () {\n      this.checkIfControllerPresent();\n    },\n    onButtonChanged: function (e) {\n      var t,\n        n = this.mapping.buttons[e.detail.id];\n      n && (\"trigger\" === n && (t = e.detail.state.value, console.log(\"analog value of trigger press: \" + t)), this.el.emit(n + \"changed\", e.detail.state));\n    },\n    onModelLoaded: function (e) {\n      e.detail.model.scale.set(.01, .01, .01);\n    },\n    onAxisMoved: function (e) {\n      Gr(this, this.mapping.axes, e);\n    },\n    updateModel: function (e, t) {},\n    setButtonColor: function (e, t) {}\n  }), fi(\"components:material:error\"));\nfunction wA(e, t) {\n  e.dispose(), t.unregisterMaterial(e), Object.keys(e).filter(function (t) {\n    return e[t] && e[t].isTexture;\n  }).forEach(function (t) {\n    e[t].dispose();\n  });\n}\ncs(\"material\", {\n  schema: {\n    alphaTest: {\n      default: 0,\n      min: 0,\n      max: 1\n    },\n    depthTest: {\n      default: !0\n    },\n    depthWrite: {\n      default: !0\n    },\n    flatShading: {\n      default: !1\n    },\n    npot: {\n      default: !1\n    },\n    offset: {\n      type: \"vec2\",\n      default: {\n        x: 0,\n        y: 0\n      }\n    },\n    opacity: {\n      default: 1,\n      min: 0,\n      max: 1\n    },\n    repeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    shader: {\n      default: \"standard\",\n      oneOf: ea,\n      schemaChange: !0\n    },\n    side: {\n      default: \"front\",\n      oneOf: [\"front\", \"back\", \"double\"]\n    },\n    transparent: {\n      default: !1\n    },\n    vertexColorsEnabled: {\n      default: !1\n    },\n    visible: {\n      default: !0\n    },\n    blending: {\n      default: \"normal\",\n      oneOf: [\"none\", \"normal\", \"additive\", \"subtractive\", \"multiply\"]\n    },\n    dithering: {\n      default: !0\n    },\n    anisotropy: {\n      default: 0,\n      min: 0\n    }\n  },\n  init: function () {\n    this.material = null;\n  },\n  update: function (e) {\n    var t = this.data;\n    this.shader && t.shader === e.shader || this.updateShader(t.shader), this.shader.update(this.data), this.updateMaterial(e);\n  },\n  updateSchema: function (e) {\n    var t, n, i, r;\n    n = e && e.shader, t = this.oldData && this.oldData.shader, (i = $s[r = n || t] && $s[r].schema) || IA(\"Unknown shader schema \" + r), t && n === t || (this.extendSchema(i), this.updateBehavior());\n  },\n  updateBehavior: function () {\n    var e,\n      t,\n      n = this.el.sceneEl,\n      i = this.schema,\n      r = this;\n    function o(e, n) {\n      var i;\n      for (i in t) t[i] = e;\n      r.shader.update(t);\n    }\n    for (e in this.tick = void 0, t = {}, i) \"time\" === i[e].type && (this.tick = o, t[e] = !0);\n    n && (this.tick ? n.addBehavior(this) : n.removeBehavior(this));\n  },\n  updateShader: function (e) {\n    var t,\n      n = this.data,\n      i = $s[e] && $s[e].Shader;\n    if (!i) throw new Error(\"Unknown shader \" + e);\n    (t = this.shader = new i()).el = this.el, t.init(n), this.setMaterial(t.material), this.updateSchema(n);\n  },\n  updateMaterial: function (e) {\n    var t,\n      n = this.data,\n      i = this.material;\n    for (t in i.alphaTest = n.alphaTest, i.depthTest = !1 !== n.depthTest, i.depthWrite = !1 !== n.depthWrite, i.opacity = n.opacity, i.flatShading = n.flatShading, i.side = function (e) {\n      switch (e) {\n        case \"back\":\n          return Re.BackSide;\n        case \"double\":\n          return Re.DoubleSide;\n        default:\n          return Re.FrontSide;\n      }\n    }(n.side), i.transparent = !1 !== n.transparent || n.opacity < 1, i.vertexColors = n.vertexColorsEnabled, i.visible = n.visible, i.blending = function (e) {\n      switch (e) {\n        case \"none\":\n          return Re.NoBlending;\n        case \"additive\":\n          return Re.AdditiveBlending;\n        case \"subtractive\":\n          return Re.SubtractiveBlending;\n        case \"multiply\":\n          return Re.MultiplyBlending;\n        default:\n          return Re.NormalBlending;\n      }\n    }(n.blending), i.dithering = n.dithering, e) break;\n    !t || e.alphaTest === n.alphaTest && e.side === n.side && e.vertexColorsEnabled === n.vertexColorsEnabled || (i.needsUpdate = !0);\n  },\n  remove: function () {\n    var e = new Re.MeshBasicMaterial(),\n      t = this.material,\n      n = this.el.getObject3D(\"mesh\");\n    n && (n.material = e), wA(t, this.system);\n  },\n  setMaterial: function (e) {\n    var t,\n      n = this.el,\n      i = this.system;\n    this.material && wA(this.material, i), this.material = e, i.registerMaterial(e), (t = n.getObject3D(\"mesh\")) ? t.material = e : n.addEventListener(\"object3dset\", function t(i) {\n      \"mesh\" === i.detail.type && i.target === n && (n.getObject3D(\"mesh\").material = e, n.removeEventListener(\"object3dset\", t));\n    });\n  }\n});\nvar xA,\n  QA,\n  LA,\n  MA,\n  SA,\n  DA = \"oculus-touch\",\n  kA = ci + \"controllers/oculus/oculus-touch-controller-\",\n  TA = ci + \"controllers/meta/\",\n  RA = {\n    left: {\n      modelUrl: kA + \"left.gltf\",\n      rayOrigin: {\n        origin: {\n          x: .002,\n          y: -.005,\n          z: -.03\n        },\n        direction: {\n          x: 0,\n          y: -.8,\n          z: -1\n        }\n      },\n      modelPivotOffset: new Re.Vector3(-.005, .036, -.037),\n      modelPivotRotation: new Re.Euler(Math.PI / 4.5, 0, 0)\n    },\n    right: {\n      modelUrl: kA + \"right.gltf\",\n      rayOrigin: {\n        origin: {\n          x: -.002,\n          y: -.005,\n          z: -.03\n        },\n        direction: {\n          x: 0,\n          y: -.8,\n          z: -1\n        }\n      },\n      modelPivotOffset: new Re.Vector3(.005, .036, -.037),\n      modelPivotRotation: new Re.Euler(Math.PI / 4.5, 0, 0)\n    }\n  },\n  FA = \"oculus-touch\",\n  UA = {\n    \"oculus-touch\": RA,\n    \"oculus-touch-v2\": {\n      left: {\n        modelUrl: kA + \"gen2-left.gltf\",\n        rayOrigin: {\n          origin: {\n            x: -.006,\n            y: -.03,\n            z: -.04\n          },\n          direction: {\n            x: 0,\n            y: -.9,\n            z: -1\n          }\n        },\n        modelPivotOffset: new Re.Vector3(0, -.007, -.021),\n        modelPivotRotation: new Re.Euler(-Math.PI / 4, 0, 0)\n      },\n      right: {\n        modelUrl: kA + \"gen2-right.gltf\",\n        rayOrigin: {\n          origin: {\n            x: .006,\n            y: -.03,\n            z: -.04\n          },\n          direction: {\n            x: 0,\n            y: -.9,\n            z: -1\n          }\n        },\n        modelPivotOffset: new Re.Vector3(0, -.007, -.021),\n        modelPivotRotation: new Re.Euler(-Math.PI / 4, 0, 0)\n      }\n    },\n    \"oculus-touch-v3\": {\n      left: {\n        modelUrl: kA + \"v3-left.glb\",\n        rayOrigin: {\n          origin: {\n            x: .0065,\n            y: -.0186,\n            z: -.05\n          },\n          direction: {\n            x: .12394785839500175,\n            y: -.5944043672340157,\n            z: -.7945567170519814\n          }\n        },\n        modelPivotOffset: new Re.Vector3(0, 0, 0),\n        modelPivotRotation: new Re.Euler(0, 0, 0)\n      },\n      right: {\n        modelUrl: kA + \"v3-right.glb\",\n        rayOrigin: {\n          origin: {\n            x: -.0065,\n            y: -.0186,\n            z: -.05\n          },\n          direction: {\n            x: -.12394785839500175,\n            y: -.5944043672340157,\n            z: -.7945567170519814\n          }\n        },\n        modelPivotOffset: new Re.Vector3(0, 0, 0),\n        modelPivotRotation: new Re.Euler(0, 0, 0)\n      }\n    },\n    \"meta-quest-touch-pro\": {\n      left: {\n        modelUrl: TA + \"quest-touch-pro-left.glb\",\n        rayOrigin: {\n          origin: {\n            x: .0065,\n            y: -.0186,\n            z: -.05\n          },\n          direction: {\n            x: .12394785839500175,\n            y: -.5944043672340157,\n            z: -.7945567170519814\n          }\n        },\n        modelPivotOffset: new Re.Vector3(0, 0, 0),\n        modelPivotRotation: new Re.Euler(0, 0, 0)\n      },\n      right: {\n        modelUrl: TA + \"quest-touch-pro-right.glb\",\n        rayOrigin: {\n          origin: {\n            x: -.0065,\n            y: -.0186,\n            z: -.05\n          },\n          direction: {\n            x: -.12394785839500175,\n            y: -.5944043672340157,\n            z: -.7945567170519814\n          }\n        },\n        modelPivotOffset: new Re.Vector3(0, 0, 0),\n        modelPivotRotation: new Re.Euler(0, 0, 0)\n      }\n    },\n    \"meta-quest-touch-plus\": {\n      left: {\n        modelUrl: TA + \"quest-touch-plus-left.glb\",\n        rayOrigin: {\n          origin: {\n            x: .0065,\n            y: -.0186,\n            z: -.05\n          },\n          direction: {\n            x: .12394785839500175,\n            y: -.5944043672340157,\n            z: -.7945567170519814\n          }\n        },\n        modelPivotOffset: new Re.Vector3(0, 0, 0),\n        modelPivotRotation: new Re.Euler(0, 0, 0)\n      },\n      right: {\n        modelUrl: TA + \"quest-touch-plus-right.glb\",\n        rayOrigin: {\n          origin: {\n            x: -.0065,\n            y: -.0186,\n            z: -.05\n          },\n          direction: {\n            x: -.12394785839500175,\n            y: -.5944043672340157,\n            z: -.7945567170519814\n          }\n        },\n        modelPivotOffset: new Re.Vector3(0, 0, 0),\n        modelPivotRotation: new Re.Euler(0, 0, 0)\n      }\n    }\n  },\n  OA = {\n    schema: {\n      hand: {\n        default: \"left\"\n      },\n      buttonColor: {\n        type: \"color\",\n        default: \"#999\"\n      },\n      buttonTouchColor: {\n        type: \"color\",\n        default: \"#8AB\"\n      },\n      buttonHighlightColor: {\n        type: \"color\",\n        default: \"#2DF\"\n      },\n      model: {\n        default: !0\n      },\n      controllerType: {\n        default: \"auto\",\n        oneOf: [\"auto\", \"oculus-touch\", \"oculus-touch-v2\", \"oculus-touch-v3\"]\n      }\n    },\n    after: [\"tracked-controls\"],\n    mapping: {\n      left: {\n        axes: {\n          thumbstick: [2, 3]\n        },\n        buttons: [\"trigger\", \"grip\", \"none\", \"thumbstick\", \"xbutton\", \"ybutton\", \"surface\"]\n      },\n      right: {\n        axes: {\n          thumbstick: [2, 3]\n        },\n        buttons: [\"trigger\", \"grip\", \"none\", \"thumbstick\", \"abutton\", \"bbutton\", \"surface\"]\n      }\n    },\n    bindMethods: function () {\n      this.onButtonChanged = this.onButtonChanged.bind(this), this.onThumbstickMoved = this.onThumbstickMoved.bind(this), this.onModelLoaded = this.onModelLoaded.bind(this), this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.onAxisMoved = this.onAxisMoved.bind(this);\n    },\n    init: function () {\n      var e = this;\n      this.onButtonDown = function (t) {\n        Nr(t.detail.id, \"down\", e, e.data.hand);\n      }, this.onButtonUp = function (t) {\n        Nr(t.detail.id, \"up\", e, e.data.hand);\n      }, this.onButtonTouchStart = function (t) {\n        Nr(t.detail.id, \"touchstart\", e, e.data.hand);\n      }, this.onButtonTouchEnd = function (t) {\n        Nr(t.detail.id, \"touchend\", e, e.data.hand);\n      }, this.controllerPresent = !1, this.previousButtonValues = {}, this.bindMethods(), this.triggerEuler = new Re.Euler();\n    },\n    addEventListeners: function () {\n      var e = this.el;\n      e.addEventListener(\"buttonchanged\", this.onButtonChanged), e.addEventListener(\"buttondown\", this.onButtonDown), e.addEventListener(\"buttonup\", this.onButtonUp), e.addEventListener(\"touchstart\", this.onButtonTouchStart), e.addEventListener(\"touchend\", this.onButtonTouchEnd), e.addEventListener(\"axismove\", this.onAxisMoved), e.addEventListener(\"model-loaded\", this.onModelLoaded), e.addEventListener(\"thumbstickmoved\", this.onThumbstickMoved), this.controllerEventsActive = !0;\n    },\n    removeEventListeners: function () {\n      var e = this.el;\n      e.removeEventListener(\"buttonchanged\", this.onButtonChanged), e.removeEventListener(\"buttondown\", this.onButtonDown), e.removeEventListener(\"buttonup\", this.onButtonUp), e.removeEventListener(\"touchstart\", this.onButtonTouchStart), e.removeEventListener(\"touchend\", this.onButtonTouchEnd), e.removeEventListener(\"axismove\", this.onAxisMoved), e.removeEventListener(\"model-loaded\", this.onModelLoaded), e.removeEventListener(\"thumbstickmoved\", this.onThumbstickMoved), this.controllerEventsActive = !1;\n    },\n    checkIfControllerPresent: function () {\n      var e = this.controllerObject3D;\n      e && (e.visible = !1), Ur(this, DA, {\n        hand: this.data.hand,\n        iterateControllerProfiles: !0\n      });\n    },\n    play: function () {\n      this.checkIfControllerPresent(), this.addControllersUpdateListener();\n    },\n    pause: function () {\n      this.removeEventListeners(), this.removeControllersUpdateListener();\n    },\n    loadModel: function (e) {\n      var t,\n        n = this.data;\n      if (n.model) {\n        if (this.controllerObject3D) return this.controllerObject3D.visible = !0, void this.el.setObject3D(\"mesh\", this.controllerObject3D);\n        if (this.displayModel = UA[n.controllerType] || UA[FA], \"auto\" === n.controllerType) {\n          t = FA;\n          for (var i = Object.keys(UA), r = 0; r < e.profiles.length; r++) if (-1 !== i.indexOf(e.profiles[r])) {\n            t = e.profiles[r];\n            break;\n          }\n          this.displayModel = UA[t];\n        }\n        var o = this.displayModel[n.hand].modelUrl;\n        this.isTouchV3orPROorPlus = this.displayModel === UA[\"oculus-touch-v3\"] || this.displayModel === UA[\"meta-quest-touch-pro\"] || this.displayModel === UA[\"meta-quest-touch-plus\"], this.el.setAttribute(\"gltf-model\", o);\n      }\n    },\n    injectTrackedControls: function (e) {\n      var t = this.data,\n        n = DA;\n      this.el.setAttribute(\"tracked-controls\", {\n        id: n,\n        hand: t.hand,\n        handTrackingEnabled: !1,\n        iterateControllerProfiles: !0\n      }), this.loadModel(e);\n    },\n    addControllersUpdateListener: function () {\n      this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    removeControllersUpdateListener: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    onControllersUpdate: function () {\n      this.checkIfControllerPresent();\n    },\n    onButtonChanged: function (e) {\n      var t = this.mapping[this.data.hand].buttons[e.detail.id];\n      if (t) {\n        if (this.isTouchV3orPROorPlus) this.onButtonChangedV3orPROorPlus(e);else {\n          var n,\n            i = this.buttonMeshes;\n          \"trigger\" !== t && \"grip\" !== t || (n = e.detail.state.value), i && (\"trigger\" === t && i.trigger && (i.trigger.rotation.x = this.originalXRotationTrigger - n * (Math.PI / 26)), \"grip\" === t && i.grip && (n *= \"left\" === this.data.hand ? -1 : 1, i.grip.position.x = this.originalXPositionGrip + .004 * n));\n        }\n        this.el.emit(t + \"changed\", e.detail.state);\n      }\n    },\n    onButtonChangedV3orPROorPlus: function (e) {\n      var t,\n        n = this.mapping[this.data.hand].buttons[e.detail.id],\n        i = this.buttonObjects;\n      i && i[n] && (t = e.detail.state.value, i[n].quaternion.slerpQuaternions(this.buttonRanges[n].min.quaternion, this.buttonRanges[n].max.quaternion, t), i[n].position.lerpVectors(this.buttonRanges[n].min.position, this.buttonRanges[n].max.position, t));\n    },\n    onModelLoaded: function (e) {\n      if (e.target === this.el && this.data.model) {\n        if (this.isTouchV3orPROorPlus) this.onTouchV3orPROorPlusModelLoaded(e);else {\n          var t,\n            n = this.controllerObject3D = e.detail.model;\n          (t = this.buttonMeshes = {}).grip = n.getObjectByName(\"buttonHand\"), this.originalXPositionGrip = t.grip && t.grip.position.x, t.trigger = n.getObjectByName(\"buttonTrigger\"), this.originalXRotationTrigger = t.trigger && t.trigger.rotation.x, t.thumbstick = n.getObjectByName(\"stick\"), t.xbutton = n.getObjectByName(\"buttonX\"), t.abutton = n.getObjectByName(\"buttonA\"), t.ybutton = n.getObjectByName(\"buttonY\"), t.bbutton = n.getObjectByName(\"buttonB\");\n        }\n        for (var i in this.buttonMeshes) this.buttonMeshes[i] && PA(this.buttonMeshes[i]);\n        this.applyOffset(e.detail.model), this.el.emit(\"controllermodelready\", {\n          name: \"meta-touch-controls\",\n          model: this.data.model,\n          rayOrigin: this.displayModel[this.data.hand].rayOrigin\n        });\n      }\n    },\n    applyOffset: function (e) {\n      e.position.copy(this.displayModel[this.data.hand].modelPivotOffset), e.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation);\n    },\n    onTouchV3orPROorPlusModelLoaded: function (e) {\n      var t = this.controllerObject3D = e.detail.model,\n        n = this.buttonObjects = {},\n        i = this.buttonMeshes = {},\n        r = this.buttonRanges = {};\n      i.grip = t.getObjectByName(\"squeeze\"), n.grip = t.getObjectByName(\"xr_standard_squeeze_pressed_value\"), r.grip = {\n        min: t.getObjectByName(\"xr_standard_squeeze_pressed_min\"),\n        max: t.getObjectByName(\"xr_standard_squeeze_pressed_max\")\n      }, n.grip.minX = n.grip.position.x, i.thumbstick = t.getObjectByName(\"thumbstick\"), n.thumbstick = t.getObjectByName(\"xr_standard_thumbstick_pressed_value\"), r.thumbstick = {\n        min: t.getObjectByName(\"xr_standard_thumbstick_pressed_min\"),\n        max: t.getObjectByName(\"xr_standard_thumbstick_pressed_max\")\n      }, n.thumbstickXAxis = t.getObjectByName(\"xr_standard_thumbstick_xaxis_pressed_value\"), r.thumbstickXAxis = {\n        min: t.getObjectByName(\"xr_standard_thumbstick_xaxis_pressed_min\"),\n        max: t.getObjectByName(\"xr_standard_thumbstick_xaxis_pressed_max\")\n      }, n.thumbstickYAxis = t.getObjectByName(\"xr_standard_thumbstick_yaxis_pressed_value\"), r.thumbstickYAxis = {\n        min: t.getObjectByName(\"xr_standard_thumbstick_yaxis_pressed_min\"),\n        max: t.getObjectByName(\"xr_standard_thumbstick_yaxis_pressed_max\")\n      }, i.trigger = t.getObjectByName(\"trigger\"), n.trigger = t.getObjectByName(\"xr_standard_trigger_pressed_value\"), r.trigger = {\n        min: t.getObjectByName(\"xr_standard_trigger_pressed_min\"),\n        max: t.getObjectByName(\"xr_standard_trigger_pressed_max\")\n      }, r.trigger.diff = {\n        x: Math.abs(r.trigger.max.rotation.x) - Math.abs(r.trigger.min.rotation.x),\n        y: Math.abs(r.trigger.max.rotation.y) - Math.abs(r.trigger.min.rotation.y),\n        z: Math.abs(r.trigger.max.rotation.z) - Math.abs(r.trigger.min.rotation.z)\n      };\n      var o = \"left\" === this.data.hand ? \"x\" : \"a\",\n        s = \"left\" === this.data.hand ? \"y\" : \"b\",\n        a = o + \"button\",\n        A = s + \"button\";\n      i[a] = t.getObjectByName(o + \"_button\"), n[a] = t.getObjectByName(o + \"_button_pressed_value\"), r[a] = {\n        min: t.getObjectByName(o + \"_button_pressed_min\"),\n        max: t.getObjectByName(o + \"_button_pressed_max\")\n      }, i[A] = t.getObjectByName(s + \"_button\"), n[A] = t.getObjectByName(s + \"_button_pressed_value\"), r[A] = {\n        min: t.getObjectByName(s + \"_button_pressed_min\"),\n        max: t.getObjectByName(s + \"_button_pressed_max\")\n      };\n    },\n    onAxisMoved: function (e) {\n      Gr(this, this.mapping[this.data.hand].axes, e);\n    },\n    onThumbstickMoved: function (e) {\n      if (this.buttonMeshes && this.buttonMeshes.thumbstick) if (this.isTouchV3orPROorPlus) this.updateThumbstickTouchV3orPROorPlus(e);else for (var t in e.detail) this.buttonObjects.thumbstick.rotation[this.axisMap[t]] = this.buttonRanges.thumbstick.originalRotation[this.axisMap[t]] - Math.PI / 8 * e.detail[t] * (\"y\" === t || \"right\" === this.data.hand ? -1 : 1);\n    },\n    axisMap: {\n      y: \"x\",\n      x: \"z\"\n    },\n    updateThumbstickTouchV3orPROorPlus: function (e) {\n      var t = (e.detail.x + 1) / 2;\n      this.buttonObjects.thumbstickXAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickXAxis.min.quaternion, this.buttonRanges.thumbstickXAxis.max.quaternion, t);\n      var n = (e.detail.y + 1) / 2;\n      this.buttonObjects.thumbstickYAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickYAxis.min.quaternion, this.buttonRanges.thumbstickYAxis.max.quaternion, n);\n    },\n    updateModel: function (e, t) {\n      this.data.model && this.updateButtonModel(e, t);\n    },\n    updateButtonModel: function (e, t) {\n      var n,\n        i = this.buttonMeshes;\n      i && i[e] && (n = \"up\" === t || \"touchend\" === t ? i[e].originalColor || this.data.buttonColor : \"touchstart\" === t ? this.data.buttonTouchColor : this.data.buttonHighlightColor, i[e].material.color.set(n));\n    }\n  };\nfunction PA(e) {\n  e.traverse(function (t) {\n    var n;\n    \"Mesh\" === t.type && (n = t.material.clone(), e.originalColor = t.material.color, t.material.dispose(), t.material = n);\n  });\n}\ncs(\"oculus-touch-controls\", OA), cs(\"meta-touch-controls\", OA), cs(\"obb-collider\", {\n  schema: {\n    size: {\n      default: 0\n    },\n    trackedObject3D: {\n      default: \"\"\n    },\n    minimumColliderDimension: {\n      default: .02\n    },\n    centerModel: {\n      default: !1\n    }\n  },\n  init: function () {\n    this.previousScale = new Re.Vector3().copy(this.el.object3D.scale), this.auxEuler = new Re.Euler(), this.boundingBox = new Re.Box3(), this.boundingBoxSize = new Re.Vector3(), this.updateCollider = this.updateCollider.bind(this), this.onModelLoaded = this.onModelLoaded.bind(this), this.updateBoundingBox = this.updateBoundingBox.bind(this), this.el.addEventListener(\"model-loaded\", this.onModelLoaded), this.updateCollider(), this.system.addCollider(this.el);\n  },\n  remove: function () {\n    this.system.removeCollider(this.el);\n  },\n  update: function () {\n    this.data.trackedObject3D && (this.trackedObject3DPath = this.data.trackedObject3D.split(\".\"));\n  },\n  onModelLoaded: function () {\n    this.data.centerModel && this.centerModel(), this.updateCollider();\n  },\n  centerModel: function () {\n    var e,\n      t = this.el,\n      n = t.components[\"gltf-model\"] && t.components[\"gltf-model\"].model;\n    n && (this.el.removeObject3D(\"mesh\"), e = new Re.Box3().setFromObject(n).getCenter(new Re.Vector3()), n.position.x += n.position.x - e.x, n.position.y += n.position.y - e.y, n.position.z += n.position.z - e.z, this.el.setObject3D(\"mesh\", n));\n  },\n  updateCollider: function () {\n    var e = this.el,\n      t = this.boundingBoxSize,\n      n = this.aabb = this.aabb || new _n();\n    this.obb = this.obb || new _n(), e.hasLoaded ? (this.updateBoundingBox(), n.halfSize.copy(t).multiplyScalar(.5), this.el.sceneEl.systems[\"obb-collider\"].data.showColliders && this.showCollider()) : e.addEventListener(\"loaded\", this.updateCollider);\n  },\n  showCollider: function () {\n    this.updateColliderMesh(), this.renderColliderMesh.visible = !0;\n  },\n  updateColliderMesh: function () {\n    var e = this.renderColliderMesh,\n      t = this.boundingBoxSize;\n    e ? (e.geometry.dispose(), e.geometry = new Re.BoxGeometry(t.x, t.y, t.z)) : this.initColliderMesh();\n  },\n  hideCollider: function () {\n    this.renderColliderMesh && (this.renderColliderMesh.visible = !1);\n  },\n  initColliderMesh: function () {\n    var e, t, n;\n    e = this.boundingBoxSize, t = this.renderColliderGeometry = new Re.BoxGeometry(e.x, e.y, e.z), (n = this.renderColliderMesh = new Re.Mesh(t, new Re.MeshLambertMaterial({\n      color: 65280,\n      side: Re.DoubleSide\n    }))).matrixAutoUpdate = !1, n.matrixWorldAutoUpdate = !1, n.updateMatrixWorld = function () {}, this.el.sceneEl.object3D.add(n);\n  },\n  updateBoundingBox: (xA = new Re.Vector3(), QA = new Re.Vector3(), LA = new Re.Quaternion(), MA = new Re.Quaternion(), SA = new Re.Matrix4(), function () {\n    var e = this.auxEuler,\n      t = this.boundingBox,\n      n = this.data.size,\n      i = this.trackedObject3D || this.el.object3D,\n      r = this.boundingBoxSize,\n      o = this.data.minimumColliderDimension;\n    if (n) return this.boundingBoxSize.x = n, this.boundingBoxSize.y = n, void (this.boundingBoxSize.z = n);\n    e.copy(i.rotation), i.rotation.set(0, 0, 0), i.parent.matrixWorld.decompose(xA, LA, QA), SA.compose(xA, MA, QA), i.parent.matrixWorld.copy(SA), t.setFromObject(i, !0), t.getSize(r), r.x = r.x < o ? o : r.x, r.y = r.y < o ? o : r.y, r.z = r.z < o ? o : r.z, i.parent.matrixWorld.compose(xA, LA, QA), this.el.object3D.rotation.copy(e);\n  }),\n  checkTrackedObject: function () {\n    var e,\n      t = this.trackedObject3DPath;\n    if (t && t.length && !this.trackedObject3D) {\n      e = this.el;\n      for (var n = 0; n < t.length && (e = e[t[n]]); n++);\n      e && (this.trackedObject3D = e, this.updateCollider());\n    }\n    return this.trackedObject3D;\n  },\n  tick: function () {\n    var e = new Re.Vector3(),\n      t = new Re.Vector3(),\n      n = new Re.Quaternion(),\n      i = new Re.Matrix4();\n    return function () {\n      var r = this.obb,\n        o = this.renderColliderMesh,\n        s = this.checkTrackedObject() || this.el.object3D;\n      s && (s.updateMatrix(), s.updateMatrixWorld(!0), s.matrixWorld.decompose(e, n, t), (Math.abs(t.x - this.previousScale.x) > 1e-4 || Math.abs(t.y - this.previousScale.y) > 1e-4 || Math.abs(t.z - this.previousScale.z) > 1e-4) && this.updateCollider(), this.previousScale.copy(t), t.set(1, 1, 1), i.compose(e, n, t), o && o.matrixWorld.copy(i), r.copy(this.aabb), r.applyMatrix4(i));\n    };\n  }()\n});\nvar GA = fi(\"components:obj-model:warn\"),\n  NA = (cs(\"obj-model\", {\n    schema: {\n      mtl: {\n        type: \"model\"\n      },\n      obj: {\n        type: \"model\"\n      }\n    },\n    init: function () {\n      var e = this;\n      this.model = null, this.objLoader = new ni(), this.mtlLoader = new ii(this.objLoader.manager), this.mtlLoader.crossOrigin = \"\", this.el.addEventListener(\"componentinitialized\", function (t) {\n        e.model && \"material\" === t.detail.name && e.applyMaterial();\n      });\n    },\n    update: function () {\n      var e = this.data;\n      e.obj && (this.resetMesh(), this.loadObj(e.obj, e.mtl));\n    },\n    remove: function () {\n      this.resetMesh();\n    },\n    resetMesh: function () {\n      this.model && this.el.removeObject3D(\"mesh\");\n    },\n    loadObj: function (e, t) {\n      var n = this,\n        i = this.el,\n        r = this.mtlLoader,\n        o = this.objLoader,\n        s = this.el.sceneEl.systems.renderer,\n        a = t.substr(0, t.lastIndexOf(\"/\") + 1);\n      if (t) return i.hasAttribute(\"material\") && GA(\"Material component properties are ignored when a .MTL is provided\"), r.setResourcePath(a), void r.load(t, function (t) {\n        t.preload(), o.setMaterials(t), o.load(e, function (e) {\n          n.model = e, n.model.traverse(function (e) {\n            if (e.isMesh) {\n              var t = e.material;\n              t.map && s.applyColorCorrection(t.map), t.emissiveMap && s.applyColorCorrection(t.emissiveMap);\n            }\n          }), i.setObject3D(\"mesh\", e), i.emit(\"model-loaded\", {\n            format: \"obj\",\n            model: e\n          });\n        });\n      });\n      o.load(e, function (e) {\n        n.model = e, n.applyMaterial(), i.setObject3D(\"mesh\", e), i.emit(\"model-loaded\", {\n          format: \"obj\",\n          model: e\n        });\n      });\n    },\n    applyMaterial: function () {\n      var e = this.el.components.material;\n      e && this.model.traverse(function (t) {\n        t instanceof Re.Mesh && (t.material = e.material);\n      });\n    }\n  }), ci + \"controllers/oculus/go/oculus-go-controller.gltf\"),\n  jA = \"oculus-go\",\n  _A = (cs(\"oculus-go-controls\", {\n    schema: {\n      hand: {\n        default: \"\"\n      },\n      buttonColor: {\n        type: \"color\",\n        default: \"#FFFFFF\"\n      },\n      buttonTouchedColor: {\n        type: \"color\",\n        default: \"#BBBBBB\"\n      },\n      buttonHighlightColor: {\n        type: \"color\",\n        default: \"#7A7A7A\"\n      },\n      model: {\n        default: !0\n      }\n    },\n    mapping: {\n      axes: {\n        touchpad: [0, 1]\n      },\n      buttons: [\"trigger\", \"none\", \"touchpad\"]\n    },\n    bindMethods: function () {\n      this.onModelLoaded = this.onModelLoaded.bind(this), this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this), this.onAxisMoved = this.onAxisMoved.bind(this);\n    },\n    init: function () {\n      var e = this;\n      this.onButtonChanged = this.onButtonChanged.bind(this), this.onButtonDown = function (t) {\n        Nr(t.detail.id, \"down\", e);\n      }, this.onButtonUp = function (t) {\n        Nr(t.detail.id, \"up\", e);\n      }, this.onButtonTouchStart = function (t) {\n        Nr(t.detail.id, \"touchstart\", e);\n      }, this.onButtonTouchEnd = function (t) {\n        Nr(t.detail.id, \"touchend\", e);\n      }, this.controllerPresent = !1, this.bindMethods();\n    },\n    addEventListeners: function () {\n      var e = this.el;\n      e.addEventListener(\"buttonchanged\", this.onButtonChanged), e.addEventListener(\"buttondown\", this.onButtonDown), e.addEventListener(\"buttonup\", this.onButtonUp), e.addEventListener(\"touchstart\", this.onButtonTouchStart), e.addEventListener(\"touchend\", this.onButtonTouchEnd), e.addEventListener(\"model-loaded\", this.onModelLoaded), e.addEventListener(\"axismove\", this.onAxisMoved), this.controllerEventsActive = !0;\n    },\n    removeEventListeners: function () {\n      var e = this.el;\n      e.removeEventListener(\"buttonchanged\", this.onButtonChanged), e.removeEventListener(\"buttondown\", this.onButtonDown), e.removeEventListener(\"buttonup\", this.onButtonUp), e.removeEventListener(\"touchstart\", this.onButtonTouchStart), e.removeEventListener(\"touchend\", this.onButtonTouchEnd), e.removeEventListener(\"model-loaded\", this.onModelLoaded), e.removeEventListener(\"axismove\", this.onAxisMoved), this.controllerEventsActive = !1;\n    },\n    checkIfControllerPresent: function () {\n      Ur(this, jA, this.data.hand ? {\n        hand: this.data.hand\n      } : {});\n    },\n    play: function () {\n      this.checkIfControllerPresent(), this.addControllersUpdateListener();\n    },\n    pause: function () {\n      this.removeEventListeners(), this.removeControllersUpdateListener();\n    },\n    injectTrackedControls: function () {\n      var e = this.el,\n        t = this.data;\n      e.setAttribute(\"tracked-controls\", {\n        hand: t.hand,\n        idPrefix: jA\n      }), this.data.model && this.el.setAttribute(\"gltf-model\", NA);\n    },\n    addControllersUpdateListener: function () {\n      this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    removeControllersUpdateListener: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    onControllersUpdate: function () {\n      this.checkIfControllerPresent();\n    },\n    onModelLoaded: function (e) {\n      var t,\n        n = e.detail.model;\n      e.target === this.el && this.data.model && ((t = this.buttonMeshes = {}).trigger = n.getObjectByName(\"oculus_go_button_trigger\"), t.trackpad = n.getObjectByName(\"oculus_go_touchpad\"), t.touchpad = n.getObjectByName(\"oculus_go_touchpad\"));\n    },\n    onButtonChanged: function (e) {\n      var t = this.mapping.buttons[e.detail.id];\n      t && this.el.emit(t + \"changed\", e.detail.state);\n    },\n    onAxisMoved: function (e) {\n      Gr(this, this.mapping.axes, e);\n    },\n    updateModel: function (e, t) {\n      this.data.model && this.updateButtonModel(e, t);\n    },\n    updateButtonModel: function (e, t) {\n      var n = this.buttonMeshes;\n      if (n && n[e]) {\n        var i;\n        switch (t) {\n          case \"down\":\n            i = this.data.buttonHighlightColor;\n            break;\n          case \"touchstart\":\n            i = this.data.buttonTouchedColor;\n            break;\n          default:\n            i = this.data.buttonColor;\n        }\n        n[e].material.color.set(i);\n      }\n    }\n  }), \"pico-4\"),\n  HA = ci + \"controllers/pico/pico4/\",\n  qA = (cs(\"pico-controls\", {\n    schema: {\n      hand: {\n        default: \"none\"\n      },\n      model: {\n        default: !0\n      }\n    },\n    mapping: {\n      left: {\n        axes: {\n          thumbstick: [2, 3]\n        },\n        buttons: [\"trigger\", \"grip\", \"none\", \"thumbstick\", \"xbutton\", \"ybutton\"]\n      },\n      right: {\n        axes: {\n          thumbstick: [2, 3]\n        },\n        buttons: [\"trigger\", \"grip\", \"none\", \"thumbstick\", \"abutton\", \"bbutton\"]\n      }\n    },\n    init: function () {\n      var e = this;\n      this.onButtonChanged = this.onButtonChanged.bind(this), this.onButtonDown = function (t) {\n        Nr(t.detail.id, \"down\", e, e.data.hand);\n      }, this.onButtonUp = function (t) {\n        Nr(t.detail.id, \"up\", e, e.data.hand);\n      }, this.onButtonTouchEnd = function (t) {\n        Nr(t.detail.id, \"touchend\", e, e.data.hand);\n      }, this.onButtonTouchStart = function (t) {\n        Nr(t.detail.id, \"touchstart\", e, e.data.hand);\n      }, this.bindMethods();\n    },\n    update: function () {\n      var e = this.data;\n      this.controllerIndex = \"right\" === e.hand ? 0 : \"left\" === e.hand ? 1 : 2;\n    },\n    play: function () {\n      this.checkIfControllerPresent(), this.addControllersUpdateListener();\n    },\n    pause: function () {\n      this.removeEventListeners(), this.removeControllersUpdateListener();\n    },\n    bindMethods: function () {\n      this.onModelLoaded = this.onModelLoaded.bind(this), this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this), this.onAxisMoved = this.onAxisMoved.bind(this);\n    },\n    addEventListeners: function () {\n      var e = this.el;\n      e.addEventListener(\"buttonchanged\", this.onButtonChanged), e.addEventListener(\"buttondown\", this.onButtonDown), e.addEventListener(\"buttonup\", this.onButtonUp), e.addEventListener(\"touchstart\", this.onButtonTouchStart), e.addEventListener(\"touchend\", this.onButtonTouchEnd), e.addEventListener(\"axismove\", this.onAxisMoved), e.addEventListener(\"model-loaded\", this.onModelLoaded), this.controllerEventsActive = !0;\n    },\n    removeEventListeners: function () {\n      var e = this.el;\n      e.removeEventListener(\"buttonchanged\", this.onButtonChanged), e.removeEventListener(\"buttondown\", this.onButtonDown), e.removeEventListener(\"buttonup\", this.onButtonUp), e.removeEventListener(\"touchstart\", this.onButtonTouchStart), e.removeEventListener(\"touchend\", this.onButtonTouchEnd), e.removeEventListener(\"axismove\", this.onAxisMoved), e.removeEventListener(\"model-loaded\", this.onModelLoaded), this.controllerEventsActive = !1;\n    },\n    checkIfControllerPresent: function () {\n      var e = this.data;\n      Ur(this, _A, {\n        index: this.controllerIndex,\n        hand: e.hand\n      });\n    },\n    injectTrackedControls: function () {\n      var e = this.el,\n        t = this.data;\n      e.setAttribute(\"tracked-controls\", {\n        idPrefix: _A,\n        hand: t.hand,\n        controller: this.controllerIndex\n      }), this.data.model && this.el.setAttribute(\"gltf-model\", HA + this.data.hand + \".glb\");\n    },\n    addControllersUpdateListener: function () {\n      this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    removeControllersUpdateListener: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    onControllersUpdate: function () {\n      this.checkIfControllerPresent();\n    },\n    onButtonChanged: function (e) {\n      var t,\n        n = this.mapping[this.data.hand].buttons[e.detail.id];\n      n && (\"trigger\" === n && (t = e.detail.state.value, console.log(\"analog value of trigger press: \" + t)), this.el.emit(n + \"changed\", e.detail.state));\n    },\n    onModelLoaded: function (e) {\n      e.target === this.el && this.data.model && this.el.emit(\"controllermodelready\", {\n        name: \"pico-controls\",\n        model: this.data.model,\n        rayOrigin: new Re.Vector3(0, 0, 0)\n      });\n    },\n    onAxisMoved: function (e) {\n      Gr(this, this.mapping[this.data.hand].axes, e);\n    }\n  }), cs(\"position\", {\n    schema: {\n      type: \"vec3\"\n    },\n    update: function () {\n      var e = this.el.object3D,\n        t = this.data;\n      e.position.set(t.x, t.y, t.z);\n    },\n    remove: function () {\n      this.el.object3D.position.set(0, 0, 0);\n    }\n  }), fi(\"components:raycaster:warn\")),\n  VA = /^[\\w\\s-.,[\\]#]*$/,\n  zA = {\n    childList: !0,\n    attributes: !0,\n    subtree: !0\n  },\n  YA = \"raycaster-intersected-cleared\",\n  KA = \"raycaster-intersection-cleared\";\nfunction WA(e, t) {\n  var n;\n  for (e.length = t.length, n = 0; n < t.length; n++) e[n] = t[n];\n}\ncs(\"raycaster\", {\n  schema: {\n    autoRefresh: {\n      default: !0\n    },\n    direction: {\n      type: \"vec3\",\n      default: {\n        x: 0,\n        y: 0,\n        z: -1\n      }\n    },\n    enabled: {\n      default: !0\n    },\n    far: {\n      default: 1e3\n    },\n    interval: {\n      default: 0\n    },\n    near: {\n      default: 0\n    },\n    objects: {\n      default: \"\"\n    },\n    origin: {\n      type: \"vec3\"\n    },\n    showLine: {\n      default: !1\n    },\n    lineColor: {\n      default: \"white\"\n    },\n    lineOpacity: {\n      default: 1\n    },\n    useWorldCoordinates: {\n      default: !1\n    }\n  },\n  multiple: !0,\n  init: function () {\n    this.clearedIntersectedEls = [], this.unitLineEndVec3 = new Re.Vector3(), this.intersectedEls = [], this.intersections = [], this.newIntersectedEls = [], this.newIntersections = [], this.objects = [], this.prevCheckTime = void 0, this.prevIntersectedEls = [], this.rawIntersections = [], this.raycaster = new Re.Raycaster(), this.updateOriginDirection(), this.setDirty = this.setDirty.bind(this), this.updateLine = this.updateLine.bind(this), this.observer = new MutationObserver(this.setDirty), this.dirty = !0, this.lineEndVec3 = new Re.Vector3(), this.otherLineEndVec3 = new Re.Vector3(), this.lineData = {\n      end: this.lineEndVec3\n    }, this.getIntersection = this.getIntersection.bind(this), this.intersectedDetail = {\n      el: this.el,\n      getIntersection: this.getIntersection\n    }, this.intersectedClearedDetail = {\n      el: this.el\n    }, this.intersectionClearedDetail = {\n      clearedEls: this.clearedIntersectedEls\n    }, this.intersectionDetail = {};\n  },\n  update: function (e) {\n    var t = this.data,\n      n = this.el,\n      i = this.raycaster;\n    i.far = t.far, i.near = t.near, !t.showLine || t.far === e.far && t.origin === e.origin && t.direction === e.direction && e.showLine || (this.unitLineEndVec3.copy(t.direction).normalize(), this.drawLine()), !t.showLine && e.showLine && n.removeAttribute(\"line\"), t.objects === e.objects || VA.test(t.objects) || qA('[raycaster] Selector \"' + t.objects + '\" may not update automatically with DOM changes.'), t.objects || qA('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster=\"objects: [data-raycastable]\".'), t.autoRefresh !== e.autoRefresh && n.isPlaying && (t.autoRefresh ? this.addEventListeners() : this.removeEventListeners()), e.enabled && !t.enabled && this.clearAllIntersections(), t.objects !== e.objects && this.setDirty();\n  },\n  play: function () {\n    this.addEventListeners();\n  },\n  pause: function () {\n    this.removeEventListeners();\n  },\n  remove: function () {\n    this.data.showLine && this.el.removeAttribute(\"line\"), this.clearAllIntersections();\n  },\n  addEventListeners: function () {\n    this.data.autoRefresh && (this.observer.observe(this.el.sceneEl, zA), this.el.sceneEl.addEventListener(\"object3dset\", this.setDirty), this.el.sceneEl.addEventListener(\"object3dremove\", this.setDirty));\n  },\n  removeEventListeners: function () {\n    this.observer.disconnect(), this.el.sceneEl.removeEventListener(\"object3dset\", this.setDirty), this.el.sceneEl.removeEventListener(\"object3dremove\", this.setDirty);\n  },\n  setDirty: function () {\n    this.dirty = !0;\n  },\n  refreshObjects: function () {\n    var e,\n      t = this.data;\n    e = t.objects ? this.el.sceneEl.querySelectorAll(t.objects) : this.el.sceneEl.querySelectorAll(\"*\"), this.objects = this.flattenObject3DMaps(e), this.dirty = !1;\n  },\n  tock: function (e) {\n    var t = this.data,\n      n = this.prevCheckTime;\n    t.enabled && (n && e - n < t.interval || (this.prevCheckTime = e, this.checkIntersections()));\n  },\n  checkIntersections: function () {\n    var e,\n      t,\n      n = this.clearedIntersectedEls,\n      i = this.el,\n      r = this.data,\n      o = this.intersectedEls,\n      s = this.intersections,\n      a = this.newIntersectedEls,\n      A = this.newIntersections,\n      l = this.prevIntersectedEls,\n      c = this.rawIntersections;\n    for (this.dirty && this.refreshObjects(), WA(this.prevIntersectedEls, this.intersectedEls), this.updateOriginDirection(), c.length = 0, this.raycaster.intersectObjects(this.objects, !0, c), s.length = 0, o.length = 0, e = 0; e < c.length; e++) t = c[e], r.showLine && t.object === i.getObject3D(\"line\") || t.object.el && (s.push(t), o.push(t.object.el));\n    for (A.length = 0, a.length = 0, e = 0; e < s.length; e++) -1 === l.indexOf(s[e].object.el) && (A.push(s[e]), a.push(s[e].object.el));\n    for (n.length = 0, e = 0; e < l.length; e++) -1 === o.indexOf(l[e]) && (l[e].emit(YA, this.intersectedClearedDetail), n.push(l[e]));\n    for (n.length && i.emit(KA, this.intersectionClearedDetail), e = 0; e < a.length; e++) a[e].emit(\"raycaster-intersected\", this.intersectedDetail);\n    A.length && (this.intersectionDetail.els = a, this.intersectionDetail.intersections = A, i.emit(\"raycaster-intersection\", this.intersectionDetail)), (0 === l.length && s.length > 0 || l.length > 0 && 0 === s.length || l.length && s.length && l[0] !== s[0].object.el) && (this.intersectionDetail.els = this.intersectedEls, this.intersectionDetail.intersections = s, i.emit(\"raycaster-closest-entity-changed\", this.intersectionDetail)), r.showLine && setTimeout(this.updateLine);\n  },\n  updateLine: function () {\n    var e,\n      t = this.el,\n      n = this.intersections;\n    n.length && (e = n[0].object.el === t && n[1] ? n[1].distance : n[0].distance), this.drawLine(e);\n  },\n  getIntersection: function (e) {\n    var t, n;\n    for (t = 0; t < this.intersections.length; t++) if ((n = this.intersections[t]).object.el === e) return n;\n    return null;\n  },\n  updateOriginDirection: function () {\n    var e = new Re.Vector3(),\n      t = new Re.Vector3();\n    return function () {\n      var n = this.el,\n        i = this.data;\n      i.useWorldCoordinates ? this.raycaster.set(i.origin, i.direction) : (n.object3D.updateMatrixWorld(), t.setFromMatrixPosition(n.object3D.matrixWorld), 0 === i.origin.x && 0 === i.origin.y && 0 === i.origin.z || (t = n.object3D.localToWorld(t.copy(i.origin))), e.copy(i.direction).transformDirection(n.object3D.matrixWorld).normalize(), this.raycaster.set(t, e));\n    };\n  }(),\n  drawLine: function (e) {\n    var t,\n      n = this.data,\n      i = this.el;\n    t = this.lineData.end === this.lineEndVec3 ? this.otherLineEndVec3 : this.lineEndVec3, void 0 === e && (e = n.far === 1 / 0 ? 1e3 : n.far), this.lineData.start = n.origin, this.lineData.end = t.copy(this.unitLineEndVec3).multiplyScalar(e).add(n.origin), this.lineData.color = n.lineColor, this.lineData.opacity = n.lineOpacity, i.setAttribute(\"line\", this.lineData);\n  },\n  flattenObject3DMaps: function (e) {\n    var t,\n      n,\n      i = this.objects,\n      r = this.el.sceneEl.object3D;\n    function o(e) {\n      return e.parent ? o(e.parent) : e === r;\n    }\n    for (i.length = 0, n = 0; n < e.length; n++) {\n      var s = e[n];\n      if (s.isEntity && s.object3D && o(s.object3D)) for (t in s.object3DMap) i.push(s.getObject3D(t));\n    }\n    return i;\n  },\n  clearAllIntersections: function () {\n    var e;\n    for (e = 0; e < this.intersectedEls.length; e++) this.intersectedEls[e].emit(YA, this.intersectedClearedDetail);\n    WA(this.clearedIntersectedEls, this.intersectedEls), this.intersectedEls.length = 0, this.intersections.length = 0, this.el.emit(KA, this.intersectionClearedDetail);\n  }\n});\nvar JA,\n  XA,\n  ZA,\n  $A,\n  el = Re.MathUtils.degToRad,\n  tl = (cs(\"rotation\", {\n    schema: {\n      type: \"vec3\"\n    },\n    update: function () {\n      var e = this.data;\n      this.el.object3D.rotation.set(el(e.x), el(e.y), el(e.z), \"YXZ\");\n    },\n    remove: function () {\n      this.el.object3D.rotation.set(0, 0, 0);\n    }\n  }), cs(\"scale\", {\n    schema: {\n      type: \"vec3\",\n      default: {\n        x: 1,\n        y: 1,\n        z: 1\n      }\n    },\n    update: function () {\n      var e = this.data;\n      this.el.object3D.scale.set(e.x, e.y, e.z);\n    },\n    remove: function () {\n      this.el.object3D.scale.set(1, 1, 1);\n    }\n  }), cs(\"shadow\", {\n    schema: {\n      cast: {\n        default: !0\n      },\n      receive: {\n        default: !0\n      }\n    },\n    init: function () {\n      this.onMeshChanged = this.update.bind(this), this.el.addEventListener(\"object3dset\", this.onMeshChanged), this.system.setShadowMapEnabled(!0);\n    },\n    update: function () {\n      var e = this.data;\n      this.updateDescendants(e.cast, e.receive);\n    },\n    remove: function () {\n      this.el.removeEventListener(\"object3dset\", this.onMeshChanged), this.updateDescendants(!1, !1);\n    },\n    updateDescendants: function (e, t) {\n      var n = this.el.sceneEl;\n      this.el.object3D.traverse(function (i) {\n        if (i instanceof Re.Mesh && (i.castShadow = e, i.receiveShadow = t, n.hasLoaded && i.material)) for (var r = Array.isArray(i.material) ? i.material : [i.material], o = 0; o < r.length; o++) r[o].needsUpdate = !0;\n      });\n    }\n  }), fi(\"components:sound:warn\")),\n  nl = (cs(\"sound\", {\n    schema: {\n      autoplay: {\n        default: !1\n      },\n      distanceModel: {\n        default: \"inverse\",\n        oneOf: [\"linear\", \"inverse\", \"exponential\"]\n      },\n      loop: {\n        default: !1\n      },\n      loopStart: {\n        default: 0\n      },\n      loopEnd: {\n        default: 0\n      },\n      maxDistance: {\n        default: 1e4\n      },\n      on: {\n        default: \"\"\n      },\n      poolSize: {\n        default: 1\n      },\n      positional: {\n        default: !0\n      },\n      refDistance: {\n        default: 1\n      },\n      rolloffFactor: {\n        default: 1\n      },\n      src: {\n        type: \"audio\"\n      },\n      volume: {\n        default: 1\n      }\n    },\n    multiple: !0,\n    init: function () {\n      var e = this;\n      this.listener = null, this.audioLoader = new Re.AudioLoader(), this.pool = new Re.Group(), this.loaded = !1, this.mustPlay = !1, this.playSoundBound = function () {\n        e.playSound();\n      };\n    },\n    update: function (e) {\n      var t,\n        n,\n        i = this.data,\n        r = i.src !== e.src;\n      if (r) {\n        if (!i.src) return;\n        this.setupSound();\n      }\n      for (t = 0; t < this.pool.children.length; t++) n = this.pool.children[t], i.positional && (n.setDistanceModel(i.distanceModel), n.setMaxDistance(i.maxDistance), n.setRefDistance(i.refDistance), n.setRolloffFactor(i.rolloffFactor)), n.setLoop(i.loop), n.setLoopStart(i.loopStart), 0 !== i.loopStart && 0 === i.loopEnd ? n.setLoopEnd(n.buffer.duration) : n.setLoopEnd(i.loopEnd), n.setVolume(i.volume), n.isPaused = !1;\n      if (i.on !== e.on && this.updateEventListener(e.on), r) {\n        var o = this;\n        this.loaded = !1, this.audioLoader.load(i.src, function (e) {\n          for (t = 0; t < o.pool.children.length; t++) (n = o.pool.children[t]).setBuffer(e);\n          o.loaded = !0, Re.Cache.remove(i.src), (o.data.autoplay || o.mustPlay) && o.playSound(o.processSound), o.el.emit(\"sound-loaded\", o.evtDetail, !1);\n        });\n      }\n    },\n    pause: function () {\n      this.stopSound(), this.removeEventListener();\n    },\n    play: function () {\n      this.data.autoplay && this.playSound(), this.updateEventListener();\n    },\n    remove: function () {\n      var e;\n      this.removeEventListener(), this.el.getObject3D(this.attrName) && this.el.removeObject3D(this.attrName);\n      try {\n        for (e = 0; e < this.pool.children.length; e++) this.pool.children[e].disconnect();\n      } catch (e) {\n        tl(\"Audio source not properly disconnected\");\n      }\n    },\n    updateEventListener: function (e) {\n      var t = this.el;\n      e && t.removeEventListener(e, this.playSoundBound), t.addEventListener(this.data.on, this.playSoundBound);\n    },\n    removeEventListener: function () {\n      this.el.removeEventListener(this.data.on, this.playSoundBound);\n    },\n    setupSound: function () {\n      var e,\n        t,\n        n = this.el,\n        i = n.sceneEl,\n        r = this;\n      this.pool.children.length > 0 && (this.stopSound(), n.removeObject3D(\"sound\"));\n      var o = this.listener = i.audioListener || new Re.AudioListener();\n      for (i.audioListener = o, i.camera && i.camera.add(o), i.addEventListener(\"camera-set-active\", function (e) {\n        e.detail.cameraEl.getObject3D(\"camera\").add(o);\n      }), this.pool = new Re.Group(), e = 0; e < this.data.poolSize; e++) t = this.data.positional ? new Re.PositionalAudio(o) : new Re.Audio(o), this.pool.add(t);\n      for (n.setObject3D(this.attrName, this.pool), e = 0; e < this.pool.children.length; e++) (t = this.pool.children[e]).onEnded = function () {\n        this.isPlaying = !1, r.el.emit(\"sound-ended\", r.evtDetail, !1);\n      };\n    },\n    pauseSound: function () {\n      var e, t;\n      for (this.isPlaying = !1, e = 0; e < this.pool.children.length; e++) (t = this.pool.children[e]).source && t.source.buffer && t.isPlaying && !t.isPaused && (t.isPaused = !0, t.pause());\n    },\n    playSound: function (e) {\n      var t, n, i;\n      if (!this.loaded) return tl(\"Sound not loaded yet. It will be played once it finished loading\"), this.mustPlay = !0, void (this.processSound = e);\n      for (t = !1, this.isPlaying = !0, n = 0; n < this.pool.children.length; n++) (i = this.pool.children[n]).isPlaying || !i.buffer || t || (e && e(i), i.play(), i.isPaused = !1, t = !0);\n      t ? (this.mustPlay = !1, this.processSound = void 0) : tl(\"All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.\", this.el);\n    },\n    stopSound: function () {\n      var e, t;\n      for (this.isPlaying = !1, e = 0; e < this.pool.children.length; e++) {\n        if (!(t = this.pool.children[e]).source || !t.source.buffer) return;\n        t.stop();\n      }\n    }\n  }), i(4433)),\n  il = i.n(nl),\n  rl = i(5751),\n  ol = i.n(rl),\n  sl = fi(\"components:text:error\"),\n  al = fi(\"components:text:warn\"),\n  Al = ci + \"fonts/\",\n  ll = {\n    aileronsemibold: Al + \"Aileron-Semibold.fnt\",\n    dejavu: Al + \"DejaVu-sdf.fnt\",\n    exo2bold: Al + \"Exo2Bold.fnt\",\n    exo2semibold: Al + \"Exo2SemiBold.fnt\",\n    kelsonsans: Al + \"KelsonSans.fnt\",\n    monoid: Al + \"Monoid.fnt\",\n    mozillavr: Al + \"mozillavr.fnt\",\n    roboto: Al + \"Roboto-msdf.json\",\n    sourcecodepro: Al + \"SourceCodePro.fnt\"\n  },\n  cl = [\"roboto\"],\n  hl = \"roboto\",\n  dl = new function () {\n    var e = this.cache = {};\n    this.get = function (t, n) {\n      return t in e || (e[t] = n()), e[t];\n    };\n  }(),\n  ul = {},\n  gl = {},\n  pl = /^\\w+:/;\nfunction fl(e, t, n) {\n  return e || (.5 + t) * n;\n}\ncs(\"text\", {\n  multiple: !0,\n  schema: {\n    align: {\n      type: \"string\",\n      default: \"left\",\n      oneOf: [\"left\", \"right\", \"center\"]\n    },\n    alphaTest: {\n      default: .5\n    },\n    anchor: {\n      default: \"center\",\n      oneOf: [\"left\", \"right\", \"center\", \"align\"]\n    },\n    baseline: {\n      default: \"center\",\n      oneOf: [\"top\", \"center\", \"bottom\"]\n    },\n    color: {\n      type: \"color\",\n      default: \"#FFF\"\n    },\n    font: {\n      type: \"string\",\n      default: hl\n    },\n    fontImage: {\n      type: \"string\"\n    },\n    height: {\n      type: \"number\"\n    },\n    letterSpacing: {\n      type: \"number\",\n      default: 0\n    },\n    lineHeight: {\n      type: \"number\"\n    },\n    negate: {\n      type: \"boolean\",\n      default: !0\n    },\n    opacity: {\n      type: \"number\",\n      default: 1\n    },\n    shader: {\n      default: \"sdf\",\n      oneOf: $s\n    },\n    side: {\n      default: \"front\",\n      oneOf: [\"front\", \"back\", \"double\"]\n    },\n    tabSize: {\n      default: 4\n    },\n    transparent: {\n      default: !0\n    },\n    value: {\n      type: \"string\"\n    },\n    whiteSpace: {\n      default: \"normal\",\n      oneOf: [\"normal\", \"pre\", \"nowrap\"]\n    },\n    width: {\n      type: \"number\"\n    },\n    wrapCount: {\n      type: \"number\",\n      default: 40\n    },\n    wrapPixels: {\n      type: \"number\"\n    },\n    xOffset: {\n      type: \"number\",\n      default: 0\n    },\n    yOffset: {\n      type: \"number\",\n      default: 0\n    },\n    zOffset: {\n      type: \"number\",\n      default: .001\n    }\n  },\n  init: function () {\n    this.shaderData = {}, this.geometry = il()(), this.createOrUpdateMaterial(), this.explicitGeoDimensionsChecked = !1;\n  },\n  update: function (e) {\n    var t = this.data,\n      n = this.currentFont;\n    gl[t.font] ? this.texture = gl[t.font] : (this.texture = gl[t.font] = new Re.Texture(), this.texture.anisotropy = 16), this.createOrUpdateMaterial(), e.font === t.font ? n && (this.updateGeometry(this.geometry, n), this.updateLayout()) : this.updateFont();\n  },\n  remove: function () {\n    this.geometry.dispose(), this.geometry = null, this.el.removeObject3D(this.attrName), this.material.dispose(), this.material = null, this.texture.dispose(), this.texture = null, this.shaderObject && delete this.shaderObject;\n  },\n  createOrUpdateMaterial: function () {\n    var e,\n      t,\n      n,\n      i = this.data,\n      r = this.material,\n      o = this.shaderData;\n    if (n = i.shader, -1 !== cl.indexOf(i.font) || i.font.indexOf(\"-msdf.\") >= 0 ? n = \"msdf\" : i.font in ll && -1 === cl.indexOf(i.font) && (n = \"sdf\"), e = (this.shaderObject && this.shaderObject.name) !== n, o.alphaTest = i.alphaTest, o.color = i.color, o.map = this.texture, o.opacity = i.opacity, o.side = function (e) {\n      switch (e) {\n        case \"back\":\n          return Re.FrontSide;\n        case \"double\":\n          return Re.DoubleSide;\n        default:\n          return Re.BackSide;\n      }\n    }(i.side), o.transparent = i.transparent, o.negate = i.negate, !e) return this.shaderObject.update(o), r.transparent = o.transparent, void (r.side = o.side);\n    t = function (e, t, n) {\n      var i, r;\n      return (r = new $s[t].Shader()).el = e, r.init(n), r.update(n), (i = r.material).transparent = n.transparent, {\n        material: i,\n        shader: r\n      };\n    }(this.el, n, o), this.material = t.material, this.shaderObject = t.shader, this.material.side = o.side, this.mesh && (this.mesh.material = this.material);\n  },\n  updateFont: function () {\n    var e,\n      t = this.data,\n      n = this.el,\n      i = this.geometry,\n      r = this;\n    t.font || al(\"No font specified. Using the default font.\"), this.mesh && (this.mesh.visible = !1), e = this.lookupFont(t.font || hl) || t.font, dl.get(e, function () {\n      return function (e, t) {\n        return new Promise(function (n, i) {\n          ol()(e, function (r, o) {\n            if (r) return sl(\"Error loading font\", e), void i(r);\n            e.indexOf(\"/Roboto-msdf.json\") >= 0 && (t = 30), t && o.chars.forEach(function (e) {\n              e.yoffset += t;\n            }), n(o);\n          });\n        });\n      }(e, t.yOffset);\n    }).then(function (o) {\n      var s;\n      if (1 !== o.pages.length) throw new Error(\"Currently only single-page bitmap fonts are supported.\");\n      ul[e] || (o.widthFactor = ul[o] = function (e) {\n        var t = 0,\n          n = 0,\n          i = 0;\n        return e.chars.forEach(function (e) {\n          t += e.xadvance, e.id >= 48 && e.id <= 57 && (i++, n += e.xadvance);\n        }), i ? n / i : t / e.chars.length;\n      }(o)), r.currentFont = o, s = r.getFontImageSrc(), dl.get(s, function () {\n        return function (e) {\n          return new Promise(function (t, n) {\n            new Re.ImageLoader().load(e, function (e) {\n              t(e);\n            }, void 0, function () {\n              sl(\"Error loading font image\", e), n(null);\n            });\n          });\n        }(s);\n      }).then(function (e) {\n        var s = r.texture;\n        s && (s.image = e, s.needsUpdate = !0, gl[t.font] = s, r.texture = s, r.initMesh(), r.currentFont = o, r.updateGeometry(i, o), r.updateLayout(), r.mesh.visible = !0, n.emit(\"textfontset\", {\n          font: t.font,\n          fontObj: o\n        }));\n      }).catch(function (e) {\n        sl(e.message), sl(e.stack);\n      });\n    }).catch(function (e) {\n      sl(e.message), sl(e.stack);\n    });\n  },\n  initMesh: function () {\n    this.mesh || (this.mesh = new Re.Mesh(this.geometry, this.material), this.el.setObject3D(this.attrName, this.mesh));\n  },\n  getFontImageSrc: function () {\n    if (this.data.fontImage) return this.data.fontImage;\n    var e = this.lookupFont(this.data.font || hl) || this.data.font,\n      t = this.currentFont.pages[0];\n    return t.match(pl) && 0 !== t.indexOf(\"http\") ? e.replace(/(\\.fnt)|(\\.json)/, \".png\") : Re.LoaderUtils.extractUrlBase(e) + t;\n  },\n  updateLayout: function () {\n    var e,\n      t,\n      n,\n      i,\n      r,\n      o,\n      s,\n      a,\n      A,\n      l = this.el,\n      c = this.data,\n      h = this.geometry,\n      d = this.mesh;\n    if (d && h.layout) {\n      if (n = l.getAttribute(\"geometry\"), i = (o = (s = c.width || n && n.width || 1) / fl(c.wrapPixels, c.wrapCount, this.currentFont.widthFactor)) * ((r = h.layout).height + r.descender), n && \"plane\" === n.primitive && (this.explicitGeoDimensionsChecked || (this.explicitGeoDimensionsChecked = !0, this.hasExplicitGeoWidth = !!n.width, this.hasExplicitGeoHeight = !!n.height), this.hasExplicitGeoWidth || l.setAttribute(\"geometry\", \"width\", s), this.hasExplicitGeoHeight || l.setAttribute(\"geometry\", \"height\", i)), \"left\" === (e = \"align\" === c.anchor ? c.align : c.anchor)) a = 0;else if (\"right\" === e) a = -1 * r.width;else {\n        if (\"center\" !== e) throw new TypeError(\"Invalid text.anchor property value\", e);\n        a = -1 * r.width / 2;\n      }\n      if (\"bottom\" === (t = c.baseline)) A = 0;else if (\"top\" === t) A = -1 * r.height + r.ascender;else {\n        if (\"center\" !== t) throw new TypeError(\"Invalid text.baseline property value\", t);\n        A = -1 * r.height / 2;\n      }\n      d.position.x = a * o + c.xOffset, d.position.y = A * o, d.position.z = c.zOffset, d.scale.set(o, -1 * o, o);\n    }\n  },\n  lookupFont: function (e) {\n    return ll[e];\n  },\n  updateGeometry: (JA = {}, XA = {}, ZA = /\\\\n/g, $A = /\\\\t/g, function (e, t) {\n    var n = this.data;\n    XA.font = t, XA.lineHeight = n.lineHeight && isFinite(n.lineHeight) ? n.lineHeight : t.common.lineHeight, XA.text = n.value.toString().replace(ZA, \"\\n\").replace($A, \"\\t\"), XA.width = fl(n.wrapPixels, n.wrapCount, t.widthFactor), e.update(Jr(JA, n, XA));\n  })\n});\nvar ml,\n  El,\n  Cl = (cs(\"tracked-controls\", {\n    schema: {\n      id: {\n        type: \"string\",\n        default: \"\"\n      },\n      controller: {\n        default: -1\n      },\n      autoHide: {\n        default: !0\n      },\n      hand: {\n        type: \"string\",\n        default: \"\"\n      },\n      handTrackingEnabled: {\n        default: !1\n      },\n      iterateControllerProfiles: {\n        default: !1\n      }\n    },\n    init: function () {\n      this.buttonEventDetails = {}, this.buttonStates = this.el.components[\"tracked-controls\"].buttonStates = {}, this.axis = this.el.components[\"tracked-controls\"].axis = [0, 0, 0], this.changedAxes = [], this.axisMoveEventDetail = {\n        axis: this.axis,\n        changed: this.changedAxes\n      }, this.updateController = this.updateController.bind(this);\n    },\n    update: function () {\n      this.updateController();\n    },\n    play: function () {\n      var e = this.el.sceneEl;\n      this.updateController(), e.addEventListener(\"controllersupdated\", this.updateController);\n    },\n    pause: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.updateController);\n    },\n    isControllerPresent: function (e) {\n      return !(!this.controller || this.controller.gamepad || \"none\" !== e.inputSource.handedness && e.inputSource.handedness !== this.data.hand);\n    },\n    updateController: function () {\n      this.controller = Pr(this.system.controllers, this.data.id, this.data.hand, this.data.controller, this.data.iterateControllerProfiles, this.data.handTrackingEnabled), this.el.components[\"tracked-controls\"].controller = this.controller;\n    },\n    tick: function () {\n      var e = this.el.sceneEl,\n        t = this.controller,\n        n = e.frame;\n      this.data.autoHide && (this.el.object3D.visible = !!t), t && e.frame && this.system.referenceSpace && (t.hand || (this.pose = n.getPose(t.gripSpace, this.system.referenceSpace), this.updatePose(), this.updateButtons()));\n    },\n    updatePose: function () {\n      var e = this.el.object3D,\n        t = this.pose;\n      t && (e.matrix.elements = t.transform.matrix, e.matrix.decompose(e.position, e.rotation, e.scale));\n    },\n    updateButtons: function () {\n      var e,\n        t,\n        n,\n        i = this.controller;\n      if (i && i.gamepad) {\n        for (n = i.gamepad, t = 0; t < n.buttons.length; ++t) this.buttonStates[t] || (this.buttonStates[t] = {\n          pressed: !1,\n          touched: !1,\n          value: 0\n        }), this.buttonEventDetails[t] || (this.buttonEventDetails[t] = {\n          id: t,\n          state: this.buttonStates[t]\n        }), e = n.buttons[t], this.handleButton(t, e);\n        this.handleAxes();\n      }\n    },\n    handleButton: function (e, t) {\n      return !!(this.handlePress(e, t) | this.handleTouch(e, t) | this.handleValue(e, t)) && (this.el.emit(\"buttonchanged\", this.buttonEventDetails[e], !1), !0);\n    },\n    handleAxes: function () {\n      var e,\n        t = !1,\n        n = this.controller.gamepad.axes,\n        i = this.axis,\n        r = this.changedAxes;\n      for (this.changedAxes.splice(0, this.changedAxes.length), e = 0; e < n.length; ++e) r.push(i[e] !== n[e]), r[e] && (t = !0);\n      if (!t) return !1;\n      for (this.axis.splice(0, this.axis.length), e = 0; e < n.length; e++) this.axis.push(n[e]);\n      return this.el.emit(\"axismove\", this.axisMoveEventDetail, !1), !0;\n    },\n    handlePress: function (e, t) {\n      var n,\n        i = this.buttonStates[e];\n      return t.pressed !== i.pressed && (n = t.pressed ? \"buttondown\" : \"buttonup\", this.el.emit(n, this.buttonEventDetails[e], !1), i.pressed = t.pressed, !0);\n    },\n    handleTouch: function (e, t) {\n      var n,\n        i = this.buttonStates[e];\n      return t.touched !== i.touched && (n = t.touched ? \"touchstart\" : \"touchend\", this.el.emit(n, this.buttonEventDetails[e], !1), i.touched = t.touched, !0);\n    },\n    handleValue: function (e, t) {\n      var n = this.buttonStates[e];\n      return t.value !== n.value && (n.value = t.value, !0);\n    }\n  }), cs(\"visible\", {\n    schema: {\n      default: !0\n    },\n    update: function () {\n      this.el.object3D.visible = this.data;\n    }\n  }), ci + \"controllers/valve/index/valve-index-\"),\n  vl = {\n    left: Cl + \"left.glb\",\n    right: Cl + \"right.glb\"\n  },\n  Bl = \"valve\",\n  bl = {\n    left: {\n      x: 0,\n      y: -.05,\n      z: .06\n    },\n    right: {\n      x: 0,\n      y: -.05,\n      z: .06\n    }\n  },\n  yl = {\n    left: {\n      _x: Math.PI / 3,\n      _y: 0,\n      _z: 0,\n      _order: \"XYZ\"\n    },\n    right: {\n      _x: Math.PI / 3,\n      _y: 0,\n      _z: 0,\n      _order: \"XYZ\"\n    }\n  },\n  Il = (cs(\"valve-index-controls\", {\n    schema: {\n      hand: {\n        default: \"left\"\n      },\n      buttonColor: {\n        type: \"color\",\n        default: \"#FAFAFA\"\n      },\n      buttonHighlightColor: {\n        type: \"color\",\n        default: \"#22D1EE\"\n      },\n      model: {\n        default: !0\n      }\n    },\n    after: [\"tracked-controls\"],\n    mapping: {\n      axes: {\n        trackpad: [0, 1],\n        thumbstick: [2, 3]\n      },\n      buttons: [\"trigger\", \"grip\", \"trackpad\", \"thumbstick\", \"abutton\"]\n    },\n    init: function () {\n      var e = this;\n      this.controllerPresent = !1, this.onButtonChanged = this.onButtonChanged.bind(this), this.onButtonDown = function (t) {\n        Nr(t.detail.id, \"down\", e);\n      }, this.onButtonUp = function (t) {\n        Nr(t.detail.id, \"up\", e);\n      }, this.onButtonTouchEnd = function (t) {\n        Nr(t.detail.id, \"touchend\", e);\n      }, this.onButtonTouchStart = function (t) {\n        Nr(t.detail.id, \"touchstart\", e);\n      }, this.previousButtonValues = {}, this.bindMethods();\n    },\n    play: function () {\n      this.checkIfControllerPresent(), this.addControllersUpdateListener();\n    },\n    pause: function () {\n      this.removeEventListeners(), this.removeControllersUpdateListener();\n    },\n    bindMethods: function () {\n      this.onModelLoaded = this.onModelLoaded.bind(this), this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this), this.onAxisMoved = this.onAxisMoved.bind(this);\n    },\n    addEventListeners: function () {\n      var e = this.el;\n      e.addEventListener(\"buttonchanged\", this.onButtonChanged), e.addEventListener(\"buttondown\", this.onButtonDown), e.addEventListener(\"buttonup\", this.onButtonUp), e.addEventListener(\"touchend\", this.onButtonTouchEnd), e.addEventListener(\"touchstart\", this.onButtonTouchStart), e.addEventListener(\"model-loaded\", this.onModelLoaded), e.addEventListener(\"axismove\", this.onAxisMoved), this.controllerEventsActive = !0;\n    },\n    removeEventListeners: function () {\n      var e = this.el;\n      e.removeEventListener(\"buttonchanged\", this.onButtonChanged), e.removeEventListener(\"buttondown\", this.onButtonDown), e.removeEventListener(\"buttonup\", this.onButtonUp), e.removeEventListener(\"touchend\", this.onButtonTouchEnd), e.removeEventListener(\"touchstart\", this.onButtonTouchStart), e.removeEventListener(\"model-loaded\", this.onModelLoaded), e.removeEventListener(\"axismove\", this.onAxisMoved), this.controllerEventsActive = !1;\n    },\n    checkIfControllerPresent: function () {\n      var e = this.data,\n        t = \"right\" === e.hand ? 0 : \"left\" === e.hand ? 1 : 2;\n      Ur(this, Bl, {\n        index: t,\n        iterateControllerProfiles: !0,\n        hand: e.hand\n      });\n    },\n    injectTrackedControls: function () {\n      var e = this.el,\n        t = this.data;\n      e.setAttribute(\"tracked-controls\", {\n        idPrefix: Bl,\n        controller: \"right\" === t.hand ? 1 : \"left\" === t.hand ? 0 : 2,\n        hand: t.hand\n      }), this.loadModel();\n    },\n    loadModel: function () {\n      var e = this.data;\n      e.model && this.el.setAttribute(\"gltf-model\", \"\" + vl[e.hand]);\n    },\n    addControllersUpdateListener: function () {\n      this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    removeControllersUpdateListener: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    onControllersUpdate: function () {\n      this.checkIfControllerPresent();\n    },\n    onButtonChanged: function (e) {\n      var t,\n        n = this.mapping.buttons[e.detail.id],\n        i = this.buttonMeshes;\n      n && (\"trigger\" === n && (t = e.detail.state.value, i && i.trigger && (i.trigger.rotation.x = this.triggerOriginalRotationX - t * (Math.PI / 40))), this.el.emit(n + \"changed\", e.detail.state));\n    },\n    onModelLoaded: function (e) {\n      var t,\n        n = e.detail.model,\n        i = this;\n      e.target === this.el && this.data.model && ((t = this.buttonMeshes = {}).grip = {\n        left: n.getObjectByName(\"leftgrip\"),\n        right: n.getObjectByName(\"rightgrip\")\n      }, t.menu = n.getObjectByName(\"menubutton\"), t.system = n.getObjectByName(\"systembutton\"), t.trackpad = n.getObjectByName(\"touchpad\"), t.trigger = n.getObjectByName(\"trigger\"), this.triggerOriginalRotationX = t.trigger.rotation.x, Object.keys(t).forEach(function (e) {\n        i.setButtonColor(e, i.data.buttonColor);\n      }), n.position.copy(yl[this.data.hand]), n.rotation.copy(bl[this.data.hand]), this.el.emit(\"controllermodelready\", {\n        name: \"valve-index-controls\",\n        model: this.data.model,\n        rayOrigin: new Re.Vector3(0, 0, 0)\n      }));\n    },\n    onAxisMoved: function (e) {\n      Gr(this, this.mapping.axes, e);\n    },\n    updateModel: function (e, t) {\n      var n;\n      this.data.model && (-1 !== t.indexOf(\"touch\") || (n = \"up\" === t ? this.data.buttonColor : this.data.buttonHighlightColor, this.setButtonColor(e, n)));\n    },\n    setButtonColor: function (e, t) {}\n  }), ci + \"controllers/vive/vr_controller_vive.obj\"),\n  wl = ci + \"controllers/vive/vr_controller_vive.mtl\",\n  xl = \"htc-vive\",\n  Ql = (cs(\"vive-controls\", {\n    schema: {\n      hand: {\n        default: \"left\"\n      },\n      buttonColor: {\n        type: \"color\",\n        default: \"#FAFAFA\"\n      },\n      buttonHighlightColor: {\n        type: \"color\",\n        default: \"#22D1EE\"\n      },\n      model: {\n        default: !0\n      }\n    },\n    after: [\"tracked-controls\"],\n    mapping: {\n      axes: {\n        touchpad: [0, 1]\n      },\n      buttons: [\"trigger\", \"grip\", \"touchpad\", \"none\"]\n    },\n    init: function () {\n      var e = this;\n      this.controllerPresent = !1, this.onButtonChanged = this.onButtonChanged.bind(this), this.onButtonDown = function (t) {\n        Nr(t.detail.id, \"down\", e);\n      }, this.onButtonUp = function (t) {\n        Nr(t.detail.id, \"up\", e);\n      }, this.onButtonTouchEnd = function (t) {\n        Nr(t.detail.id, \"touchend\", e);\n      }, this.onButtonTouchStart = function (t) {\n        Nr(t.detail.id, \"touchstart\", e);\n      }, this.previousButtonValues = {}, this.bindMethods();\n    },\n    update: function () {\n      var e = this.data;\n      this.controllerIndex = \"right\" === e.hand ? 0 : \"left\" === e.hand ? 1 : 2;\n    },\n    play: function () {\n      this.checkIfControllerPresent(), this.addControllersUpdateListener();\n    },\n    pause: function () {\n      this.removeEventListeners(), this.removeControllersUpdateListener();\n    },\n    bindMethods: function () {\n      this.onModelLoaded = this.onModelLoaded.bind(this), this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this), this.onAxisMoved = this.onAxisMoved.bind(this);\n    },\n    addEventListeners: function () {\n      var e = this.el;\n      e.addEventListener(\"buttonchanged\", this.onButtonChanged), e.addEventListener(\"buttondown\", this.onButtonDown), e.addEventListener(\"buttonup\", this.onButtonUp), e.addEventListener(\"touchend\", this.onButtonTouchEnd), e.addEventListener(\"touchstart\", this.onButtonTouchStart), e.addEventListener(\"model-loaded\", this.onModelLoaded), e.addEventListener(\"axismove\", this.onAxisMoved), this.controllerEventsActive = !0;\n    },\n    removeEventListeners: function () {\n      var e = this.el;\n      e.removeEventListener(\"buttonchanged\", this.onButtonChanged), e.removeEventListener(\"buttondown\", this.onButtonDown), e.removeEventListener(\"buttonup\", this.onButtonUp), e.removeEventListener(\"touchend\", this.onButtonTouchEnd), e.removeEventListener(\"touchstart\", this.onButtonTouchStart), e.removeEventListener(\"model-loaded\", this.onModelLoaded), e.removeEventListener(\"axismove\", this.onAxisMoved), this.controllerEventsActive = !1;\n    },\n    checkIfControllerPresent: function () {\n      var e = this.data;\n      Ur(this, xl, {\n        index: this.controllerIndex,\n        hand: e.hand\n      });\n    },\n    injectTrackedControls: function () {\n      var e = this.el,\n        t = this.data;\n      e.setAttribute(\"tracked-controls\", {\n        idPrefix: xl,\n        hand: t.hand,\n        controller: this.controllerIndex\n      }), this.data.model && this.el.setAttribute(\"obj-model\", {\n        obj: Il,\n        mtl: wl\n      });\n    },\n    addControllersUpdateListener: function () {\n      this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    removeControllersUpdateListener: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    onControllersUpdate: function () {\n      this.checkIfControllerPresent();\n    },\n    onButtonChanged: function (e) {\n      var t,\n        n = this.mapping.buttons[e.detail.id],\n        i = this.buttonMeshes;\n      n && (\"trigger\" === n && (t = e.detail.state.value, i && i.trigger && (i.trigger.rotation.x = -t * (Math.PI / 12))), this.el.emit(n + \"changed\", e.detail.state));\n    },\n    onModelLoaded: function (e) {\n      var t,\n        n = e.detail.model,\n        i = this;\n      e.target === this.el && this.data.model && ((t = this.buttonMeshes = {}).grip = {\n        left: n.getObjectByName(\"leftgrip\"),\n        right: n.getObjectByName(\"rightgrip\")\n      }, t.menu = n.getObjectByName(\"menubutton\"), t.system = n.getObjectByName(\"systembutton\"), t.trackpad = n.getObjectByName(\"touchpad\"), t.touchpad = n.getObjectByName(\"touchpad\"), t.trigger = n.getObjectByName(\"trigger\"), Object.keys(t).forEach(function (e) {\n        i.setButtonColor(e, i.data.buttonColor);\n      }), n.position.set(0, -.015, .04));\n    },\n    onAxisMoved: function (e) {\n      Gr(this, this.mapping.axes, e);\n    },\n    updateModel: function (e, t) {\n      var n;\n      this.data.model && (-1 !== t.indexOf(\"touch\") || (n = \"up\" === t ? this.data.buttonColor : this.data.buttonHighlightColor, this.setButtonColor(e, n)));\n    },\n    setButtonColor: function (e, t) {\n      var n = this.buttonMeshes;\n      if (n) return \"grip\" === e ? (n.grip.left.material.color.set(t), void n.grip.right.material.color.set(t)) : void n[e].material.color.set(t);\n    }\n  }), ci + \"controllers/vive/focus-controller/focus-controller.gltf\"),\n  Ll = \"htc-vive-focus\",\n  Ml = (cs(\"vive-focus-controls\", {\n    schema: {\n      hand: {\n        default: \"\"\n      },\n      buttonTouchedColor: {\n        type: \"color\",\n        default: \"#BBBBBB\"\n      },\n      buttonHighlightColor: {\n        type: \"color\",\n        default: \"#7A7A7A\"\n      },\n      model: {\n        default: !0\n      }\n    },\n    after: [\"tracked-controls\"],\n    mapping: {\n      axes: {\n        touchpad: [0, 1]\n      },\n      buttons: [\"trigger\", \"none\", \"touchpad\", \"none\", \"menu\"]\n    },\n    bindMethods: function () {\n      this.onModelLoaded = this.onModelLoaded.bind(this), this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this), this.onAxisMoved = this.onAxisMoved.bind(this);\n    },\n    init: function () {\n      var e = this;\n      this.onButtonChanged = this.onButtonChanged.bind(this), this.onButtonDown = function (t) {\n        Nr(t.detail.id, \"down\", e);\n      }, this.onButtonUp = function (t) {\n        Nr(t.detail.id, \"up\", e);\n      }, this.onButtonTouchStart = function (t) {\n        Nr(t.detail.id, \"touchstart\", e);\n      }, this.onButtonTouchEnd = function (t) {\n        Nr(t.detail.id, \"touchend\", e);\n      }, this.controllerPresent = !1, this.bindMethods();\n    },\n    addEventListeners: function () {\n      var e = this.el;\n      e.addEventListener(\"buttonchanged\", this.onButtonChanged), e.addEventListener(\"buttondown\", this.onButtonDown), e.addEventListener(\"buttonup\", this.onButtonUp), e.addEventListener(\"touchstart\", this.onButtonTouchStart), e.addEventListener(\"touchend\", this.onButtonTouchEnd), e.addEventListener(\"model-loaded\", this.onModelLoaded), e.addEventListener(\"axismove\", this.onAxisMoved), this.controllerEventsActive = !0, this.addControllersUpdateListener();\n    },\n    removeEventListeners: function () {\n      var e = this.el;\n      e.removeEventListener(\"buttonchanged\", this.onButtonChanged), e.removeEventListener(\"buttondown\", this.onButtonDown), e.removeEventListener(\"buttonup\", this.onButtonUp), e.removeEventListener(\"touchstart\", this.onButtonTouchStart), e.removeEventListener(\"touchend\", this.onButtonTouchEnd), e.removeEventListener(\"model-loaded\", this.onModelLoaded), e.removeEventListener(\"axismove\", this.onAxisMoved), this.controllerEventsActive = !1, this.removeControllersUpdateListener();\n    },\n    checkIfControllerPresent: function () {\n      Ur(this, Ll, this.data.hand ? {\n        hand: this.data.hand\n      } : {});\n    },\n    play: function () {\n      this.checkIfControllerPresent(), this.addControllersUpdateListener();\n    },\n    pause: function () {\n      this.removeEventListeners(), this.removeControllersUpdateListener();\n    },\n    injectTrackedControls: function () {\n      this.el.setAttribute(\"tracked-controls\", {\n        idPrefix: Ll\n      }), this.data.model && this.el.setAttribute(\"gltf-model\", Ql);\n    },\n    addControllersUpdateListener: function () {\n      this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    removeControllersUpdateListener: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    onControllersUpdate: function () {\n      this.checkIfControllerPresent();\n    },\n    onModelLoaded: function (e) {\n      var t,\n        n = e.detail.model;\n      e.target === this.el && this.data.model && ((t = this.buttonMeshes = {}).trigger = n.getObjectByName(\"BumperKey\"), t.triggerPressed = n.getObjectByName(\"BumperKey_Press\"), t.triggerPressed && (t.triggerPressed.visible = !1), t.touchpad = n.getObjectByName(\"TouchPad\"), t.touchpadPressed = n.getObjectByName(\"TouchPad_Press\"), t.trackpad = n.getObjectByName(\"TouchPad\"), t.trackpadPressed = n.getObjectByName(\"TouchPad_Press\"), t.trackpadPressed && (t.trackpadPressed.visible = !1));\n    },\n    onButtonChanged: function (e) {\n      var t = this.mapping.buttons[e.detail.id];\n      t && this.el.emit(t + \"changed\", e.detail.state);\n    },\n    onAxisMoved: function (e) {\n      Gr(this, this.mapping.axes, e);\n    },\n    updateModel: function (e, t) {\n      this.data.model && this.updateButtonModel(e, t);\n    },\n    updateButtonModel: function (e, t) {\n      var n = this.buttonMeshes,\n        i = e + \"Pressed\";\n      if (n && n[e] && n[i]) {\n        var r;\n        switch (t) {\n          case \"down\":\n            r = this.data.buttonHighlightColor;\n            break;\n          case \"touchstart\":\n            r = this.data.buttonTouchedColor;\n        }\n        r && n[i].material.color.set(r), n[i].visible = !!r, n[e].visible = !r;\n      }\n    }\n  }), {\n    38: \"ArrowUp\",\n    37: \"ArrowLeft\",\n    40: \"ArrowDown\",\n    39: \"ArrowRight\",\n    87: \"KeyW\",\n    65: \"KeyA\",\n    83: \"KeyS\",\n    68: \"KeyD\"\n  }),\n  Sl = io,\n  Dl = 1e-5,\n  kl = [\"KeyW\", \"KeyA\", \"KeyS\", \"KeyD\", \"ArrowUp\", \"ArrowLeft\", \"ArrowRight\", \"ArrowDown\"];\ncs(\"wasd-controls\", {\n  schema: {\n    acceleration: {\n      default: 65\n    },\n    adAxis: {\n      default: \"x\",\n      oneOf: [\"x\", \"y\", \"z\"]\n    },\n    adEnabled: {\n      default: !0\n    },\n    adInverted: {\n      default: !1\n    },\n    enabled: {\n      default: !0\n    },\n    fly: {\n      default: !1\n    },\n    wsAxis: {\n      default: \"z\",\n      oneOf: [\"x\", \"y\", \"z\"]\n    },\n    wsEnabled: {\n      default: !0\n    },\n    wsInverted: {\n      default: !1\n    }\n  },\n  after: [\"look-controls\"],\n  init: function () {\n    this.keys = {}, this.easing = 1.1, this.velocity = new Re.Vector3(), this.onBlur = this.onBlur.bind(this), this.onContextMenu = this.onContextMenu.bind(this), this.onFocus = this.onFocus.bind(this), this.onKeyDown = this.onKeyDown.bind(this), this.onKeyUp = this.onKeyUp.bind(this), this.onVisibilityChange = this.onVisibilityChange.bind(this), this.attachVisibilityEventListeners();\n  },\n  tick: function (e, t) {\n    var n = this.data,\n      i = this.el,\n      r = this.velocity;\n    (r[n.adAxis] || r[n.wsAxis] || !function (e) {\n      var t;\n      for (t in e) return !1;\n      return !0;\n    }(this.keys)) && (t /= 1e3, this.updateVelocity(t), (r[n.adAxis] || r[n.wsAxis]) && i.object3D.position.add(this.getMovementVector(t)));\n  },\n  update: function (e) {\n    e.adAxis !== this.data.adAxis && (this.velocity[e.adAxis] = 0), e.wsAxis !== this.data.wsAxis && (this.velocity[e.wsAxis] = 0);\n  },\n  remove: function () {\n    this.removeKeyEventListeners(), this.removeVisibilityEventListeners();\n  },\n  play: function () {\n    this.attachKeyEventListeners();\n  },\n  pause: function () {\n    this.keys = {}, this.removeKeyEventListeners();\n  },\n  updateVelocity: function (e) {\n    var t,\n      n,\n      i,\n      r,\n      o,\n      s = this.data,\n      a = this.keys,\n      A = this.velocity;\n    if (n = s.adAxis, r = s.wsAxis, e > .2) return A[n] = 0, void (A[r] = 0);\n    var l = Math.pow(1 / this.easing, 60 * e);\n    0 !== A[n] && (A[n] = A[n] * l), 0 !== A[r] && (A[r] = A[r] * l), Math.abs(A[n]) < Dl && (A[n] = 0), Math.abs(A[r]) < Dl && (A[r] = 0), s.enabled && (t = s.acceleration, s.adEnabled && (i = s.adInverted ? -1 : 1, (a.KeyA || a.ArrowLeft) && (A[n] -= i * t * e), (a.KeyD || a.ArrowRight) && (A[n] += i * t * e)), s.wsEnabled && (o = s.wsInverted ? -1 : 1, (a.KeyW || a.ArrowUp) && (A[r] -= o * t * e), (a.KeyS || a.ArrowDown) && (A[r] += o * t * e)));\n  },\n  getMovementVector: (ml = new Re.Vector3(0, 0, 0), El = new Re.Euler(0, 0, 0, \"YXZ\"), function (e) {\n    var t,\n      n = this.el.getAttribute(\"rotation\"),\n      i = this.velocity;\n    return ml.copy(i), ml.multiplyScalar(e), n ? (t = this.data.fly ? n.x : 0, El.set(Re.MathUtils.degToRad(t), Re.MathUtils.degToRad(n.y), 0), ml.applyEuler(El), ml) : ml;\n  }),\n  attachVisibilityEventListeners: function () {\n    window.oncontextmenu = this.onContextMenu, window.addEventListener(\"blur\", this.onBlur), window.addEventListener(\"focus\", this.onFocus), document.addEventListener(\"visibilitychange\", this.onVisibilityChange);\n  },\n  removeVisibilityEventListeners: function () {\n    window.removeEventListener(\"blur\", this.onBlur), window.removeEventListener(\"focus\", this.onFocus), document.removeEventListener(\"visibilitychange\", this.onVisibilityChange);\n  },\n  attachKeyEventListeners: function () {\n    window.addEventListener(\"keydown\", this.onKeyDown), window.addEventListener(\"keyup\", this.onKeyUp);\n  },\n  removeKeyEventListeners: function () {\n    window.removeEventListener(\"keydown\", this.onKeyDown), window.removeEventListener(\"keyup\", this.onKeyUp);\n  },\n  onContextMenu: function () {\n    for (var e = Object.keys(this.keys), t = 0; t < e.length; t++) delete this.keys[e[t]];\n  },\n  onBlur: function () {\n    this.pause();\n  },\n  onFocus: function () {\n    this.play();\n  },\n  onVisibilityChange: function () {\n    document.hidden ? this.onBlur() : this.onFocus();\n  },\n  onKeyDown: function (e) {\n    var t;\n    Sl(e) && (t = e.code || Ml[e.keyCode], -1 !== kl.indexOf(t) && (this.keys[t] = !0));\n  },\n  onKeyUp: function (e) {\n    var t;\n    t = e.code || Ml[e.keyCode], delete this.keys[t];\n  }\n});\nvar Tl,\n  Rl,\n  Fl,\n  Ul = fi(\"components:windows-motion-controls:debug\"),\n  Ol = fi(\"components:windows-motion-controls:warn\"),\n  Pl = ci + \"controllers/microsoft/\",\n  Gl = {\n    left: \"left.glb\",\n    right: \"right.glb\",\n    default: \"universal.glb\"\n  },\n  Nl = \"windows-mixed-reality\",\n  jl = (cs(\"windows-motion-controls\", {\n    schema: {\n      hand: {\n        default: \"right\"\n      },\n      pair: {\n        default: 0\n      },\n      model: {\n        default: !0\n      }\n    },\n    after: [\"tracked-controls\"],\n    mapping: {\n      axes: {\n        touchpad: [0, 1],\n        thumbstick: [2, 3]\n      },\n      buttons: [\"trigger\", \"squeeze\", \"touchpad\", \"thumbstick\", \"menu\"],\n      axisMeshNames: [\"TOUCHPAD_TOUCH_X\", \"TOUCHPAD_TOUCH_X\", \"THUMBSTICK_X\", \"THUMBSTICK_Y\"],\n      buttonMeshNames: {\n        trigger: \"SELECT\",\n        menu: \"MENU\",\n        squeeze: \"GRASP\",\n        thumbstick: \"THUMBSTICK_PRESS\",\n        touchpad: \"TOUCHPAD_PRESS\"\n      },\n      pointingPoseMeshName: \"POINTING_POSE\"\n    },\n    bindMethods: function () {\n      this.onModelError = this.onModelError.bind(this), this.onModelLoaded = this.onModelLoaded.bind(this), this.onControllersUpdate = this.onControllersUpdate.bind(this), this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this), this.onAxisMoved = this.onAxisMoved.bind(this);\n    },\n    init: function () {\n      var e = this,\n        t = this.el;\n      this.onButtonChanged = this.onButtonChanged.bind(this), this.onButtonDown = function (t) {\n        Nr(t.detail.id, \"down\", e);\n      }, this.onButtonUp = function (t) {\n        Nr(t.detail.id, \"up\", e);\n      }, this.onButtonTouchStart = function (t) {\n        Nr(t.detail.id, \"touchstart\", e);\n      }, this.onButtonTouchEnd = function (t) {\n        Nr(t.detail.id, \"touchend\", e);\n      }, this.onControllerConnected = function () {\n        e.setModelVisibility(!0);\n      }, this.onControllerDisconnected = function () {\n        e.setModelVisibility(!1);\n      }, this.controllerPresent = !1, this.previousButtonValues = {}, this.bindMethods(), this.loadedMeshInfo = {\n        buttonMeshes: null,\n        axisMeshes: null\n      }, this.rayOrigin = {\n        origin: new Re.Vector3(),\n        direction: new Re.Vector3(0, 0, -1),\n        createdFromMesh: !1\n      }, t.addEventListener(\"controllerconnected\", this.onControllerConnected), t.addEventListener(\"controllerdisconnected\", this.onControllerDisconnected);\n    },\n    addEventListeners: function () {\n      var e = this.el;\n      e.addEventListener(\"buttonchanged\", this.onButtonChanged), e.addEventListener(\"buttondown\", this.onButtonDown), e.addEventListener(\"buttonup\", this.onButtonUp), e.addEventListener(\"touchstart\", this.onButtonTouchStart), e.addEventListener(\"touchend\", this.onButtonTouchEnd), e.addEventListener(\"axismove\", this.onAxisMoved), e.addEventListener(\"model-error\", this.onModelError), e.addEventListener(\"model-loaded\", this.onModelLoaded), this.controllerEventsActive = !0;\n    },\n    removeEventListeners: function () {\n      var e = this.el;\n      e.removeEventListener(\"buttonchanged\", this.onButtonChanged), e.removeEventListener(\"buttondown\", this.onButtonDown), e.removeEventListener(\"buttonup\", this.onButtonUp), e.removeEventListener(\"touchstart\", this.onButtonTouchStart), e.removeEventListener(\"touchend\", this.onButtonTouchEnd), e.removeEventListener(\"axismove\", this.onAxisMoved), e.removeEventListener(\"model-error\", this.onModelError), e.removeEventListener(\"model-loaded\", this.onModelLoaded), this.controllerEventsActive = !1;\n    },\n    checkIfControllerPresent: function () {\n      Ur(this, Nl, {\n        hand: this.data.hand,\n        index: this.data.pair,\n        iterateControllerProfiles: !0\n      });\n    },\n    play: function () {\n      this.checkIfControllerPresent(), this.addControllersUpdateListener();\n    },\n    pause: function () {\n      this.removeEventListeners(), this.removeControllersUpdateListener();\n    },\n    updateControllerModel: function () {\n      if (this.data.model && !this.rayOrigin.createdFromMesh) {\n        var e = this.createControllerModelUrl();\n        this.loadModel(e);\n      } else this.modelReady();\n    },\n    createControllerModelUrl: function (e) {\n      var t = this.data.hand;\n      return Pl + \"default/\" + (Gl[t] || Gl.default);\n    },\n    injectTrackedControls: function () {\n      var e = this.data;\n      this.el.setAttribute(\"tracked-controls\", {\n        idPrefix: Nl,\n        controller: e.pair,\n        hand: e.hand\n      }), this.updateControllerModel();\n    },\n    addControllersUpdateListener: function () {\n      this.el.sceneEl.addEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    removeControllersUpdateListener: function () {\n      this.el.sceneEl.removeEventListener(\"controllersupdated\", this.onControllersUpdate, !1);\n    },\n    onControllersUpdate: function () {\n      this.checkIfControllerPresent();\n    },\n    onModelError: function (e) {\n      var t = this.createControllerModelUrl(!0);\n      e.detail.src !== t ? (Ol(\"Failed to load controller model for device, attempting to load default.\"), this.loadModel(t)) : Ol(\"Failed to load default controller model.\");\n    },\n    loadModel: function (e) {\n      this.el.setAttribute(\"gltf-model\", \"url(\" + e + \")\");\n    },\n    onModelLoaded: function (e) {\n      var t,\n        n,\n        i,\n        r,\n        o = this.controllerModel = e.detail.model,\n        s = this.loadedMeshInfo;\n      if (e.target === this.el) {\n        if (Ul(\"Processing model\"), s.buttonMeshes = {}, s.axisMeshes = {}, o) {\n          for (t = 0; t < this.mapping.buttons.length; t++) (n = this.mapping.buttonMeshNames[this.mapping.buttons[t]]) ? (i = o.getObjectByName(n)) ? (r = {\n            index: t,\n            value: a(i, \"VALUE\"),\n            pressed: a(i, \"PRESSED\"),\n            unpressed: a(i, \"UNPRESSED\")\n          }).value && r.pressed && r.unpressed ? s.buttonMeshes[this.mapping.buttons[t]] = r : Ol(\"Missing button submesh under mesh with name: \" + n + \"(VALUE: \" + !!r.value + \", PRESSED: \" + !!r.pressed + \", UNPRESSED:\" + !!r.unpressed + \")\") : Ol(\"Missing button mesh with name: \" + n) : Ul(\"Skipping unknown button at index: \" + t + \" with mapped name: \" + this.mapping.buttons[t]);\n          for (t = 0; t < this.mapping.axisMeshNames.length; t++) (n = this.mapping.axisMeshNames[t]) ? (i = o.getObjectByName(n)) ? (r = {\n            index: t,\n            value: a(i, \"VALUE\"),\n            min: a(i, \"MIN\"),\n            max: a(i, \"MAX\")\n          }).value && r.min && r.max ? s.axisMeshes[t] = r : Ol(\"Missing axis submesh under mesh with name: \" + n + \"(VALUE: \" + !!r.value + \", MIN: \" + !!r.min + \", MAX:\" + !!r.max + \")\") : Ol(\"Missing axis mesh with name: \" + n) : Ul(\"Skipping unknown axis at index: \" + t);\n          this.calculateRayOriginFromMesh(o), this.setModelVisibility();\n        }\n        Ul(\"Model load complete.\");\n      }\n      function a(e, t) {\n        for (var n = 0, i = e.children.length; n < i; n++) {\n          var r = e.children[n];\n          if (r && r.name === t) return r;\n        }\n      }\n    },\n    calculateRayOriginFromMesh: function () {\n      var e = new Re.Quaternion();\n      return function (t) {\n        var n;\n        if (this.rayOrigin.origin.set(0, 0, 0), this.rayOrigin.direction.set(0, 0, -1), this.rayOrigin.createdFromMesh = !0, n = t.getObjectByName(this.mapping.pointingPoseMeshName)) {\n          var i = t.parent;\n          i && (t.parent = null, t.updateMatrixWorld(!0), t.parent = i), n.getWorldPosition(this.rayOrigin.origin), n.getWorldQuaternion(e), this.rayOrigin.direction.applyQuaternion(e), i && t.updateMatrixWorld(!0);\n        } else Ul(\"Mesh does not contain pointing origin data, defaulting to none.\");\n        this.modelReady();\n      };\n    }(),\n    lerpAxisTransform: function () {\n      var e = new Re.Quaternion();\n      return function (t, n) {\n        var i = this.loadedMeshInfo.axisMeshes[t];\n        if (i) {\n          var r = i.min,\n            o = i.max,\n            s = i.value,\n            a = .5 * n + .5;\n          s.setRotationFromQuaternion(e.copy(r.quaternion).slerp(o.quaternion, a)), s.position.lerpVectors(r.position, o.position, a);\n        }\n      };\n    }(),\n    lerpButtonTransform: function () {\n      var e = new Re.Quaternion();\n      return function (t, n) {\n        var i = this.loadedMeshInfo.buttonMeshes[t];\n        if (i) {\n          var r = i.unpressed,\n            o = i.pressed,\n            s = i.value;\n          s.setRotationFromQuaternion(e.copy(r.quaternion).slerp(o.quaternion, n)), s.position.lerpVectors(r.position, o.position, n);\n        }\n      };\n    }(),\n    modelReady: function () {\n      this.el.emit(\"controllermodelready\", {\n        name: \"windows-motion-controls\",\n        model: this.data.model,\n        rayOrigin: this.rayOrigin\n      });\n    },\n    onButtonChanged: function (e) {\n      var t = this.mapping.buttons[e.detail.id];\n      t && (this.loadedMeshInfo && this.loadedMeshInfo.buttonMeshes && this.lerpButtonTransform(t, e.detail.state.value), this.el.emit(t + \"changed\", e.detail.state));\n    },\n    onAxisMoved: function (e) {\n      var t = this.mapping.axisMeshNames.length;\n      if (this.loadedMeshInfo && this.loadedMeshInfo.axisMeshes) for (var n = 0; n < t; n++) this.lerpAxisTransform(n, e.detail.axis[n] || 0);\n      Gr(this, this.mapping.axes, e);\n    },\n    setModelVisibility: function (e) {\n      var t = this.el.getObject3D(\"mesh\");\n      this.controllerPresent && (e = void 0 !== e ? e : this.modelVisible, this.modelVisible = e, t && (t.visible = e));\n    }\n  }), Tl = new Re.Quaternion(), Rl = new Re.Vector3(), function (e, t, n) {\n    t.position.copy(e.transform.position), t.quaternion.copy(e.transform.orientation), Rl.copy(n), Tl.copy(e.transform.orientation), Rl.applyQuaternion(Tl), t.position.sub(Rl);\n  });\nfunction _l(e, t) {\n  this.renderer = e, this.xrHitTestSource = null, e.xr.addEventListener(\"sessionend\", function () {\n    this.xrHitTestSource = null;\n  }.bind(this)), e.xr.addEventListener(\"sessionstart\", function () {\n    this.sessionStart(t);\n  }.bind(this)), this.renderer.xr.isPresenting && this.sessionStart(t);\n}\nfunction Hl(e) {\n  console.warn(e.message), console.warn('Cannot requestHitTestSource Are you missing: webxr=\"optionalFeatures: hit-test;\" from <a-scene>?');\n}\njl.tempFakePose = {\n  transform: {\n    orientation: new Re.Quaternion(),\n    position: new Re.Vector3()\n  }\n}, _l.prototype.previousFrameAnchors = new Set(), _l.prototype.anchorToObject3D = new Map(), _l.prototype.sessionStart = function (e) {\n  this.session = this.renderer.xr.getSession(), \"requestHitTestSource\" in this.session ? e.space ? this.session.requestHitTestSource(e).then(function (e) {\n    this.xrHitTestSource = e;\n  }.bind(this)).catch(Hl) : e.profile && this.session.requestHitTestSourceForTransientInput(e).then(function (e) {\n    this.xrHitTestSource = e, this.transient = !0;\n  }.bind(this)).catch(Hl) : Hl({\n    message: \"No requestHitTestSource on the session.\"\n  });\n}, _l.prototype.anchorFromLastHitTestResult = function (e, t) {\n  var n = this.lastHitTest;\n  if (n) {\n    var i = {\n      object3D: e,\n      offset: t\n    };\n    Array.from(this.anchorToObject3D.entries()).forEach(function (t) {\n      var n = t[1].object3D,\n        i = t[0];\n      n === e && (this.anchorToObject3D.delete(i), i.delete());\n    }.bind(this)), n.createAnchor && n.createAnchor().then(function (e) {\n      this.anchorToObject3D.set(e, i);\n    }.bind(this)).catch(function (e) {\n      console.warn(e.message), console.warn('Cannot create anchor, are you missing: webxr=\"optionalFeatures: anchors;\" from <a-scene>?');\n    });\n  }\n}, _l.prototype.doHit = function (e) {\n  if (this.renderer.xr.isPresenting) {\n    var t,\n      n,\n      i = this.renderer.xr.getReferenceSpace(),\n      r = e.getViewerPose(i);\n    return this.xrHitTestSource && r ? this.transient ? (t = e.getHitTestResultsForTransientInput(this.xrHitTestSource)).length > 0 && (n = t[0].results).length > 0 && (this.lastHitTest = n[0], n[0].getPose(i)) : (t = e.getHitTestResults(this.xrHitTestSource)).length > 0 && (this.lastHitTest = t[0], t[0].getPose(i)) : void 0;\n  }\n}, _l.updateAnchorPoses = function (e, t) {\n  var n = e.trackedAnchors || _l.prototype.previousFrameAnchors;\n  _l.prototype.previousFrameAnchors.forEach(function (e) {\n    n.has(e) || _l.prototype.anchorToObject3D.delete(e);\n  }), n.forEach(function (n) {\n    var i, r, o, s;\n    try {\n      if (i = e.getPose(n.anchorSpace, t)) {\n        if (!(r = _l.prototype.anchorToObject3D.get(n))) return;\n        o = r.offset, s = r.object3D, jl(i, s, o);\n      }\n    } catch (e) {\n      console.error(\"while updating anchor poses:\", e);\n    }\n  }), _l.prototype.previousFrameAnchors = n;\n}, cs(\"ar-hit-test\", {\n  schema: {\n    target: {\n      type: \"selector\"\n    },\n    enabled: {\n      default: !0\n    },\n    src: {\n      default: \"data:image/webp;base64,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\",\n      type: \"map\"\n    },\n    type: {\n      default: \"footprint\",\n      oneOf: [\"footprint\", \"map\"]\n    },\n    footprintDepth: {\n      default: .1\n    },\n    mapSize: {\n      type: \"vec2\",\n      default: {\n        x: .5,\n        y: .5\n      }\n    }\n  },\n  sceneOnly: !0,\n  init: function () {\n    this.hitTest = null, this.imageDataArray = new Uint8ClampedArray(1048576), this.imageData = new ImageData(this.imageDataArray, 512, 512), this.textureCache = new Map(), this.orthoCam = new Re.OrthographicCamera(), this.orthoCam.layers.set(21), this.textureTarget = new Re.WebGLRenderTarget(512, 512, {}), this.basicMaterial = new Re.MeshBasicMaterial({\n      color: 0,\n      side: Re.DoubleSide\n    }), this.canvas = document.createElement(\"canvas\"), this.context = this.canvas.getContext(\"2d\"), this.context.imageSmoothingEnabled = !1, this.canvas.width = 512, this.canvas.height = 512, this.canvasTexture = new Re.CanvasTexture(this.canvas, {\n      alpha: !0\n    }), this.canvasTexture.flipY = !1;\n    var e = this.el.getAttribute(\"webxr\"),\n      t = e.optionalFeatures;\n    t.includes(\"hit-test\") && t.includes(\"anchors\") || (t.push(\"hit-test\"), t.push(\"anchors\"), this.el.setAttribute(\"webxr\", e)), this.el.sceneEl.renderer.xr.addEventListener(\"sessionend\", function () {\n      this.hitTest = null;\n    }.bind(this)), this.el.sceneEl.addEventListener(\"enter-vr\", function () {\n      if (this.el.is(\"ar-mode\")) {\n        var e = this.el.sceneEl.renderer,\n          t = this.session = e.xr.getSession();\n        this.hasPosedOnce = !1, this.bboxMesh.visible = !1, Fl || (Fl = new Map()), t.requestReferenceSpace(\"viewer\").then(function (t) {\n          this.viewerHitTest = this.hitTest = new _l(e, {\n            space: t\n          }), this.el.emit(\"ar-hit-test-start\");\n        }.bind(this));\n        var n = this;\n        this.el.sceneEl.addEventListener(\"controllersupdated\", function () {\n          var t = this.xrSession && this.xrSession.inputSources;\n          if (t) for (var i = 0; i < t.length; ++i) if (\"tracked-pointer\" === t[i].targetRayMode) {\n            n.hitTest = new _l(e, {\n              space: t[i].targetRaySpace\n            }), Fl.set(t[i], n.hitTest), n.viewerHitTest && \"function\" == typeof n.viewerHitTest.cancel && (n.viewerHitTest.cancel(), n.viewerHitTest = null);\n            break;\n          }\n        });\n        var i = \"generic-touchscreen\",\n          r = new _l(e, {\n            profile: i\n          });\n        t.addEventListener(\"selectstart\", function (t) {\n          if (!0 === this.data.enabled) {\n            var n = t.inputSource;\n            this.bboxMesh.visible = !0, !0 === this.hasPosedOnce && (this.el.emit(\"ar-hit-test-select-start\", {\n              inputSource: n,\n              position: this.bboxMesh.position,\n              orientation: this.bboxMesh.quaternion\n            }), n.profiles[0] === i ? this.hitTest = r : (this.hitTest = Fl.get(n) || new _l(e, {\n              space: n.targetRaySpace\n            }), Fl.set(n, this.hitTest)));\n          }\n        }.bind(this)), t.addEventListener(\"selectend\", function (e) {\n          if (this.hitTest && !0 === this.data.enabled) {\n            var t,\n              n = e.inputSource;\n            !0 === this.hasPosedOnce && (this.bboxMesh.visible = !1, this.data.target && (t = this.data.target.object3D) && (jl.tempFakePose.transform.position.copy(this.bboxMesh.position), jl.tempFakePose.transform.orientation.copy(this.bboxMesh.quaternion), jl(jl.tempFakePose, t, this.bboxOffset), t.visible = !0, this.hitTest.anchorFromLastHitTestResult(t, this.bboxOffset)), this.el.emit(\"ar-hit-test-select\", {\n              inputSource: n,\n              position: this.bboxMesh.position,\n              orientation: this.bboxMesh.quaternion\n            }), this.hitTest = null);\n          } else this.hitTest = null;\n        }.bind(this));\n      }\n    }.bind(this)), this.bboxOffset = new Re.Vector3(), this.update = this.update.bind(this), this.makeBBox();\n  },\n  update: function () {\n    !1 === this.data.enabled && (this.hitTest = null, this.bboxMesh.visible = !1), this.data.target && (this.data.target.object3D ? (this.data.target.addEventListener(\"model-loaded\", this.update), this.data.target.object3D.layers.enable(21), this.data.target.object3D.traverse(function (e) {\n      e.layers.enable(21);\n    })) : this.data.target.addEventListener(\"loaded\", this.update, {\n      once: !0\n    })), this.bboxNeedsUpdate = !0;\n  },\n  makeBBox: function () {\n    var e = new Re.PlaneGeometry(1, 1),\n      t = new Re.MeshBasicMaterial({\n        transparent: !0,\n        color: 16777215\n      });\n    e.rotateX(-Math.PI / 2), e.rotateY(-Math.PI / 2), this.bbox = new Re.Box3(), this.bboxMesh = new Re.Mesh(e, t), this.el.setObject3D(\"ar-hit-test\", this.bboxMesh), this.bboxMesh.visible = !1;\n  },\n  updateFootprint: function () {\n    var e,\n      t,\n      n,\n      i = this.el.sceneEl.renderer,\n      r = i.xr.enabled;\n    this.bboxMesh.material.map = this.canvasTexture, this.bboxMesh.material.needsUpdate = !0, this.orthoCam.rotation.set(-Math.PI / 2, 0, -Math.PI / 2), this.orthoCam.position.copy(this.bboxMesh.position), this.orthoCam.position.y -= this.bboxMesh.scale.y / 2, this.orthoCam.near = .1, this.orthoCam.far = this.orthoCam.near + this.data.footprintDepth * this.bboxMesh.scale.y, this.orthoCam.position.y += this.orthoCam.far, this.orthoCam.right = this.bboxMesh.scale.z / 2, this.orthoCam.left = -this.bboxMesh.scale.z / 2, this.orthoCam.top = this.bboxMesh.scale.x / 2, this.orthoCam.bottom = -this.bboxMesh.scale.x / 2, this.orthoCam.updateProjectionMatrix(), t = i.getRenderTarget(), i.setRenderTarget(this.textureTarget), i.xr.enabled = !1, n = this.el.object3D.background, this.el.object3D.overrideMaterial = this.basicMaterial, this.el.object3D.background = null, i.render(this.el.object3D, this.orthoCam), this.el.object3D.background = n, this.el.object3D.overrideMaterial = null, i.xr.enabled = r, i.setRenderTarget(t), i.readRenderTargetPixels(this.textureTarget, 0, 0, 512, 512, this.imageDataArray), this.context.putImageData(this.imageData, 0, 0), this.context.shadowColor = \"white\", this.context.shadowBlur = 10, this.context.drawImage(this.canvas, 0, 0), e = this.context.getImageData(0, 0, 512, 512);\n    for (var o = 0; o < 262144; o++) 0 !== e.data[4 * o + 3] && 255 !== e.data[4 * o + 3] && (e.data[4 * o + 3] = 128);\n    this.context.putImageData(e, 0, 0), this.canvasTexture.needsUpdate = !0;\n  },\n  tick: function () {\n    var e,\n      t,\n      n = this.el.sceneEl.frame,\n      i = this.el.sceneEl.renderer;\n    (n && _l.updateAnchorPoses(n, i.xr.getReferenceSpace()), this.bboxNeedsUpdate) && (this.bboxNeedsUpdate = !1, this.data.target && \"map\" !== this.data.type || (this.textureCache.has(this.data.src) ? t = this.textureCache.get(this.data.src) : (t = new Re.TextureLoader().load(this.data.src), this.textureCache.set(this.data.src, t)), this.bboxMesh.material.map = t, this.bboxMesh.material.needsUpdate = !0), this.data.target && this.data.target.object3D ? (this.bbox.setFromObject(this.data.target.object3D), this.bbox.getCenter(this.bboxMesh.position), this.bbox.getSize(this.bboxMesh.scale), \"footprint\" === this.data.type && (this.bboxMesh.scale.x *= 1.04, this.bboxMesh.scale.z *= 1.04, this.updateFootprint()), this.bboxMesh.position.y -= this.bboxMesh.scale.y / 2, this.bboxOffset.copy(this.bboxMesh.position), this.bboxOffset.sub(this.data.target.object3D.position)) : this.bboxMesh.scale.set(this.data.mapSize.x, 1, this.data.mapSize.y));\n    this.hitTest && (e = this.hitTest.doHit(n)) && (!0 !== this.hasPosedOnce && (this.hasPosedOnce = !0, this.el.emit(\"ar-hit-test-achieved\")), this.bboxMesh.visible = !0, this.bboxMesh.position.copy(e.transform.position), this.bboxMesh.quaternion.copy(e.transform.orientation));\n  }\n}), cs(\"background\", {\n  schema: {\n    color: {\n      type: \"color\",\n      default: \"black\"\n    },\n    transparent: {\n      default: !1\n    }\n  },\n  sceneOnly: !0,\n  update: function () {\n    var e = this.data,\n      t = this.el.object3D;\n    e.transparent ? t.background = null : t.background = new Re.Color(e.color);\n  },\n  remove: function () {\n    this.el.object3D.background = null;\n  }\n}), cs(\"debug\", {\n  schema: {\n    default: !0\n  },\n  sceneOnly: !0\n});\nvar ql = \"a-dialog-buttons-container\",\n  Vl = \"a-dialog-button\";\nfunction zl(e, t) {\n  var n, i, r, o;\n  return (n = document.createElement(\"div\")).classList.add(\"a-modal\"), n.setAttribute(hi, \"\"), (i = document.createElement(\"div\")).className = \"a-dialog\", i.setAttribute(hi, \"\"), n.appendChild(i), (r = document.createElement(\"div\")).classList.add(\"a-dialog-text-container\"), i.appendChild(r), (o = document.createElement(\"div\")).classList.add(\"a-dialog-text\"), o.innerHTML = e, r.appendChild(o), i.appendChild(t), n;\n}\ncs(\"device-orientation-permission-ui\", {\n  schema: {\n    enabled: {\n      default: !0\n    },\n    deviceMotionMessage: {\n      default: \"This immersive website requires access to your device motion sensors.\"\n    },\n    httpsMessage: {\n      default: \"Access this site over HTTPS to enter VR mode and grant access to the device sensors.\"\n    },\n    denyButtonText: {\n      default: \"Deny\"\n    },\n    allowButtonText: {\n      default: \"Allow\"\n    },\n    cancelButtonText: {\n      default: \"Cancel\"\n    }\n  },\n  sceneOnly: !0,\n  init: function () {\n    var e = this;\n    this.data.enabled && (window.isSecureContext || this.showHTTPAlert(), \"undefined\" != typeof DeviceOrientationEvent && DeviceOrientationEvent.requestPermission ? (this.onDeviceMotionDialogAllowClicked = this.onDeviceMotionDialogAllowClicked.bind(this), this.onDeviceMotionDialogDenyClicked = this.onDeviceMotionDialogDenyClicked.bind(this), DeviceOrientationEvent.requestPermission().then(function () {\n      e.el.emit(\"deviceorientationpermissiongranted\"), e.permissionGranted = !0;\n    }).catch(function () {\n      var t, n, i, r, o, s, a, A;\n      e.devicePermissionDialogEl = (t = e.data.denyButtonText, n = e.data.allowButtonText, i = e.data.deviceMotionMessage, r = e.onDeviceMotionDialogAllowClicked, o = e.onDeviceMotionDialogDenyClicked, (s = document.createElement(\"div\")).classList.add(ql), (a = document.createElement(\"button\")).classList.add(Vl, \"a-dialog-deny-button\"), a.setAttribute(hi, \"\"), a.innerHTML = t, s.appendChild(a), (A = document.createElement(\"button\")).classList.add(Vl, \"a-dialog-allow-button\"), A.setAttribute(hi, \"\"), A.innerHTML = n, s.appendChild(A), A.addEventListener(\"click\", function (e) {\n        e.stopPropagation(), r();\n      }), a.addEventListener(\"click\", function (e) {\n        e.stopPropagation(), o();\n      }), zl(i, s)), e.el.appendChild(e.devicePermissionDialogEl);\n    })) : this.permissionGranted = !0);\n  },\n  remove: function () {\n    this.devicePermissionDialogEl && this.el.removeChild(this.devicePermissionDialogEl);\n  },\n  onDeviceMotionDialogDenyClicked: function () {\n    this.remove();\n  },\n  showHTTPAlert: function () {\n    var e,\n      t,\n      n,\n      i,\n      r,\n      o = this,\n      s = (e = o.data.cancelButtonText, t = o.data.httpsMessage, n = function () {\n        o.el.removeChild(s);\n      }, (i = document.createElement(\"div\")).classList.add(ql), (r = document.createElement(\"button\")).classList.add(Vl, \"a-dialog-ok-button\"), r.setAttribute(hi, \"\"), r.innerHTML = e, i.appendChild(r), r.addEventListener(\"click\", function (e) {\n        e.stopPropagation(), n();\n      }), zl(t, i));\n    this.el.appendChild(s);\n  },\n  onDeviceMotionDialogAllowClicked: function () {\n    var e = this;\n    this.el.emit(\"deviceorientationpermissionrequested\"), DeviceOrientationEvent.requestPermission().then(function (t) {\n      \"granted\" === t ? (e.el.emit(\"deviceorientationpermissiongranted\"), e.permissionGranted = !0) : e.el.emit(\"deviceorientationpermissionrejected\"), e.remove();\n    }).catch(console.error);\n  }\n}), cs(\"embedded\", {\n  dependencies: [\"xr-mode-ui\"],\n  schema: {\n    default: !0\n  },\n  sceneOnly: !0,\n  update: function () {\n    var e = this.el,\n      t = e.querySelector(\".a-enter-vr\");\n    !0 === this.data ? (t && t.classList.add(\"embedded\"), e.removeFullScreenStyles()) : (t && t.classList.remove(\"embedded\"), e.addFullScreenStyles());\n  }\n});\nvar Yl = \"https://unpkg.com/aframe-inspector@\" + function () {\n  var e = ca.split(\".\");\n  return e[2] = \"x\", e.join(\".\");\n}() + \"/dist/aframe-inspector.min.js\";\ncs(\"inspector\", {\n  schema: {\n    url: {\n      default: Yl\n    }\n  },\n  sceneOnly: !0,\n  init: function () {\n    this.firstPlay = !0, this.onKeydown = this.onKeydown.bind(this), this.onMessage = this.onMessage.bind(this), this.initOverlay(), window.addEventListener(\"keydown\", this.onKeydown), window.addEventListener(\"message\", this.onMessage);\n  },\n  play: function () {\n    var e;\n    this.firstPlay && \"false\" !== (e = so(\"inspector\")) && e && (this.openInspector(), this.firstPlay = !1);\n  },\n  initOverlay: function () {\n    this.loadingMessageEl = document.createElement(\"div\"), this.loadingMessageEl.classList.add(\"a-inspector-loader\"), this.loadingMessageEl.innerHTML = 'Loading Inspector<span class=\"dots\"><span>.</span><span>.</span><span>.</span></span>';\n  },\n  remove: function () {\n    this.removeEventListeners();\n  },\n  onKeydown: function (e) {\n    73 === e.keyCode && (e.ctrlKey && e.altKey || e.getModifierState(\"AltGraph\")) && this.openInspector();\n  },\n  showLoader: function () {\n    document.body.appendChild(this.loadingMessageEl);\n  },\n  hideLoader: function () {\n    document.body.removeChild(this.loadingMessageEl);\n  },\n  onMessage: function (e) {\n    \"INJECT_AFRAME_INSPECTOR\" === e.data && this.openInspector();\n  },\n  openInspector: function (e) {\n    var t,\n      n = this;\n    AFRAME.INSPECTOR || AFRAME.inspectorInjected ? AFRAME.INSPECTOR.open(e) : (this.showLoader(), (t = document.createElement(\"script\")).src = this.data.url, t.setAttribute(\"data-name\", \"aframe-inspector\"), t.setAttribute(hi, \"\"), t.onload = function () {\n      AFRAME.INSPECTOR.open(e), n.hideLoader(), n.removeEventListeners();\n    }, t.onerror = function () {\n      n.loadingMessageEl.innerHTML = \"Error loading Inspector\";\n    }, document.head.appendChild(t), AFRAME.inspectorInjected = !0);\n  },\n  removeEventListeners: function () {\n    window.removeEventListener(\"keydown\", this.onKeydown), window.removeEventListener(\"message\", this.onMessage);\n  }\n}), cs(\"fog\", {\n  schema: {\n    color: {\n      type: \"color\",\n      default: \"#000\"\n    },\n    density: {\n      default: 25e-5\n    },\n    far: {\n      default: 1e3,\n      min: 0\n    },\n    near: {\n      default: 1,\n      min: 0\n    },\n    type: {\n      default: \"linear\",\n      oneOf: [\"linear\", \"exponential\"]\n    }\n  },\n  sceneOnly: !0,\n  update: function () {\n    var e = this.data,\n      t = this.el,\n      n = this.el.object3D.fog;\n    n && e.type === n.name ? Object.keys(this.schema).forEach(function (t) {\n      var i = e[t];\n      \"color\" === t && (i = new Re.Color(i)), n[t] = i;\n    }) : t.object3D.fog = function (e) {\n      var t;\n      return (t = \"exponential\" === e.type ? new Re.FogExp2(e.color, e.density) : new Re.Fog(e.color, e.near, e.far)).name = e.type, t;\n    }(e);\n  },\n  remove: function () {\n    var e = this.el;\n    this.el.object3D.fog && (e.object3D.fog = null);\n  }\n}), cs(\"keyboard-shortcuts\", {\n  schema: {\n    enterVR: {\n      default: !0\n    },\n    exitVR: {\n      default: !0\n    }\n  },\n  sceneOnly: !0,\n  init: function () {\n    this.onKeyup = this.onKeyup.bind(this);\n  },\n  play: function () {\n    window.addEventListener(\"keyup\", this.onKeyup, !1);\n  },\n  pause: function () {\n    window.removeEventListener(\"keyup\", this.onKeyup);\n  },\n  onKeyup: function (e) {\n    var t = this.el;\n    io(e) && (this.data.enterVR && 70 === e.keyCode && t.enterVR(), this.data.exitVR && 27 === e.keyCode && t.exitVR());\n  }\n});\nvar Kl = fi(\"components:pool:warn\");\ncs(\"pool\", {\n  schema: {\n    container: {\n      default: \"\"\n    },\n    mixin: {\n      default: \"\"\n    },\n    size: {\n      default: 0\n    },\n    dynamic: {\n      default: !1\n    }\n  },\n  sceneOnly: !0,\n  multiple: !0,\n  initPool: function () {\n    var e;\n    for (this.availableEls = [], this.usedEls = [], this.data.mixin || Kl(\"No mixin provided for pool component.\"), this.data.container && (this.container = document.querySelector(this.data.container), this.container || Kl(\"Container \" + this.data.container + \" not found.\")), this.container = this.container || this.el, e = 0; e < this.data.size; ++e) this.createEntity();\n  },\n  update: function (e) {\n    var t = this.data;\n    e.mixin === t.mixin && e.size === t.size || this.initPool();\n  },\n  createEntity: function () {\n    var e;\n    (e = document.createElement(\"a-entity\")).play = this.wrapPlay(e.play), e.setAttribute(\"mixin\", this.data.mixin), e.object3D.visible = !1, e.pause(), this.container.appendChild(e), this.availableEls.push(e);\n    var t = this.usedEls;\n    e.addEventListener(\"loaded\", function () {\n      -1 === t.indexOf(e) && (e.object3DParent = e.object3D.parent, e.object3D.parent.remove(e.object3D));\n    });\n  },\n  wrapPlay: function (e) {\n    var t = this.usedEls;\n    return function () {\n      -1 !== t.indexOf(this) && e.call(this);\n    };\n  },\n  requestEntity: function () {\n    var e;\n    if (0 === this.availableEls.length) {\n      if (!1 === this.data.dynamic) return void Kl(\"Requested entity from empty pool: \" + this.attrName);\n      Kl(\"Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: \" + this.attrName), this.createEntity();\n    }\n    return e = this.availableEls.shift(), this.usedEls.push(e), e.object3DParent && (e.object3DParent.add(e.object3D), this.updateRaycasters()), e.object3D.visible = !0, e;\n  },\n  returnEntity: function (e) {\n    var t = this.usedEls.indexOf(e);\n    if (-1 !== t) return this.usedEls.splice(t, 1), this.availableEls.push(e), e.object3DParent = e.object3D.parent, e.object3D.parent.remove(e.object3D), this.updateRaycasters(), e.object3D.visible = !1, e.pause(), e;\n    Kl(\"The returned entity was not previously pooled from \" + this.attrName);\n  },\n  updateRaycasters: function () {\n    document.querySelectorAll(\"[raycaster]\").forEach(function (e) {\n      e.components.raycaster.setDirty();\n    });\n  }\n}), cs(\"real-world-meshing\", {\n  schema: {\n    filterLabels: {\n      type: \"array\"\n    },\n    meshesEnabled: {\n      default: !0\n    },\n    meshMixin: {\n      default: !0\n    },\n    planesEnabled: {\n      default: !0\n    },\n    planeMixin: {\n      default: \"\"\n    }\n  },\n  sceneOnly: !0,\n  init: function () {\n    var e = this.el.getAttribute(\"webxr\"),\n      t = e.requiredFeatures;\n    -1 === t.indexOf(\"mesh-detection\") && (t.push(\"mesh-detection\"), this.el.setAttribute(\"webxr\", e)), -1 === t.indexOf(\"plane-detection\") && (t.push(\"plane-detection\"), this.el.setAttribute(\"webxr\", e)), this.meshEntities = [], this.initWorldMeshEntity = this.initWorldMeshEntity.bind(this);\n  },\n  tick: function () {\n    this.el.is(\"ar-mode\") && (this.detectMeshes(), this.updateMeshes());\n  },\n  detectMeshes: function () {\n    var e,\n      t,\n      n,\n      i = this.data,\n      r = this.el,\n      o = this.meshEntities,\n      s = !1,\n      a = [],\n      A = this.data.filterLabels;\n    e = (n = r.frame).detectedMeshes, t = n.detectedPlanes;\n    for (var l = 0; l < o.length; l++) o[l].present = !1;\n    if (i.meshesEnabled) for (var c of e.values()) if (!A.length || -1 !== A.indexOf(c.semanticLabel)) {\n      for (l = 0; l < o.length; l++) if (c === o[l].mesh) {\n        s = !0, o[l].present = !0, o[l].lastChangedTime < c.lastChangedTime && this.updateMeshGeometry(o[l].el, c), o[l].lastChangedTime = c.lastChangedTime;\n        break;\n      }\n      s || a.push(c), s = !1;\n    }\n    if (i.planesEnabled) for (c of t.values()) if (!A.length || -1 !== A.indexOf(c.semanticLabel)) {\n      for (l = 0; l < o.length; l++) if (c === o[l].mesh) {\n        s = !0, o[l].present = !0, o[l].lastChangedTime < c.lastChangedTime && this.updateMeshGeometry(o[l].el, c), o[l].lastChangedTime = c.lastChangedTime;\n        break;\n      }\n      s || a.push(c), s = !1;\n    }\n    this.deleteMeshes(), this.createNewMeshes(a);\n  },\n  updateMeshes: function () {\n    var e = new Re.Matrix4();\n    return function () {\n      for (var t, n, i, r = this.el, o = r.frame, s = this.meshEntities, a = r.renderer.xr.getReferenceSpace(), A = 0; A < s.length; A++) i = s[A].mesh.meshSpace || s[A].mesh.planeSpace, t = o.getPose(i, a), (n = s[A].el).hasLoaded && (e.fromArray(t.transform.matrix), e.decompose(n.object3D.position, n.object3D.quaternion, n.object3D.scale));\n    };\n  }(),\n  deleteMeshes: function () {\n    for (var e = this.meshEntities, t = [], n = 0; n < e.length; n++) e[n].present ? t.push(e[n]) : this.el.removeChild(e[n]);\n    this.meshEntities = t;\n  },\n  createNewMeshes: function (e) {\n    for (var t, n = 0; n < e.length; n++) t = document.createElement(\"a-entity\"), this.meshEntities.push({\n      mesh: e[n],\n      el: t\n    }), t.addEventListener(\"loaded\", this.initWorldMeshEntity), this.el.appendChild(t);\n  },\n  initMeshGeometry: function (e) {\n    var t, n, i;\n    if (e instanceof XRPlane) {\n      n = new Re.Shape(), i = e.polygon;\n      for (var r = 0; r < i.length; ++r) 0 === r ? n.moveTo(i[r].x, i[r].z) : n.lineTo(i[r].x, i[r].z);\n      return (t = new Re.ShapeGeometry(n)).rotateX(Math.PI / 2), t;\n    }\n    return (t = new Re.BufferGeometry()).setAttribute(\"position\", new Re.BufferAttribute(e.vertices, 3)), t.setIndex(new Re.BufferAttribute(e.indices, 1)), t;\n  },\n  initWorldMeshEntity: function (e) {\n    for (var t, n, i, r = e.target, o = this.meshEntities, s = 0; s < o.length; s++) if (o[s].el === r) {\n      i = o[s];\n      break;\n    }\n    t = this.initMeshGeometry(i.mesh), n = new Re.Mesh(t, new Re.MeshBasicMaterial({\n      color: 16777215 * Math.random(),\n      side: Re.DoubleSide\n    })), r.setObject3D(\"mesh\", n), i.mesh instanceof XRPlane && this.data.planeMixin ? r.setAttribute(\"mixin\", this.data.planeMixin) : this.data.meshMixin && r.setAttribute(\"mixin\", this.data.meshMixin), r.setAttribute(\"data-world-mesh\", i.mesh.semanticLabel);\n  },\n  updateMeshGeometry: function (e, t) {\n    var n = e.getObject3D(\"mesh\");\n    n.geometry.dispose(), n.geometry = this.initMeshGeometry(t);\n  }\n}), cs(\"reflection\", {\n  schema: {\n    directionalLight: {\n      type: \"selector\"\n    }\n  },\n  sceneOnly: !0,\n  init: function () {\n    var e = this;\n    this.cubeRenderTarget = new Re.WebGLCubeRenderTarget(16), this.cubeCamera = new Re.CubeCamera(.1, 1e3, this.cubeRenderTarget), this.lightingEstimationTexture = new Re.WebGLCubeRenderTarget(16).texture, this.needsVREnvironmentUpdate = !0;\n    var t = this.el.getAttribute(\"webxr\"),\n      n = t.optionalFeatures;\n    n.includes(\"light-estimation\") || (n.push(\"light-estimation\"), this.el.setAttribute(\"webxr\", t)), this.el.addEventListener(\"enter-vr\", function () {\n      e.el.is(\"ar-mode\") && e.el.renderer.xr.getSession().requestLightProbe && e.startLightProbe();\n    }), this.el.addEventListener(\"exit-vr\", function () {\n      e.xrLightProbe && e.stopLightProbe();\n    }), this.el.object3D.environment = this.cubeRenderTarget.texture;\n  },\n  stopLightProbe: function () {\n    this.xrLightProbe = null, this.probeLight && (this.probeLight.components.light.light.intensity = 0), this.needsVREnvironmentUpdate = !0, this.el.object3D.environment = this.cubeRenderTarget.texture;\n  },\n  startLightProbe: function () {\n    this.needsLightProbeUpdate = !0;\n  },\n  setupLightProbe: function () {\n    var e = this.el.renderer,\n      t = e.xr.getSession(),\n      n = this,\n      i = e.getContext();\n    if (!this.probeLight) {\n      var r = document.createElement(\"a-light\");\n      r.setAttribute(\"type\", \"probe\"), r.setAttribute(\"intensity\", 0), this.el.appendChild(r), this.probeLight = r;\n    }\n    switch (t.preferredReflectionFormat) {\n      case \"srgba8\":\n        i.getExtension(\"EXT_sRGB\");\n        break;\n      case \"rgba16f\":\n        i.getExtension(\"OES_texture_half_float\");\n    }\n    this.glBinding = new XRWebGLBinding(t, i), i.getExtension(\"EXT_sRGB\"), i.getExtension(\"OES_texture_half_float\"), t.requestLightProbe().then(function (e) {\n      n.xrLightProbe = e, e.addEventListener(\"reflectionchange\", n.updateXRCubeMap.bind(n));\n    }).catch(function (e) {\n      console.warn(\"Lighting estimation not supported: \" + e.message), console.warn('Are you missing: webxr=\"optionalFeatures: light-estimation;\" from <a-scene>?');\n    });\n  },\n  updateXRCubeMap: function () {\n    var e = this.el.renderer,\n      t = this.glBinding.getReflectionCubeMap(this.xrLightProbe);\n    t && (e.properties.get(this.lightingEstimationTexture).__webglTexture = t, this.lightingEstimationTexture.needsPMREMUpdate = !0, this.el.object3D.environment = this.lightingEstimationTexture);\n  },\n  tick: function () {\n    var e = this.el.object3D,\n      t = this.el.renderer,\n      n = this.el.frame;\n    if (n && this.xrLightProbe) {\n      var i = n.getLightEstimate(this.xrLightProbe);\n      i && function (e, t, n, i) {\n        var r = Math.max(e.primaryLightIntensity.x, Math.max(e.primaryLightIntensity.y, e.primaryLightIntensity.z));\n        t.sh.fromArray(e.sphericalHarmonicsCoefficients), t.intensity = 3.14, n && (n.color.setRGB(e.primaryLightIntensity.x / r, e.primaryLightIntensity.y / r, e.primaryLightIntensity.z / r), n.intensity = r, i.copy(e.primaryLightDirection));\n      }(i, this.probeLight.components.light.light, this.data.directionalLight && this.data.directionalLight.components.light.light, this.data.directionalLight && this.data.directionalLight.object3D.position);\n    }\n    this.needsVREnvironmentUpdate && (e.environment = null, this.needsVREnvironmentUpdate = !1, this.cubeCamera.position.set(0, 1.6, 0), this.cubeCamera.update(t, e), e.environment = this.cubeRenderTarget.texture), this.needsLightProbeUpdate && n && (this.setupLightProbe(), this.needsLightProbeUpdate = !1);\n  },\n  remove: function () {\n    this.el.object3D.environment = null, this.probeLight && this.el.removeChild(this.probeLight);\n  }\n});\nvar Wl = [\"attribute vec3 position;\", \"attribute vec2 uv;\", \"uniform mat4 projectionMatrix;\", \"uniform mat4 modelViewMatrix;\", \"varying vec2 vUv;\", \"void main()  {\", \"  vUv = vec2( 1.- uv.x, uv.y );\", \"  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n  Jl = [\"precision mediump float;\", \"uniform samplerCube map;\", \"varying vec2 vUv;\", \"#define M_PI 3.141592653589793238462643383279\", \"void main() {\", \"  vec2 uv = vUv;\", \"  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;\", \"  float latitude = uv.y * M_PI;\", \"  vec3 dir = vec3(\", \"    - sin( longitude ) * sin( latitude ),\", \"    cos( latitude ),\", \"    - cos( longitude ) * sin( latitude )\", \"  );\", \"  normalize( dir );\", \"  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );\", \"}\"].join(\"\\n\"),\n  Xl = (cs(\"screenshot\", {\n    schema: {\n      width: {\n        default: 4096\n      },\n      height: {\n        default: 2048\n      },\n      camera: {\n        type: \"selector\"\n      }\n    },\n    sceneOnly: !0,\n    setup: function () {\n      var e = this.el;\n      if (!this.canvas) {\n        var t = e.renderer.getContext();\n        t && (this.cubeMapSize = t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE), this.material = new Re.RawShaderMaterial({\n          uniforms: {\n            map: {\n              type: \"t\",\n              value: null\n            }\n          },\n          vertexShader: Wl,\n          fragmentShader: Jl,\n          side: Re.DoubleSide\n        }), this.quad = new Re.Mesh(new Re.PlaneGeometry(1, 1), this.material), this.quad.visible = !1, this.camera = new Re.OrthographicCamera(-.5, .5, .5, -.5, -1e4, 1e4), this.canvas = document.createElement(\"canvas\"), this.ctx = this.canvas.getContext(\"2d\"), e.object3D.add(this.quad), this.onKeyDown = this.onKeyDown.bind(this));\n      }\n    },\n    getRenderTarget: function (e, t) {\n      return new Re.WebGLRenderTarget(e, t, {\n        colorSpace: this.el.sceneEl.renderer.outputColorSpace,\n        minFilter: Re.LinearFilter,\n        magFilter: Re.LinearFilter,\n        wrapS: Re.ClampToEdgeWrapping,\n        wrapT: Re.ClampToEdgeWrapping,\n        format: Re.RGBAFormat,\n        type: Re.UnsignedByteType\n      });\n    },\n    resize: function (e, t) {\n      this.quad.scale.set(e, t, 1), this.camera.left = -1 * e / 2, this.camera.right = e / 2, this.camera.top = t / 2, this.camera.bottom = -1 * t / 2, this.camera.updateProjectionMatrix(), this.canvas.width = e, this.canvas.height = t;\n    },\n    play: function () {\n      window.addEventListener(\"keydown\", this.onKeyDown);\n    },\n    onKeyDown: function (e) {\n      var t = 83 === e.keyCode && e.ctrlKey && e.altKey;\n      if (this.data && t) {\n        var n = e.shiftKey ? \"equirectangular\" : \"perspective\";\n        this.capture(n);\n      }\n    },\n    setCapture: function (e) {\n      var t,\n        n,\n        i,\n        r,\n        o = this.el;\n      return \"perspective\" === e ? (this.quad.visible = !1, n = this.data.camera && this.data.camera.components.camera.camera || o.camera, t = {\n        width: this.data.width,\n        height: this.data.height\n      }) : (n = this.camera, r = new Re.WebGLCubeRenderTarget(Math.min(this.cubeMapSize, 2048), {\n        format: Re.RGBFormat,\n        generateMipmaps: !0,\n        minFilter: Re.LinearMipmapLinearFilter,\n        colorSpace: Re.SRGBColorSpace\n      }), i = new Re.CubeCamera(o.camera.near, o.camera.far, r), o.camera.getWorldPosition(i.position), o.camera.getWorldQuaternion(i.quaternion), i.update(o.renderer, o.object3D), this.quad.material.uniforms.map.value = i.renderTarget.texture, t = {\n        width: this.data.width,\n        height: this.data.height\n      }, this.quad.visible = !0), {\n        camera: n,\n        size: t,\n        projection: e\n      };\n    },\n    capture: function (e) {\n      var t,\n        n = this.el.renderer.xr.enabled,\n        i = this.el.renderer;\n      this.setup(), i.xr.enabled = !1, t = this.setCapture(e), this.renderCapture(t.camera, t.size, t.projection), this.saveCapture(), i.xr.enabled = n;\n    },\n    getCanvas: function (e) {\n      var t = this.el.renderer.xr.enabled,\n        n = this.el.renderer;\n      this.setup();\n      var i = this.setCapture(e);\n      return n.xr.enabled = !1, this.renderCapture(i.camera, i.size, i.projection), n.xr.enabled = t, this.canvas;\n    },\n    renderCapture: function (e, t, n) {\n      var i,\n        r,\n        o,\n        s = this.el.renderer.autoClear,\n        a = this.el,\n        A = a.renderer;\n      r = this.getRenderTarget(t.width, t.height), o = new Uint8Array(4 * t.width * t.height), this.resize(t.width, t.height), A.autoClear = !0, A.clear(), A.setRenderTarget(r), A.render(a.object3D, e), A.autoClear = s, A.readRenderTargetPixels(r, 0, 0, t.width, t.height, o), A.setRenderTarget(null), \"perspective\" === n && (o = this.flipPixelsVertically(o, t.width, t.height)), i = new ImageData(new Uint8ClampedArray(o), t.width, t.height), this.quad.visible = !1, this.ctx.putImageData(i, 0, 0);\n    },\n    flipPixelsVertically: function (e, t, n) {\n      for (var i = e.slice(0), r = 0; r < t; ++r) for (var o = 0; o < n; ++o) i[4 * r + o * t * 4] = e[4 * r + (n - o) * t * 4], i[4 * r + 1 + o * t * 4] = e[4 * r + 1 + (n - o) * t * 4], i[4 * r + 2 + o * t * 4] = e[4 * r + 2 + (n - o) * t * 4], i[4 * r + 3 + o * t * 4] = e[4 * r + 3 + (n - o) * t * 4];\n      return i;\n    },\n    saveCapture: function () {\n      this.canvas.toBlob(function (e) {\n        var t = \"screenshot-\" + document.title.toLowerCase() + \"-\" + Date.now() + \".png\",\n          n = document.createElement(\"a\"),\n          i = URL.createObjectURL(e);\n        n.href = i, n.setAttribute(\"download\", t), n.innerHTML = \"downloading...\", n.style.display = \"none\", document.body.appendChild(n), setTimeout(function () {\n          n.click(), document.body.removeChild(n);\n        }, 1);\n      }, \"image/png\");\n    }\n  }), i(282)),\n  Zl = i.n(Xl),\n  $l = (i(3729), i(8132), window.aframeStats),\n  ec = \"a-hidden\",\n  tc = window.threeStats;\ncs(\"stats\", {\n  schema: {\n    default: !0\n  },\n  sceneOnly: !0,\n  init: function () {\n    var e = this.el;\n    \"false\" !== so(\"stats\") && (this.stats = function (e) {\n      var t = new tc(e.renderer),\n        n = new $l(e),\n        i = e.isMobile ? [] : [t, n];\n      return new (Zl())({\n        css: [],\n        values: {\n          fps: {\n            caption: \"fps\",\n            below: 30\n          }\n        },\n        groups: [{\n          caption: \"Framerate\",\n          values: [\"fps\", \"raf\"]\n        }],\n        plugins: i\n      });\n    }(e), this.statsEl = document.querySelector(\".rs-base\"), this.hideBound = this.hide.bind(this), this.showBound = this.show.bind(this), e.addEventListener(\"enter-vr\", this.hideBound), e.addEventListener(\"exit-vr\", this.showBound));\n  },\n  update: function () {\n    if (this.stats) return this.data ? this.show() : this.hide();\n  },\n  remove: function () {\n    this.el.removeEventListener(\"enter-vr\", this.hideBound), this.el.removeEventListener(\"exit-vr\", this.showBound), this.statsEl && this.statsEl.parentNode.removeChild(this.statsEl);\n  },\n  tick: function () {\n    var e = this.stats;\n    e && (e(\"rAF\").tick(), e(\"FPS\").frame(), e().update());\n  },\n  hide: function () {\n    this.statsEl.classList.add(ec);\n  },\n  show: function () {\n    this.statsEl.classList.remove(ec);\n  }\n});\nvar nc = \"a-hidden\";\nfunction ic(e) {\n  e.addEventListener(\"touchstart\", function () {\n    e.classList.remove(\"resethover\");\n  }, {\n    passive: !0\n  }), e.addEventListener(\"touchend\", function () {\n    e.classList.add(\"resethover\");\n  }, {\n    passive: !0\n  });\n}\ncs(\"xr-mode-ui\", {\n  dependencies: [\"canvas\"],\n  schema: {\n    enabled: {\n      default: !0\n    },\n    enterVRButton: {\n      default: \"\"\n    },\n    enterVREnabled: {\n      default: !0\n    },\n    enterARButton: {\n      default: \"\"\n    },\n    enterAREnabled: {\n      default: !0\n    },\n    XRMode: {\n      default: \"vr\",\n      oneOf: [\"vr\", \"ar\", \"xr\"]\n    }\n  },\n  sceneOnly: !0,\n  init: function () {\n    var e = this,\n      t = this.el;\n    \"false\" !== so(\"ui\") && (this.insideLoader = !1, this.enterVREl = null, this.enterAREl = null, this.orientationModalEl = null, this.bindMethods(), t.addEventListener(\"enter-vr\", this.updateEnterInterfaces), t.addEventListener(\"exit-vr\", this.updateEnterInterfaces), t.addEventListener(\"update-vr-devices\", this.updateEnterInterfaces), window.addEventListener(\"message\", function (t) {\n      \"loaderReady\" === t.data.type && (e.insideLoader = !0, e.remove());\n    }), window.addEventListener(\"orientationchange\", this.toggleOrientationModalIfNeeded));\n  },\n  bindMethods: function () {\n    this.onEnterVRButtonClick = this.onEnterVRButtonClick.bind(this), this.onEnterARButtonClick = this.onEnterARButtonClick.bind(this), this.onModalClick = this.onModalClick.bind(this), this.toggleOrientationModalIfNeeded = this.toggleOrientationModalIfNeeded.bind(this), this.updateEnterInterfaces = this.updateEnterInterfaces.bind(this);\n  },\n  onModalClick: function () {\n    this.el.exitVR();\n  },\n  onEnterVRButtonClick: function () {\n    this.el.enterVR();\n  },\n  onEnterARButtonClick: function () {\n    this.el.enterAR();\n  },\n  update: function () {\n    var e,\n      t,\n      n,\n      i = this.data,\n      r = this.el;\n    if (!i.enabled || this.insideLoader || \"false\" === so(\"ui\")) return this.remove();\n    this.enterVREl || this.enterAREl || this.orientationModalEl || (this.enterVREl || !i.enterVREnabled || \"xr\" !== i.XRMode && \"vr\" !== i.XRMode || (i.enterVRButton ? (this.enterVREl = document.querySelector(i.enterVRButton), this.enterVREl.addEventListener(\"click\", this.onEnterVRButtonClick)) : (this.enterVREl = (e = this.onEnterVRButtonClick, (n = document.createElement(\"div\")).classList.add(\"a-enter-vr\"), n.setAttribute(hi, \"\"), (t = document.createElement(\"button\")).className = \"a-enter-vr-button\", t.setAttribute(\"title\", \"Enter VR mode with a headset or fullscreen without\"), t.setAttribute(hi, \"\"), Si() && ic(t), n.appendChild(t), t.addEventListener(\"click\", function (t) {\n      e(), t.stopPropagation();\n    }), n), r.appendChild(this.enterVREl))), this.enterAREl || !i.enterAREnabled || \"xr\" !== i.XRMode && \"ar\" !== i.XRMode || (i.enterARButton ? (this.enterAREl = document.querySelector(i.enterARButton), this.enterAREl.addEventListener(\"click\", this.onEnterARButtonClick)) : (this.enterAREl = function (e, t) {\n      var n, i;\n      return (i = document.createElement(\"div\")).classList.add(\"a-enter-ar\"), t && i.classList.add(\"xr\"), i.setAttribute(hi, \"\"), (n = document.createElement(\"button\")).className = \"a-enter-ar-button\", n.setAttribute(\"title\", \"Enter AR mode with a headset or handheld device.\"), n.setAttribute(hi, \"\"), Si() && ic(n), i.appendChild(n), n.addEventListener(\"click\", function (t) {\n        e(), t.stopPropagation();\n      }), i;\n    }(this.onEnterARButtonClick, \"xr\" === i.XRMode), r.appendChild(this.enterAREl))), this.orientationModalEl = function (e) {\n      var t = document.createElement(\"div\");\n      t.className = \"a-orientation-modal\", t.classList.add(nc), t.setAttribute(hi, \"\");\n      var n = document.createElement(\"button\");\n      return n.setAttribute(hi, \"\"), n.innerHTML = \"Exit VR\", n.addEventListener(\"click\", e), t.appendChild(n), t;\n    }(this.onModalClick), r.appendChild(this.orientationModalEl), this.updateEnterInterfaces());\n  },\n  remove: function () {\n    [this.enterVREl, this.enterAREl, this.orientationModalEl].forEach(function (e) {\n      e && e.parentNode && e.parentNode.removeChild(e);\n    }), this.enterVREl = void 0, this.enterAREl = void 0, this.orientationModalEl = void 0;\n  },\n  updateEnterInterfaces: function () {\n    this.toggleEnterVRButtonIfNeeded(), this.toggleEnterARButtonIfNeeded(), this.toggleOrientationModalIfNeeded();\n  },\n  toggleEnterVRButtonIfNeeded: function () {\n    var e = this.el;\n    this.enterVREl && (e.is(\"vr-mode\") || (e.isMobile || Fi()) && !Qi() ? this.enterVREl.classList.add(nc) : (Qi() || this.enterVREl.classList.add(\"fullscreen\"), this.enterVREl.classList.remove(nc), e.enterVR(!1, !0)));\n  },\n  toggleEnterARButtonIfNeeded: function () {\n    var e = this.el;\n    this.enterAREl && (e.is(\"vr-mode\") || !xi() ? this.enterAREl.classList.add(nc) : (this.enterAREl.classList.remove(nc), e.enterVR(!0, !0)));\n  },\n  toggleOrientationModalIfNeeded: function () {\n    var e = this.el,\n      t = this.orientationModalEl;\n    t && e.isMobile && (!Ni() && e.is(\"vr-mode\") ? t.classList.remove(nc) : t.classList.add(nc));\n  }\n}), qs(\"box\", {\n  schema: {\n    depth: {\n      default: 1,\n      min: 0\n    },\n    height: {\n      default: 1,\n      min: 0\n    },\n    width: {\n      default: 1,\n      min: 0\n    },\n    segmentsHeight: {\n      default: 1,\n      min: 1,\n      max: 20,\n      type: \"int\"\n    },\n    segmentsWidth: {\n      default: 1,\n      min: 1,\n      max: 20,\n      type: \"int\"\n    },\n    segmentsDepth: {\n      default: 1,\n      min: 1,\n      max: 20,\n      type: \"int\"\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.BoxGeometry(e.width, e.height, e.depth, e.segmentsWidth, e.segmentsHeight, e.segmentsDepth);\n  }\n});\nvar rc = Re.MathUtils.degToRad;\nqs(\"circle\", {\n  schema: {\n    radius: {\n      default: 1,\n      min: 0\n    },\n    segments: {\n      default: 32,\n      min: 3,\n      type: \"int\"\n    },\n    thetaLength: {\n      default: 360,\n      min: 0\n    },\n    thetaStart: {\n      default: 0\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.CircleGeometry(e.radius, e.segments, rc(e.thetaStart), rc(e.thetaLength));\n  }\n});\nvar oc = Re.MathUtils.degToRad;\nqs(\"cone\", {\n  schema: {\n    height: {\n      default: 1,\n      min: 0\n    },\n    openEnded: {\n      default: !1\n    },\n    radiusBottom: {\n      default: 1,\n      min: 0\n    },\n    radiusTop: {\n      default: .01,\n      min: 0\n    },\n    segmentsHeight: {\n      default: 18,\n      min: 1,\n      type: \"int\"\n    },\n    segmentsRadial: {\n      default: 36,\n      min: 3,\n      type: \"int\"\n    },\n    thetaLength: {\n      default: 360,\n      min: 0\n    },\n    thetaStart: {\n      default: 0\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.CylinderGeometry(e.radiusTop, e.radiusBottom, e.height, e.segmentsRadial, e.segmentsHeight, e.openEnded, oc(e.thetaStart), oc(e.thetaLength));\n  }\n});\nvar sc = Re.MathUtils.degToRad;\nqs(\"cylinder\", {\n  schema: {\n    height: {\n      default: 1,\n      min: 0\n    },\n    openEnded: {\n      default: !1\n    },\n    radius: {\n      default: 1,\n      min: 0\n    },\n    segmentsHeight: {\n      default: 18,\n      min: 1,\n      type: \"int\"\n    },\n    segmentsRadial: {\n      default: 36,\n      min: 3,\n      type: \"int\"\n    },\n    thetaLength: {\n      default: 360,\n      min: 0\n    },\n    thetaStart: {\n      default: 0\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.CylinderGeometry(e.radius, e.radius, e.height, e.segmentsRadial, e.segmentsHeight, e.openEnded, sc(e.thetaStart), sc(e.thetaLength));\n  }\n}), qs(\"dodecahedron\", {\n  schema: {\n    detail: {\n      default: 0,\n      min: 0,\n      max: 5,\n      type: \"int\"\n    },\n    radius: {\n      default: 1,\n      min: 0\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.DodecahedronGeometry(e.radius, e.detail);\n  }\n}), qs(\"icosahedron\", {\n  schema: {\n    detail: {\n      default: 0,\n      min: 0,\n      max: 5,\n      type: \"int\"\n    },\n    radius: {\n      default: 1,\n      min: 0\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.IcosahedronGeometry(e.radius, e.detail);\n  }\n}), qs(\"octahedron\", {\n  schema: {\n    detail: {\n      default: 0,\n      min: 0,\n      max: 5,\n      type: \"int\"\n    },\n    radius: {\n      default: 1,\n      min: 0\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.OctahedronGeometry(e.radius, e.detail);\n  }\n}), qs(\"plane\", {\n  schema: {\n    height: {\n      default: 1,\n      min: 0\n    },\n    width: {\n      default: 1,\n      min: 0\n    },\n    segmentsHeight: {\n      default: 1,\n      min: 1,\n      max: 20,\n      type: \"int\"\n    },\n    segmentsWidth: {\n      default: 1,\n      min: 1,\n      max: 20,\n      type: \"int\"\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.PlaneGeometry(e.width, e.height, e.segmentsWidth, e.segmentsHeight);\n  }\n});\nvar ac = Re.MathUtils.degToRad;\nqs(\"ring\", {\n  schema: {\n    radiusInner: {\n      default: .8,\n      min: 0\n    },\n    radiusOuter: {\n      default: 1.2,\n      min: 0\n    },\n    segmentsPhi: {\n      default: 10,\n      min: 1,\n      type: \"int\"\n    },\n    segmentsTheta: {\n      default: 32,\n      min: 3,\n      type: \"int\"\n    },\n    thetaLength: {\n      default: 360,\n      min: 0\n    },\n    thetaStart: {\n      default: 0\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.RingGeometry(e.radiusInner, e.radiusOuter, e.segmentsTheta, e.segmentsPhi, ac(e.thetaStart), ac(e.thetaLength));\n  }\n});\nvar Ac = Re.MathUtils.degToRad;\nqs(\"sphere\", {\n  schema: {\n    radius: {\n      default: 1,\n      min: 0\n    },\n    phiLength: {\n      default: 360\n    },\n    phiStart: {\n      default: 0,\n      min: 0\n    },\n    thetaLength: {\n      default: 180,\n      min: 0\n    },\n    thetaStart: {\n      default: 0\n    },\n    segmentsHeight: {\n      default: 18,\n      min: 2,\n      type: \"int\"\n    },\n    segmentsWidth: {\n      default: 36,\n      min: 3,\n      type: \"int\"\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.SphereGeometry(e.radius, e.segmentsWidth, e.segmentsHeight, Ac(e.phiStart), Ac(e.phiLength), Ac(e.thetaStart), Ac(e.thetaLength));\n  }\n}), qs(\"tetrahedron\", {\n  schema: {\n    detail: {\n      default: 0,\n      min: 0,\n      max: 5,\n      type: \"int\"\n    },\n    radius: {\n      default: 1,\n      min: 0\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.TetrahedronGeometry(e.radius, e.detail);\n  }\n});\nvar lc = Re.MathUtils.degToRad;\nqs(\"torus\", {\n  schema: {\n    arc: {\n      default: 360\n    },\n    radius: {\n      default: 1,\n      min: 0\n    },\n    radiusTubular: {\n      default: .2,\n      min: 0\n    },\n    segmentsRadial: {\n      default: 36,\n      min: 2,\n      type: \"int\"\n    },\n    segmentsTubular: {\n      default: 32,\n      min: 3,\n      type: \"int\"\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.TorusGeometry(e.radius, 2 * e.radiusTubular, e.segmentsRadial, e.segmentsTubular, lc(e.arc));\n  }\n}), qs(\"torusKnot\", {\n  schema: {\n    p: {\n      default: 2,\n      min: 1\n    },\n    q: {\n      default: 3,\n      min: 1\n    },\n    radius: {\n      default: 1,\n      min: 0\n    },\n    radiusTubular: {\n      default: .2,\n      min: 0\n    },\n    segmentsRadial: {\n      default: 8,\n      min: 3,\n      type: \"int\"\n    },\n    segmentsTubular: {\n      default: 100,\n      min: 3,\n      type: \"int\"\n    }\n  },\n  init: function (e) {\n    this.geometry = new Re.TorusKnotGeometry(e.radius, 2 * e.radiusTubular, e.segmentsTubular, e.segmentsRadial, e.p, e.q);\n  }\n});\nvar cc = new Re.Quaternion(),\n  hc = new Re.Vector3(0, 0, 1),\n  dc = new Re.Vector2(),\n  uc = new Re.Vector2(),\n  gc = new Re.Vector2();\nfunction pc(e, t) {\n  return t.color.set(e.color), t.fog = e.fog, t.wireframe = e.wireframe, t.toneMapped = e.toneMapped, t.wireframeLinewidth = e.wireframeLinewidth, t;\n}\nfunction fc(e, t) {\n  return t.color.set(e.color), t.emissive.set(e.emissive), t.emissiveIntensity = e.emissiveIntensity, t.fog = e.fog, t.metalness = e.metalness, t.roughness = e.roughness, t.wireframe = e.wireframe, t.wireframeLinewidth = e.wireframeLinewidth, e.normalMap && (t.normalScale = e.normalScale), e.ambientOcclusionMap && (t.aoMapIntensity = e.ambientOcclusionMapIntensity), e.displacementMap && (t.displacementScale = e.displacementScale, t.displacementBias = e.displacementBias), t;\n}\nfunction mc(e, t) {\n  switch (t.color.set(e.color), t.specular.set(e.specular), t.emissive.set(e.emissive), t.emissiveIntensity = e.emissiveIntensity, t.fog = e.fog, t.transparent = e.transparent, t.wireframe = e.wireframe, t.wireframeLinewidth = e.wireframeLinewidth, t.shininess = e.shininess, t.flatShading = e.flatShading, t.wireframe = e.wireframe, t.wireframeLinewidth = e.wireframeLinewidth, t.reflectivity = e.reflectivity, t.refractionRatio = e.refractionRatio, e.combine) {\n    case \"mix\":\n      t.combine = Re.MixOperation;\n      break;\n    case \"multiply\":\n      t.combine = Re.MultiplyOperation;\n      break;\n    case \"add\":\n      t.combine = Re.AddOperation;\n  }\n  return e.normalMap && (t.normalScale = e.normalScale), e.ambientOcclusionMap && (t.aoMapIntensity = e.ambientOcclusionMapIntensity), e.bumpMap && (t.bumpScale = e.bumpMapScale), e.displacementMap && (t.displacementScale = e.displacementScale, t.displacementBias = e.displacementBias), t;\n}\nqs(\"triangle\", {\n  schema: {\n    vertexA: {\n      type: \"vec3\",\n      default: {\n        x: 0,\n        y: .5,\n        z: 0\n      }\n    },\n    vertexB: {\n      type: \"vec3\",\n      default: {\n        x: -.5,\n        y: -.5,\n        z: 0\n      }\n    },\n    vertexC: {\n      type: \"vec3\",\n      default: {\n        x: .5,\n        y: -.5,\n        z: 0\n      }\n    }\n  },\n  init: function (e) {\n    var t, n, i, r, o, s, a, A, l;\n    (i = new Re.Triangle()).a.set(e.vertexA.x, e.vertexA.y, e.vertexA.z), i.b.set(e.vertexB.x, e.vertexB.y, e.vertexB.z), i.c.set(e.vertexC.x, e.vertexC.y, e.vertexC.z), n = i.getNormal(new Re.Vector3()), cc.setFromUnitVectors(n, hc), r = i.a.clone().applyQuaternion(cc), o = i.b.clone().applyQuaternion(cc), s = i.c.clone().applyQuaternion(cc), dc.set(Math.min(r.x, o.x, s.x), Math.min(r.y, o.y, s.y)), uc.set(Math.max(r.x, o.x, s.x), Math.max(r.y, o.y, s.y)), gc.set(0, 0).subVectors(uc, dc), r = new Re.Vector2().subVectors(r, dc).divide(gc), o = new Re.Vector2().subVectors(o, dc).divide(gc), s = new Re.Vector2().subVectors(s, dc).divide(gc), t = this.geometry = new Re.BufferGeometry(), a = [i.a.x, i.a.y, i.a.z, i.b.x, i.b.y, i.b.z, i.c.x, i.c.y, i.c.z], A = [n.x, n.y, n.z, n.x, n.y, n.z, n.x, n.y, n.z], l = [r.x, r.y, o.x, o.y, s.x, s.y], t.setAttribute(\"position\", new Re.Float32BufferAttribute(a, 3)), t.setAttribute(\"normal\", new Re.Float32BufferAttribute(A, 3)), t.setAttribute(\"uv\", new Re.Float32BufferAttribute(l, 2));\n  }\n}), ia(\"flat\", {\n  schema: {\n    color: {\n      type: \"color\"\n    },\n    fog: {\n      default: !0\n    },\n    offset: {\n      type: \"vec2\",\n      default: {\n        x: 0,\n        y: 0\n      }\n    },\n    repeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    src: {\n      type: \"map\"\n    },\n    wireframe: {\n      default: !1\n    },\n    wireframeLinewidth: {\n      default: 2\n    },\n    toneMapped: {\n      default: !0\n    }\n  },\n  init: function (e) {\n    this.materialData = {\n      color: new Re.Color()\n    }, pc(e, this.materialData), this.material = new Re.MeshBasicMaterial(this.materialData);\n  },\n  update: function (e) {\n    this.updateMaterial(e), vr(this, e);\n  },\n  updateMaterial: function (e) {\n    var t;\n    for (t in pc(e, this.materialData), this.materialData) this.material[t] = this.materialData[t];\n  }\n}), ia(\"standard\", {\n  schema: {\n    ambientOcclusionMap: {\n      type: \"map\"\n    },\n    ambientOcclusionMapIntensity: {\n      default: 1\n    },\n    ambientOcclusionTextureOffset: {\n      type: \"vec2\"\n    },\n    ambientOcclusionTextureRepeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    color: {\n      type: \"color\"\n    },\n    displacementMap: {\n      type: \"map\"\n    },\n    displacementScale: {\n      default: 1\n    },\n    displacementBias: {\n      default: .5\n    },\n    displacementTextureOffset: {\n      type: \"vec2\"\n    },\n    displacementTextureRepeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    emissive: {\n      type: \"color\",\n      default: \"#000\"\n    },\n    emissiveIntensity: {\n      default: 1\n    },\n    envMap: {\n      default: \"\"\n    },\n    fog: {\n      default: !0\n    },\n    metalness: {\n      default: 0,\n      min: 0,\n      max: 1\n    },\n    metalnessMap: {\n      type: \"map\"\n    },\n    metalnessTextureOffset: {\n      type: \"vec2\"\n    },\n    metalnessTextureRepeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    normalMap: {\n      type: \"map\"\n    },\n    normalScale: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    normalTextureOffset: {\n      type: \"vec2\"\n    },\n    normalTextureRepeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    offset: {\n      type: \"vec2\",\n      default: {\n        x: 0,\n        y: 0\n      }\n    },\n    repeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    roughness: {\n      default: .5,\n      min: 0,\n      max: 1\n    },\n    roughnessMap: {\n      type: \"map\"\n    },\n    roughnessTextureOffset: {\n      type: \"vec2\"\n    },\n    roughnessTextureRepeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    sphericalEnvMap: {\n      type: \"map\"\n    },\n    src: {\n      type: \"map\"\n    },\n    wireframe: {\n      default: !1\n    },\n    wireframeLinewidth: {\n      default: 2\n    }\n  },\n  init: function (e) {\n    this.materialData = {\n      color: new Re.Color(),\n      emissive: new Re.Color()\n    }, fc(e, this.materialData), this.material = new Re.MeshStandardMaterial(this.materialData);\n  },\n  update: function (e) {\n    this.updateMaterial(e), vr(this, e), Br(\"normal\", this, e), Br(\"displacement\", this, e), Br(\"ambientOcclusion\", this, e), Br(\"metalness\", this, e), Br(\"roughness\", this, e), yr(this, e);\n  },\n  updateMaterial: function (e) {\n    var t,\n      n = this.material;\n    for (t in fc(e, this.materialData), this.materialData) n[t] = this.materialData[t];\n  }\n}), ia(\"phong\", {\n  schema: {\n    color: {\n      type: \"color\"\n    },\n    emissive: {\n      type: \"color\",\n      default: \"black\"\n    },\n    emissiveIntensity: {\n      default: 1\n    },\n    specular: {\n      type: \"color\",\n      default: \"#111111\"\n    },\n    transparent: {\n      default: !1\n    },\n    fog: {\n      default: !0\n    },\n    offset: {\n      type: \"vec2\",\n      default: {\n        x: 0,\n        y: 0\n      }\n    },\n    repeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    src: {\n      type: \"map\"\n    },\n    envMap: {\n      default: \"\"\n    },\n    sphericalEnvMap: {\n      type: \"map\"\n    },\n    shininess: {\n      default: 30\n    },\n    flatShading: {\n      default: !1\n    },\n    wireframe: {\n      default: !1\n    },\n    wireframeLinewidth: {\n      default: 2\n    },\n    combine: {\n      oneOF: [\"multiply\", \"mix\", \"add\"],\n      default: \"mix\"\n    },\n    reflectivity: {\n      default: .9\n    },\n    refractionRatio: {\n      default: .98\n    },\n    refract: {\n      default: !1\n    },\n    normalMap: {\n      type: \"map\"\n    },\n    normalScale: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    normalTextureOffset: {\n      type: \"vec2\"\n    },\n    normalTextureRepeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    ambientOcclusionMap: {\n      type: \"map\"\n    },\n    ambientOcclusionMapIntensity: {\n      default: 1\n    },\n    displacementMap: {\n      type: \"map\"\n    },\n    displacementScale: {\n      default: 1\n    },\n    displacementBias: {\n      default: .5\n    },\n    displacementTextureOffset: {\n      type: \"vec2\"\n    },\n    displacementTextureRepeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    },\n    bumpMap: {\n      type: \"map\"\n    },\n    bumpMapScale: {\n      default: 1\n    },\n    bumpTextureOffset: {\n      type: \"vec2\"\n    },\n    bumpTextureRepeat: {\n      type: \"vec2\",\n      default: {\n        x: 1,\n        y: 1\n      }\n    }\n  },\n  init: function (e) {\n    this.materialData = {\n      color: new Re.Color(),\n      specular: new Re.Color(),\n      emissive: new Re.Color()\n    }, mc(e, this.materialData), this.material = new Re.MeshPhongMaterial(this.materialData);\n    var t = this.el.sceneEl;\n    Object.defineProperty(this.material, \"envMap\", {\n      get: function () {\n        return this._envMap || t.object3D.environment;\n      },\n      set: function (e) {\n        this._envMap = e;\n      }\n    });\n  },\n  update: function (e) {\n    this.updateMaterial(e), vr(this, e), Br(\"normal\", this, e), Br(\"displacement\", this, e), Br(\"ambientOcclusion\", this, e), Br(\"bump\", this, e), yr(this, e);\n  },\n  updateMaterial: function (e) {\n    var t;\n    for (t in mc(e, this.materialData), this.materialData) this.material[t] = this.materialData[t];\n  }\n}), ia(\"sdf\", {\n  schema: {\n    alphaTest: {\n      type: \"number\",\n      is: \"uniform\",\n      default: .5\n    },\n    color: {\n      type: \"color\",\n      is: \"uniform\",\n      default: \"white\"\n    },\n    map: {\n      type: \"map\",\n      is: \"uniform\"\n    },\n    opacity: {\n      type: \"number\",\n      is: \"uniform\",\n      default: 1\n    }\n  },\n  vertexShader: [\"#include <common>\", \"#include <fog_pars_vertex>\", \"#include <logdepthbuf_pars_vertex>\", \"out vec2 vUV;\", \"void main(void) {\", \"  vUV = uv;\", \"  #include <begin_vertex>\", \"  #include <project_vertex>\", \"  #include <logdepthbuf_vertex>\", \"  #include <fog_vertex>\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"#include <common>\", \"#include <fog_pars_fragment>\", \"#include <logdepthbuf_pars_fragment>\", \"uniform float alphaTest;\", \"uniform float opacity;\", \"uniform sampler2D map;\", \"uniform vec3 color;\", \"in vec2 vUV;\", \"float contour(float width, float value) {\", \"  return smoothstep(0.5 - value, 0.5 + value, width);\", \"}\", \"#define BIG_ENOUGH 0.001\", \"#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)\", \"void main() {\", \"  vec2 uv = vUV;\", \"  vec4 texColor = texture(map, uv);\", \"  float dist = texColor.a;\", \"  float width = fwidth(dist);\", \"  float alpha = contour(dist, width);\", \"  float dscale = 0.353505;\", \"  vec2 duv = dscale * (dFdx(uv) + dFdy(uv));\", \"  float isBigEnough = max(abs(duv.x), abs(duv.y));\", \"  if (isBigEnough > BIG_ENOUGH) {\", \"    float ratio = BIG_ENOUGH / isBigEnough;\", \"    alpha = ratio * alpha + (1.0 - ratio) * dist;\", \"  }\", \"  if (isBigEnough <= BIG_ENOUGH) {\", \"    vec4 box = vec4 (uv - duv, uv + duv);\", \"    alpha = (alpha + 0.5 * (\", \"      contour(texture(map, box.xy).a, width)\", \"      + contour(texture(map, box.zw).a, width)\", \"      + contour(texture(map, box.xw).a, width)\", \"      + contour(texture(map, box.zy).a, width)\", \"    )) / 3.0;\", \"  }\", \"  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }\", \"  gl_FragColor = vec4(color, opacity * alpha);\", \"  #include <logdepthbuf_fragment>\", \"  #include <tonemapping_fragment>\", \"  #include <colorspace_fragment>\", \"  #include <fog_fragment>\", \"}\"].join(\"\\n\"),\n  init: function () {\n    return this.uniforms = this.initUniforms(), Re.UniformsUtils && (this.uniforms = Re.UniformsUtils.merge([Re.UniformsLib.fog, this.uniforms])), this.material = new Re.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: this.vertexShader,\n      fragmentShader: this.fragmentShader,\n      fog: !0\n    }), this.material;\n  }\n}), ia(\"msdf\", {\n  schema: {\n    alphaTest: {\n      type: \"number\",\n      is: \"uniform\",\n      default: .5\n    },\n    color: {\n      type: \"color\",\n      is: \"uniform\",\n      default: \"white\"\n    },\n    map: {\n      type: \"map\",\n      is: \"uniform\"\n    },\n    negate: {\n      type: \"boolean\",\n      is: \"uniform\",\n      default: !0\n    },\n    opacity: {\n      type: \"number\",\n      is: \"uniform\",\n      default: 1\n    }\n  },\n  vertexShader: [\"#include <common>\", \"#include <fog_pars_vertex>\", \"#include <logdepthbuf_pars_vertex>\", \"out vec2 vUV;\", \"void main(void) {\", \"  vUV = uv;\", \"  #include <begin_vertex>\", \"  #include <project_vertex>\", \"  #include <logdepthbuf_vertex>\", \"  #include <fog_vertex>\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"#include <common>\", \"#include <fog_pars_fragment>\", \"#include <logdepthbuf_pars_fragment>\", \"uniform bool negate;\", \"uniform float alphaTest;\", \"uniform float opacity;\", \"uniform sampler2D map;\", \"uniform vec3 color;\", \"in vec2 vUV;\", \"float median(float r, float g, float b) {\", \"  return max(min(r, g), min(max(r, g), b));\", \"}\", \"#define BIG_ENOUGH 0.001\", \"#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)\", \"void main() {\", \"  vec3 sampleColor = texture(map, vUV).rgb;\", \"  if (negate) { sampleColor = 1.0 - sampleColor; }\", \"  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;\", \"  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);\", \"  float dscale = 0.353505;\", \"  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));\", \"  float isBigEnough = max(abs(duv.x), abs(duv.y));\", \"  // Do modified alpha test.\", \"  if (isBigEnough > BIG_ENOUGH) {\", \"    float ratio = BIG_ENOUGH / isBigEnough;\", \"    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);\", \"  }\", \"  // Do modified alpha test.\", \"  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }\", \"  gl_FragColor = vec4(color.xyz, alpha * opacity);\", \"  #include <logdepthbuf_fragment>\", \"  #include <tonemapping_fragment>\", \"  #include <colorspace_fragment>\", \"  #include <fog_fragment>\", \"}\"].join(\"\\n\"),\n  init: function () {\n    return this.uniforms = this.initUniforms(), Re.UniformsUtils && (this.uniforms = Re.UniformsUtils.merge([Re.UniformsLib.fog, this.uniforms])), this.material = new Re.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: this.vertexShader,\n      fragmentShader: this.fragmentShader,\n      fog: !0\n    }), this.material;\n  }\n}), ia(\"shadow\", {\n  schema: {\n    opacity: {\n      default: .5\n    },\n    transparent: {\n      default: !0\n    },\n    alphaToCoverage: {\n      default: !0\n    }\n  },\n  init: function (e) {\n    this.material = new Re.ShadowMaterial();\n  },\n  update: function (e) {\n    this.material.opacity = e.opacity, this.material.alphaToCoverage = e.alphaToCoverage, this.material.transparent = e.transparent;\n  }\n});\nvar Ec = \"data-aframe-default-camera\";\nfunction Cc(e) {\n  var t = e.primitive,\n    n = js[t] && js[t].Geometry,\n    i = new n();\n  if (!n) throw new Error(\"Unknown geometry `\" + t + \"`\");\n  return i.init(e), i.geometry;\n}\nEs(\"camera\", {\n  init: function () {\n    this.activeCameraEl = null, this.render = this.render.bind(this), this.unwrapRender = this.unwrapRender.bind(this), this.wrapRender = this.wrapRender.bind(this), this.initialCameraFound = !1, this.numUserCameras = 0, this.numUserCamerasChecked = 0, this.setupInitialCamera();\n  },\n  setupInitialCamera: function () {\n    var e,\n      t,\n      n = this.sceneEl,\n      i = this;\n    if (!n.camera || n.camera.el.getAttribute(\"camera\").spectator) {\n      if ((e = n.querySelectorAll(\"a-camera, :not(a-mixin)[camera]\")).length) for (this.numUserCameras = e.length, t = 0; t < e.length; t++) e[t].addEventListener(\"object3dset\", function (e) {\n        \"camera\" === e.detail.type && i.checkUserCamera(this);\n      }), e[t].isANode ? e[t].load() : e[t].addEventListener(\"nodeready\", function () {\n        this.load();\n      });else this.createDefaultCamera();\n    } else n.emit(\"cameraready\", {\n      cameraEl: n.camera.el\n    });\n  },\n  checkUserCamera: function (e) {\n    var t,\n      n = this.el.sceneEl;\n    this.numUserCamerasChecked++, this.initialCameraFound || ((t = e.getAttribute(\"camera\")).active && !t.spectator ? (this.initialCameraFound = !0, n.camera = e.getObject3D(\"camera\"), n.emit(\"cameraready\", {\n      cameraEl: e\n    })) : this.numUserCamerasChecked === this.numUserCameras && this.createDefaultCamera());\n  },\n  createDefaultCamera: function () {\n    var e,\n      t = this.sceneEl;\n    (e = document.createElement(\"a-entity\")).setAttribute(\"camera\", {\n      active: !0\n    }), e.setAttribute(\"position\", {\n      x: 0,\n      y: 1.6,\n      z: 0\n    }), e.setAttribute(\"wasd-controls\", \"\"), e.setAttribute(\"look-controls\", \"\"), e.setAttribute(hi, \"\"), e.addEventListener(\"object3dset\", function (n) {\n      \"camera\" === n.detail.type && (t.camera = n.detail.object, t.emit(\"cameraready\", {\n        cameraEl: e\n      }));\n    }), t.appendChild(e);\n  },\n  disableActiveCamera: function () {\n    var e;\n    (e = this.sceneEl.querySelectorAll(\":not(a-mixin)[camera]\"))[e.length - 1].setAttribute(\"camera\", \"active\", !0);\n  },\n  setActiveCamera: function (e) {\n    var t,\n      n,\n      i,\n      r,\n      o = this.activeCameraEl,\n      s = this.sceneEl;\n    if ((r = e.getObject3D(\"camera\")) && e !== this.activeCameraEl) {\n      var a = s.querySelector(\"[\" + Ec + \"]\");\n      for (e !== (a && a.querySelector(\":not(a-mixin)[camera]\")) && function (e) {\n        var t;\n        e.camera && (t = e.querySelector(\"[\" + Ec + \"]\")) && e.removeChild(t);\n      }(s), this.activeCameraEl = e, this.activeCameraEl.play(), s.camera = r, o && o.setAttribute(\"camera\", \"active\", !1), n = s.querySelectorAll(\":not(a-mixin)[camera]\"), i = 0; i < n.length; i++) (t = n[i]).isEntity && e !== t && (t.setAttribute(\"camera\", \"active\", !1), t.pause());\n      s.emit(\"camera-set-active\", {\n        cameraEl: e\n      });\n    }\n  },\n  setSpectatorCamera: function (e) {\n    var t,\n      n = this.spectatorCameraEl,\n      i = this.sceneEl;\n    e.getObject3D(\"camera\") && e !== this.spectatorCameraEl && (n && n.setAttribute(\"camera\", \"spectator\", !1), t = this.spectatorCameraEl = e, i.addEventListener(\"enter-vr\", this.wrapRender), i.addEventListener(\"exit-vr\", this.unwrapRender), t.setAttribute(\"camera\", \"active\", !1), t.play(), i.emit(\"camera-set-spectator\", {\n      cameraEl: e\n    }));\n  },\n  disableSpectatorCamera: function () {\n    this.spectatorCameraEl = void 0;\n  },\n  wrapRender: function () {\n    this.spectatorCameraEl && !this.originalRender && (this.originalRender = this.sceneEl.renderer.render, this.sceneEl.renderer.render = this.render);\n  },\n  unwrapRender: function () {\n    this.originalRender && (this.sceneEl.renderer.render = this.originalRender, this.originalRender = void 0);\n  },\n  render: function (e, t) {\n    var n,\n      i,\n      r = this.sceneEl;\n    n = r.renderer.xr.enabled, this.originalRender.call(r.renderer, e, t), this.spectatorCameraEl && !r.isMobile && n && (i = this.spectatorCameraEl.components.camera.camera, r.renderer.xr.enabled = !1, this.originalRender.call(r.renderer, e, i), r.renderer.xr.enabled = n);\n  }\n}), Es(\"geometry\", {\n  init: function () {\n    this.cache = {}, this.cacheCount = {};\n  },\n  clearCache: function () {\n    this.cache = {}, this.cacheCount = {};\n  },\n  getOrCreateGeometry: function (e) {\n    var t,\n      n,\n      i = this.cache;\n    return e.skipCache ? Cc(e) : (t = i[n = this.hash(e)], function (e, t) {\n      e[t] = void 0 === e[t] ? 1 : e[t] + 1;\n    }(this.cacheCount, n), t || (t = Cc(e), i[n] = t, t));\n  },\n  unuseGeometry: function (e) {\n    var t,\n      n = this.cache,\n      i = this.cacheCount;\n    e.skipCache || n[t = this.hash(e)] && (function (e, t) {\n      e[t]--;\n    }(i, t), i[t] > 0 || (n[t].dispose(), delete n[t], delete i[t]));\n  },\n  hash: function (e) {\n    return JSON.stringify(e);\n  }\n}), Es(\"gltf-model\", {\n  schema: {\n    dracoDecoderPath: {\n      default: \"https://www.gstatic.com/draco/versioned/decoders/1.5.7/\"\n    },\n    basisTranscoderPath: {\n      default: \"\"\n    },\n    meshoptDecoderPath: {\n      default: \"\"\n    }\n  },\n  init: function () {\n    this.update();\n  },\n  update: function () {\n    var e = this.data.dracoDecoderPath,\n      t = this.data.basisTranscoderPath,\n      n = this.data.meshoptDecoderPath;\n    !this.dracoLoader && e && (this.dracoLoader = new Ue(), this.dracoLoader.setDecoderPath(e)), !this.ktx2Loader && t && (this.ktx2Loader = new Bn(), this.ktx2Loader.setTranscoderPath(t).detectSupport(this.el.renderer)), !this.meshoptDecoder && n && (this.meshoptDecoder = function (e) {\n      return new Promise(function (t, n) {\n        var i = document.createElement(\"script\");\n        document.body.appendChild(i), i.onload = t, i.onerror = n, i.async = !0, i.src = e;\n      });\n    }(n).then(function () {\n      return window.MeshoptDecoder.ready;\n    }).then(function () {\n      return window.MeshoptDecoder;\n    }));\n  },\n  getDRACOLoader: function () {\n    return this.dracoLoader;\n  },\n  getKTX2Loader: function () {\n    return this.ktx2Loader;\n  },\n  getMeshoptDecoder: function () {\n    return this.meshoptDecoder;\n  }\n});\nvar vc = \"data-aframe-default-light\",\n  Bc = (Es(\"light\", {\n    schema: {\n      defaultLightsEnabled: {\n        default: !0\n      }\n    },\n    init: function () {\n      this.defaultLights = !1, this.userDefinedLights = !1, this.sceneEl.addEventListener(\"loaded\", this.setupDefaultLights.bind(this));\n    },\n    registerLight: function (e) {\n      e.hasAttribute(vc) || (this.removeDefaultLights(), this.userDefinedLights = !0);\n    },\n    removeDefaultLights: function () {\n      var e,\n        t = this.sceneEl;\n      if (this.defaultLights) {\n        e = document.querySelectorAll(\"[\" + vc + \"]\");\n        for (var n = 0; n < e.length; n++) t.removeChild(e[n]);\n        this.defaultLights = !1;\n      }\n    },\n    setupDefaultLights: function () {\n      var e,\n        t,\n        n = this.sceneEl;\n      this.userDefinedLights || this.defaultLights || !this.data.defaultLightsEnabled || ((e = document.createElement(\"a-entity\")).setAttribute(\"light\", {\n        color: \"#BBB\",\n        type: \"ambient\"\n      }), e.setAttribute(vc, \"\"), e.setAttribute(hi, \"\"), n.appendChild(e), (t = document.createElement(\"a-entity\")).setAttribute(\"light\", {\n        color: \"#FFF\",\n        intensity: 1.884,\n        castShadow: !0\n      }), t.setAttribute(\"position\", {\n        x: -.5,\n        y: 1,\n        z: 1\n      }), t.setAttribute(vc, \"\"), t.setAttribute(hi, \"\"), n.appendChild(t), this.defaultLights = !0);\n    }\n  }), fi),\n  bc = Bc(\"components:texture:error\"),\n  yc = Bc(\"components:texture:warn\"),\n  Ic = new Re.ImageLoader();\nEs(\"material\", {\n  init: function () {\n    this.materials = {}, this.sourceCache = {};\n  },\n  clearTextureSourceCache: function () {\n    this.sourceCache = {};\n  },\n  loadTexture: function (e, t, n) {\n    this.loadTextureSource(e, function (e) {\n      var i = xr(e);\n      Er(i, t), n(i);\n    });\n  },\n  loadTextureSource: function (e, t) {\n    var n = this,\n      i = this.sourceCache,\n      r = this.hash(e);\n    function o(e) {\n      i[r] = Promise.resolve(e), i[r].then(t);\n    }\n    i[r] ? i[r].then(t) : \"CANVAS\" !== e.tagName ? o(new Promise(function (t, i) {\n      hr(e, function (e) {\n        n.loadImage(e, t);\n      }, function (e) {\n        n.loadVideo(e, t);\n      });\n    })) : o(new Re.Source(e));\n  },\n  loadCubeMapTexture: function (e, t) {\n    var n = this,\n      i = 0,\n      r = new Re.CubeTexture();\n    function o(o) {\n      n.loadTextureSource(e[o], function (e) {\n        r.images[o] = e.data, 6 == ++i && (r.needsUpdate = !0, t(r));\n      });\n    }\n    if (r.colorSpace = Re.SRGBColorSpace, 6 === e.length) for (var s = 0; s < e.length; s++) o(s);else yc(\"Cube map texture requires exactly 6 sources, got only %s sources\", e.length);\n  },\n  loadImage: function (e, t) {\n    t(\"string\" == typeof e ? function (e) {\n      return new Promise(function (t, n) {\n        Ic.load(e, function (e) {\n          t(new Re.Source(e));\n        }, function () {}, function (e) {\n          bc(\"`$s` could not be fetched (Error code: %s; Response: %s)\", e.status, e.statusText);\n        });\n      });\n    }(e) : new Re.Source(e));\n  },\n  loadVideo: function (e, t) {\n    var n;\n    \"string\" != typeof e && function (e) {\n      e.autoplay = e.hasAttribute(\"autoplay\") && \"false\" !== e.getAttribute(\"autoplay\"), e.controls = e.hasAttribute(\"controls\") && \"false\" !== e.getAttribute(\"controls\"), \"false\" === e.getAttribute(\"loop\") && e.removeAttribute(\"loop\"), \"false\" === e.getAttribute(\"preload\") && (e.preload = \"none\"), e.crossOrigin = e.crossOrigin || \"anonymous\", e.setAttribute(\"playsinline\", \"\"), e.setAttribute(\"webkit-playsinline\", \"\");\n    }(n = e), n = n || function (e) {\n      var t = document.createElement(\"video\");\n      return t.setAttribute(\"playsinline\", \"\"), t.setAttribute(\"webkit-playsinline\", \"\"), t.autoplay = !0, t.loop = !0, t.crossOrigin = \"anonymous\", t.addEventListener(\"error\", function () {\n        yc(\"`%s` is not a valid video\", e);\n      }, !0), t.src = e, t;\n    }(e), t(new Re.Source(n));\n  },\n  hash: function (e) {\n    return e.tagName && (e.id || e.src) || e;\n  },\n  registerMaterial: function (e) {\n    this.materials[e.uuid] = e;\n  },\n  unregisterMaterial: function (e) {\n    delete this.materials[e.uuid];\n  }\n}), Es(\"obb-collider\", {\n  schema: {\n    showColliders: {\n      default: !1\n    }\n  },\n  init: function () {\n    this.collisions = [], this.colliderEls = [];\n  },\n  addCollider: function (e) {\n    this.colliderEls.push(e), this.data.showColliders ? e.components[\"obb-collider\"].showCollider() : e.components[\"obb-collider\"].hideCollider(), this.tick = this.detectCollisions;\n  },\n  removeCollider: function (e) {\n    var t = this.colliderEls,\n      n = t.indexOf(e);\n    e.components[\"obb-collider\"].hideCollider(), n > -1 && t.splice(n, 1), 0 === t.length && (this.tick = void 0);\n  },\n  registerCollision: function (e, t) {\n    var n = this.collisions,\n      i = !1,\n      r = e.obb,\n      o = t.obb,\n      s = e.renderColliderMesh,\n      a = t.renderColliderMesh;\n    s && s.material.color.set(16711680), a && a.material.color.set(16711680);\n    for (var A = 0; A < n.length; A++) if (n[A].componentA.obb === r && n[A].componentB.obb === o || n[A].componentA.obb === o && n[A].componentB.obb === r) {\n      i = !0, n[A].detected = !0;\n      break;\n    }\n    i || (n.push({\n      componentA: e,\n      componentB: t,\n      detected: !0\n    }), e.el.emit(\"obbcollisionstarted\", {\n      trackedObject3D: e.trackedObject3D,\n      withEl: t.el\n    }), t.el.emit(\"obbcollisionstarted\", {\n      trackedObject3D: t.trackedObject3D,\n      withEl: e.el\n    }));\n  },\n  resetCollisions: function () {\n    for (var e = this.collisions, t = 0; t < e.length; t++) e[t].detected = !1;\n  },\n  clearCollisions: function () {\n    for (var e, t, n, i, r = this.collisions, o = [], s = 0; s < r.length; s++) r[s].detected ? o.push(r[s]) : (e = r[s].componentA, t = r[s].componentB, n = e.renderColliderMesh, i = t.renderColliderMesh, n && n.material.color.set(65280), e.el.emit(\"obbcollisionended\", {\n      trackedObject3D: this.trackedObject3D,\n      withEl: t.el\n    }), i && i.material.color.set(65280), t.el.emit(\"obbcollisionended\", {\n      trackedObject3D: this.trackedObject3D,\n      withEl: e.el\n    }));\n    this.collisions = o;\n  },\n  detectCollisions: function () {\n    var e,\n      t,\n      n,\n      i,\n      r = this.colliderEls;\n    if (!(r.length < 2)) {\n      this.resetCollisions();\n      for (var o = 0; o < r.length; o++) if (n = r[o].components[\"obb-collider\"], 0 !== (e = r[o].components[\"obb-collider\"].obb).halfSize.x && 0 !== e.halfSize.y && 0 !== e.halfSize.z) for (var s = o + 1; s < r.length; s++) 0 !== (t = (i = r[s].components[\"obb-collider\"]).obb).halfSize.x && 0 !== t.halfSize.y && 0 !== t.halfSize.z && e.intersectsOBB(t) && this.registerCollision(n, i);\n      this.clearCollisions();\n    }\n  }\n});\nvar wc = fi(\"components:renderer:warn\");\nfunction xc(e, t) {\n  return e.groupOrder !== t.groupOrder ? e.groupOrder - t.groupOrder : e.renderOrder !== t.renderOrder ? e.renderOrder - t.renderOrder : e.z - t.z;\n}\nfunction Qc(e, t) {\n  return e.groupOrder !== t.groupOrder ? e.groupOrder - t.groupOrder : e.renderOrder - t.renderOrder;\n}\nfunction Lc(e, t) {\n  return e.groupOrder !== t.groupOrder ? e.groupOrder - t.groupOrder : e.renderOrder !== t.renderOrder ? e.renderOrder - t.renderOrder : t.z - e.z;\n}\nEs(\"renderer\", {\n  schema: {\n    antialias: {\n      default: \"auto\",\n      oneOf: [\"true\", \"false\", \"auto\"]\n    },\n    highRefreshRate: {\n      default: Ui()\n    },\n    logarithmicDepthBuffer: {\n      default: \"auto\",\n      oneOf: [\"true\", \"false\", \"auto\"]\n    },\n    maxCanvasWidth: {\n      default: -1\n    },\n    maxCanvasHeight: {\n      default: -1\n    },\n    multiviewStereo: {\n      default: !1\n    },\n    exposure: {\n      default: 1,\n      if: {\n        toneMapping: [\"ACESFilmic\", \"linear\", \"reinhard\", \"cineon\", \"AgX\", \"neutral\"]\n      }\n    },\n    toneMapping: {\n      default: \"no\",\n      oneOf: [\"no\", \"ACESFilmic\", \"linear\", \"reinhard\", \"cineon\", \"AgX\", \"neutral\"]\n    },\n    precision: {\n      default: \"high\",\n      oneOf: [\"high\", \"medium\", \"low\"]\n    },\n    anisotropy: {\n      default: 1\n    },\n    sortTransparentObjects: {\n      default: !1\n    },\n    colorManagement: {\n      default: !0\n    },\n    alpha: {\n      default: !0\n    },\n    stencil: {\n      default: !1\n    },\n    foveationLevel: {\n      default: 1\n    }\n  },\n  init: function () {\n    var e = this.data,\n      t = this.el,\n      n = this.data.toneMapping.charAt(0).toUpperCase() + this.data.toneMapping.slice(1),\n      i = t.renderer;\n    i.toneMapping = Re[n + \"ToneMapping\"], Re.Texture.DEFAULT_ANISOTROPY = e.anisotropy, Re.ColorManagement.enabled = e.colorManagement, i.outputColorSpace = e.colorManagement ? Re.SRGBColorSpace : Re.LinearSRGBColorSpace, t.hasAttribute(\"antialias\") && wc('Component `antialias` is deprecated. Use `renderer=\"antialias: true\"` instead.'), t.hasAttribute(\"logarithmicDepthBuffer\") && wc('Component `logarithmicDepthBuffer` is deprecated. Use `renderer=\"logarithmicDepthBuffer: true\"` instead.'), i.sortObjects = !0, i.setOpaqueSort(xc);\n  },\n  update: function () {\n    var e = this.data,\n      t = this.el.renderer,\n      n = this.data.toneMapping.charAt(0).toUpperCase() + this.data.toneMapping.slice(1);\n    t.toneMapping = Re[n + \"ToneMapping\"], t.toneMappingExposure = e.exposure, t.xr.setFoveation(e.foveationLevel), e.sortObjects && wc('`sortObjects` property is deprecated. Use `renderer=\"sortTransparentObjects: true\"` instead.'), e.sortTransparentObjects ? t.setTransparentSort(Lc) : t.setTransparentSort(Qc);\n  },\n  applyColorCorrection: function (e) {\n    this.data.colorManagement && e && e.isTexture && e.colorSpace !== Re.SRGBColorSpace && (e.colorSpace = Re.SRGBColorSpace, e.needsUpdate = !0);\n  },\n  setWebXRFrameRate: function (e) {\n    var t,\n      n = this.data,\n      i = e.supportedFrameRates;\n    i && e.updateTargetFrameRate && (t = i.includes(90) ? n.highRefreshRate ? 90 : 72 : n.highRefreshRate ? 72 : 60, e.updateTargetFrameRate(t).catch(function (e) {\n      console.warn(\"failed to set target frame rate of \" + t + \". Error info: \" + e);\n    }));\n  }\n});\nvar Mc = {\n  basic: Re.BasicShadowMap,\n  pcf: Re.PCFShadowMap,\n  pcfsoft: Re.PCFSoftShadowMap\n};\nEs(\"shadow\", {\n  schema: {\n    enabled: {\n      default: !0\n    },\n    autoUpdate: {\n      default: !0\n    },\n    type: {\n      default: \"pcf\",\n      oneOf: [\"basic\", \"pcf\", \"pcfsoft\"]\n    }\n  },\n  init: function () {\n    var e = this.sceneEl,\n      t = this.data;\n    this.shadowMapEnabled = !1, e.renderer.shadowMap.type = Mc[t.type], e.renderer.shadowMap.autoUpdate = t.autoUpdate;\n  },\n  update: function (e) {\n    e.enabled !== this.data.enabled && this.setShadowMapEnabled(this.shadowMapEnabled);\n  },\n  setShadowMapEnabled: function (e) {\n    var t = this.sceneEl,\n      n = this.sceneEl.renderer;\n    this.shadowMapEnabled = e;\n    var i = this.data.enabled && this.shadowMapEnabled;\n    n && i !== n.shadowMap.enabled && (n.shadowMap.enabled = i, function (e) {\n      e.hasLoaded && e.object3D.traverse(function (e) {\n        if (e.material) for (var t = Array.isArray(e.material) ? e.material : [e.material], n = 0; n < t.length; n++) t[n].needsUpdate = !0;\n      });\n    }(t));\n  }\n}), Es(\"tracked-controls\", {\n  init: function () {\n    this.controllers = [], this.onInputSourcesChange = this.onInputSourcesChange.bind(this), this.onEnterVR = this.onEnterVR.bind(this), this.el.addEventListener(\"enter-vr\", this.onEnterVR), this.onExitVR = this.onExitVR.bind(this), this.el.addEventListener(\"exit-vr\", this.onExitVR);\n  },\n  onEnterVR: function () {\n    this.el.xrSession && this.el.xrSession.addEventListener(\"inputsourceschange\", this.onInputSourcesChange);\n  },\n  onExitVR: function () {\n    this.referenceSpace = void 0, this.controllers = [], this.el.emit(\"controllersupdated\", void 0, !1);\n  },\n  onInputSourcesChange: function () {\n    var e = this,\n      t = this.el.xrSession,\n      n = this.el.sceneEl.systems.webxr.sessionReferenceSpaceType;\n    t.requestReferenceSpace(n).then(function (t) {\n      e.referenceSpace = t;\n    }).catch(function (t) {\n      throw e.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(n, 'tracked-controls uses reference space \"' + n + '\".'), t;\n    }), this.controllers = t.inputSources, this.el.emit(\"controllersupdated\", void 0, !1);\n  }\n});\nvar Sc = fi(\"systems:webxr:warn\"),\n  Dc = (Es(\"webxr\", {\n    schema: {\n      referenceSpaceType: {\n        type: \"string\",\n        default: \"local-floor\"\n      },\n      requiredFeatures: {\n        type: \"array\",\n        default: [\"local-floor\"]\n      },\n      optionalFeatures: {\n        type: \"array\",\n        default: [\"bounded-floor\"]\n      },\n      overlayElement: {\n        type: \"selector\"\n      }\n    },\n    update: function () {\n      var e = this.data;\n      this.sessionConfiguration = {\n        requiredFeatures: e.requiredFeatures,\n        optionalFeatures: e.optionalFeatures\n      }, this.sessionReferenceSpaceType = e.referenceSpaceType, e.overlayElement && (e.overlayElement.classList.remove(\"a-dom-overlay\"), e.optionalFeatures.includes(\"dom-overlay\") || (e.optionalFeatures.push(\"dom-overlay\"), this.el.setAttribute(\"webxr\", e)), this.warnIfFeatureNotRequested(\"dom-overlay\"), this.sessionConfiguration.domOverlay = {\n        root: e.overlayElement\n      }, e.overlayElement.classList.add(\"a-dom-overlay\"));\n    },\n    wasFeatureRequested: function (e) {\n      return \"viewer\" === e || \"local\" === e || !(!this.sessionConfiguration.requiredFeatures.includes(e) && !this.sessionConfiguration.optionalFeatures.includes(e));\n    },\n    warnIfFeatureNotRequested: function (e, t) {\n      this.wasFeatureRequested(e) || Sc((t ? t + \" \" : \"\") + 'Please add the feature \"' + e + \"\\\" to a-scene's webxr system options in requiredFeatures/optionalFeatures.\");\n    }\n  }), {});\nfunction kc(e) {\n  var t = e.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n  \"fog\" === e && (t = \"material-fog\"), \"visible\" === e && (t = \"material-visible\"), Dc[t] = \"material.\" + e;\n}\nfunction Tc() {\n  return {\n    defaultComponents: {\n      material: {}\n    },\n    mappings: Jr({}, Dc)\n  };\n}\nObject.keys(Ko.material.schema).forEach(kc), Object.keys($s.standard.schema).forEach(kc);\nvar Rc = new Re.Vector3(),\n  Fc = new Re.Vector3();\ncs(\"pivot\", {\n  dependencies: [\"position\"],\n  schema: {\n    type: \"vec3\"\n  },\n  init: function () {\n    var e = this.data,\n      t = this.el,\n      n = t.object3D.parent,\n      i = t.object3D,\n      r = new Re.Group();\n    Rc.copy(i.position), Fc.copy(i.rotation), n.remove(i), r.add(i), n.add(r), t.object3D = r, i.position.set(-1 * e.x, -1 * e.y, -1 * e.z), r.position.set(e.x + Rc.x, e.y + Rc.y, e.z + Rc.z), r.rotation.copy(i.rotation), i.rotation.set(0, 0, 0);\n  }\n}), Xs(\"a-camera\", {\n  defaultComponents: {\n    camera: {},\n    \"look-controls\": {},\n    \"wasd-controls\": {},\n    position: {\n      x: 0,\n      y: 1.6,\n      z: 0\n    }\n  },\n  mappings: {\n    active: \"camera.active\",\n    far: \"camera.far\",\n    fov: \"camera.fov\",\n    \"look-controls-enabled\": \"look-controls.enabled\",\n    near: \"camera.near\",\n    \"pointer-lock-enabled\": \"look-controls.pointerLockEnabled\",\n    \"wasd-controls-enabled\": \"wasd-controls.enabled\",\n    \"reverse-mouse-drag\": \"look-controls.reverseMouseDrag\",\n    zoom: \"camera.zoom\"\n  }\n}), Xs(\"a-cursor\", Xr({}, Tc(), {\n  defaultComponents: {\n    cursor: {},\n    geometry: {\n      primitive: \"ring\",\n      radiusOuter: .016,\n      radiusInner: .01,\n      segmentsTheta: 32\n    },\n    material: {\n      color: \"#000\",\n      shader: \"flat\",\n      opacity: .8\n    },\n    position: {\n      x: 0,\n      y: 0,\n      z: -1\n    }\n  },\n  mappings: {\n    far: \"raycaster.far\",\n    fuse: \"cursor.fuse\",\n    \"fuse-timeout\": \"cursor.fuseTimeout\",\n    interval: \"raycaster.interval\",\n    objects: \"raycaster.objects\"\n  }\n})), Xs(\"a-curvedimage\", Xr({}, Tc(), {\n  defaultComponents: {\n    geometry: {\n      height: 1,\n      primitive: \"cylinder\",\n      radius: 2,\n      segmentsRadial: 48,\n      thetaLength: 270,\n      openEnded: !0,\n      thetaStart: 0\n    },\n    material: {\n      color: \"#FFF\",\n      shader: \"flat\",\n      side: \"double\",\n      transparent: !0,\n      repeat: \"-1 1\"\n    }\n  },\n  mappings: {\n    height: \"geometry.height\",\n    \"open-ended\": \"geometry.openEnded\",\n    radius: \"geometry.radius\",\n    segments: \"geometry.segmentsRadial\",\n    start: \"geometry.thetaStart\",\n    \"theta-length\": \"geometry.thetaLength\",\n    \"theta-start\": \"geometry.thetaStart\",\n    width: \"geometry.thetaLength\"\n  }\n})), Xs(\"a-gltf-model\", {\n  mappings: {\n    src: \"gltf-model\"\n  }\n}), Xs(\"a-image\", Xr({}, Tc(), {\n  defaultComponents: {\n    geometry: {\n      primitive: \"plane\"\n    },\n    material: {\n      color: \"#FFF\",\n      shader: \"flat\",\n      side: \"double\",\n      transparent: !0\n    }\n  },\n  mappings: {\n    height: \"geometry.height\",\n    width: \"geometry.width\"\n  }\n})), Xs(\"a-light\", {\n  defaultComponents: {\n    light: {}\n  },\n  mappings: {\n    angle: \"light.angle\",\n    color: \"light.color\",\n    \"ground-color\": \"light.groundColor\",\n    decay: \"light.decay\",\n    distance: \"light.distance\",\n    intensity: \"light.intensity\",\n    penumbra: \"light.penumbra\",\n    type: \"light.type\",\n    target: \"light.target\",\n    envmap: \"light.envMap\",\n    \"shadow-camera-automatic\": \"light.shadowCameraAutomatic\"\n  }\n}), Xs(\"a-link\", {\n  defaultComponents: {\n    link: {\n      visualAspectEnabled: !0\n    }\n  },\n  mappings: {\n    href: \"link.href\",\n    image: \"link.image\",\n    title: \"link.title\"\n  }\n}), Xs(\"a-obj-model\", Xr({}, Tc(), {\n  defaultComponents: {\n    \"obj-model\": {}\n  },\n  mappings: {\n    src: \"obj-model.obj\",\n    mtl: \"obj-model.mtl\"\n  }\n}));\nconst Uc = {},\n  Oc = Uc;\nfunction Pc(e) {\n  return e.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\nvar Gc, Nc;\n_s.forEach(function (e) {\n  var t = js[e],\n    n = Pc(e),\n    i = {};\n  Object.keys(t.schema).forEach(function (e) {\n    i[Pc(e)] = \"geometry.\" + e;\n  });\n  var r = \"a-\" + n,\n    o = Xs(r, Xr({}, Tc(), {\n      defaultComponents: {\n        geometry: {\n          primitive: e\n        }\n      },\n      mappings: i\n    }));\n  Uc[r] = o;\n}), Xs(\"a-sky\", Xr({}, Tc(), {\n  defaultComponents: {\n    geometry: {\n      primitive: \"sphere\",\n      radius: 500,\n      segmentsWidth: 64,\n      segmentsHeight: 32\n    },\n    material: {\n      color: \"#FFF\",\n      side: \"back\",\n      shader: \"flat\",\n      npot: !0\n    },\n    scale: \"-1 1 1\"\n  },\n  mappings: Xr({}, Oc[\"a-sphere\"].mappings)\n})), Xs(\"a-sound\", {\n  defaultComponents: {\n    sound: {}\n  },\n  mappings: {\n    src: \"sound.src\",\n    on: \"sound.on\",\n    autoplay: \"sound.autoplay\",\n    loop: \"sound.loop\",\n    volume: \"sound.volume\"\n  }\n}), Gc = {\n  text: {\n    anchor: \"align\",\n    width: 5\n  }\n}, Nc = Nc || {}, Object.keys(Gc).forEach(function (e) {\n  !function (e, t) {\n    var n = Ko[e].schema;\n    Object.keys(n).forEach(function (n) {\n      var i = n.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n      void 0 !== t[i] && (i = e + \"-\" + n), t[i] = e + \".\" + n;\n    });\n  }(e, Nc);\n}), Xs(\"a-text\", Xr({}, null, {\n  defaultComponents: Gc,\n  mappings: Nc\n})), Xs(\"a-video\", Xr({}, Tc(), {\n  defaultComponents: {\n    geometry: {\n      primitive: \"plane\"\n    },\n    material: {\n      color: \"#FFF\",\n      shader: \"flat\",\n      side: \"double\",\n      transparent: !0\n    }\n  },\n  mappings: {\n    height: \"geometry.height\",\n    width: \"geometry.width\"\n  }\n})), Xs(\"a-videosphere\", Xr({}, Tc(), {\n  defaultComponents: {\n    geometry: {\n      primitive: \"sphere\",\n      radius: 500,\n      segmentsWidth: 64,\n      segmentsHeight: 32\n    },\n    material: {\n      color: \"#FFF\",\n      shader: \"flat\",\n      side: \"back\",\n      npot: !0\n    },\n    scale: \"-1 1 1\"\n  },\n  mappings: {\n    radius: \"geometry.radius\",\n    \"segments-height\": \"geometry.segmentsHeight\",\n    \"segments-width\": \"geometry.segmentsWidth\"\n  }\n}));\nvar jc = fi,\n  _c = jc(\"A-Frame:error\"),\n  Hc = jc(\"A-Frame:warn\");\nwindow.document.currentScript && window.document.currentScript.parentNode !== window.document.head && !window.debug && Hc(\"Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML.\"), window.cordova || \"file:\" !== window.location.protocol || _c(\"This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/1.4.0/introduction/installation.html#use-a-local-server.\"), ji && (window.logs = jc, i(7180), i(9379)), console.log(\"A-Frame Version: 1.7.0 (Date 2025-03-12, Commit #1b9650f1)\"), console.log(\"THREE Version (https://github.com/supermedium/three.js):\", li.REVISION), window.AFRAME_ASYNC || (\"complete\" !== document.readyState ? document.addEventListener(\"readystatechange\", function e() {\n  \"complete\" === document.readyState && (document.removeEventListener(\"readystatechange\", e), gs());\n}) : gs());\nconst qc = globalThis.AFRAME = {\n  AComponent: As,\n  AEntity: Ls,\n  ANode: bs,\n  ANIME: Te,\n  AScene: Us,\n  components: Ko,\n  coreComponents: Object.keys(Ko),\n  geometries: js,\n  registerComponent: cs,\n  registerGeometry: qs,\n  registerPrimitive: Xs,\n  registerShader: ia,\n  registerSystem: Es,\n  primitives: {\n    getMeshMixin: Tc,\n    primitives: Js\n  },\n  scenes: bo,\n  schema: p,\n  shaders: $s,\n  systems: fs,\n  emitReady: gs,\n  THREE: li,\n  utils: g,\n  version: ca\n};\nvar Vc = r.A;\nexport { Vc as default };","map":{"version":3,"names":["t","Object","prototype","toString","e","exports","BYTES_PER_ELEMENT","call","buffer","Array","isArray","byteLength","a","n","i","toByteArray","o","s","A","l","r","c","h","charCodeAt","fromByteArray","length","push","join","Uint8Array","Error","indexOf","hp","isBuffer","equals","Symbol","for","IS","RangeError","setPrototypeOf","TypeError","isEncoding","p","write","slice","ArrayBuffer","isView","W","u","byteOffset","d","SharedArrayBuffer","valueOf","from","g","copy","J","type","data","toPrimitive","arguments","z","Y","toLowerCase","f","S","x","L","M","w","D","m","E","C","lastIndexOf","String","readUInt16BE","v","Number","parseInt","substr","B","K","b","y","I","Math","min","Q","fromCharCode","apply","TYPED_ARRAY_SUPPORT","foo","console","error","defineProperty","enumerable","get","poolSize","alloc","fill","allocUnsafe","allocUnsafeSlow","_isBuffer","compare","offset","concat","set","swap16","swap32","swap64","toLocaleString","inspect","replace","trim","includes","isFinite","toJSON","_arr","X","k","T","R","_","BigInt","F","U","O","P","subarray","readUintLE","readUIntLE","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","Z","H","q","readBigUInt64BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","read","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","copyWithin","G","N","constructor","value","writable","configurable","name","stack","code","message","j","ERR_OUT_OF_RANGE","ERR_INVALID_ARG_TYPE","floor","ERR_BUFFER_OUT_OF_BOUNDS","isInteger","abs","V","split","$","map","__esModule","default","test","hash","needQuotes","btoa","unescape","encodeURIComponent","JSON","stringify","formatArgs","useColors","namespace","humanize","diff","color","splice","save","storage","setItem","removeItem","load","getItem","process","env","DEBUG","window","__nwjs","navigator","userAgent","match","document","documentElement","style","WebkitAppearance","firebug","exception","table","localStorage","destroy","warn","colors","log","debug","formatters","enabled","Date","prev","curr","coerce","unshift","selectColor","extend","namespaces","init","disable","names","skips","enable","filter","Boolean","keys","forEach","hasOwnProperty","propertyIsEnumerable","getOwnPropertySymbols","Int8Array","Int16Array","Int32Array","Uint16Array","Uint32Array","Float32Array","Float64Array","Uint8ClampedArray","self","NaN","isNaN","LN2","setTimeout","alert","confirm","prompt","glyphs","_measure","computeMetrics","bind","update","Function","chars","kernings","first","second","amount","id","measure","_opt","tabSize","font","text","_setupSpaceGlyphs","lines","width","reduce","max","lineHeight","common","base","letterSpacing","align","_width","_height","_descender","_baseline","_xHeight","height","_capHeight","_lineHeight","_ascender","start","end","getGlyph","position","index","line","xadvance","_linesTotal","_fallbackSpaceGlyph","_fallbackTabGlyph","xoffset","yoffset","noop","XMLHttpRequest","uri","binary","responseType","overrideMimeType","xhr","statusCode","encoding","headers","charAt","parse","substring","round","exec","parseFloat","long","key","pages","file","info","size","smooth","unicode","italic","bold","fixedHeight","charset","stretchH","aa","padding","spacing","outline","face","scaleW","scaleH","packed","alphaChnl","redChnl","greenChnl","blueChnl","page","chnl","every","scaleh","scalew","stretchh","lineheight","alphachnl","redchnl","greenchnl","bluechnl","attributes","nodeName","nodeValue","getElementsByTagName","getAttribute","assign","count","clockwise","THREE","BufferGeometry","layout","flipY","visibleGlyphs","positions","uvs","setIndex","setAttribute","BufferAttribute","multipage","removeAttribute","boundingBox","computeBoundingBox","boundingSphere","computeBoundingSphere","Sphere","array","itemSize","radius","center","computeSphere","Box3","makeEmpty","computeBox","sqrt","mode","MAX_VALUE","callback","response","responseText","responseXML","clearTimeout","useXDR","status","body","method","url","rawRequest","getAllResponseHeaders","cors","XDomainRequest","sync","json","accept","Accept","onreadystatechange","readyState","onload","onerror","onprogress","onabort","ontimeout","open","username","password","withCredentials","timeout","abort","setRequestHeader","beforeSend","send","toUpperCase","DOMParser","parseFromString","ActiveXObject","async","loadXML","createElement","innerHTML","aframeStats","querySelectorAll","isEntity","performance","getEntriesByName","startTime","toFixed","attach","values","te","caption","lt","groups","fractions","glStats","WebGLRenderingContext","drawArrays","POINTS","drawElements","useProgram","bindTexture","allcalls","over","drawelements","drawarrays","steps","threeStats","memory","geometries","programs","textures","render","calls","triangles","points","BrowserStats","usedJSHeapSize","totalJSHeapSize","average","avgMs","total","now","timing","navigationStart","mark","rStats","colours","CSSPath","css","href","rel","appendChild","getContext","fillStyle","fillRect","globalAlpha","className","draw","drawImage","createTextNode","userTimingAPI","textContent","div","tick","frame","interpolate","below","plugins","graph","addEventListener","classList","toggle","preventDefault","element","base64","Util","isMobile","vendor","opera","isIOS","isIFrame","top","appendQueryParameter","getQueryParameter","RegExp","location","search","decodeURIComponent","isLandscapeMode","orientation","request","setInterval","stop","release","clearInterval","play","paused","src","pause","URL","version","sources","mappings","sourcesContent","sourceRoot","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","identifier","media","sourceMap","supports","layer","references","updater","byIndex","remove","querySelector","HTMLIFrameElement","contentDocument","head","options","nc","parentNode","removeChild","styleSheet","cssText","firstChild","globalThis","toStringTag","baseURI","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","duration","delay","endDelay","easing","CSS","springs","arr","obj","pth","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","str","fnc","und","hex","rgb","hsl","col","exp","cos","sin","PI","asin","In","Out","InOut","linear","NodeList","HTMLCollection","some","target","ee","tagName","offsetWidth","ne","getComputedStyle","getPropertyValue","ie","re","oe","transform","Map","se","transforms","list","last","ae","Ae","le","ce","he","de","numberOfItems","ue","getTotalLength","ge","el","getBoundingClientRect","viewBox","pe","getPointAtLength","property","atan2","fe","me","totalLength","original","numbers","strings","Ee","Ce","ve","Be","be","attribute","object","ye","Ie","tweens","to","isPath","isColor","animatable","we","getTlOffset","xe","Qe","Le","Me","Se","requestAnimationFrame","cancelAnimationFrame","De","Promise","keyframes","targets","children","animatables","animations","reversed","currentTime","speed","seek","currentValue","passThrough","progress","reversePlayback","began","changeBegan","changeCompleted","remaining","completed","reset","reverse","restart","finished","ke","hidden","activeInstance","running","convertPx","path","setDashoffset","stagger","grid","axis","timeline","add","penner","random","Te","Re","Fe","WeakMap","Ue","Loader","decoderPath","decoderConfig","decoderBinary","decoderPending","workerLimit","workerPool","workerNextTaskID","workerSourceURL","defaultAttributeIDs","normal","uv","defaultAttributeTypes","setDecoderPath","setDecoderConfig","setWorkerLimit","FileLoader","manager","setPath","setResponseType","requestHeader","setWithCredentials","decodeDracoFile","SRGBColorSpace","catch","LinearSRGBColorSpace","attributeIDs","attributeTypes","useUniqueIDs","vertexColorSpace","decodeGeometry","then","has","promise","_getWorker","_callbacks","resolve","reject","postMessage","taskConfig","_createGeometry","geometry","_releaseTask","_assignVertexColorSpace","normalized","Color","fromBufferAttribute","ColorManagement","toWorkingColorSpace","setXYZ","_loadLibrary","preload","_initDecoder","WebAssembly","all","wasmBinary","Oe","createObjectURL","Blob","Worker","_taskCosts","_taskLoad","onmessage","sort","dispose","terminate","revokeObjectURL","num_components","num_points","DT_FLOAT32","DT_INT8","DT_INT16","DT_INT32","DT_UINT8","DT_UINT16","DT_UINT32","_malloc","GetAttributeDataArrayForAllPoints","HEAPF32","_free","onModuleLoaded","draco","DracoDecoderModule","Decoder","GetEncodedGeometryType","TRIANGULAR_MESH","Mesh","DecodeArrayToMesh","POINT_CLOUD","PointCloud","DecodeArrayToPointCloud","ok","ptr","error_msg","GetAttributeByUniqueId","GetAttributeId","GetAttribute","num_faces","GetTrianglesUInt32Array","Pe","isReady","hasAttribute","isInterleavedBufferAttribute","getX","getY","getZ","toNonIndexed","generateTangents","Ge","Set","morphAttributes","morphTargetsRelative","addGroup","Ne","gpuType","getComponent","setComponent","je","isInstancedInterleavedBufferAttribute","He","isInstancedBufferAttribute","InstancedBufferAttribute","_e","InterleavedBuffer","InterleavedBufferAttribute","meshPerAttribute","setX","setY","setZ","setW","getW","qe","morphTargets","Ve","getIndex","ze","EPSILON","log10","clone","Ye","TrianglesDrawMode","TriangleFanDrawMode","TriangleStripDrawMode","clearGroups","Ke","Vector3","morphTargetInfluences","addScaledVector","sub","isSkinnedMesh","applyBoneTransform","material","drawRange","positionAttribute","normalAttribute","morphedPositionAttribute","Float32BufferAttribute","morphedNormalAttribute","We","materialIndex","Je","subVectors","crossVectors","normalize","dot","Xe","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","it","rt","ut","gt","pt","st","at","At","nt","ct","ot","dt","ht","et","ft","mt","resourcePath","LoaderUtils","extractUrlBase","resolveURL","itemStart","_onError","itemError","itemEnd","setDRACOLoader","setKTX2Loader","setMeshoptDecoder","unregister","TextDecoder","decode","Et","$e","KHR_BINARY_GLTF","Ct","content","asset","_t","crossOrigin","fileLoader","extensionsUsed","extensionsRequired","KHR_MATERIALS_UNLIT","tt","KHR_DRACO_MESH_COMPRESSION","vt","KHR_TEXTURE_TRANSFORM","Bt","KHR_MESH_QUANTIZATION","bt","setExtensions","setPlugins","parseAsync","Ze","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_DISPERSION","KHR_MATERIALS_IOR","KHR_MATERIALS_SHEEN","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_IRIDESCENCE","KHR_MATERIALS_ANISOTROPY","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","KHR_MATERIALS_EMISSIVE_STRENGTH","EXT_MATERIALS_BUMP","EXT_TEXTURE_WEBP","EXT_TEXTURE_AVIF","EXT_MESHOPT_COMPRESSION","EXT_MESH_GPU_INSTANCING","parser","cache","refs","uses","_markDefs","nodes","extensions","light","_addNodeRef","_loadLight","lights","setRGB","range","DirectionalLight","PointLight","distance","SpotLight","spot","innerConeAngle","outerConeAngle","angle","penumbra","Ut","intensity","createUniqueName","getDependency","createNodeAttachment","_getNodeRef","getMaterialType","MeshBasicMaterial","extendParams","opacity","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","extendMaterialParams","materials","emissiveStrength","emissiveIntensity","MeshPhysicalMaterial","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","scale","clearcoatNormalScale","Vector2","dispersion","iridescenceFactor","iridescence","iridescenceTexture","iridescenceIor","iridescenceIOR","iridescenceThicknessRange","iridescenceThicknessMinimum","iridescenceThicknessMaximum","iridescenceThicknessTexture","sheenColor","sheenRoughness","sheen","sheenColorFactor","sheenRoughnessFactor","sheenColorTexture","sheenRoughnessTexture","transmissionFactor","transmission","transmissionTexture","thickness","thicknessFactor","thicknessTexture","attenuationDistance","attenuationColor","ior","specularIntensity","specularFactor","specularTexture","specularColorFactor","specularColor","specularColorTexture","bumpScale","bumpFactor","bumpTexture","anisotropyStrength","anisotropy","anisotropyRotation","anisotropyTexture","loadTexture","loadTextureImage","source","isSupported","images","textureLoader","getHandler","detectSupport","Image","loadBufferView","bufferViews","supported","byteStride","decodeGltfBufferAsync","ready","decodeGltfBuffer","createNodeMesh","mesh","meshes","primitives","xt","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","pop","isGroup","Matrix4","Quaternion","InstancedMesh","TRANSLATION","ROTATION","SCALE","setMatrixAt","compose","instanceColor","Object3D","assignFinalMaterial","clear","DataView","header","magic","getUint32","decodePrimitive","bufferView","Dt","accessors","Qt","componentType","extendTexture","texCoord","channel","rotation","fromArray","repeat","needsUpdate","yt","Interpolant","copySampleValue_","resultBuffer","sampleValues","valueSize","interpolate_","It","wt","toArray","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","LINES","LINE_LOOP","LINE_STRIP","UNSIGNED_BYTE","UNSIGNED_SHORT","Lt","NearestFilter","LinearFilter","NearestMipmapNearestFilter","LinearMipmapNearestFilter","NearestMipmapLinearFilter","LinearMipmapLinearFilter","Mt","ClampToEdgeWrapping","MirroredRepeatWrapping","RepeatWrapping","St","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","TEXCOORD_2","TEXCOORD_3","COLOR_0","WEIGHTS_0","JOINTS_0","kt","translation","weights","Tt","CUBICSPLINE","InterpolateLinear","STEP","InterpolateDiscrete","Rt","DefaultMaterial","MeshStandardMaterial","emissive","metalness","roughness","transparent","depthTest","side","FrontSide","Ft","userData","gltfExtensions","extras","Ot","updateMorphTargets","targetNames","morphTargetDictionary","Pt","indices","Gt","Nt","jt","associations","primitiveCache","nodeCache","meshCache","cameraCache","lightCache","sourceCache","textureCache","nodeNamesUsed","createImageBitmap","TextureLoader","ImageBitmapLoader","setCrossOrigin","_invokeAll","beforeRoot","getDependencies","scene","scenes","cameras","afterRoot","updateMatrixWorld","skins","joints","isBone","skin","camera","entries","_invokeOne","loadScene","loadNode","loadMesh","loadAccessor","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","buffers","sparse","sampler","loadImageSource","startsWith","samplers","magFilter","minFilter","wrapS","wrapT","generateMipmaps","isCompressedTexture","webkitURL","mimeType","isImageBitmapLoader","onLoad","Texture","colorSpace","tangent","isPoints","uuid","PointsMaterial","Material","sizeAttenuation","isLine","LineBasicMaterial","vertexColors","flatShading","normalScale","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","DoubleSide","alphaMode","depthWrite","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","aoMapIntensity","emissiveFactor","emissiveTexture","PropertyBinding","sanitizeNodeName","loadGeometries","Ht","primitive","SkinnedMesh","normalizeSkinWeights","LineSegments","Line","LineLoop","Points","Group","PerspectiveCamera","MathUtils","radToDeg","yfov","aspectRatio","znear","zfar","OrthographicCamera","xmag","ymag","_loadNodeShallow","inverseBindMatrices","Skeleton","channels","node","parameters","input","output","updateMatrix","_createAnimationTracks","AnimationClip","traverse","isMesh","Bone","matrix","applyMatrix4","quaternion","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","interpolation","_getArrayFromAccessor","_createCubicSplineTrackInterpolant","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","workingColorSpace","multiplyScalar","expandByVector","getCenter","distanceTo","qt","pool","queue","workers","workersResolve","workerStatus","_initWorker","workerCreator","_onMessage","_getIdleWorker","msg","transfer","shift","setWorkerCreator","Vt","zt","Yt","Kt","Wt","Jt","Xt","Zt","$t","en","tn","nn","rn","on","sn","an","vkFormat","typeSize","pixelWidth","pixelHeight","pixelDepth","layerCount","faceCount","supercompressionScheme","levels","dataFormatDescriptor","vendorId","descriptorType","descriptorBlockSize","versionNumber","colorModel","colorPrimaries","transferFunction","flags","texelBlockDimension","bytesPlane","samples","keyValue","globalData","An","_dataView","_littleEndian","_offset","_nextUint8","getUint8","_nextUint16","getUint16","_nextUint32","_nextUint64","_nextInt32","getInt32","_nextUint8Array","_skip","_scan","ln","cn","dn","un","gn","pn","emscripten_notify_memory_growth","fn","fetch","mn","arrayBuffer","instantiate","_init","hn","instance","malloc","ZSTD_findDecompressedSize","ZSTD_decompress","free","En","SRGBTransfer","LinearTransfer","Cn","vn","Bn","transcoderPath","transcoderBinary","transcoderPending","workerConfig","MSC_TRANSCODER","setTranscoderPath","detectSupportAsync","astcSupported","hasFeatureAsync","astcHDRSupported","etc1Supported","etc2Supported","dxtSupported","bptcSupported","pvrtcSupported","isWebGPURenderer","hasFeature","getSupportedProfiles","loadAsync","BasisWorker","EngineFormat","EngineType","TranscoderFormat","BasisFormat","config","_createTexture","_createTextureFrom","faces","format","dfdFlags","CompressedCubeTexture","mipmaps","CompressedArrayTexture","CompressedTexture","wn","premultiplyAlpha","levelData","uncompressedByteLength","bitOffset","bitLength","channelType","samplePosition","sampleLower","sampleUpper","imageFlags","rgbSliceByteOffset","rgbSliceByteLength","alphaSliceByteOffset","alphaSliceByteLength","endpointCount","selectorCount","imageDescs","endpointsData","selectorsData","tablesData","extendedData","yn","FloatType","HalfFloatType","depth","bn","DataTexture","Data3DTexture","ETC1S","UASTC","UASTC_HDR","ETC1","ETC2","BC1","BC3","BC4","BC5","BC7_M6_OPAQUE_ONLY","BC7_M5","PVRTC1_4_RGB","PVRTC1_4_RGBA","ASTC_4x4","ATC_RGB","ATC_RGBA_INTERPOLATED_ALPHA","RGBA32","RGB565","BGR565","RGBA4444","BC6H","RGB_HALF","RGBA_HALF","RGBAFormat","RGBA_ASTC_4x4_Format","RGB_BPTC_UNSIGNED_Format","RGBA_BPTC_Format","RGBA_ETC2_EAC_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_S3TC_DXT5_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGB_PVRTC_4BPPV1_Format","RGBA_S3TC_DXT1_Format","UnsignedByteType","_EngineFormat","_EngineType","_TranscoderFormat","_BasisFormat","onRuntimeInitialized","BASIS","initializeBasis","KTX2File","hasAlpha","close","delete","isValid","isUASTC","isETC1S","isHDR","getWidth","getHeight","getLayers","getLevels","getFaces","getHasAlpha","getDFDFlags","transcoderFormat","engineFormat","engineType","if","basisFormat","needsPowerOfTwo","startTranscoding","getImageLevelInfo","origWidth","origHeight","getImageTranscodedSizeInBytes","transcodeImage","priorityETC1S","priorityUASTC","priorityHDR","RGFormat","RedFormat","RGBA_ASTC_6x6_Format","NoColorSpace","xn","Qn","Ln","Mn","Sn","Dn","kn","Tn","Rn","Fn","Un","On","Matrix3","Pn","Gn","Nn","jn","Ray","_n","halfSize","getSize","clampPoint","extractBasis","clamp","containsPoint","intersectsBox3","intersectsOBB","Hn","fromBox3","intersectsSphere","distanceToSquared","intersectsPlane","constant","intersectRay","setFromCenterAndSize","setFromMatrix3","setPosition","invert","intersectBox","intersectsRay","identity","elements","determinant","setFromMatrix4","multiply","setFromMatrixPosition","qn","Vn","zn","Yn","Kn","Wn","Jn","Xn","Zn","$n","ei","ti","objects","vertices","normals","materialLibraries","startObject","fromDeclaration","currentMaterial","_finalize","hasUVIndices","startMaterial","inherited","groupCount","mtllib","groupStart","groupEnd","finalize","parseVertexIndex","parseNormalIndex","parseUVIndex","addVertex","addVertexPoint","addVertexLine","addNormal","addFaceNormal","cross","addColor","addUV","addDefaultUV","addUVLine","addFace","addPointGeometry","addLineGeometry","ni","setMaterials","trimStart","create","MeshPhongMaterial","ii","setMaterialOptions","materialOptions","ri","setManager","baseUrl","materialsInfo","materialsArray","nameLookup","wrap","convert","normalizeRGB","ignoreZeroRGBs","getAsArray","createMaterial_","getTextureParams","specular","shininess","invertTrProperty","DefaultLoadingManager","mapping","oi","fromCubeTexture","SphericalHarmonics3","coefficients","image","getImageData","si","lengthSq","getBasisAt","LightProbe","fromCubeRenderTarget","coordinateSystem","WebGLCoordinateSystem","texture","isWebGLRenderer","readRenderTargetPixelsAsync","DataUtils","fromHalfFloat","convertSRGBToLinear","ai","DeviceOrientationControls","reorder","deviceOrientation","screenOrientation","alphaOffset","onDeviceOrientationChangeEvent","onScreenOrientationChangeEvent","Euler","setFromEuler","setFromAxisAngle","connect","disconnect","removeEventListener","alpha","degToRad","beta","gamma","Ai","DRACOLoader","GLTFLoader","KTX2Loader","OBJLoader","MTLLoader","OBB","BufferGeometryUtils","LightProbeGenerator","Cache","li","ci","AFRAME_CDN_ROOT","hi","gi","ui","pi","logs","fi","Ci","vi","Bi","bi","xr","yi","updateEnterInterfaces","hasLoaded","components","Ii","errorHandler","isSessionSupported","supportsSession","wi","xi","Qi","Li","Mi","Si","Ri","Di","Gi","Pi","ki","platform","maxTouchPoints","MSStream","Ti","Fi","Ui","Oi","Ni","ji","browser","_i","Hi","freeze","qi","Vi","grow","recycle","use","zi","Yi","Ki","Wi","Ji","Xi","Zi","ir","$i","er","tr","nr","rr","or","sr","ar","Ar","lr","cr","hr","getResponseHeader","pr","dr","gr","srcs","ur","fr","mr","Er","npot","DEFAULT_ANISOTROPY","Cr","sceneEl","systems","renderer","materialSrcs","Ir","loadTextureSource","wr","applyColorCorrection","vr","Br","br","yr","envMap","sphericalEnvMap","refract","loadCubeMapTexture","CubeRefractionMapping","CubeReflectionMapping","EquirectangularRefractionMapping","EquirectangularReflectionMapping","emit","HTMLCanvasElement","isCanvasTexture","HTMLVideoElement","isVideoTexture","isTexture","CanvasTexture","VideoTexture","Qr","Lr","Tr","Sr","Mr","Rr","Dr","kr","Fr","Ur","Or","controllerPresent","addEventListeners","injectTrackedControls","component","removeEventListeners","controllers","Pr","hand","iterateControllerProfiles","handTracking","profiles","handedness","Gr","detail","changed","Nr","buttons","updateModel","jr","_r","Hr","qr","Vr","zr","Yr","timerExpired","Kr","Wr","Jr","Xr","Ei","Zr","$r","eo","no","io","metaKey","activeElement","ro","oo","so","ao","Ao","isScene","lo","co","uo","ho","exists","go","po","fo","Co","vo","Bo","canvas","maxCanvasSize","is","aspect","updateProjectionMatrix","setSize","bo","yo","Io","wo","xo","Qo","Do","ko","To","isCacheable","Lo","Mo","getElementById","So","Ro","Fo","Uo","Oo","isValidDefaultValue","Po","Go","No","jo","_o","Ho","qo","Vo","zo","Yo","Ko","Wo","Jo","Xo","Zo","$o","es","ts","ns","currentScript","rs","os","ss","as","getComputedPropertyValue","schema","recomputeProperty","handleUnknownProperty","As","Component","sceneOnly","multiple","attrName","evtDetail","initialized","objectPool","events","attrValue","isObjectBased","oldData","attrValueProxy","Proxy","deferUnknownPropertyWarnings","updateSchema","throttledEmitComponentChanged","updateProperties","tock","isSingleProperty","flushToDOM","HTMLElement","updateData","isLoading","callUpdateHandler","initComponent","initializingComponents","dataChanged","storeOldData","isPlaying","recomputeData","schemaChangeRequired","updateSchemaIfNeeded","isPositionRotationScale","oldDataInUse","handleMixinUpdate","resetProperty","extendSchema","mixinEls","schemaChange","silenceUnknownPropertyWarnings","eventsAttach","eventsDetach","ls","cs","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","NewComponent","system","fs","hs","addBehavior","removeBehavior","ds","dependencies","before","after","us","gs","dispatchEvent","CustomEvent","ps","ms","System","buildData","Es","NewSystem","initSystem","Cs","vs","Bs","isANode","bs","computedMixinStr","connectedCallback","doConnectedCallback","closestScene","isMixin","updateMixins","attributeChangedCallback","parentElement","closest","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","disconnectedCallback","getChildren","allSettled","reason","setupMutationObserver","MutationObserver","attributeName","oldValue","observe","attributeOldValue","newMixinIdArray","oldMixinIdArray","mixinIds","newMixinIds","oldMixinIds","unregisterMixin","registerMixin","evtData","bubbles","customElements","define","ys","Is","ws","xs","Qs","once","Ls","componentsToUpdate","object3D","order","object3DMap","parentEl","rotationObj","states","justInitialized","setEntityAttribute","addToParent","removeComponent","removeFromParent","getObject3D","setObject3D","removeObject3D","getOrCreateObject3D","attachedToParent","updateComponents","getChildEntities","Ms","initComponentDependencies","componentCache","Ss","getExtraComponents","updateComponent","getDOMAttribute","mixinUpdate","componentsUpdated","singlePropUpdate","visible","addState","removeState","inspector","openInspector","Ds","enterVR","exitVR","scrollTo","ks","Ts","Rs","Fs","Us","clock","Clock","hasWebXR","isAR","Scene","resize","systemNames","time","delta","usedOfferSession","componentOrder","behaviors","originalHTML","addFullScreenStyles","removeFullScreenStyles","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","blur","focus","dataset","aframeCanvas","passive","setupRenderer","dotsColor","backgroundColor","SphereGeometry","innerWidth","innerHeight","getElapsedTime","background","title","display","setAnimationLoop","Gs","insertBefore","wakelock","Eo","enterVRBound","exitVRBound","attachedCallbackPostCamera","initSystems","Os","inUse","markedForRemoval","getPointerLockElement","pointerLockElement","checkHeadsetConnected","enterAR","offerSession","xrSession","webxr","sessionReferenceSpaceType","setReferenceSpaceType","sessionConfiguration","requestSession","layersEnabled","requiredFeatures","setSession","setFoveation","foveationLevel","setWebXRFrameRate","cause","screen","lock","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","navigationUI","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","unlock","setPixelRatio","devicePixelRatio","isPresenting","antialias","logarithmicDepthBuffer","powerPreference","precision","stencil","multiviewStereo","maxCanvasWidth","maxCanvasHeight","find","setPoseTarget","renderStarted","callComponentBehaviors","getDelta","elapsedTime","getCamera","visited","done","Ps","offsetHeight","Ns","js","_s","Hs","Geometry","qs","NewGeometry","Vs","zs","Ys","Ks","Ws","Js","Xs","defaultAttributes","defaultComponentsFromPrimitive","defaultComponents","deprecated","deprecatedMappings","resolveMappingCollisions","rawAttributeCache","Zs","$s","ea","ta","int","number","vec2","vec3","vec4","na","Shader","ia","NewShader","vertexShader","fragmentShader","uniforms","initUniforms","raw","RawShaderMaterial","ShaderMaterial","glslVersion","glsl3","GLSL3","parseValue","setMapOnTextureLoad","Vector4","ra","oa","sa","buffered","host","cloneNode","isAssets","srcObject","isAssetItem","loadedBytes","loaded","totalBytes","Aa","la","onReadyStateChange","validate","cacheAttributes","updateEntities","cacheAttribute","parseComponentAttrValue","ha","da","ua","ga","pa","fa","ma","Ea","Ca","va","Ba","ba","Ia","ya","wa","isRawProperty","dir","dur","elasticity","startEvents","pauseEvents","resumeEvents","eventDetail","animation","animationIsPlaying","onStartEvent","beginAnimation","pauseAnimation","resumeAnimation","fromColor","toColor","targetsArray","updateConfigForDefault","updateConfigForRawColor","createAndStartAnimation","pausedWasPlaying","updateConfig","stopRelatedAnimations","waitComponentInitRawProperty","setColorConfig","aframeProperty","updateConfigForVector","xa","persistent","optionalFeatures","auxQuaternion","onEnterVR","anchor","requestPersistentAnchorPending","requestAnchorPending","restorePersistentAnchor","createAnchor","getReferenceSpace","getPose","anchorSpace","getSession","deleteAnchor","XRRigidTransform","persistentHandle","requestPersistentHandle","persistentAnchors","deletePersistentAnchor","active","far","fov","near","spectator","zoom","updateActiveCamera","updateSpectatorCamera","activeCameraEl","setActiveCamera","disableActiveCamera","spectatorCameraEl","setSpectatorCamera","disableSpectatorCamera","Qa","La","Ma","Sa","Da","ka","Ta","Ra","Fa","Ua","DOWN","UP","Oa","Pa","Ga","downEvents","fuse","fuseTimeout","mouseCursorStylesEnabled","upEvents","rayOrigin","oneOf","cursorDownEl","intersectedEl","canvasBounds","isCursorDown","activeXRInput","updateCanvasBounds","intersectedEventDetail","cursorEl","onCursorDown","onCursorUp","onIntersection","onIntersectionCleared","onMouseMove","resetRaycaster","updateMouseEventListeners","addWebXREventListeners","removeWebXREventListeners","inputSource","origin","parent","touches","item","clientX","left","clientY","isPerspectiveCamera","matrixWorld","unproject","isOrthographicCamera","transformDirection","targetRaySpace","applyQuaternion","localToWorld","raycaster","checkIntersections","intersectedEls","reenableARHitTest","twoWayEmit","intersection","els","intersections","getIntersection","clearCurrentIntersection","setIntersection","clearedEls","MouseEvent","mouseEvent","TouchEvent","touchEvent","Na","skipCache","unuseGeometry","getOrCreateGeometry","ja","defaultModel","defaultModelColor","disabled","axes","touchpad","thumbstick","bindMethods","onControllersUpdate","checkIfControllerPresent","removeControllersUpdateListener","onAxisMoved","onButtonChanged","onButtonDown","onButtonUp","onButtonTouchStart","onButtonTouchEnd","wasControllerConnected","controllerEventsActive","addControllersUpdateListener","idPrefix","initDefaultModel","state","modelEl","model","getDRACOLoader","getMeshoptDecoder","getKTX2Loader","loader","_a","Ha","qa","Va","modelStyle","modelColor","modelOpacity","onModelLoaded","jointEls","wristObject3D","onChildAttached","isPinched","pinchEventDetail","wristRotation","indexTipPosition","hasPoses","jointPoses","jointRadii","updateReferenceSpace","addChildEntity","updateModelMaterial","skinnedMesh","referenceSpace","requestReferenceSpace","warnIfFeatureNotRequested","controller","fillPoses","fillJointRadii","updateHandModel","detectGesture","updateWristObject","setFromRotationMatrix","updateHandDotsModel","updateHandMeshModel","getBone","bones","jointName","decompose","detectPinch","handTrackingEnabled","XRHand","initDotsModel","initMeshHandModel","jointEl","getObjectByProperty","skeleton","frustumCulled","setupChildrenEntities","hoverColor","hoverEnabled","trackedObject3D","auxMatrix","onCollisionStarted","onCollisionEnded","onPinchStarted","onPinchEnded","transferEntityOwnership","grabbedEl","releaseGrabbedEntity","withEl","collidedEl","grabbingObject3D","grab","originalParent","za","toonLeft","toonRight","lowPolyLeft","lowPolyRight","highPolyLeft","highPolyRight","Ya","Ka","Wa","Ja","Xa","handModelStyle","pressedButtons","touchedButtons","onGripDown","handleButton","onGripUp","onTrackpadDown","onTrackpadUp","onTrackpadTouchStart","onTrackpadTouchEnd","onTriggerDown","onTriggerUp","onTriggerTouchStart","onTriggerTouchEnd","onGripTouchStart","onGripTouchEnd","onThumbstickDown","onThumbstickUp","onAorXTouchStart","onAorXTouchEnd","onBorYTouchStart","onBorYTouchEnd","onSurfaceTouchStart","onSurfaceTouchEnd","onControllerConnected","onControllerDisconnected","mixer","AnimationMixer","clips","gesture","determineGesture","animateGesture","emitGestureEvents","grip","surface","trackpad","trigger","AorX","BorY","getClip","playAnimation","clipAction","timeScale","clampWhenFinished","LoopOnce","repetitions","weight","stopAllAction","crossFadeTo","Za","$a","eA","tA","_x","_y","_z","_order","nA","right","previousButtonValues","controllerIndex","iA","rotateCubemap","needsRedraw","frameBuffer","createFramebuffer","onExitVR","onRequestedReferenceSpace","updateSrc","loadCubeMapImages","loadQuadImage","xrGLFactory","visibilityChanged","pendingCubeMapUpdate","loadingScreen","getSubImage","loadCubeMapImage","colorTexture","initTexture","textureIsVideo","updateQuadPanel","preGenerateCubeMapTextures","generateCubeMapTextures","cubeFaceSize","translate","rotate","restore","pixelStorei","UNPACK_FLIP_Y_WEBGL","TEXTURE_CUBE_MAP","loadingScreenImages","texSubImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","RGBA","getError","initLayer","updateTransform","onvisibilitychange","session","visibilityState","initCubeMapLayer","initQuadLayer","XRWebGLBinding","createQuadLayer","space","viewPixelHeight","viewPixelWidth","initLoadingScreenImages","addLayer","getParameter","MAX_CUBE_MAP_TEXTURE_SIZE","createCubeLayer","isStatic","fillText","destroyLayer","removeLayer","toggleCompositorLayer","enableCompositorLayer","layerEnabled","quadPanelEl","shader","properties","__webglTexture","FRAMEBUFFER_BINDING","viewport","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","TEXTURE_2D","RGB","READ_FRAMEBUFFER","readBuffer","blitFramebuffer","COLOR_BUFFER_BIT","NEAREST","deleteFramebuffer","showLine","modelReady","cursor","rA","oA","sA","aA","AA","lA","cA","hA","dA","uA","gA","pA","fA","CubeTextureLoader","mA","EA","groundColor","decay","castShadow","shadowBias","shadowCameraFar","shadowCameraFov","shadowCameraNear","shadowCameraTop","shadowCameraRight","shadowCameraBottom","shadowCameraLeft","shadowCameraVisible","shadowCameraAutomatic","shadowMapHeight","shadowMapWidth","shadowRadius","defaultTarget","registerLight","setLight","updateShadow","onSetTarget","updateProbeMap","shadowCameraAutomaticEls","shadow","getWorldDirection","getWorldPosition","bottom","setFromObject","getBoundingSphere","getLight","translateY","CameraHelper","bias","mapSize","getHex","AmbientLight","HemisphereLight","setStyle","borderColor","highlighted","highlightedColor","peekMode","titleColor","visualAspectEnabled","navigate","previousQuaternion","quaternionClone","hiddenEls","previewDistance","initVisualAspect","updateEventListener","updatePeekMode","sphereEl","hideAll","showAll","visualAspectInitialized","textEl","semiSphereEl","segments","pano","phiStart","segmentsWidth","segmentsHeight","phiLength","thetaStart","thetaLength","borderEnabled","lookAt","calculateCameraPortalOrientation","peekCameraPortalOrientation","cameraEl","extractRotation","sign","strokeColor","CA","vA","BA","orientationOffset","controllerObject3D","loadModel","bA","magicWindowTrackingEnabled","pointerLockEnabled","reverseMouseDrag","reverseTouchDrag","touchEnabled","mouseEnabled","deltaYaw","previousHMDPosition","hmdQuaternion","magicWindowAbsoluteEuler","magicWindowDeltaEuler","magicWindowObject","deltaRotation","savedPose","pointerLocked","setupMouseControls","previousMouseEvent","setupMagicWindowControls","magicWindowControls","DeviceOrientationEvent","requestPermission","permissionGranted","updateGrabCursor","exitPointerLock","updateOrientation","onMouseDown","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onPointerLockChange","onPointerLockError","mouseDown","pitchObject","yawObject","updateMagicWindowOrientation","setFromQuaternion","previousMagicWindowYaw","movementX","mozMovementX","movementY","mozMovementY","screenX","screenY","button","showGrabbingCursor","requestPointerLock","mozRequestPointerLock","hideGrabbingCursor","touchStart","pageX","pageY","touchStarted","clientWidth","saveCameraPose","matrixAutoUpdate","restoreCameraPose","mozPointerLockElement","hasSavedPose","yA","IA","setButtonColor","wA","unregisterMaterial","vertexColorsEnabled","blending","dithering","updateShader","updateMaterial","updateBehavior","setMaterial","BackSide","NoBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","NormalBlending","registerMaterial","xA","QA","LA","MA","SA","DA","kA","TA","RA","modelUrl","modelPivotOffset","modelPivotRotation","FA","UA","OA","buttonColor","buttonTouchColor","buttonHighlightColor","controllerType","onThumbstickMoved","triggerEuler","displayModel","isTouchV3orPROorPlus","onButtonChangedV3orPROorPlus","buttonMeshes","originalXRotationTrigger","originalXPositionGrip","buttonObjects","slerpQuaternions","buttonRanges","lerpVectors","onTouchV3orPROorPlusModelLoaded","getObjectByName","xbutton","abutton","ybutton","bbutton","PA","applyOffset","minX","thumbstickXAxis","thumbstickYAxis","updateThumbstickTouchV3orPROorPlus","axisMap","originalRotation","updateButtonModel","originalColor","minimumColliderDimension","centerModel","previousScale","auxEuler","boundingBoxSize","updateCollider","updateBoundingBox","addCollider","removeCollider","trackedObject3DPath","aabb","obb","showColliders","showCollider","updateColliderMesh","renderColliderMesh","BoxGeometry","initColliderMesh","hideCollider","renderColliderGeometry","MeshLambertMaterial","matrixWorldAutoUpdate","checkTrackedObject","GA","NA","mtl","objLoader","mtlLoader","applyMaterial","resetMesh","loadObj","setResourcePath","emissiveMap","jA","_A","buttonTouchedColor","HA","qA","VA","zA","childList","subtree","YA","KA","WA","autoRefresh","interval","lineColor","lineOpacity","useWorldCoordinates","clearedIntersectedEls","unitLineEndVec3","newIntersectedEls","newIntersections","prevCheckTime","prevIntersectedEls","rawIntersections","Raycaster","updateOriginDirection","setDirty","updateLine","observer","dirty","lineEndVec3","otherLineEndVec3","lineData","intersectedDetail","intersectedClearedDetail","intersectionClearedDetail","intersectionDetail","drawLine","clearAllIntersections","refreshObjects","flattenObject3DMaps","intersectObjects","JA","XA","ZA","$A","tl","cast","receive","onMeshChanged","setShadowMapEnabled","updateDescendants","receiveShadow","distanceModel","loopStart","loopEnd","maxDistance","positional","refDistance","rolloffFactor","volume","listener","audioLoader","AudioLoader","mustPlay","playSoundBound","playSound","setupSound","setDistanceModel","setMaxDistance","setRefDistance","setRolloffFactor","setLoop","setLoopStart","setLoopEnd","setVolume","isPaused","setBuffer","processSound","stopSound","audioListener","AudioListener","PositionalAudio","Audio","onEnded","pauseSound","sl","al","Al","ll","aileronsemibold","dejavu","exo2bold","exo2semibold","kelsonsans","monoid","mozillavr","roboto","sourcecodepro","cl","hl","dl","ul","gl","pl","fl","baseline","fontImage","negate","whiteSpace","wrapCount","wrapPixels","xOffset","yOffset","zOffset","shaderData","il","createOrUpdateMaterial","explicitGeoDimensionsChecked","currentFont","updateGeometry","updateLayout","updateFont","shaderObject","lookupFont","ol","widthFactor","getFontImageSrc","ImageLoader","initMesh","fontObj","descender","hasExplicitGeoWidth","hasExplicitGeoHeight","ascender","ml","El","Cl","autoHide","buttonEventDetails","buttonStates","changedAxes","axisMoveEventDetail","updateController","isControllerPresent","gamepad","pose","gripSpace","updatePose","updateButtons","pressed","touched","handleAxes","handlePress","handleTouch","handleValue","vl","Bl","bl","yl","Il","triggerOriginalRotationX","menu","wl","xl","Ql","Ll","Ml","triggerPressed","touchpadPressed","trackpadPressed","Sl","Dl","kl","acceleration","adAxis","adEnabled","adInverted","fly","wsAxis","wsEnabled","wsInverted","velocity","onBlur","onContextMenu","onFocus","onKeyDown","onKeyUp","onVisibilityChange","attachVisibilityEventListeners","updateVelocity","getMovementVector","removeKeyEventListeners","removeVisibilityEventListeners","attachKeyEventListeners","KeyA","ArrowLeft","KeyD","ArrowRight","KeyW","ArrowUp","KeyS","ArrowDown","applyEuler","oncontextmenu","keyCode","Tl","Rl","Fl","Ul","Ol","Pl","Gl","Nl","jl","pair","axisMeshNames","buttonMeshNames","squeeze","pointingPoseMeshName","onModelError","setModelVisibility","loadedMeshInfo","axisMeshes","createdFromMesh","updateControllerModel","createControllerModelUrl","controllerModel","unpressed","calculateRayOriginFromMesh","getWorldQuaternion","lerpAxisTransform","setRotationFromQuaternion","slerp","lerpButtonTransform","modelVisible","_l","xrHitTestSource","sessionStart","Hl","tempFakePose","previousFrameAnchors","anchorToObject3D","requestHitTestSource","profile","requestHitTestSourceForTransientInput","transient","anchorFromLastHitTestResult","lastHitTest","doHit","getViewerPose","getHitTestResultsForTransientInput","results","getHitTestResults","updateAnchorPoses","trackedAnchors","footprintDepth","hitTest","imageDataArray","imageData","ImageData","orthoCam","layers","textureTarget","WebGLRenderTarget","basicMaterial","context","imageSmoothingEnabled","canvasTexture","hasPosedOnce","bboxMesh","viewerHitTest","inputSources","targetRayMode","cancel","bboxOffset","makeBBox","bboxNeedsUpdate","PlaneGeometry","rotateX","rotateY","bbox","updateFootprint","getRenderTarget","setRenderTarget","overrideMaterial","readRenderTargetPixels","putImageData","shadowColor","shadowBlur","ql","Vl","zl","deviceMotionMessage","httpsMessage","denyButtonText","allowButtonText","cancelButtonText","isSecureContext","showHTTPAlert","onDeviceMotionDialogAllowClicked","onDeviceMotionDialogDenyClicked","devicePermissionDialogEl","stopPropagation","onOkClicked","Yl","ca","firstPlay","onKeydown","onMessage","initOverlay","loadingMessageEl","ctrlKey","altKey","getModifierState","showLoader","hideLoader","AFRAME","INSPECTOR","inspectorInjected","density","fog","FogExp2","Fog","onKeyup","Kl","container","mixin","dynamic","initPool","availableEls","usedEls","createEntity","wrapPlay","object3DParent","requestEntity","updateRaycasters","returnEntity","filterLabels","meshesEnabled","meshMixin","planesEnabled","planeMixin","meshEntities","initWorldMeshEntity","detectMeshes","updateMeshes","detectedMeshes","detectedPlanes","present","semanticLabel","lastChangedTime","updateMeshGeometry","deleteMeshes","createNewMeshes","meshSpace","planeSpace","initMeshGeometry","XRPlane","Shape","polygon","moveTo","lineTo","ShapeGeometry","directionalLight","cubeRenderTarget","WebGLCubeRenderTarget","cubeCamera","CubeCamera","lightingEstimationTexture","needsVREnvironmentUpdate","requestLightProbe","startLightProbe","xrLightProbe","stopLightProbe","environment","probeLight","needsLightProbeUpdate","setupLightProbe","preferredReflectionFormat","getExtension","glBinding","updateXRCubeMap","getReflectionCubeMap","needsPMREMUpdate","getLightEstimate","primaryLightIntensity","sh","sphericalHarmonicsCoefficients","primaryLightDirection","Wl","Jl","setup","cubeMapSize","quad","ctx","outputColorSpace","shiftKey","capture","setCapture","RGBFormat","renderTarget","projection","renderCapture","saveCapture","getCanvas","autoClear","flipPixelsVertically","toBlob","click","$l","ec","tc","stats","Zl","fps","statsEl","hideBound","hide","showBound","show","ic","enterVRButton","enterVREnabled","enterARButton","enterAREnabled","XRMode","insideLoader","enterVREl","enterAREl","orientationModalEl","toggleOrientationModalIfNeeded","onEnterVRButtonClick","onEnterARButtonClick","onModalClick","toggleEnterVRButtonIfNeeded","toggleEnterARButtonIfNeeded","segmentsDepth","rc","CircleGeometry","oc","openEnded","radiusBottom","radiusTop","segmentsRadial","CylinderGeometry","sc","DodecahedronGeometry","IcosahedronGeometry","OctahedronGeometry","ac","radiusInner","radiusOuter","segmentsPhi","segmentsTheta","RingGeometry","Ac","TetrahedronGeometry","lc","arc","radiusTubular","segmentsTubular","TorusGeometry","TorusKnotGeometry","cc","hc","dc","uc","gc","pc","wireframe","toneMapped","wireframeLinewidth","fc","normalMap","ambientOcclusionMap","ambientOcclusionMapIntensity","displacementMap","displacementScale","displacementBias","mc","reflectivity","refractionRatio","combine","MixOperation","MultiplyOperation","AddOperation","bumpMap","bumpMapScale","vertexA","vertexB","vertexC","Triangle","getNormal","setFromUnitVectors","divide","materialData","ambientOcclusionTextureOffset","ambientOcclusionTextureRepeat","displacementTextureOffset","displacementTextureRepeat","metalnessMap","metalnessTextureOffset","metalnessTextureRepeat","normalTextureOffset","normalTextureRepeat","roughnessMap","roughnessTextureOffset","roughnessTextureRepeat","oneOF","bumpTextureOffset","bumpTextureRepeat","_envMap","UniformsUtils","merge","UniformsLib","alphaToCoverage","ShadowMaterial","Ec","Cc","unwrapRender","wrapRender","initialCameraFound","numUserCameras","numUserCamerasChecked","setupInitialCamera","checkUserCamera","createDefaultCamera","originalRender","cacheCount","clearCache","dracoDecoderPath","basisTranscoderPath","meshoptDecoderPath","MeshoptDecoder","vc","Bc","defaultLightsEnabled","defaultLights","userDefinedLights","setupDefaultLights","removeDefaultLights","bc","yc","Ic","clearTextureSourceCache","loadImage","loadVideo","Source","CubeTexture","statusText","controls","collisions","colliderEls","detectCollisions","registerCollision","componentA","componentB","detected","resetCollisions","clearCollisions","wc","xc","groupOrder","renderOrder","Qc","Lc","highRefreshRate","exposure","toneMapping","sortTransparentObjects","colorManagement","sortObjects","setOpaqueSort","toneMappingExposure","setTransparentSort","supportedFrameRates","updateTargetFrameRate","Mc","basic","BasicShadowMap","pcf","PCFShadowMap","pcfsoft","PCFSoftShadowMap","autoUpdate","shadowMapEnabled","shadowMap","onInputSourcesChange","Sc","Dc","referenceSpaceType","overlayElement","domOverlay","root","wasFeatureRequested","kc","Tc","standard","Rc","Fc","envmap","link","Uc","Oc","Pc","Gc","Nc","sound","jc","_c","Hc","cordova","protocol","REVISION","AFRAME_ASYNC","qc","AComponent","AEntity","ANode","ANIME","AScene","coreComponents","registerComponent","registerGeometry","registerPrimitive","registerShader","registerSystem","getMeshMixin","shaders","emitReady","utils"],"sources":["webpack://aframe/node_modules/an-array/index.js","webpack://aframe/node_modules/as-number/index.js","webpack://aframe/node_modules/base64-js/index.js","webpack://aframe/node_modules/buffer-equal/index.js","webpack://aframe/node_modules/buffer/index.js","webpack://aframe/node_modules/css-loader/dist/runtime/api.js","webpack://aframe/node_modules/css-loader/dist/runtime/getUrl.js","webpack://aframe/node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://aframe/node_modules/debug/src/browser.js","webpack://aframe/node_modules/debug/src/common.js","webpack://aframe/node_modules/deep-assign/index.js","webpack://aframe/node_modules/dtype/index.js","webpack://aframe/node_modules/global/window.js","webpack://aframe/node_modules/ieee754/index.js","webpack://aframe/node_modules/is-buffer/index.js","webpack://aframe/node_modules/is-function/index.js","webpack://aframe/node_modules/is-obj/index.js","webpack://aframe/node_modules/layout-bmfont-text/index.js","webpack://aframe/node_modules/load-bmfont/browser.js","webpack://aframe/node_modules/load-bmfont/lib/is-binary.js","webpack://aframe/node_modules/ms/index.js","webpack://aframe/node_modules/parse-bmfont-ascii/index.js","webpack://aframe/node_modules/parse-bmfont-binary/index.js","webpack://aframe/node_modules/parse-bmfont-xml/lib/browser.js","webpack://aframe/node_modules/parse-bmfont-xml/lib/parse-attribs.js","webpack://aframe/node_modules/parse-headers/parse-headers.js","webpack://aframe/node_modules/quad-indices/index.js","webpack://aframe/node_modules/three-bmfont-text/index.js","webpack://aframe/node_modules/three-bmfont-text/lib/utils.js","webpack://aframe/node_modules/three-bmfont-text/lib/vertices.js","webpack://aframe/node_modules/word-wrapper/index.js","webpack://aframe/node_modules/xhr/index.js","webpack://aframe/node_modules/xml-parse-from-string/index.js","webpack://aframe/node_modules/xtend/immutable.js","webpack://aframe/src/lib/rStatsAframe.js","webpack://aframe/vendor/rStats.extras.js","webpack://aframe/vendor/rStats.js","webpack://aframe/vendor/wakelock/util.js","webpack://aframe/vendor/wakelock/wakelock.js","webpack://aframe/src/style/aframe.css","webpack://aframe/src/style/rStats.css","webpack://aframe/src/style/aframe.css?ccfc","webpack://aframe/src/style/rStats.css?d035","webpack://aframe/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://aframe/node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://aframe/node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://aframe/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://aframe/node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://aframe/node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://aframe/webpack/bootstrap","webpack://aframe/webpack/runtime/compat get default export","webpack://aframe/webpack/runtime/define property getters","webpack://aframe/webpack/runtime/global","webpack://aframe/webpack/runtime/hasOwnProperty shorthand","webpack://aframe/webpack/runtime/make namespace object","webpack://aframe/webpack/runtime/jsonp chunk loading","webpack://aframe/webpack/runtime/nonce","webpack://aframe/node_modules/super-animejs/lib/anime.es.js","webpack://aframe/external module \"three\"","webpack://aframe/node_modules/three/examples/jsm/loaders/DRACOLoader.js","webpack://aframe/node_modules/three/examples/jsm/utils/BufferGeometryUtils.js","webpack://aframe/node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack://aframe/node_modules/three/examples/jsm/utils/WorkerPool.js","webpack://aframe/node_modules/three/examples/jsm/libs/ktx-parse.module.js","webpack://aframe/node_modules/three/examples/jsm/libs/zstddec.module.js","webpack://aframe/node_modules/three/examples/jsm/loaders/KTX2Loader.js","webpack://aframe/node_modules/three/examples/jsm/math/ColorSpaces.js","webpack://aframe/node_modules/three/examples/jsm/math/OBB.js","webpack://aframe/node_modules/three/examples/jsm/loaders/OBJLoader.js","webpack://aframe/node_modules/three/examples/jsm/loaders/MTLLoader.js","webpack://aframe/node_modules/three/examples/jsm/lights/LightProbeGenerator.js","webpack://aframe/vendor/DeviceOrientationControls.js","webpack://aframe/src/lib/three.js","webpack://aframe/src/constants/index.js","webpack://aframe/src/utils/debug.js","webpack://aframe/src/utils/device.js","webpack://aframe/src/utils/object-pool.js","webpack://aframe/src/utils/coordinates.js","webpack://aframe/src/utils/split.js","webpack://aframe/src/utils/entity.js","webpack://aframe/src/utils/forceCanvasResizeSafariMobile.js","webpack://aframe/src/utils/src-loader.js","webpack://aframe/src/utils/material.js","webpack://aframe/src/utils/styleParser.js","webpack://aframe/src/utils/tracked-controls.js","webpack://aframe/src/utils/index.js","webpack://aframe/src/core/scene/metaTags.js","webpack://aframe/src/core/scene/loadingScreen.js","webpack://aframe/src/core/scene/scenes.js","webpack://aframe/src/core/propertyTypes.js","webpack://aframe/src/core/schema.js","webpack://aframe/src/core/component.js","webpack://aframe/src/core/readyState.js","webpack://aframe/src/core/system.js","webpack://aframe/src/core/a-node.js","webpack://aframe/src/core/a-entity.js","webpack://aframe/src/core/scene/postMessage.js","webpack://aframe/src/utils/ios-orientationchange-blank-bug.js","webpack://aframe/src/core/scene/a-scene.js","webpack://aframe/src/core/scene/wakelock.js","webpack://aframe/src/core/geometry.js","webpack://aframe/src/extras/primitives/primitives.js","webpack://aframe/src/core/shader.js","webpack://aframe/src/core/a-assets.js","webpack://aframe/src/core/a-cubemap.js","webpack://aframe/src/core/a-mixin.js","webpack://aframe/src/components/animation.js","webpack://aframe/src/components/anchored.js","webpack://aframe/src/components/camera.js","webpack://aframe/src/components/cursor.js","webpack://aframe/src/components/geometry.js","webpack://aframe/src/components/generic-tracked-controller-controls.js","webpack://aframe/src/components/gltf-model.js","webpack://aframe/src/components/grabbable.js","webpack://aframe/src/components/hand-tracking-controls.js","webpack://aframe/src/components/hand-tracking-grab-controls.js","webpack://aframe/src/components/hand-controls.js","webpack://aframe/src/components/hide-on-enter-ar.js","webpack://aframe/src/components/hide-on-enter-vr.js","webpack://aframe/src/components/hp-mixed-reality-controls.js","webpack://aframe/src/components/layer.js","webpack://aframe/src/utils/math.js","webpack://aframe/src/components/laser-controls.js","webpack://aframe/src/components/light.js","webpack://aframe/src/components/link.js","webpack://aframe/src/components/line.js","webpack://aframe/src/components/logitech-mx-ink-controls.js","webpack://aframe/src/components/look-controls.js","webpack://aframe/src/components/magicleap-controls.js","webpack://aframe/src/components/material.js","webpack://aframe/src/components/meta-touch-controls.js","webpack://aframe/src/components/obb-collider.js","webpack://aframe/src/components/obj-model.js","webpack://aframe/src/components/oculus-go-controls.js","webpack://aframe/src/components/pico-controls.js","webpack://aframe/src/components/raycaster.js","webpack://aframe/src/components/position.js","webpack://aframe/src/components/rotation.js","webpack://aframe/src/components/text.js","webpack://aframe/src/components/sound.js","webpack://aframe/src/components/scale.js","webpack://aframe/src/components/shadow.js","webpack://aframe/src/components/tracked-controls.js","webpack://aframe/src/components/wasd-controls.js","webpack://aframe/src/components/valve-index-controls.js","webpack://aframe/src/components/visible.js","webpack://aframe/src/components/vive-controls.js","webpack://aframe/src/components/vive-focus-controls.js","webpack://aframe/src/constants/keyboardevent.js","webpack://aframe/src/components/windows-motion-controls.js","webpack://aframe/src/components/scene/ar-hit-test.js","webpack://aframe/src/components/scene/background.js","webpack://aframe/src/components/scene/debug.js","webpack://aframe/src/components/scene/device-orientation-permission-ui.js","webpack://aframe/src/components/scene/embedded.js","webpack://aframe/src/components/scene/inspector.js","webpack://aframe/src/components/scene/fog.js","webpack://aframe/src/components/scene/keyboard-shortcuts.js","webpack://aframe/src/components/scene/pool.js","webpack://aframe/src/components/scene/real-world-meshing.js","webpack://aframe/src/components/scene/reflection.js","webpack://aframe/src/components/scene/screenshot.js","webpack://aframe/src/components/scene/stats.js","webpack://aframe/src/components/scene/xr-mode-ui.js","webpack://aframe/src/geometries/box.js","webpack://aframe/src/geometries/circle.js","webpack://aframe/src/geometries/cone.js","webpack://aframe/src/geometries/cylinder.js","webpack://aframe/src/geometries/dodecahedron.js","webpack://aframe/src/geometries/icosahedron.js","webpack://aframe/src/geometries/octahedron.js","webpack://aframe/src/geometries/plane.js","webpack://aframe/src/geometries/ring.js","webpack://aframe/src/geometries/sphere.js","webpack://aframe/src/geometries/tetrahedron.js","webpack://aframe/src/geometries/torus.js","webpack://aframe/src/geometries/torusKnot.js","webpack://aframe/src/geometries/triangle.js","webpack://aframe/src/shaders/flat.js","webpack://aframe/src/shaders/standard.js","webpack://aframe/src/shaders/phong.js","webpack://aframe/src/shaders/sdf.js","webpack://aframe/src/shaders/msdf.js","webpack://aframe/src/shaders/shadow.js","webpack://aframe/src/systems/camera.js","webpack://aframe/src/systems/geometry.js","webpack://aframe/src/systems/gltf-model.js","webpack://aframe/src/systems/light.js","webpack://aframe/src/systems/material.js","webpack://aframe/src/systems/obb-collider.js","webpack://aframe/src/systems/renderer.js","webpack://aframe/src/systems/shadow.js","webpack://aframe/src/systems/tracked-controls.js","webpack://aframe/src/systems/webxr.js","webpack://aframe/src/extras/primitives/getMeshMixin.js","webpack://aframe/src/extras/components/pivot.js","webpack://aframe/src/extras/primitives/primitives/a-camera.js","webpack://aframe/src/extras/primitives/primitives/a-cursor.js","webpack://aframe/src/extras/primitives/primitives/a-curvedimage.js","webpack://aframe/src/extras/primitives/primitives/a-gltf-model.js","webpack://aframe/src/extras/primitives/primitives/a-image.js","webpack://aframe/src/extras/primitives/primitives/a-light.js","webpack://aframe/src/extras/primitives/primitives/a-link.js","webpack://aframe/src/extras/primitives/primitives/a-obj-model.js","webpack://aframe/src/extras/primitives/primitives/meshPrimitives.js","webpack://aframe/src/extras/primitives/primitives/a-sky.js","webpack://aframe/src/extras/primitives/primitives/a-sound.js","webpack://aframe/src/extras/primitives/primitives/a-text.js","webpack://aframe/src/extras/primitives/primitives/a-video.js","webpack://aframe/src/extras/primitives/primitives/a-videosphere.js","webpack://aframe/src/index.js"],"sourcesContent":["var str = Object.prototype.toString\n\nmodule.exports = anArray\n\nfunction anArray(arr) {\n  return (\n       arr.BYTES_PER_ELEMENT\n    && str.call(arr.buffer) === '[object ArrayBuffer]'\n    || Array.isArray(arr)\n  )\n}\n","module.exports = function numtype(num, def) {\n\treturn typeof num === 'number'\n\t\t? num \n\t\t: (typeof def === 'number' ? def : 0)\n}","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","var Buffer = require('buffer').Buffer; // for use with browserify\n\nmodule.exports = function (a, b) {\n    if (!Buffer.isBuffer(a)) return undefined;\n    if (!Buffer.isBuffer(b)) return undefined;\n    if (typeof a.equals === 'function') return a.equals(b);\n    if (a.length !== b.length) return false;\n    \n    for (var i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) return false;\n    }\n    \n    return true;\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(' ', ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","'use strict';\nvar isObj = require('is-obj');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Sources cannot be null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction assignKey(to, from, key) {\n\tvar val = from[key];\n\n\tif (val === undefined || val === null) {\n\t\treturn;\n\t}\n\n\tif (hasOwnProperty.call(to, key)) {\n\t\tif (to[key] === undefined || to[key] === null) {\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object (' + key + ')');\n\t\t}\n\t}\n\n\tif (!hasOwnProperty.call(to, key) || !isObj(val)) {\n\t\tto[key] = val;\n\t} else {\n\t\tto[key] = assign(Object(to[key]), from[key]);\n\t}\n}\n\nfunction assign(to, from) {\n\tif (to === from) {\n\t\treturn to;\n\t}\n\n\tfrom = Object(from);\n\n\tfor (var key in from) {\n\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\tassignKey(to, from, key);\n\t\t}\n\t}\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tvar symbols = Object.getOwnPropertySymbols(from);\n\n\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\tassignKey(to, from, symbols[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n}\n\nmodule.exports = function deepAssign(target) {\n\ttarget = toObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tassign(target, arguments[s]);\n\t}\n\n\treturn target;\n};\n","module.exports = function(dtype) {\n  switch (dtype) {\n    case 'int8':\n      return Int8Array\n    case 'int16':\n      return Int16Array\n    case 'int32':\n      return Int32Array\n    case 'uint8':\n      return Uint8Array\n    case 'uint16':\n      return Uint16Array\n    case 'uint32':\n      return Uint32Array\n    case 'float32':\n      return Float32Array\n    case 'float64':\n      return Float64Array\n    case 'array':\n      return Array\n    case 'uint8_clamped':\n      return Uint8ClampedArray\n  }\n}\n","var win;\n\nif (typeof window !== \"undefined\") {\n    win = window;\n} else if (typeof global !== \"undefined\") {\n    win = global;\n} else if (typeof self !== \"undefined\"){\n    win = self;\n} else {\n    win = {};\n}\n\nmodule.exports = win;\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  if (!fn) {\n    return false\n  }\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n","'use strict';\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n","var wordWrap = require('word-wrapper')\nvar xtend = require('xtend')\nvar number = require('as-number')\n\nvar X_HEIGHTS = ['x', 'e', 'a', 'o', 'n', 's', 'r', 'c', 'u', 'm', 'v', 'w', 'z']\nvar M_WIDTHS = ['m', 'w']\nvar CAP_HEIGHTS = ['H', 'I', 'N', 'E', 'F', 'K', 'L', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']\n\n\nvar TAB_ID = '\\t'.charCodeAt(0)\nvar SPACE_ID = ' '.charCodeAt(0)\nvar ALIGN_LEFT = 0, \n    ALIGN_CENTER = 1, \n    ALIGN_RIGHT = 2\n\nmodule.exports = function createLayout(opt) {\n  return new TextLayout(opt)\n}\n\nfunction TextLayout(opt) {\n  this.glyphs = []\n  this._measure = this.computeMetrics.bind(this)\n  this.update(opt)\n}\n\nTextLayout.prototype.update = function(opt) {\n  opt = xtend({\n    measure: this._measure\n  }, opt)\n  this._opt = opt\n  this._opt.tabSize = number(this._opt.tabSize, 4)\n\n  if (!opt.font)\n    throw new Error('must provide a valid bitmap font')\n\n  var glyphs = this.glyphs\n  var text = opt.text||'' \n  var font = opt.font\n  this._setupSpaceGlyphs(font)\n  \n  var lines = wordWrap.lines(text, opt)\n  var minWidth = opt.width || 0\n\n  //clear glyphs\n  glyphs.length = 0\n\n  //get max line width\n  var maxLineWidth = lines.reduce(function(prev, line) {\n    return Math.max(prev, line.width, minWidth)\n  }, 0)\n\n  //the pen position\n  var x = 0\n  var y = 0\n  var lineHeight = number(opt.lineHeight, font.common.lineHeight)\n  var baseline = font.common.base\n  var descender = lineHeight-baseline\n  var letterSpacing = opt.letterSpacing || 0\n  var height = lineHeight * lines.length - descender\n  var align = getAlignType(this._opt.align)\n\n  //draw text along baseline\n  y -= height\n  \n  //the metrics for this text layout\n  this._width = maxLineWidth\n  this._height = height\n  this._descender = lineHeight - baseline\n  this._baseline = baseline\n  this._xHeight = getXHeight(font)\n  this._capHeight = getCapHeight(font)\n  this._lineHeight = lineHeight\n  this._ascender = lineHeight - descender - this._xHeight\n    \n  //layout each glyph\n  var self = this\n  lines.forEach(function(line, lineIndex) {\n    var start = line.start\n    var end = line.end\n    var lineWidth = line.width\n    var lastGlyph\n    \n    //for each glyph in that line...\n    for (var i=start; i<end; i++) {\n      var id = text.charCodeAt(i)\n      var glyph = self.getGlyph(font, id)\n      if (glyph) {\n        if (lastGlyph) \n          x += getKerning(font, lastGlyph.id, glyph.id)\n\n        var tx = x\n        if (align === ALIGN_CENTER) \n          tx += (maxLineWidth-lineWidth)/2\n        else if (align === ALIGN_RIGHT)\n          tx += (maxLineWidth-lineWidth)\n\n        glyphs.push({\n          position: [tx, y],\n          data: glyph,\n          index: i,\n          line: lineIndex\n        })  \n\n        //move pen forward\n        x += glyph.xadvance + letterSpacing\n        lastGlyph = glyph\n      }\n    }\n\n    //next line down\n    y += lineHeight\n    x = 0\n  })\n  this._linesTotal = lines.length;\n}\n\nTextLayout.prototype._setupSpaceGlyphs = function(font) {\n  //These are fallbacks, when the font doesn't include\n  //' ' or '\\t' glyphs\n  this._fallbackSpaceGlyph = null\n  this._fallbackTabGlyph = null\n\n  if (!font.chars || font.chars.length === 0)\n    return\n\n  //try to get space glyph\n  //then fall back to the 'm' or 'w' glyphs\n  //then fall back to the first glyph available\n  var space = getGlyphById(font, SPACE_ID) \n          || getMGlyph(font) \n          || font.chars[0]\n\n  //and create a fallback for tab\n  var tabWidth = this._opt.tabSize * space.xadvance\n  this._fallbackSpaceGlyph = space\n  this._fallbackTabGlyph = xtend(space, {\n    x: 0, y: 0, xadvance: tabWidth, id: TAB_ID, \n    xoffset: 0, yoffset: 0, width: 0, height: 0\n  })\n}\n\nTextLayout.prototype.getGlyph = function(font, id) {\n  var glyph = getGlyphById(font, id)\n  if (glyph)\n    return glyph\n  else if (id === TAB_ID) \n    return this._fallbackTabGlyph\n  else if (id === SPACE_ID) \n    return this._fallbackSpaceGlyph\n  return null\n}\n\nTextLayout.prototype.computeMetrics = function(text, start, end, width) {\n  var letterSpacing = this._opt.letterSpacing || 0\n  var font = this._opt.font\n  var curPen = 0\n  var curWidth = 0\n  var count = 0\n  var glyph\n  var lastGlyph\n\n  if (!font.chars || font.chars.length === 0) {\n    return {\n      start: start,\n      end: start,\n      width: 0\n    }\n  }\n\n  end = Math.min(text.length, end)\n  for (var i=start; i < end; i++) {\n    var id = text.charCodeAt(i)\n    var glyph = this.getGlyph(font, id)\n\n    if (glyph) {\n      //move pen forward\n      var xoff = glyph.xoffset\n      var kern = lastGlyph ? getKerning(font, lastGlyph.id, glyph.id) : 0\n      curPen += kern\n\n      var nextPen = curPen + glyph.xadvance + letterSpacing\n      var nextWidth = curPen + glyph.width\n\n      //we've hit our limit; we can't move onto the next glyph\n      if (nextWidth >= width || nextPen >= width)\n        break\n\n      //otherwise continue along our line\n      curPen = nextPen\n      curWidth = nextWidth\n      lastGlyph = glyph\n    }\n    count++\n  }\n  \n  //make sure rightmost edge lines up with rendered glyphs\n  if (lastGlyph)\n    curWidth += lastGlyph.xoffset\n\n  return {\n    start: start,\n    end: start + count,\n    width: curWidth\n  }\n}\n\n//getters for the private vars\n;['width', 'height', \n  'descender', 'ascender',\n  'xHeight', 'baseline',\n  'capHeight',\n  'lineHeight' ].forEach(addGetter)\n\nfunction addGetter(name) {\n  Object.defineProperty(TextLayout.prototype, name, {\n    get: wrapper(name),\n    configurable: true\n  })\n}\n\n//create lookups for private vars\nfunction wrapper(name) {\n  return (new Function([\n    'return function '+name+'() {',\n    '  return this._'+name,\n    '}'\n  ].join('\\n')))()\n}\n\nfunction getGlyphById(font, id) {\n  if (!font.chars || font.chars.length === 0)\n    return null\n\n  var glyphIdx = findChar(font.chars, id)\n  if (glyphIdx >= 0)\n    return font.chars[glyphIdx]\n  return null\n}\n\nfunction getXHeight(font) {\n  for (var i=0; i<X_HEIGHTS.length; i++) {\n    var id = X_HEIGHTS[i].charCodeAt(0)\n    var idx = findChar(font.chars, id)\n    if (idx >= 0) \n      return font.chars[idx].height\n  }\n  return 0\n}\n\nfunction getMGlyph(font) {\n  for (var i=0; i<M_WIDTHS.length; i++) {\n    var id = M_WIDTHS[i].charCodeAt(0)\n    var idx = findChar(font.chars, id)\n    if (idx >= 0) \n      return font.chars[idx]\n  }\n  return 0\n}\n\nfunction getCapHeight(font) {\n  for (var i=0; i<CAP_HEIGHTS.length; i++) {\n    var id = CAP_HEIGHTS[i].charCodeAt(0)\n    var idx = findChar(font.chars, id)\n    if (idx >= 0) \n      return font.chars[idx].height\n  }\n  return 0\n}\n\nfunction getKerning(font, left, right) {\n  if (!font.kernings || font.kernings.length === 0)\n    return 0\n\n  var table = font.kernings\n  for (var i=0; i<table.length; i++) {\n    var kern = table[i]\n    if (kern.first === left && kern.second === right)\n      return kern.amount\n  }\n  return 0\n}\n\nfunction getAlignType(align) {\n  if (align === 'center')\n    return ALIGN_CENTER\n  else if (align === 'right')\n    return ALIGN_RIGHT\n  return ALIGN_LEFT\n}\n\nfunction findChar (array, value, start) {\n  start = start || 0\n  for (var i = start; i < array.length; i++) {\n    if (array[i].id === value) {\n      return i\n    }\n  }\n  return -1\n}","var xhr = require('xhr')\nvar noop = function(){}\nvar parseASCII = require('parse-bmfont-ascii')\nvar parseXML = require('parse-bmfont-xml')\nvar readBinary = require('parse-bmfont-binary')\nvar isBinaryFormat = require('./lib/is-binary')\nvar xtend = require('xtend')\n\nvar xml2 = (function hasXML2() {\n  return self.XMLHttpRequest && \"withCredentials\" in new XMLHttpRequest\n})()\n\nmodule.exports = function(opt, cb) {\n  cb = typeof cb === 'function' ? cb : noop\n\n  if (typeof opt === 'string')\n    opt = { uri: opt }\n  else if (!opt)\n    opt = {}\n\n  var expectBinary = opt.binary\n  if (expectBinary)\n    opt = getBinaryOpts(opt)\n\n  xhr(opt, function(err, res, body) {\n    if (err)\n      return cb(err)\n    if (!/^2/.test(res.statusCode))\n      return cb(new Error('http status code: '+res.statusCode))\n    if (!body)\n      return cb(new Error('no body result'))\n\n    var binary = false \n\n    //if the response type is an array buffer,\n    //we need to convert it into a regular Buffer object\n    if (isArrayBuffer(body)) {\n      var array = new Uint8Array(body)\n      body = Buffer.from(array, 'binary')\n    }\n\n    //now check the string/Buffer response\n    //and see if it has a binary BMF header\n    if (isBinaryFormat(body)) {\n      binary = true\n      //if we have a string, turn it into a Buffer\n      if (typeof body === 'string') \n        body = Buffer.from(body, 'binary')\n    } \n\n    //we are not parsing a binary format, just ASCII/XML/etc\n    if (!binary) {\n      //might still be a buffer if responseType is 'arraybuffer'\n      if (Buffer.isBuffer(body))\n        body = body.toString(opt.encoding)\n      body = body.trim()\n    }\n\n    var result\n    try {\n      var type = res.headers['content-type']\n      if (binary)\n        result = readBinary(body)\n      else if (/json/.test(type) || body.charAt(0) === '{')\n        result = JSON.parse(body)\n      else if (/xml/.test(type)  || body.charAt(0) === '<')\n        result = parseXML(body)\n      else\n        result = parseASCII(body)\n    } catch (e) {\n      cb(new Error('error parsing font '+e.message))\n      cb = noop\n    }\n    cb(null, result)\n  })\n}\n\nfunction isArrayBuffer(arr) {\n  var str = Object.prototype.toString\n  return str.call(arr) === '[object ArrayBuffer]'\n}\n\nfunction getBinaryOpts(opt) {\n  //IE10+ and other modern browsers support array buffers\n  if (xml2)\n    return xtend(opt, { responseType: 'arraybuffer' })\n  \n  if (typeof self.XMLHttpRequest === 'undefined')\n    throw new Error('your browser does not support XHR loading')\n\n  //IE9 and XML1 browsers could still use an override\n  var req = new self.XMLHttpRequest()\n  req.overrideMimeType('text/plain; charset=x-user-defined')\n  return xtend({\n    xhr: req\n  }, opt)\n}\n","var equal = require('buffer-equal')\nvar HEADER = Buffer.from([66, 77, 70, 3])\n\nmodule.exports = function(buf) {\n  if (typeof buf === 'string')\n    return buf.substring(0, 3) === 'BMF'\n  return buf.length > 4 && equal(buf.slice(0, 4), HEADER)\n}","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","module.exports = function parseBMFontAscii(data) {\n  if (!data)\n    throw new Error('no data provided')\n  data = data.toString().trim()\n\n  var output = {\n    pages: [],\n    chars: [],\n    kernings: []\n  }\n\n  var lines = data.split(/\\r\\n?|\\n/g)\n\n  if (lines.length === 0)\n    throw new Error('no data in BMFont file')\n\n  for (var i = 0; i < lines.length; i++) {\n    var lineData = splitLine(lines[i], i)\n    if (!lineData) //skip empty lines\n      continue\n\n    if (lineData.key === 'page') {\n      if (typeof lineData.data.id !== 'number')\n        throw new Error('malformed file at line ' + i + ' -- needs page id=N')\n      if (typeof lineData.data.file !== 'string')\n        throw new Error('malformed file at line ' + i + ' -- needs page file=\"path\"')\n      output.pages[lineData.data.id] = lineData.data.file\n    } else if (lineData.key === 'chars' || lineData.key === 'kernings') {\n      //... do nothing for these two ...\n    } else if (lineData.key === 'char') {\n      output.chars.push(lineData.data)\n    } else if (lineData.key === 'kerning') {\n      output.kernings.push(lineData.data)\n    } else {\n      output[lineData.key] = lineData.data\n    }\n  }\n\n  return output\n}\n\nfunction splitLine(line, idx) {\n  line = line.replace(/\\t+/g, ' ').trim()\n  if (!line)\n    return null\n\n  var space = line.indexOf(' ')\n  if (space === -1) \n    throw new Error(\"no named row at line \" + idx)\n\n  var key = line.substring(0, space)\n\n  line = line.substring(space + 1)\n  //clear \"letter\" field as it is non-standard and\n  //requires additional complexity to parse \" / = symbols\n  line = line.replace(/letter=[\\'\\\"]\\S+[\\'\\\"]/gi, '')  \n  line = line.split(\"=\")\n  line = line.map(function(str) {\n    return str.trim().match((/(\".*?\"|[^\"\\s]+)+(?=\\s*|\\s*$)/g))\n  })\n\n  var data = []\n  for (var i = 0; i < line.length; i++) {\n    var dt = line[i]\n    if (i === 0) {\n      data.push({\n        key: dt[0],\n        data: \"\"\n      })\n    } else if (i === line.length - 1) {\n      data[data.length - 1].data = parseData(dt[0])\n    } else {\n      data[data.length - 1].data = parseData(dt[0])\n      data.push({\n        key: dt[1],\n        data: \"\"\n      })\n    }\n  }\n\n  var out = {\n    key: key,\n    data: {}\n  }\n\n  data.forEach(function(v) {\n    out.data[v.key] = v.data;\n  })\n\n  return out\n}\n\nfunction parseData(data) {\n  if (!data || data.length === 0)\n    return \"\"\n\n  if (data.indexOf('\"') === 0 || data.indexOf(\"'\") === 0)\n    return data.substring(1, data.length - 1)\n  if (data.indexOf(',') !== -1)\n    return parseIntList(data)\n  return parseInt(data, 10)\n}\n\nfunction parseIntList(data) {\n  return data.split(',').map(function(val) {\n    return parseInt(val, 10)\n  })\n}","var HEADER = [66, 77, 70]\n\nmodule.exports = function readBMFontBinary(buf) {\n  if (buf.length < 6)\n    throw new Error('invalid buffer length for BMFont')\n\n  var header = HEADER.every(function(byte, i) {\n    return buf.readUInt8(i) === byte\n  })\n\n  if (!header)\n    throw new Error('BMFont missing BMF byte header')\n\n  var i = 3\n  var vers = buf.readUInt8(i++)\n  if (vers > 3)\n    throw new Error('Only supports BMFont Binary v3 (BMFont App v1.10)')\n  \n  var target = { kernings: [], chars: [] }\n  for (var b=0; b<5; b++)\n    i += readBlock(target, buf, i)\n  return target\n}\n\nfunction readBlock(target, buf, i) {\n  if (i > buf.length-1)\n    return 0\n\n  var blockID = buf.readUInt8(i++)\n  var blockSize = buf.readInt32LE(i)\n  i += 4\n\n  switch(blockID) {\n    case 1: \n      target.info = readInfo(buf, i)\n      break\n    case 2:\n      target.common = readCommon(buf, i)\n      break\n    case 3:\n      target.pages = readPages(buf, i, blockSize)\n      break\n    case 4:\n      target.chars = readChars(buf, i, blockSize)\n      break\n    case 5:\n      target.kernings = readKernings(buf, i, blockSize)\n      break\n  }\n  return 5 + blockSize\n}\n\nfunction readInfo(buf, i) {\n  var info = {}\n  info.size = buf.readInt16LE(i)\n\n  var bitField = buf.readUInt8(i+2)\n  info.smooth = (bitField >> 7) & 1\n  info.unicode = (bitField >> 6) & 1\n  info.italic = (bitField >> 5) & 1\n  info.bold = (bitField >> 4) & 1\n  \n  //fixedHeight is only mentioned in binary spec \n  if ((bitField >> 3) & 1)\n    info.fixedHeight = 1\n  \n  info.charset = buf.readUInt8(i+3) || ''\n  info.stretchH = buf.readUInt16LE(i+4)\n  info.aa = buf.readUInt8(i+6)\n  info.padding = [\n    buf.readInt8(i+7),\n    buf.readInt8(i+8),\n    buf.readInt8(i+9),\n    buf.readInt8(i+10)\n  ]\n  info.spacing = [\n    buf.readInt8(i+11),\n    buf.readInt8(i+12)\n  ]\n  info.outline = buf.readUInt8(i+13)\n  info.face = readStringNT(buf, i+14)\n  return info\n}\n\nfunction readCommon(buf, i) {\n  var common = {}\n  common.lineHeight = buf.readUInt16LE(i)\n  common.base = buf.readUInt16LE(i+2)\n  common.scaleW = buf.readUInt16LE(i+4)\n  common.scaleH = buf.readUInt16LE(i+6)\n  common.pages = buf.readUInt16LE(i+8)\n  var bitField = buf.readUInt8(i+10)\n  common.packed = 0\n  common.alphaChnl = buf.readUInt8(i+11)\n  common.redChnl = buf.readUInt8(i+12)\n  common.greenChnl = buf.readUInt8(i+13)\n  common.blueChnl = buf.readUInt8(i+14)\n  return common\n}\n\nfunction readPages(buf, i, size) {\n  var pages = []\n  var text = readNameNT(buf, i)\n  var len = text.length+1\n  var count = size / len\n  for (var c=0; c<count; c++) {\n    pages[c] = buf.slice(i, i+text.length).toString('utf8')\n    i += len\n  }\n  return pages\n}\n\nfunction readChars(buf, i, blockSize) {\n  var chars = []\n\n  var count = blockSize / 20\n  for (var c=0; c<count; c++) {\n    var char = {}\n    var off = c*20\n    char.id = buf.readUInt32LE(i + 0 + off)\n    char.x = buf.readUInt16LE(i + 4 + off)\n    char.y = buf.readUInt16LE(i + 6 + off)\n    char.width = buf.readUInt16LE(i + 8 + off)\n    char.height = buf.readUInt16LE(i + 10 + off)\n    char.xoffset = buf.readInt16LE(i + 12 + off)\n    char.yoffset = buf.readInt16LE(i + 14 + off)\n    char.xadvance = buf.readInt16LE(i + 16 + off)\n    char.page = buf.readUInt8(i + 18 + off)\n    char.chnl = buf.readUInt8(i + 19 + off)\n    chars[c] = char\n  }\n  return chars\n}\n\nfunction readKernings(buf, i, blockSize) {\n  var kernings = []\n  var count = blockSize / 10\n  for (var c=0; c<count; c++) {\n    var kern = {}\n    var off = c*10\n    kern.first = buf.readUInt32LE(i + 0 + off)\n    kern.second = buf.readUInt32LE(i + 4 + off)\n    kern.amount = buf.readInt16LE(i + 8 + off)\n    kernings[c] = kern\n  }\n  return kernings\n}\n\nfunction readNameNT(buf, offset) {\n  var pos=offset\n  for (; pos<buf.length; pos++) {\n    if (buf[pos] === 0x00) \n      break\n  }\n  return buf.slice(offset, pos)\n}\n\nfunction readStringNT(buf, offset) {\n  return readNameNT(buf, offset).toString('utf8')\n}","var parseAttributes = require('./parse-attribs')\nvar parseFromString = require('xml-parse-from-string')\n\n//In some cases element.attribute.nodeName can return\n//all lowercase values.. so we need to map them to the correct \n//case\nvar NAME_MAP = {\n  scaleh: 'scaleH',\n  scalew: 'scaleW',\n  stretchh: 'stretchH',\n  lineheight: 'lineHeight',\n  alphachnl: 'alphaChnl',\n  redchnl: 'redChnl',\n  greenchnl: 'greenChnl',\n  bluechnl: 'blueChnl'\n}\n\nmodule.exports = function parse(data) {\n  data = data.toString()\n  \n  var xmlRoot = parseFromString(data)\n  var output = {\n    pages: [],\n    chars: [],\n    kernings: []\n  }\n\n  //get config settings\n  ;['info', 'common'].forEach(function(key) {\n    var element = xmlRoot.getElementsByTagName(key)[0]\n    if (element)\n      output[key] = parseAttributes(getAttribs(element))\n  })\n\n  //get page info\n  var pageRoot = xmlRoot.getElementsByTagName('pages')[0]\n  if (!pageRoot)\n    throw new Error('malformed file -- no <pages> element')\n  var pages = pageRoot.getElementsByTagName('page')\n  for (var i=0; i<pages.length; i++) {\n    var p = pages[i]\n    var id = parseInt(p.getAttribute('id'), 10)\n    var file = p.getAttribute('file')\n    if (isNaN(id))\n      throw new Error('malformed file -- page \"id\" attribute is NaN')\n    if (!file)\n      throw new Error('malformed file -- needs page \"file\" attribute')\n    output.pages[parseInt(id, 10)] = file\n  }\n\n  //get kernings / chars\n  ;['chars', 'kernings'].forEach(function(key) {\n    var element = xmlRoot.getElementsByTagName(key)[0]\n    if (!element)\n      return\n    var childTag = key.substring(0, key.length-1)\n    var children = element.getElementsByTagName(childTag)\n    for (var i=0; i<children.length; i++) {      \n      var child = children[i]\n      output[key].push(parseAttributes(getAttribs(child)))\n    }\n  })\n  return output\n}\n\nfunction getAttribs(element) {\n  var attribs = getAttribList(element)\n  return attribs.reduce(function(dict, attrib) {\n    var key = mapName(attrib.nodeName)\n    dict[key] = attrib.nodeValue\n    return dict\n  }, {})\n}\n\nfunction getAttribList(element) {\n  //IE8+ and modern browsers\n  var attribs = []\n  for (var i=0; i<element.attributes.length; i++)\n    attribs.push(element.attributes[i])\n  return attribs\n}\n\nfunction mapName(nodeName) {\n  return NAME_MAP[nodeName.toLowerCase()] || nodeName\n}","//Some versions of GlyphDesigner have a typo\n//that causes some bugs with parsing. \n//Need to confirm with recent version of the software\n//to see whether this is still an issue or not.\nvar GLYPH_DESIGNER_ERROR = 'chasrset'\n\nmodule.exports = function parseAttributes(obj) {\n  obj = Object.assign({}, obj)\n  if (GLYPH_DESIGNER_ERROR in obj) {\n    obj['charset'] = obj[GLYPH_DESIGNER_ERROR]\n    delete obj[GLYPH_DESIGNER_ERROR]\n  }\n\n  for (var k in obj) {\n    if (k === 'face' || k === 'charset') \n      continue\n    else if (k === 'padding' || k === 'spacing')\n      obj[k] = parseIntList(obj[k])\n    else\n      obj[k] = parseInt(obj[k], 10) \n  }\n  return obj\n}\n\nfunction parseIntList(data) {\n  return data.split(',').map(function(val) {\n    return parseInt(val, 10)\n  })\n}","var trim = function(string) {\n  return string.replace(/^\\s+|\\s+$/g, '');\n}\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  var headersArr = trim(headers).split('\\n')\n\n  for (var i = 0; i < headersArr.length; i++) {\n    var row = headersArr[i]\n    var index = row.indexOf(':')\n    , key = trim(row.slice(0, index)).toLowerCase()\n    , value = trim(row.slice(index + 1))\n\n    if (typeof(result[key]) === 'undefined') {\n      result[key] = value\n    } else if (isArray(result[key])) {\n      result[key].push(value)\n    } else {\n      result[key] = [ result[key], value ]\n    }\n  }\n\n  return result\n}\n","var dtype = require('dtype')\nvar anArray = require('an-array')\nvar isBuffer = require('is-buffer')\n\nvar CW = [0, 2, 3]\nvar CCW = [2, 1, 3]\n\nmodule.exports = function createQuadElements(array, opt) {\n    //if user didn't specify an output array\n    if (!array || !(anArray(array) || isBuffer(array))) {\n        opt = array || {}\n        array = null\n    }\n\n    if (typeof opt === 'number') //backwards-compatible\n        opt = { count: opt }\n    else\n        opt = opt || {}\n\n    var type = typeof opt.type === 'string' ? opt.type : 'uint16'\n    var count = typeof opt.count === 'number' ? opt.count : 1\n    var start = (opt.start || 0) \n\n    var dir = opt.clockwise !== false ? CW : CCW,\n        a = dir[0], \n        b = dir[1],\n        c = dir[2]\n\n    var numIndices = count * 6\n\n    var indices = array || new (dtype(type))(numIndices)\n    for (var i = 0, j = 0; i < numIndices; i += 6, j += 4) {\n        var x = i + start\n        indices[x + 0] = j + 0\n        indices[x + 1] = j + 1\n        indices[x + 2] = j + 2\n        indices[x + 3] = j + a\n        indices[x + 4] = j + b\n        indices[x + 5] = j + c\n    }\n    return indices\n}","var createLayout = require('layout-bmfont-text')\nvar createIndices = require('quad-indices')\n\nvar vertices = require('./lib/vertices')\nvar utils = require('./lib/utils')\n\n\nmodule.exports = function createTextGeometry (opt) {\n  return new TextGeometry(opt)\n}\n\nclass TextGeometry extends THREE.BufferGeometry {\n  constructor (opt) {\n    super()\n\n    if (typeof opt === 'string') {\n      opt = { text: opt }\n    }\n\n    // use these as default values for any subsequent\n    // calls to update()\n    this._opt = Object.assign({}, opt)\n\n    // also do an initial setup...\n    if (opt) this.update(opt)\n  }\n\n  update(opt) {\n    if (typeof opt === 'string') {\n      opt = { text: opt }\n    }\n\n    // use constructor defaults\n    opt = Object.assign({}, this._opt, opt)\n\n    if (!opt.font) {\n      throw new TypeError('must specify a { font } in options')\n    }\n\n    this.layout = createLayout(opt)\n\n    // get vec2 texcoords\n    var flipY = opt.flipY !== false\n\n    // the desired BMFont data\n    var font = opt.font\n\n    // determine texture size from font file\n    var texWidth = font.common.scaleW\n    var texHeight = font.common.scaleH\n\n    // get visible glyphs\n    var glyphs = this.layout.glyphs.filter(function (glyph) {\n      var bitmap = glyph.data\n      return bitmap.width * bitmap.height > 0\n    })\n\n    // provide visible glyphs for convenience\n    this.visibleGlyphs = glyphs\n\n    // get common vertex data\n    var positions = vertices.positions(glyphs)\n    var uvs = vertices.uvs(glyphs, texWidth, texHeight, flipY)\n    var indices = createIndices([], {\n      clockwise: true,\n      type: 'uint16',\n      count: glyphs.length\n    })\n\n    // update vertex data\n    this.setIndex(indices)\n    this.setAttribute('position', new THREE.BufferAttribute(positions, 2))\n    this.setAttribute('uv', new THREE.BufferAttribute(uvs, 2))\n\n    // update multipage data\n    if (!opt.multipage && 'page' in this.attributes) {\n      // disable multipage rendering\n      this.removeAttribute('page')\n    } else if (opt.multipage) {\n      // enable multipage rendering\n      var pages = vertices.pages(glyphs)\n      this.setAttribute('page', new THREE.BufferAttribute(pages, 1))\n    }\n\n    // recompute bounding box and sphere, if present\n    if (this.boundingBox !== null) {\n      this.computeBoundingBox();\n    }\n    if (this.boundingSphere !== null) {\n      this.computeBoundingSphere();\n    }\n  }\n\n  computeBoundingSphere() {\n    if (this.boundingSphere === null) {\n      this.boundingSphere = new THREE.Sphere()\n    }\n\n    var positions = this.attributes.position.array\n    var itemSize = this.attributes.position.itemSize\n    if (!positions || !itemSize || positions.length < 2) {\n      this.boundingSphere.radius = 0\n      this.boundingSphere.center.set(0, 0, 0)\n      return\n    }\n    utils.computeSphere(positions, this.boundingSphere)\n    if (isNaN(this.boundingSphere.radius)) {\n      console.error('THREE.BufferGeometry.computeBoundingSphere(): ' +\n        'Computed radius is NaN. The ' +\n        '\"position\" attribute is likely to have NaN values.')\n    }\n  }\n\n  computeBoundingBox() {\n    if (this.boundingBox === null) {\n      this.boundingBox = new THREE.Box3()\n    }\n\n    var bbox = this.boundingBox\n    var positions = this.attributes.position.array\n    var itemSize = this.attributes.position.itemSize\n    if (!positions || !itemSize || positions.length < 2) {\n      bbox.makeEmpty()\n      return\n    }\n    utils.computeBox(positions, bbox)\n  }\n\n}\n","var itemSize = 2\nvar box = { min: [0, 0], max: [0, 0] }\n\nfunction bounds (positions) {\n  var count = positions.length / itemSize\n  box.min[0] = positions[0]\n  box.min[1] = positions[1]\n  box.max[0] = positions[0]\n  box.max[1] = positions[1]\n\n  for (var i = 0; i < count; i++) {\n    var x = positions[i * itemSize + 0]\n    var y = positions[i * itemSize + 1]\n    box.min[0] = Math.min(x, box.min[0])\n    box.min[1] = Math.min(y, box.min[1])\n    box.max[0] = Math.max(x, box.max[0])\n    box.max[1] = Math.max(y, box.max[1])\n  }\n}\n\nmodule.exports.computeBox = function (positions, output) {\n  bounds(positions)\n  output.min.set(box.min[0], box.min[1], 0)\n  output.max.set(box.max[0], box.max[1], 0)\n}\n\nmodule.exports.computeSphere = function (positions, output) {\n  bounds(positions)\n  var minX = box.min[0]\n  var minY = box.min[1]\n  var maxX = box.max[0]\n  var maxY = box.max[1]\n  var width = maxX - minX\n  var height = maxY - minY\n  var length = Math.sqrt(width * width + height * height)\n  output.center.set(minX + width / 2, minY + height / 2, 0)\n  output.radius = length / 2\n}\n","module.exports.pages = function pages (glyphs) {\n  var pages = new Float32Array(glyphs.length * 4 * 1)\n  var i = 0\n  glyphs.forEach(function (glyph) {\n    var id = glyph.data.page || 0\n    pages[i++] = id\n    pages[i++] = id\n    pages[i++] = id\n    pages[i++] = id\n  })\n  return pages\n}\n\nmodule.exports.uvs = function uvs (glyphs, texWidth, texHeight, flipY) {\n  var uvs = new Float32Array(glyphs.length * 4 * 2)\n  var i = 0\n  glyphs.forEach(function (glyph) {\n    var bitmap = glyph.data\n    var bw = (bitmap.x + bitmap.width)\n    var bh = (bitmap.y + bitmap.height)\n\n    // top left position\n    var u0 = bitmap.x / texWidth\n    var v1 = bitmap.y / texHeight\n    var u1 = bw / texWidth\n    var v0 = bh / texHeight\n\n    if (flipY) {\n      v1 = (texHeight - bitmap.y) / texHeight\n      v0 = (texHeight - bh) / texHeight\n    }\n\n    // BL\n    uvs[i++] = u0\n    uvs[i++] = v1\n    // TL\n    uvs[i++] = u0\n    uvs[i++] = v0\n    // TR\n    uvs[i++] = u1\n    uvs[i++] = v0\n    // BR\n    uvs[i++] = u1\n    uvs[i++] = v1\n  })\n  return uvs\n}\n\nmodule.exports.positions = function positions (glyphs) {\n  var positions = new Float32Array(glyphs.length * 4 * 2)\n  var i = 0\n  glyphs.forEach(function (glyph) {\n    var bitmap = glyph.data\n\n    // bottom left position\n    var x = glyph.position[0] + bitmap.xoffset\n    var y = glyph.position[1] + bitmap.yoffset\n\n    // quad size\n    var w = bitmap.width\n    var h = bitmap.height\n\n    // BL\n    positions[i++] = x\n    positions[i++] = y\n    // TL\n    positions[i++] = x\n    positions[i++] = y + h\n    // TR\n    positions[i++] = x + w\n    positions[i++] = y + h\n    // BR\n    positions[i++] = x + w\n    positions[i++] = y\n  })\n  return positions\n}\n","var newline = /\\n/\nvar newlineChar = '\\n'\nvar whitespace = /\\s/\n\nmodule.exports = function(text, opt) {\n    var lines = module.exports.lines(text, opt)\n    return lines.map(function(line) {\n        return text.substring(line.start, line.end)\n    }).join('\\n')\n}\n\nmodule.exports.lines = function wordwrap(text, opt) {\n    opt = opt||{}\n\n    //zero width results in nothing visible\n    if (opt.width === 0 && opt.mode !== 'nowrap') \n        return []\n\n    text = text||''\n    var width = typeof opt.width === 'number' ? opt.width : Number.MAX_VALUE\n    var start = Math.max(0, opt.start||0)\n    var end = typeof opt.end === 'number' ? opt.end : text.length\n    var mode = opt.mode\n\n    var measure = opt.measure || monospace\n    if (mode === 'pre')\n        return pre(measure, text, start, end, width)\n    else\n        return greedy(measure, text, start, end, width, mode)\n}\n\nfunction idxOf(text, chr, start, end) {\n    var idx = text.indexOf(chr, start)\n    if (idx === -1 || idx > end)\n        return end\n    return idx\n}\n\nfunction isWhitespace(chr) {\n    return whitespace.test(chr)\n}\n\nfunction pre(measure, text, start, end, width) {\n    var lines = []\n    var lineStart = start\n    for (var i=start; i<end && i<text.length; i++) {\n        var chr = text.charAt(i)\n        var isNewline = newline.test(chr)\n\n        //If we've reached a newline, then step down a line\n        //Or if we've reached the EOF\n        if (isNewline || i===end-1) {\n            var lineEnd = isNewline ? i : i+1\n            var measured = measure(text, lineStart, lineEnd, width)\n            lines.push(measured)\n            \n            lineStart = i+1\n        }\n    }\n    return lines\n}\n\nfunction greedy(measure, text, start, end, width, mode) {\n    //A greedy word wrapper based on LibGDX algorithm\n    //https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/graphics/g2d/BitmapFontCache.java\n    var lines = []\n\n    var testWidth = width\n    //if 'nowrap' is specified, we only wrap on newline chars\n    if (mode === 'nowrap')\n        testWidth = Number.MAX_VALUE\n\n    while (start < end && start < text.length) {\n        //get next newline position\n        var newLine = idxOf(text, newlineChar, start, end)\n\n        //eat whitespace at start of line\n        while (start < newLine) {\n            if (!isWhitespace( text.charAt(start) ))\n                break\n            start++\n        }\n\n        //determine visible # of glyphs for the available width\n        var measured = measure(text, start, newLine, testWidth)\n\n        var lineEnd = start + (measured.end-measured.start)\n        var nextStart = lineEnd + newlineChar.length\n\n        //if we had to cut the line before the next newline...\n        if (lineEnd < newLine) {\n            //find char to break on\n            while (lineEnd > start) {\n                if (isWhitespace(text.charAt(lineEnd)))\n                    break\n                lineEnd--\n            }\n            if (lineEnd === start) {\n                if (nextStart > start + newlineChar.length) nextStart--\n                lineEnd = nextStart // If no characters to break, show all.\n            } else {\n                nextStart = lineEnd\n                //eat whitespace at end of line\n                while (lineEnd > start) {\n                    if (!isWhitespace(text.charAt(lineEnd - newlineChar.length)))\n                        break\n                    lineEnd--\n                }\n            }\n        }\n        if (lineEnd >= start) {\n            var result = measure(text, start, lineEnd, testWidth)\n            lines.push(result)\n        }\n        start = nextStart\n    }\n    return lines\n}\n\n//determines the visible number of glyphs within a given width\nfunction monospace(text, start, end, width) {\n    var glyphs = Math.min(width, end-start)\n    return {\n        start: start,\n        end: start+glyphs\n    }\n}","\"use strict\";\nvar window = require(\"global/window\")\nvar isFunction = require(\"is-function\")\nvar parseHeaders = require(\"parse-headers\")\nvar xtend = require(\"xtend\")\n\nmodule.exports = createXHR\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = createXHR;\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop\ncreateXHR.XDomainRequest = \"withCredentials\" in (new createXHR.XMLHttpRequest()) ? createXHR.XMLHttpRequest : window.XDomainRequest\n\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function(method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function(uri, options, callback) {\n        options = initParams(uri, options, callback)\n        options.method = method.toUpperCase()\n        return _createXHR(options)\n    }\n})\n\nfunction forEachArray(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n        iterator(array[i])\n    }\n}\n\nfunction isEmpty(obj){\n    for(var i in obj){\n        if(obj.hasOwnProperty(i)) return false\n    }\n    return true\n}\n\nfunction initParams(uri, options, callback) {\n    var params = uri\n\n    if (isFunction(options)) {\n        callback = options\n        if (typeof uri === \"string\") {\n            params = {uri:uri}\n        }\n    } else {\n        params = xtend(options, {uri: uri})\n    }\n\n    params.callback = callback\n    return params\n}\n\nfunction createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback)\n    return _createXHR(options)\n}\n\nfunction _createXHR(options) {\n    if(typeof options.callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n\n    var called = false\n    var callback = function cbOnce(err, response, body){\n        if(!called){\n            called = true\n            options.callback(err, response, body)\n        }\n    }\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            setTimeout(loadFunc, 0)\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else {\n            body = xhr.responseText || getXml(xhr)\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\") )\n        }\n        evt.statusCode = 0\n        return callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        if (aborted) return\n        var status\n        clearTimeout(timeoutTimer)\n        if(options.useXDR && xhr.status===undefined) {\n            //IE8 CORS GET successful response doesn't have a status field, but body is fine\n            status = 200\n        } else {\n            status = (xhr.status === 1223 ? 204 : xhr.status)\n        }\n        var response = failureResponse\n        var err = null\n\n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        return callback(err, response, response.body)\n    }\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new createXHR.XDomainRequest()\n        }else{\n            xhr = new createXHR.XMLHttpRequest()\n        }\n    }\n\n    var key\n    var aborted\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n    var failureResponse = {\n        body: undefined,\n        headers: {},\n        statusCode: 0,\n        method: method,\n        url: uri,\n        rawRequest: xhr\n    }\n\n    if (\"json\" in options && options.json !== false) {\n        isJson = true\n        headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\") //Don't override existing accept header declared by user\n            body = JSON.stringify(options.json === true ? body : options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.onabort = function(){\n        aborted = true;\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            if (aborted) return\n            aborted = true//IE9 may still call readystatechange\n            xhr.abort(\"timeout\")\n            var e = new Error(\"XMLHttpRequest timeout\")\n            e.code = \"ETIMEDOUT\"\n            errorFunc(e)\n        }, options.timeout )\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers && !isEmpty(options.headers)) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n\n    if (\"beforeSend\" in options &&\n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n    xhr.send(body || null)\n\n    return xhr\n\n\n}\n\nfunction getXml(xhr) {\n    // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n    // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n    try {\n        if (xhr.responseType === \"document\") {\n            return xhr.responseXML\n        }\n        var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\"\n        if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n            return xhr.responseXML\n        }\n    } catch (e) {}\n\n    return null\n}\n\nfunction noop() {}\n","module.exports = (function xmlparser() {\n  //common browsers\n  if (typeof self.DOMParser !== 'undefined') {\n    return function(str) {\n      var parser = new self.DOMParser()\n      return parser.parseFromString(str, 'application/xml')\n    }\n  } \n\n  //IE8 fallback\n  if (typeof self.ActiveXObject !== 'undefined'\n      && new self.ActiveXObject('Microsoft.XMLDOM')) {\n    return function(str) {\n      var xmlDoc = new self.ActiveXObject(\"Microsoft.XMLDOM\")\n      xmlDoc.async = \"false\"\n      xmlDoc.loadXML(str)\n      return xmlDoc\n    }\n  }\n\n  //last resort fallback\n  return function(str) {\n    var div = document.createElement('div')\n    div.innerHTML = str\n    return div\n  }\n})()\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","window.aframeStats = function (scene) {\n  var _rS = null;\n  var _scene = scene;\n  var _values = {\n    te: {\n      caption: 'Entities'\n    },\n    lt: {\n      caption: 'Load Time'\n    }\n  };\n  var _groups = [{\n    caption: 'A-Frame',\n    values: ['te', 'lt']\n  }];\n\n  function _update () {\n    _rS('te').set(getEntityCount());\n    if (window.performance.getEntriesByName) {\n      _rS('lt').set(window.performance.getEntriesByName('render-started')[0].startTime.toFixed(0));\n    }\n  }\n\n  function getEntityCount () {\n    var elements = _scene.querySelectorAll('*');\n    Array.prototype.slice.call(elements).filter(function (el) {\n      return el.isEntity;\n    });\n    return elements.length;\n  }\n\n  function _start () {}\n\n  function _end () {}\n\n  function _attach (r) {\n    _rS = r;\n  }\n\n  return {\n    update: _update,\n    start: _start,\n    end: _end,\n    attach: _attach,\n    values: _values,\n    groups: _groups,\n    fractions: []\n  };\n};\n","window.glStats = function () {\n\n    var _rS = null;\n\n    var _totalDrawArraysCalls = 0,\n        _totalDrawElementsCalls = 0,\n        _totalUseProgramCalls = 0,\n        _totalFaces = 0,\n        _totalVertices = 0,\n        _totalPoints = 0,\n        _totalBindTexures = 0;\n\n    function _h ( f, c ) {\n        return function () {\n            c.apply( this, arguments );\n            f.apply( this, arguments );\n        };\n    }\n\n    WebGLRenderingContext.prototype.drawArrays = _h( WebGLRenderingContext.prototype.drawArrays, function () {\n        _totalDrawArraysCalls++;\n        if ( arguments[ 0 ] == this.POINTS ) _totalPoints += arguments[ 2 ];\n        else _totalVertices += arguments[ 2 ];\n    } );\n\n    WebGLRenderingContext.prototype.drawElements = _h( WebGLRenderingContext.prototype.drawElements, function () {\n        _totalDrawElementsCalls++;\n        _totalFaces += arguments[ 1 ] / 3;\n        _totalVertices += arguments[ 1 ];\n    } );\n\n    WebGLRenderingContext.prototype.useProgram = _h( WebGLRenderingContext.prototype.useProgram, function () {\n        _totalUseProgramCalls++;\n    } );\n\n    WebGLRenderingContext.prototype.bindTexture = _h( WebGLRenderingContext.prototype.bindTexture, function () {\n        _totalBindTexures++;\n    } );\n\n    var _values = {\n        allcalls: {\n            over: 3000,\n            caption: 'Calls (hook)'\n        },\n        drawelements: {\n            caption: 'drawElements (hook)'\n        },\n        drawarrays: {\n            caption: 'drawArrays (hook)'\n        }\n    };\n\n    var _groups = [ {\n        caption: 'WebGL',\n        values: [ 'allcalls', 'drawelements', 'drawarrays', 'useprogram', 'bindtexture', 'glfaces', 'glvertices', 'glpoints' ]\n    } ];\n\n    var _fractions = [ {\n        base: 'allcalls',\n        steps: [ 'drawelements', 'drawarrays' ]\n    } ];\n\n    function _update () {\n        _rS( 'allcalls' ).set( _totalDrawArraysCalls + _totalDrawElementsCalls );\n        _rS( 'drawElements' ).set( _totalDrawElementsCalls );\n        _rS( 'drawArrays' ).set( _totalDrawArraysCalls );\n        _rS( 'bindTexture' ).set( _totalBindTexures );\n        _rS( 'useProgram' ).set( _totalUseProgramCalls );\n        _rS( 'glfaces' ).set( _totalFaces );\n        _rS( 'glvertices' ).set( _totalVertices );\n        _rS( 'glpoints' ).set( _totalPoints );\n    }\n\n    function _start () {\n        _totalDrawArraysCalls = 0;\n        _totalDrawElementsCalls = 0;\n        _totalUseProgramCalls = 0;\n        _totalFaces = 0;\n        _totalVertices = 0;\n        _totalPoints = 0;\n        _totalBindTexures = 0;\n    }\n\n    function _end () {}\n\n    function _attach ( r ) {\n        _rS = r;\n    }\n\n    return {\n        update: _update,\n        start: _start,\n        end: _end,\n        attach: _attach,\n        values: _values,\n        groups: _groups,\n        fractions: _fractions\n    };\n\n};\n\nwindow.threeStats = function ( renderer ) {\n\n    var _rS = null;\n\n    var _values = {\n        'renderer.info.memory.geometries': {\n            caption: 'Geometries'\n        },\n        'renderer.info.memory.textures': {\n            caption: 'Textures'\n        },\n        'renderer.info.programs': {\n            caption: 'Programs'\n        },\n        'renderer.info.render.calls': {\n            caption: 'Calls'\n        },\n        'renderer.info.render.triangles': {\n            caption: 'Triangles',\n            over: 1000\n        },\n        'renderer.info.render.points': {\n            caption: 'Points'\n        }\n    };\n\n    var _groups = [ {\n        caption: 'Three.js - Memory',\n        values: [ 'renderer.info.memory.geometries', 'renderer.info.programs', 'renderer.info.memory.textures' ]\n    }, {\n        caption: 'Three.js - Render',\n        values: [ 'renderer.info.render.calls', 'renderer.info.render.triangles', 'renderer.info.render.points' ]\n    } ];\n\n    var _fractions = [];\n\n    function _update () {\n\n        _rS( 'renderer.info.memory.geometries' ).set( renderer.info.memory.geometries );\n        _rS( 'renderer.info.programs' ).set( renderer.info.programs?.length ?? NaN );\n        _rS( 'renderer.info.memory.textures' ).set( renderer.info.memory.textures );\n        _rS( 'renderer.info.render.calls' ).set( renderer.info.render.calls );\n        _rS( 'renderer.info.render.triangles' ).set( renderer.info.render.triangles );\n        _rS( 'renderer.info.render.points' ).set( renderer.info.render.points );\n\n    }\n\n    function _start () {}\n\n    function _end () {}\n\n    function _attach ( r ) {\n        _rS = r;\n    }\n\n    return {\n        update: _update,\n        start: _start,\n        end: _end,\n        attach: _attach,\n        values: _values,\n        groups: _groups,\n        fractions: _fractions\n    };\n\n};\n\n/*\n *   From https://github.com/paulirish/memory-stats.js\n */\n\nwindow.BrowserStats = function () {\n\n    var _rS = null;\n\n    var _usedJSHeapSize = 0,\n        _totalJSHeapSize = 0;\n\n    if ( window.performance && !performance.memory ) {\n        performance.memory = {\n            usedJSHeapSize: 0,\n            totalJSHeapSize: 0\n        };\n    }\n\n    if ( performance.memory.totalJSHeapSize === 0 ) {\n        console.warn( 'totalJSHeapSize === 0... performance.memory is only available in Chrome .' );\n    }\n\n    var _values = {\n        memory: {\n            caption: 'Used Memory',\n            average: true,\n            avgMs: 1000,\n            over: 22\n        },\n        total: {\n            caption: 'Total Memory'\n        }\n    };\n\n    var _groups = [ {\n        caption: 'Browser',\n        values: [ 'memory', 'total' ]\n    } ];\n\n    var _fractions = [ {\n        base: 'total',\n        steps: [ 'memory' ]\n    } ];\n\n    var log1024 = Math.log( 1024 );\n\n    function _size ( v ) {\n\n        var precision = 100; //Math.pow(10, 2);\n        var i = Math.floor( Math.log( v ) / log1024 );\n        return Math.round( v * precision / Math.pow( 1024, i ) ) / precision; // + ' ' + sizes[i];\n\n    }\n\n    function _update () {\n        _usedJSHeapSize = _size( performance.memory.usedJSHeapSize );\n        _totalJSHeapSize = _size( performance.memory.totalJSHeapSize );\n\n        _rS( 'memory' ).set( _usedJSHeapSize );\n        _rS( 'total' ).set( _totalJSHeapSize );\n    }\n\n    function _start () {\n        _usedJSHeapSize = 0;\n    }\n\n    function _end () {}\n\n    function _attach ( r ) {\n        _rS = r;\n    }\n\n    return {\n        update: _update,\n        start: _start,\n        end: _end,\n        attach: _attach,\n        values: _values,\n        groups: _groups,\n        fractions: _fractions\n    };\n\n};\n\nif (typeof module === 'object') {\n  module.exports = {\n    glStats: window.glStats,\n    threeStats: window.threeStats,\n    BrowserStats: window.BrowserStats\n  };\n}\n","// performance.now() polyfill from https://gist.github.com/paulirish/5438650\n'use strict';\n\n( function () {\n\n    if ( 'performance' in window == false ) {\n        window.performance = {};\n    }\n\n    var performance = window.performance;\n\n    if ( 'now' in performance == false ) {\n\n        var nowOffset = Date.now();\n\n        if ( performance.timing && performance.timing.navigationStart ) {\n            nowOffset = performance.timing.navigationStart;\n        }\n\n        performance.now = function now () {\n            return Date.now() - nowOffset;\n        };\n\n    }\n\n    if( !performance.mark ) {\n        performance.mark = function(){}\n    }\n\n    if( !performance.measure ) {\n        performance.measure = function(){}\n    }\n\n} )();\n\nwindow.rStats = function rStats ( settings ) {\n\n    function iterateKeys ( array, callback ) {\n        var keys = Object.keys( array );\n        for ( var j = 0, l = keys.length; j < l; j++ ) {\n            callback( keys[ j ] );\n        }\n    }\n\n    function importCSS ( url ) {\n\n        var element = document.createElement( 'link' );\n        element.href = url;\n        element.rel = 'stylesheet';\n        element.type = 'text/css';\n        document.getElementsByTagName( 'head' )[ 0 ].appendChild( element );\n\n    }\n\n    var _settings = settings || {};\n    var _colours = _settings.colours || [ '#850700', '#c74900', '#fcb300', '#284280', '#4c7c0c' ];\n\n    var _cssFont = 'https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300';\n    var _cssRStats = ( _settings.CSSPath ? _settings.CSSPath : '' ) + 'rStats.css';\n\n    var _css = _settings.css || [ _cssFont, _cssRStats ];\n    _css.forEach(function (uri) {\n        importCSS( uri );\n    });\n\n    if ( !_settings.values ) _settings.values = {};\n\n    var _base, _div, _elHeight = 10, _elWidth = 200;\n    var _perfCounters = {};\n\n\n    function Graph ( _dom, _id, _defArg ) {\n\n        var _def = _defArg || {};\n        var _canvas = document.createElement( 'canvas' ),\n            _ctx = _canvas.getContext( '2d' ),\n            _max = 0,\n            _current = 0;\n\n        var c = _def.color ? _def.color : '#666666';\n\n        var _dotCanvas = document.createElement( 'canvas' ),\n            _dotCtx = _dotCanvas.getContext( '2d' );\n        _dotCanvas.width = 1;\n        _dotCanvas.height = 2 * _elHeight;\n        _dotCtx.fillStyle = '#444444';\n        _dotCtx.fillRect( 0, 0, 1, 2 * _elHeight );\n        _dotCtx.fillStyle = c;\n        _dotCtx.fillRect( 0, _elHeight, 1, _elHeight );\n        _dotCtx.fillStyle = '#ffffff';\n        _dotCtx.globalAlpha = 0.5;\n        _dotCtx.fillRect( 0, _elHeight, 1, 1 );\n        _dotCtx.globalAlpha = 1;\n\n        var _alarmCanvas = document.createElement( 'canvas' ),\n            _alarmCtx = _alarmCanvas.getContext( '2d' );\n        _alarmCanvas.width = 1;\n        _alarmCanvas.height = 2 * _elHeight;\n        _alarmCtx.fillStyle = '#444444';\n        _alarmCtx.fillRect( 0, 0, 1, 2 * _elHeight );\n        _alarmCtx.fillStyle = '#b70000';\n        _alarmCtx.fillRect( 0, _elHeight, 1, _elHeight );\n        _alarmCtx.globalAlpha = 0.5;\n        _alarmCtx.fillStyle = '#ffffff';\n        _alarmCtx.fillRect( 0, _elHeight, 1, 1 );\n        _alarmCtx.globalAlpha = 1;\n\n        function _init () {\n\n            _canvas.width = _elWidth;\n            _canvas.height = _elHeight;\n            _canvas.style.width = _canvas.width + 'px';\n            _canvas.style.height = _canvas.height + 'px';\n            _canvas.className = 'rs-canvas';\n            _dom.appendChild( _canvas );\n\n            _ctx.fillStyle = '#444444';\n            _ctx.fillRect( 0, 0, _canvas.width, _canvas.height );\n\n        }\n\n        function _draw ( v, alarm ) {\n            _current += ( v - _current ) * 0.1;\n            _max *= 0.99;\n            if ( _current > _max ) _max = _current;\n            _ctx.drawImage( _canvas, 1, 0, _canvas.width - 1, _canvas.height, 0, 0, _canvas.width - 1, _canvas.height );\n            if ( alarm ) {\n                _ctx.drawImage( _alarmCanvas, _canvas.width - 1, _canvas.height - _current * _canvas.height / _max - _elHeight );\n            } else {\n                _ctx.drawImage( _dotCanvas, _canvas.width - 1, _canvas.height - _current * _canvas.height / _max - _elHeight );\n            }\n        }\n\n        _init();\n\n        return {\n            draw: _draw\n        };\n\n    }\n\n    function StackGraph ( _dom, _num ) {\n\n        var _canvas = document.createElement( 'canvas' ),\n            _ctx = _canvas.getContext( '2d' );\n\n        function _init () {\n\n            _canvas.width = _elWidth;\n            _canvas.height = _elHeight * _num;\n            _canvas.style.width = _canvas.width + 'px';\n            _canvas.style.height = _canvas.height + 'px';\n            _canvas.className = 'rs-canvas';\n            _dom.appendChild( _canvas );\n\n            _ctx.fillStyle = '#444444';\n            _ctx.fillRect( 0, 0, _canvas.width, _canvas.height );\n\n        }\n\n        function _draw ( v ) {\n            _ctx.drawImage( _canvas, 1, 0, _canvas.width - 1, _canvas.height, 0, 0, _canvas.width - 1, _canvas.height );\n            var th = 0;\n            iterateKeys( v, function ( j ) {\n                var h = v[ j ] * _canvas.height;\n                _ctx.fillStyle = _colours[ j ];\n                _ctx.fillRect( _canvas.width - 1, th, 1, h );\n                th += h;\n            } );\n        }\n\n        _init();\n\n        return {\n            draw: _draw\n        };\n\n    }\n\n    function PerfCounter ( id, group ) {\n\n        var _id = id,\n            _time,\n            _value = 0,\n            _total = 0,\n            _averageValue = 0,\n            _accumValue = 0,\n            _accumStart = performance.now(),\n            _accumSamples = 0,\n            _dom = document.createElement( 'div' ),\n            _spanId = document.createElement( 'span' ),\n            _spanValue = document.createElement( 'div' ),\n            _spanValueText = document.createTextNode( '' ),\n            _def = _settings ? _settings.values[ _id.toLowerCase() ] : null,\n            _graph = new Graph( _dom, _id, _def ),\n            _started = false;\n\n        _spanId.className = 'rs-counter-id';\n        _spanId.textContent = ( _def && _def.caption ) ? _def.caption : _id;\n\n        _spanValue.className = 'rs-counter-value';\n        _spanValue.appendChild( _spanValueText );\n\n        _dom.appendChild( _spanId );\n        _dom.appendChild( _spanValue );\n        if ( group ) group.div.appendChild( _dom );\n        else _div.appendChild( _dom );\n\n        _time = performance.now();\n\n        function _average ( v ) {\n            if ( _def && _def.average ) {\n                _accumValue += v;\n                _accumSamples++;\n                var t = performance.now();\n                if ( t - _accumStart >= ( _def.avgMs || 1000 ) ) {\n                    _averageValue = _accumValue / _accumSamples;\n                    _accumValue = 0;\n                    _accumStart = t;\n                    _accumSamples = 0;\n                }\n            }\n        }\n\n        function _start () {\n            _time = performance.now();\n            if( _settings.userTimingAPI ) performance.mark( _id + '-start' );\n            _started = true;\n        }\n\n        function _end () {\n            _value = performance.now() - _time;\n            if( _settings.userTimingAPI ) {\n                performance.mark( _id + '-end' );\n                if( _started ) {\n                    performance.measure( _id, _id + '-start', _id + '-end' );\n                }\n            }\n            _average( _value );\n        }\n\n        function _tick () {\n            _end();\n            _start();\n        }\n\n        function _draw () {\n            var v = ( _def && _def.average ) ? _averageValue : _value;\n            _spanValueText.nodeValue = Math.round( v * 100 ) / 100;\n            var a = ( _def && ( ( _def.below && _value < _def.below ) || ( _def.over && _value > _def.over ) ) );\n            _graph.draw( _value, a );\n            _dom.className = a ? 'rs-counter-base alarm' : 'rs-counter-base';\n\n        }\n\n        function _frame () {\n            var t = performance.now();\n            var e = t - _time;\n            _total++;\n            if ( e > 1000 ) {\n                if ( _def && _def.interpolate === false ) {\n                    _value = _total;\n                } else {\n                    _value = _total * 1000 / e;\n                }\n                _total = 0;\n                _time = t;\n                _average( _value );\n            }\n        }\n\n        function _set ( v ) {\n            _value = v;\n            _average( _value );\n        }\n\n        return {\n            set: _set,\n            start: _start,\n            tick: _tick,\n            end: _end,\n            frame: _frame,\n            value: function () {\n                return _value;\n            },\n            draw: _draw\n        };\n\n    }\n\n    function sample () {\n\n        var _value = 0;\n\n        function _set ( v ) {\n            _value = v;\n        }\n\n        return {\n            set: _set,\n            value: function () {\n                return _value;\n            }\n        };\n\n    }\n\n    function _perf ( idArg ) {\n\n        var id = idArg.toLowerCase();\n        if ( id === undefined ) id = 'default';\n        if ( _perfCounters[ id ] ) return _perfCounters[ id ];\n\n        var group = null;\n        if ( _settings && _settings.groups ) {\n            iterateKeys( _settings.groups, function ( j ) {\n                var g = _settings.groups[ parseInt( j, 10 ) ];\n                if ( !group && g.values.indexOf( id.toLowerCase() ) !== -1 ) {\n                    group = g;\n                }\n            } );\n        }\n\n        var p = new PerfCounter( id, group );\n        _perfCounters[ id ] = p;\n        return p;\n\n    }\n\n    function _init () {\n\n        if ( _settings.plugins ) {\n            if ( !_settings.values ) _settings.values = {};\n            if ( !_settings.groups ) _settings.groups = [];\n            if ( !_settings.fractions ) _settings.fractions = [];\n            for ( var j = 0; j < _settings.plugins.length; j++ ) {\n                _settings.plugins[ j ].attach( _perf );\n                iterateKeys( _settings.plugins[ j ].values, function ( k ) {\n                    _settings.values[ k ] = _settings.plugins[ j ].values[ k ];\n                } );\n                _settings.groups = _settings.groups.concat( _settings.plugins[ j ].groups );\n                _settings.fractions = _settings.fractions.concat( _settings.plugins[ j ].fractions );\n            }\n        } else {\n            _settings.plugins = {};\n        }\n\n        _base = document.createElement( 'div' );\n        _base.className = 'rs-base';\n        _div = document.createElement( 'div' );\n        _div.className = 'rs-container';\n        _div.style.height = 'auto';\n        _base.appendChild( _div );\n        document.body.appendChild( _base );\n\n        if ( !_settings ) return;\n\n        if ( _settings.groups ) {\n            iterateKeys( _settings.groups, function ( j ) {\n                var g = _settings.groups[ parseInt( j, 10 ) ];\n                var div = document.createElement( 'div' );\n                div.className = 'rs-group';\n                g.div = div;\n                var h1 = document.createElement( 'h1' );\n                h1.textContent = g.caption;\n                h1.addEventListener( 'click', function ( e ) {\n                    this.classList.toggle( 'hidden' );\n                    e.preventDefault();\n                }.bind( div ) );\n                _div.appendChild( h1 );\n                _div.appendChild( div );\n            } );\n        }\n\n        if ( _settings.fractions ) {\n            iterateKeys( _settings.fractions, function ( j ) {\n                var f = _settings.fractions[ parseInt( j, 10 ) ];\n                var div = document.createElement( 'div' );\n                div.className = 'rs-fraction';\n                var legend = document.createElement( 'div' );\n                legend.className = 'rs-legend';\n\n                var h = 0;\n                iterateKeys( _settings.fractions[ j ].steps, function ( k ) {\n                    var p = document.createElement( 'p' );\n                    p.textContent = _settings.fractions[ j ].steps[ k ];\n                    p.style.color = _colours[ h ];\n                    legend.appendChild( p );\n                    h++;\n                } );\n                div.appendChild( legend );\n                div.style.height = h * _elHeight + 'px';\n                f.div = div;\n                var graph = new StackGraph( div, h );\n                f.graph = graph;\n                _div.appendChild( div );\n            } );\n        }\n\n    }\n\n    function _update () {\n\n        iterateKeys( _settings.plugins, function ( j ) {\n            _settings.plugins[ j ].update();\n        } );\n\n        iterateKeys( _perfCounters, function ( j ) {\n            _perfCounters[ j ].draw();\n        } );\n\n        if ( _settings && _settings.fractions ) {\n            iterateKeys( _settings.fractions, function ( j ) {\n                var f = _settings.fractions[ parseInt( j, 10 ) ];\n                var v = [];\n                var base = _perfCounters[ f.base.toLowerCase() ];\n                if ( base ) {\n                    base = base.value();\n                    iterateKeys( _settings.fractions[ j ].steps, function ( k ) {\n                        var s = _settings.fractions[ j ].steps[ parseInt( k, 10 ) ].toLowerCase();\n                        var val = _perfCounters[ s ];\n                        if ( val ) {\n                            v.push( val.value() / base );\n                        }\n                    } );\n                }\n                f.graph.draw( v );\n            } );\n        }\n\n        /*if( _height != _div.clientHeight ) {\n            _height = _div.clientHeight;\n            _base.style.height = _height + 2 * _elHeight + 'px';\n        console.log( _base.clientHeight );\n        }*/\n\n    }\n\n    _init();\n\n    return function ( id ) {\n        if ( id ) return _perf( id );\n        return {\n            element: _base,\n            update: _update\n        };\n    };\n\n}\n\nif (typeof module === 'object') {\n  module.exports = window.rStats;\n}\n","/*\n * Copyright 2015 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Util = {};\n\nUtil.base64 = function(mimeType, base64) {\n  return 'data:' + mimeType + ';base64,' + base64;\n};\n\nUtil.isMobile = function() {\n  var check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))check = true})(navigator.userAgent||navigator.vendor||window.opera);\n  return check;\n};\n\nUtil.isIOS = function() {\n  return /(iPad|iPhone|iPod)/g.test(navigator.userAgent);\n};\n\nUtil.isIFrame = function() {\n  try {\n    return window.self !== window.top;\n  } catch (e) {\n    return true;\n  }\n};\n\nUtil.appendQueryParameter = function(url, key, value) {\n  // Determine delimiter based on if the URL already GET parameters in it.\n  var delimiter = (url.indexOf('?') < 0 ? '?' : '&');\n  url += delimiter + key + '=' + value;\n  return url;\n};\n\n// From http://goo.gl/4WX3tg\nUtil.getQueryParameter = function(name) {\n  name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n  var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n      results = regex.exec(location.search);\n  return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n};\n\nUtil.isLandscapeMode = function() {\n  return (window.orientation == 90 || window.orientation == -90);\n};\n\n\nmodule.exports = Util;\n","/*\n * Copyright 2015 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar Util = require('./util.js');\n\n/**\n * Android and iOS compatible wakelock implementation.\n *\n * Refactored thanks to dkovalev@.\n */\nfunction AndroidWakeLock() {\n  var video = document.createElement('video');\n\n  video.addEventListener('ended', function() {\n    video.play();\n  });\n\n  this.request = function() {\n    if (video.paused) {\n      // Base64 version of videos_src/no-sleep-60s.webm.\n      video.src = Util.base64('video/webm', 'GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw==');\n      video.play();\n    }\n  };\n\n  this.release = function() {\n    video.pause();\n    video.src = '';\n  };\n}\n\nfunction iOSWakeLock() {\n  var timer = null;\n\n  this.request = function() {\n    if (!timer) {\n      timer = setInterval(function() {\n        window.location.href = '/';\n        setTimeout(window.stop, 0);\n      }, 15000);\n    }\n  }\n\n  this.release = function() {\n    if (timer) {\n      clearInterval(timer);\n      timer = null;\n    }\n  }\n}\n\n\nfunction getWakeLock() {\n  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n  if (userAgent.match(/iPhone/i) || userAgent.match(/iPod/i)) {\n    return iOSWakeLock;\n  } else {\n    return AndroidWakeLock;\n  }\n}\n\nmodule.exports = getWakeLock();\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(\"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* .a-fullscreen means not embedded. */\nhtml.a-fullscreen {\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n}\n\nhtml.a-fullscreen body {\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  padding: 0;\n  width: 100%;\n}\n\n/* Class is removed when doing <a-scene embedded>. */\nhtml.a-fullscreen .a-canvas {\n  width: 100% !important;\n  height: 100% !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  position: fixed !important;\n}\n\nhtml:not(.a-fullscreen) .a-enter-vr,\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 5px;\n  bottom: 5px;\n}\n\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 60px;\n}\n\n/* In chrome mobile the user agent stylesheet set it to white  */\n:-webkit-full-screen {\n  background-color: transparent;\n}\n\n.a-hidden {\n  display: none !important;\n}\n\n.a-canvas {\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.a-canvas.a-grab-cursor:hover {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\ncanvas.a-canvas.a-mouse-cursor-hover:hover {\n  cursor: pointer;\n}\n\n.a-inspector-loader {\n  background-color: #ed3160;\n  position: fixed;\n  left: 3px;\n  top: 3px;\n  padding: 6px 10px;\n  color: #fff;\n  text-decoration: none;\n  font-size: 12px;\n  font-family: Roboto,sans-serif;\n  text-align: center;\n  z-index: 99999;\n  width: 204px;\n}\n\n/* Inspector loader animation */\n@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n\n.a-inspector-loader .dots span {\n  animation: dots-1 2s infinite steps(1);\n  -webkit-animation: dots-1 2s infinite steps(1);\n}\n\n.a-inspector-loader .dots span:first-child + span {\n  animation-name: dots-2;\n  -webkit-animation-name: dots-2;\n}\n\n.a-inspector-loader .dots span:first-child + span + span {\n  animation-name: dots-3;\n  -webkit-animation-name: dots-3;\n}\n\na-scene {\n  display: block;\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n\na-assets,\na-scene video,\na-scene img,\na-scene audio {\n  display: none;\n}\n\n.a-enter-vr-modal,\n.a-orientation-modal {\n  font-family: Consolas, Andale Mono, Courier New, monospace;\n}\n\n.a-enter-vr-modal a {\n  border-bottom: 1px solid #fff;\n  padding: 2px 0;\n  text-decoration: none;\n  transition: .1s color ease-in;\n}\n\n.a-enter-vr-modal a:hover {\n  background-color: #fff;\n  color: #111;\n  padding: 2px 4px;\n  position: relative;\n  left: -4px;\n}\n\n.a-enter-vr,\n.a-enter-ar {\n  font-family: sans-serif, monospace;\n  font-size: 13px;\n  width: 100%;\n  font-weight: 200;\n  line-height: 16px;\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n\n.a-enter-ar.xr {\n  right: 90px;\n}\n\n.a-enter-vr-button,\n.a-enter-vr-modal,\n.a-enter-vr-modal a {\n  color: #fff;\n  user-select: none;\n  outline: none;\n}\n\n.a-enter-vr-button {\n  background: rgba(0, 0, 0, 0.35) url(${___CSS_LOADER_URL_REPLACEMENT_0___}) 50% 50% no-repeat;\n}\n\n.a-enter-ar-button {\n  background: rgba(0, 0, 0, 0.20) url(${___CSS_LOADER_URL_REPLACEMENT_1___}) 50% 50% no-repeat;\n}\n\n.a-enter-vr.fullscreen .a-enter-vr-button {\n  background-image: url(${___CSS_LOADER_URL_REPLACEMENT_2___});\n}\n\n.a-enter-vr-button,\n.a-enter-ar-button {\n  background-size: 90% 90%;\n  border: 0;\n  bottom: 0;\n  cursor: pointer;\n  min-width: 58px;\n  min-height: 34px;\n  /* 1.74418604651 */\n  /*\n    In order to keep the aspect ratio when resizing\n    padding-top percentages are relative to the containing block's width.\n    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio\n  */\n  padding-right: 0;\n  padding-top: 0;\n  position: absolute;\n  right: 0;\n  transition: background-color .05s ease;\n  -webkit-transition: background-color .05s ease;\n  z-index: 9999;\n  border-radius: 8px;\n  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */\n}\n\n.a-enter-ar-button {\n  background-size: 100% 90%;\n  border-radius: 7px;\n}\n\n.a-enter-ar-button:active,\n.a-enter-ar-button:hover,\n.a-enter-vr-button:active,\n.a-enter-vr-button:hover {\n  background-color: #ef2d5e;\n}\n\n.a-enter-vr-button.resethover {\n  background-color: rgba(0, 0, 0, 0.35);\n}\n\n.a-enter-vr-modal {\n  background-color: #666;\n  border-radius: 0;\n  display: none;\n  min-height: 32px;\n  margin-right: 70px;\n  padding: 9px;\n  width: 280px;\n  right: 2%;\n  position: absolute;\n}\n\n.a-enter-vr-modal:after {\n  border-bottom: 10px solid transparent;\n  border-left: 10px solid #666;\n  border-top: 10px solid transparent;\n  display: inline-block;\n  content: '';\n  position: absolute;\n  right: -5px;\n  top: 5px;\n  width: 0;\n  height: 0;\n}\n\n.a-enter-vr-modal p,\n.a-enter-vr-modal a {\n  display: inline;\n}\n\n.a-enter-vr-modal p {\n  margin: 0;\n}\n\n.a-enter-vr-modal p:after {\n  content: ' ';\n}\n\n.a-orientation-modal {\n  background: rgba(244, 244, 244, 1) url(${___CSS_LOADER_URL_REPLACEMENT_3___}) center no-repeat;\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-orientation-modal:after {\n  color: #666;\n  content: \"Insert phone into Cardboard holder.\";\n  display: block;\n  position: absolute;\n  text-align: center;\n  top: 70%;\n  transform: translateY(-70%);\n  width: 100%;\n}\n\n.a-orientation-modal button {\n  background: url(${___CSS_LOADER_URL_REPLACEMENT_4___}) no-repeat;\n  border: none;\n  height: 50px;\n  text-indent: -9999px;\n  width: 50px;\n}\n\n.a-loader-title {\n  background-color: rgba(0, 0, 0, 0.6);\n  font-family: sans-serif, monospace;\n  text-align: center;\n  font-size: 20px;\n  height: 50px;\n  font-weight: 300;\n  line-height: 50px;\n  position: absolute;\n  right: 0px;\n  left: 0px;\n  top: 0px;\n  color: white;\n}\n\n.a-modal {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.60);\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-dialog {\n  position: relative;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 199995;\n  width: 300px;\n  height: 200px;\n  background-size: contain;\n  background-color: white;\n  font-family: sans-serif, monospace;\n  font-size: 20px;\n  border-radius: 3px;\n  padding: 6px;\n}\n\n.a-dialog-text-container {\n  width: 100%;\n  height: 70%;\n  align-self: flex-start;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  flex-direction: column;\n}\n\n.a-dialog-text {\n  display: inline-block;\n  font-weight: normal;\n  font-size: 14pt;\n  margin: 8px;\n}\n\n.a-dialog-buttons-container {\n  display: inline-flex;\n  align-self: flex-end;\n  width: 100%;\n  height: 30%;\n}\n\n.a-dialog-button {\n  cursor: pointer;\n  align-self: center;\n  opacity: 0.9;\n  height: 80%;\n  width: 50%;\n  font-size: 12pt;\n  margin: 4px;\n  border-radius: 2px;\n  text-align:center;\n  border: none;\n  display: inline-block;\n  -webkit-transition: all 0.25s ease-in-out;\n  transition: all 0.25s ease-in-out;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);\n  user-select: none;\n}\n\n.a-dialog-permission-button:hover {\n  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);\n}\n\n.a-dialog-allow-button {\n  background-color: #00ceff;\n}\n\n.a-dialog-deny-button {\n  background-color: #ff005b;\n}\n\n.a-dialog-ok-button {\n  background-color: #00ceff;\n  width: 100%;\n}\n\n.a-dom-overlay:not(.a-no-style) {\n  overflow: hidden;\n  position: absolute;\n  pointer-events: none;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  padding: 1em;\n}\n\n.a-dom-overlay:not(.a-no-style)>* {\n  pointer-events: auto;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/style/aframe.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/* .a-fullscreen means not embedded. */\\nhtml.a-fullscreen {\\n  bottom: 0;\\n  left: 0;\\n  position: fixed;\\n  right: 0;\\n  top: 0;\\n}\\n\\nhtml.a-fullscreen body {\\n  height: 100%;\\n  margin: 0;\\n  overflow: hidden;\\n  padding: 0;\\n  width: 100%;\\n}\\n\\n/* Class is removed when doing <a-scene embedded>. */\\nhtml.a-fullscreen .a-canvas {\\n  width: 100% !important;\\n  height: 100% !important;\\n  top: 0 !important;\\n  left: 0 !important;\\n  right: 0 !important;\\n  bottom: 0 !important;\\n  position: fixed !important;\\n}\\n\\nhtml:not(.a-fullscreen) .a-enter-vr,\\nhtml:not(.a-fullscreen) .a-enter-ar {\\n  right: 5px;\\n  bottom: 5px;\\n}\\n\\nhtml:not(.a-fullscreen) .a-enter-ar {\\n  right: 60px;\\n}\\n\\n/* In chrome mobile the user agent stylesheet set it to white  */\\n:-webkit-full-screen {\\n  background-color: transparent;\\n}\\n\\n.a-hidden {\\n  display: none !important;\\n}\\n\\n.a-canvas {\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n\\n.a-canvas.a-grab-cursor:hover {\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\ncanvas.a-canvas.a-mouse-cursor-hover:hover {\\n  cursor: pointer;\\n}\\n\\n.a-inspector-loader {\\n  background-color: #ed3160;\\n  position: fixed;\\n  left: 3px;\\n  top: 3px;\\n  padding: 6px 10px;\\n  color: #fff;\\n  text-decoration: none;\\n  font-size: 12px;\\n  font-family: Roboto,sans-serif;\\n  text-align: center;\\n  z-index: 99999;\\n  width: 204px;\\n}\\n\\n/* Inspector loader animation */\\n@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\\n@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\\n@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\\n@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\\n@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\\n@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\\n\\n.a-inspector-loader .dots span {\\n  animation: dots-1 2s infinite steps(1);\\n  -webkit-animation: dots-1 2s infinite steps(1);\\n}\\n\\n.a-inspector-loader .dots span:first-child + span {\\n  animation-name: dots-2;\\n  -webkit-animation-name: dots-2;\\n}\\n\\n.a-inspector-loader .dots span:first-child + span + span {\\n  animation-name: dots-3;\\n  -webkit-animation-name: dots-3;\\n}\\n\\na-scene {\\n  display: block;\\n  position: relative;\\n  height: 100%;\\n  width: 100%;\\n}\\n\\na-assets,\\na-scene video,\\na-scene img,\\na-scene audio {\\n  display: none;\\n}\\n\\n.a-enter-vr-modal,\\n.a-orientation-modal {\\n  font-family: Consolas, Andale Mono, Courier New, monospace;\\n}\\n\\n.a-enter-vr-modal a {\\n  border-bottom: 1px solid #fff;\\n  padding: 2px 0;\\n  text-decoration: none;\\n  transition: .1s color ease-in;\\n}\\n\\n.a-enter-vr-modal a:hover {\\n  background-color: #fff;\\n  color: #111;\\n  padding: 2px 4px;\\n  position: relative;\\n  left: -4px;\\n}\\n\\n.a-enter-vr,\\n.a-enter-ar {\\n  font-family: sans-serif, monospace;\\n  font-size: 13px;\\n  width: 100%;\\n  font-weight: 200;\\n  line-height: 16px;\\n  position: absolute;\\n  right: 20px;\\n  bottom: 20px;\\n}\\n\\n.a-enter-ar.xr {\\n  right: 90px;\\n}\\n\\n.a-enter-vr-button,\\n.a-enter-vr-modal,\\n.a-enter-vr-modal a {\\n  color: #fff;\\n  user-select: none;\\n  outline: none;\\n}\\n\\n.a-enter-vr-button {\\n  background: rgba(0, 0, 0, 0.35) url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E\\\") 50% 50% no-repeat;\\n}\\n\\n.a-enter-ar-button {\\n  background: rgba(0, 0, 0, 0.20) url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E\\\") 50% 50% no-repeat;\\n}\\n\\n.a-enter-vr.fullscreen .a-enter-vr-button {\\n  background-image: url(\\\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg width='108' height='62' viewBox='0 0 108 62' version='1.1' id='svg320' sodipodi:docname='fullscreen-aframe.svg' xml:space='preserve' inkscape:version='1.2.1 (9c6d41e  2022-07-14)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E%3Cdefs id='defs324' /%3E%3Csodipodi:namedview id='namedview322' pagecolor='%23ffffff' bordercolor='%23000000' borderopacity='0.25' inkscape:showpageshadow='2' inkscape:pageopacity='0.0' inkscape:pagecheckerboard='0' inkscape:deskcolor='%23d1d1d1' showgrid='false' inkscape:zoom='3.8064516' inkscape:cx='91.423729' inkscape:cy='-1.4449153' inkscape:window-width='1440' inkscape:window-height='847' inkscape:window-x='32' inkscape:window-y='25' inkscape:window-maximized='0' inkscape:current-layer='svg320' /%3E%3Ctitle id='title312'%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z' fill='%23fff' id='path314' style='fill:%23ffffff' /%3E%3Cg id='g356' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g358' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g360' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g362' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g364' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g366' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g368' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g370' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g372' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g374' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g376' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g378' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g380' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g382' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g384' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cmetadata id='metadata561'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d='m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4' id='path596' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4' id='path598' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4' id='path600' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616' id='path602' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3C/svg%3E\\\");\\n}\\n\\n.a-enter-vr-button,\\n.a-enter-ar-button {\\n  background-size: 90% 90%;\\n  border: 0;\\n  bottom: 0;\\n  cursor: pointer;\\n  min-width: 58px;\\n  min-height: 34px;\\n  /* 1.74418604651 */\\n  /*\\n    In order to keep the aspect ratio when resizing\\n    padding-top percentages are relative to the containing block's width.\\n    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio\\n  */\\n  padding-right: 0;\\n  padding-top: 0;\\n  position: absolute;\\n  right: 0;\\n  transition: background-color .05s ease;\\n  -webkit-transition: background-color .05s ease;\\n  z-index: 9999;\\n  border-radius: 8px;\\n  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */\\n}\\n\\n.a-enter-ar-button {\\n  background-size: 100% 90%;\\n  border-radius: 7px;\\n}\\n\\n.a-enter-ar-button:active,\\n.a-enter-ar-button:hover,\\n.a-enter-vr-button:active,\\n.a-enter-vr-button:hover {\\n  background-color: #ef2d5e;\\n}\\n\\n.a-enter-vr-button.resethover {\\n  background-color: rgba(0, 0, 0, 0.35);\\n}\\n\\n.a-enter-vr-modal {\\n  background-color: #666;\\n  border-radius: 0;\\n  display: none;\\n  min-height: 32px;\\n  margin-right: 70px;\\n  padding: 9px;\\n  width: 280px;\\n  right: 2%;\\n  position: absolute;\\n}\\n\\n.a-enter-vr-modal:after {\\n  border-bottom: 10px solid transparent;\\n  border-left: 10px solid #666;\\n  border-top: 10px solid transparent;\\n  display: inline-block;\\n  content: '';\\n  position: absolute;\\n  right: -5px;\\n  top: 5px;\\n  width: 0;\\n  height: 0;\\n}\\n\\n.a-enter-vr-modal p,\\n.a-enter-vr-modal a {\\n  display: inline;\\n}\\n\\n.a-enter-vr-modal p {\\n  margin: 0;\\n}\\n\\n.a-enter-vr-modal p:after {\\n  content: ' ';\\n}\\n\\n.a-orientation-modal {\\n  background: rgba(244, 244, 244, 1) url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center no-repeat;\\n  background-size: 50% 50%;\\n  bottom: 0;\\n  font-size: 14px;\\n  font-weight: 600;\\n  left: 0;\\n  line-height: 20px;\\n  right: 0;\\n  position: fixed;\\n  top: 0;\\n  z-index: 9999999;\\n}\\n\\n.a-orientation-modal:after {\\n  color: #666;\\n  content: \\\"Insert phone into Cardboard holder.\\\";\\n  display: block;\\n  position: absolute;\\n  text-align: center;\\n  top: 70%;\\n  transform: translateY(-70%);\\n  width: 100%;\\n}\\n\\n.a-orientation-modal button {\\n  background: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;\\n  border: none;\\n  height: 50px;\\n  text-indent: -9999px;\\n  width: 50px;\\n}\\n\\n.a-loader-title {\\n  background-color: rgba(0, 0, 0, 0.6);\\n  font-family: sans-serif, monospace;\\n  text-align: center;\\n  font-size: 20px;\\n  height: 50px;\\n  font-weight: 300;\\n  line-height: 50px;\\n  position: absolute;\\n  right: 0px;\\n  left: 0px;\\n  top: 0px;\\n  color: white;\\n}\\n\\n.a-modal {\\n  position: absolute;\\n  background: rgba(0, 0, 0, 0.60);\\n  background-size: 50% 50%;\\n  bottom: 0;\\n  font-size: 14px;\\n  font-weight: 600;\\n  left: 0;\\n  line-height: 20px;\\n  right: 0;\\n  position: fixed;\\n  top: 0;\\n  z-index: 9999999;\\n}\\n\\n.a-dialog {\\n  position: relative;\\n  left: 50%;\\n  top: 50%;\\n  transform: translate(-50%, -50%);\\n  z-index: 199995;\\n  width: 300px;\\n  height: 200px;\\n  background-size: contain;\\n  background-color: white;\\n  font-family: sans-serif, monospace;\\n  font-size: 20px;\\n  border-radius: 3px;\\n  padding: 6px;\\n}\\n\\n.a-dialog-text-container {\\n  width: 100%;\\n  height: 70%;\\n  align-self: flex-start;\\n  display: flex;\\n  justify-content: center;\\n  align-content: center;\\n  flex-direction: column;\\n}\\n\\n.a-dialog-text {\\n  display: inline-block;\\n  font-weight: normal;\\n  font-size: 14pt;\\n  margin: 8px;\\n}\\n\\n.a-dialog-buttons-container {\\n  display: inline-flex;\\n  align-self: flex-end;\\n  width: 100%;\\n  height: 30%;\\n}\\n\\n.a-dialog-button {\\n  cursor: pointer;\\n  align-self: center;\\n  opacity: 0.9;\\n  height: 80%;\\n  width: 50%;\\n  font-size: 12pt;\\n  margin: 4px;\\n  border-radius: 2px;\\n  text-align:center;\\n  border: none;\\n  display: inline-block;\\n  -webkit-transition: all 0.25s ease-in-out;\\n  transition: all 0.25s ease-in-out;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);\\n  user-select: none;\\n}\\n\\n.a-dialog-permission-button:hover {\\n  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);\\n}\\n\\n.a-dialog-allow-button {\\n  background-color: #00ceff;\\n}\\n\\n.a-dialog-deny-button {\\n  background-color: #ff005b;\\n}\\n\\n.a-dialog-ok-button {\\n  background-color: #00ceff;\\n  width: 100%;\\n}\\n\\n.a-dom-overlay:not(.a-no-style) {\\n  overflow: hidden;\\n  position: absolute;\\n  pointer-events: none;\\n  box-sizing: border-box;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  padding: 1em;\\n}\\n\\n.a-dom-overlay:not(.a-no-style)>* {\\n  pointer-events: auto;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.rs-base {\n  background-color: #333;\n  color: #fafafa;\n  border-radius: 0;\n  font: 10px monospace;\n  left: 5px;\n  line-height: 1em;\n  opacity: 0.85;\n  overflow: hidden;\n  padding: 10px;\n  position: fixed;\n  top: 5px;\n  width: 300px;\n  z-index: 10000;\n}\n\n.rs-base div.hidden {\n  display: none;\n}\n\n.rs-base h1 {\n  color: #fff;\n  cursor: pointer;\n  font-size: 1.4em;\n  font-weight: 300;\n  margin: 0 0 5px;\n  padding: 0;\n}\n\n.rs-group {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-direction: column-reverse;\n  flex-direction: column-reverse;\n  margin-bottom: 5px;\n}\n\n.rs-group:last-child {\n  margin-bottom: 0;\n}\n\n.rs-counter-base {\n  align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 10px;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  margin: 2px 0;\n}\n\n.rs-counter-base.alarm {\n  color: #b70000;\n  text-shadow: 0 0 0 #b70000,\n               0 0 1px #fff,\n               0 0 1px #fff,\n               0 0 2px #fff,\n               0 0 2px #fff,\n               0 0 3px #fff,\n               0 0 3px #fff,\n               0 0 4px #fff,\n               0 0 4px #fff;\n}\n\n.rs-counter-id {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 0;\n  -webkit-order: 0;\n  order: 0;\n  width: 54px;\n}\n\n.rs-counter-value {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 1;\n  -webkit-order: 1;\n  order: 1;\n  text-align: right;\n  width: 35px;\n}\n\n.rs-canvas {\n  -webkit-box-ordinal-group: 2;\n  -webkit-order: 2;\n  order: 2;\n}\n\n@media (min-width: 480px) {\n  .rs-base {\n    left: 20px;\n    top: 20px;\n  }\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/style/rStats.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,SAAS;EACT,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,QAAQ;EACR,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,UAAU;AACZ;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,sCAAsC;EACtC,8BAA8B;EAC9B,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,YAAY;EACZ,sCAAsC;EACtC,8BAA8B;EAC9B,aAAa;AACf;;AAEA;EACE,cAAc;EACd;;;;;;;;2BAQyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;AACV;;AAEA;EACE;IACE,UAAU;IACV,SAAS;EACX;AACF\",\"sourcesContent\":[\".rs-base {\\n  background-color: #333;\\n  color: #fafafa;\\n  border-radius: 0;\\n  font: 10px monospace;\\n  left: 5px;\\n  line-height: 1em;\\n  opacity: 0.85;\\n  overflow: hidden;\\n  padding: 10px;\\n  position: fixed;\\n  top: 5px;\\n  width: 300px;\\n  z-index: 10000;\\n}\\n\\n.rs-base div.hidden {\\n  display: none;\\n}\\n\\n.rs-base h1 {\\n  color: #fff;\\n  cursor: pointer;\\n  font-size: 1.4em;\\n  font-weight: 300;\\n  margin: 0 0 5px;\\n  padding: 0;\\n}\\n\\n.rs-group {\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-flex-direction: column-reverse;\\n  flex-direction: column-reverse;\\n  margin-bottom: 5px;\\n}\\n\\n.rs-group:last-child {\\n  margin-bottom: 0;\\n}\\n\\n.rs-counter-base {\\n  align-items: center;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  height: 10px;\\n  -webkit-justify-content: space-between;\\n  justify-content: space-between;\\n  margin: 2px 0;\\n}\\n\\n.rs-counter-base.alarm {\\n  color: #b70000;\\n  text-shadow: 0 0 0 #b70000,\\n               0 0 1px #fff,\\n               0 0 1px #fff,\\n               0 0 2px #fff,\\n               0 0 2px #fff,\\n               0 0 3px #fff,\\n               0 0 3px #fff,\\n               0 0 4px #fff,\\n               0 0 4px #fff;\\n}\\n\\n.rs-counter-id {\\n  font-weight: 300;\\n  -webkit-box-ordinal-group: 0;\\n  -webkit-order: 0;\\n  order: 0;\\n  width: 54px;\\n}\\n\\n.rs-counter-value {\\n  font-weight: 300;\\n  -webkit-box-ordinal-group: 1;\\n  -webkit-order: 1;\\n  order: 1;\\n  text-align: right;\\n  width: 35px;\\n}\\n\\n.rs-canvas {\\n  -webkit-box-ordinal-group: 2;\\n  -webkit-order: 2;\\n  order: 2;\\n}\\n\\n@media (min-width: 480px) {\\n  .rs-base {\\n    left: 20px;\\n    top: 20px;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./aframe.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./aframe.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./rStats.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./rStats.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","__webpack_require__.nc = undefined;","/*\n * anime.js v3.0.0\n * (c) 2019 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar hexRegex = /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i;\nvar rgbPrefixRegex = /^rgb/;\nvar hslRegex = /^hsl/;\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  hex: function (a) { return hexRegex.test(a); },\n  rgb: function (a) { return rgbPrefixRegex.test(a); },\n  hsl: function (a) { return hslRegex.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }\n};\n\n// Easings\n\nvar easingFunctionRegex = /\\(([^)]+)\\)/;\n\nfunction parseEasingParameters(string) {\n  var match = easingFunctionRegex.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright  2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Elastic easing adapted from jQueryUI http://api.jqueryui.com/easings/\n\nfunction elastic(amplitude, period) {\n  if ( amplitude === void 0 ) amplitude = 1;\n  if ( period === void 0 ) period = .5;\n\n  var a = minMax(amplitude, 1, 10);\n  var p = minMax(period, .1, 2);\n  return function (t) {\n    return (t === 0 || t === 1) ? t :\n      -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n  }\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.round(t * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  var names = ['Quad', 'Cubic', 'Quart', 'Quint', 'Sine', 'Expo', 'Circ', 'Back', 'Elastic'];\n\n  // Approximated Penner equations http://matthewlein.com/ceaser/\n\n  var curves = {\n    In: [\n      [0.550, 0.085, 0.680, 0.530], /* inQuad */\n      [0.550, 0.055, 0.675, 0.190], /* inCubic */\n      [0.895, 0.030, 0.685, 0.220], /* inQuart */\n      [0.755, 0.050, 0.855, 0.060], /* inQuint */\n      [0.470, 0.000, 0.745, 0.715], /* inSine */\n      [0.950, 0.050, 0.795, 0.035], /* inExpo */\n      [0.600, 0.040, 0.980, 0.335], /* inCirc */\n      [0.600,-0.280, 0.735, 0.045], /* inBack */\n      elastic /* inElastic */\n    ],\n    Out: [\n      [0.250, 0.460, 0.450, 0.940], /* outQuad */\n      [0.215, 0.610, 0.355, 1.000], /* outCubic */\n      [0.165, 0.840, 0.440, 1.000], /* outQuart */\n      [0.230, 1.000, 0.320, 1.000], /* outQuint */\n      [0.390, 0.575, 0.565, 1.000], /* outSine */\n      [0.190, 1.000, 0.220, 1.000], /* outExpo */\n      [0.075, 0.820, 0.165, 1.000], /* outCirc */\n      [0.175, 0.885, 0.320, 1.275], /* outBack */\n      function (a, p) { return function (t) { return 1 - elastic(a, p)(1 - t); }; } /* outElastic */\n    ],\n    InOut: [\n      [0.455, 0.030, 0.515, 0.955], /* inOutQuad */\n      [0.645, 0.045, 0.355, 1.000], /* inOutCubic */\n      [0.770, 0.000, 0.175, 1.000], /* inOutQuart */\n      [0.860, 0.000, 0.070, 1.000], /* inOutQuint */\n      [0.445, 0.050, 0.550, 0.950], /* inOutSine */\n      [1.000, 0.000, 0.000, 1.000], /* inOutExpo */\n      [0.785, 0.135, 0.150, 0.860], /* inOutCirc */\n      [0.680,-0.550, 0.265, 1.550], /* inOutBack */\n      function (a, p) { return function (t) { return t < .5 ? elastic(a, p)(t * 2) / 2 : 1 - elastic(a, p)(t * -2 + 2) / 2; }; } /* inOutElastic */\n    ]\n  };\n\n  var eases = {\n    linear: [0.250, 0.250, 0.750, 0.750]\n  };\n\n  for (var coords in curves) {\n    for (var i = 0, len = curves[coords].length; i < len; i++) {\n      eases['ease'+coords+names[i]] = curves[coords][i];\n    }\n  }\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return is.fnc(ease) ? applyArguments(ease, args) : applyArguments(bezier, ease);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nvar auxArrayFilter = [];\n\nfunction filterArray(arr, callback) {\n  var result = auxArrayFilter;\n\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n\n  // arr turns into the auxArray and we return the previously aux array.\n  auxArrayFilter = arr;\n  auxArrayFilter.length = 0;\n  return result;\n}\n\nfunction flattenArray (arr, result) {\n  if (!result) { result = []; }\n  for (var i = 0, length = arr.length; i < length; i++) {\n    var value = arr[i];\n    if (Array.isArray(value)) {\n      flattenArray(value, result);\n    } else {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nvar rgbRegex = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g;\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = rgbRegex.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nvar hexToRgbaHexRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\nvar hexToRgbaRgbRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n\nfunction hexToRgba(hexValue) {\n  var hex = hexValue.replace(hexToRgbaHexRegex, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = hexToRgbaRgbRegex.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nvar hslToRgbaHsl1Regex = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g;\nvar hslToRgbaHsl2Regex = /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g;\n\nfunction hslToRgba(hslValue) {\n  var hsl = hslToRgbaHsl1Regex.exec(hslValue) || hslToRgbaHsl2Regex.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nvar unitRegex = /([\\+\\-]?[0-9#\\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;\n\nfunction getUnit(val) {\n  var split = unitRegex.exec(val);\n  if (split) { return split[2]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nvar transformRegex = /(\\w+)\\(([^)]*)\\)/g;\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var transforms = new Map();\n  var m; while (m = transformRegex.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nvar operatorRegex = /^(\\*=|\\+=|-=)/;\n\nfunction getRelativeValue(to, from) {\n  var operator = operatorRegex.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nvar whitespaceRegex = /\\s/g;\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  return unit && !whitespaceRegex.test(val) ? unitLess + unit : unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')},\n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    parentEl = parentEl.parentNode;\n    if (!is.svg(parentEl.parentNode)) { break; }\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width / viewBox[2],\n    h: height / viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * svg.w;\n    case 'y': return (p.y - svg.y) * svg.h;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nvar valueRegex = /-?\\d*\\.?\\d+/g;\n\nfunction decomposeValue(val, unit) {\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(valueRegex) ? value.match(valueRegex).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(valueRegex) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nvar springRegex = /^spring/;\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (springRegex.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n\n  for (var i = 0, len = animatables.length; i < len; i++) {\n    var animatable = animatables[i];\n\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  }\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\nvar pausedInstances = [];\nvar raf;\n\nvar engine = (function () {\n  function play() {\n    raf = requestAnimationFrame(step);\n  }\n  function step(t) {\n    var activeInstancesLength = activeInstances.length;\n    if (activeInstancesLength) {\n      var i = 0;\n      while (i < activeInstancesLength) {\n        var activeInstance = activeInstances[i];\n        if (!activeInstance.paused) {\n          activeInstance.tick(t);\n        } else {\n          var instanceIndex = activeInstances.indexOf(activeInstance);\n          if (instanceIndex > -1) {\n            activeInstances.splice(instanceIndex, 1);\n            activeInstancesLength = activeInstances.length;\n          }\n        }\n        i++;\n      }\n      play();\n    } else {\n      raf = cancelAnimationFrame(raf);\n    }\n  }\n  return play;\n})();\n\nfunction handleVisibilityChange() {\n  if (document.hidden) {\n    for (var i = 0, len = activeInstances.length; i < len; i++) {\n      activeInstance[i].pause();\n    }\n    pausedInstances = activeInstances.slice(0);\n    activeInstances = [];\n  } else {\n    for (var i$1 = 0, len$1 = pausedInstances.length; i$1 < len$1; i$1++) {\n      pausedInstances[i$1].play();\n    }\n  }\n}\n\ndocument.addEventListener('visibilitychange', handleVisibilityChange);\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise() {\n    return window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n  }\n\n  var promise = makePromise();\n\n  var instance = createNewInstance(params);\n\n  function toggleInstanceDirection() {\n    instance.reversed = !instance.reversed;\n    for (var i = 0, len = children.length; i < len; i++) {\n      children[i].reversed = instance.reversed;\n    }\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekCild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekCild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekCild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (instance.remaining) {\n        startTime = now;\n        setCallback('loopComplete');\n        setCallback('loopBegin');\n        if (instance.direction === 'alternate') { toggleInstanceDirection(); }\n      } else {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if ('Promise' in window) {\n            resolve();\n            promise = makePromise();\n          }\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(0);\n  };\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    if (!raf) { engine(); }\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.finished = promise;\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargets(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    var animations = instance.animations;\n    var children = instance.children;\n    removeTargetsFromAnimations(targetsArray, animations);\n    for (var c = children.length; c--;) {\n      var child = children[c];\n      var childAnimations = child.animations;\n      removeTargetsFromAnimations(targetsArray, childAnimations);\n      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n    }\n    if (!animations.length && !children.length) { instance.pause(); }\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.0.0';\nanime.speed = 1;\nanime.running = activeInstances;\nanime.remove = removeTargets;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","const __WEBPACK_NAMESPACE_OBJECT__ = __WEBPACK_EXTERNAL_MODULE_three__;","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tColor,\n\tColorManagement,\n\tFileLoader,\n\tLoader,\n\tLinearSRGBColorSpace,\n\tSRGBColorSpace\n} from 'three';\n\nconst _taskCache = new WeakMap();\n\nclass DRACOLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.decoderPath = '';\n\t\tthis.decoderConfig = {};\n\t\tthis.decoderBinary = null;\n\t\tthis.decoderPending = null;\n\n\t\tthis.workerLimit = 4;\n\t\tthis.workerPool = [];\n\t\tthis.workerNextTaskID = 1;\n\t\tthis.workerSourceURL = '';\n\n\t\tthis.defaultAttributeIDs = {\n\t\t\tposition: 'POSITION',\n\t\t\tnormal: 'NORMAL',\n\t\t\tcolor: 'COLOR',\n\t\t\tuv: 'TEX_COORD'\n\t\t};\n\t\tthis.defaultAttributeTypes = {\n\t\t\tposition: 'Float32Array',\n\t\t\tnormal: 'Float32Array',\n\t\t\tcolor: 'Float32Array',\n\t\t\tuv: 'Float32Array'\n\t\t};\n\n\t}\n\n\tsetDecoderPath( path ) {\n\n\t\tthis.decoderPath = path;\n\n\t\treturn this;\n\n\t}\n\n\tsetDecoderConfig( config ) {\n\n\t\tthis.decoderConfig = config;\n\n\t\treturn this;\n\n\t}\n\n\tsetWorkerLimit( workerLimit ) {\n\n\t\tthis.workerLimit = workerLimit;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, ( buffer ) => {\n\n\t\t\tthis.parse( buffer, onLoad, onError );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\n\tparse( buffer, onLoad, onError = ()=>{} ) {\n\n\t\tthis.decodeDracoFile( buffer, onLoad, null, null, SRGBColorSpace, onError ).catch( onError );\n\n\t}\n\n\tdecodeDracoFile( buffer, callback, attributeIDs, attributeTypes, vertexColorSpace = LinearSRGBColorSpace, onError = () => {} ) {\n\n\t\tconst taskConfig = {\n\t\t\tattributeIDs: attributeIDs || this.defaultAttributeIDs,\n\t\t\tattributeTypes: attributeTypes || this.defaultAttributeTypes,\n\t\t\tuseUniqueIDs: !! attributeIDs,\n\t\t\tvertexColorSpace: vertexColorSpace,\n\t\t};\n\n\t\treturn this.decodeGeometry( buffer, taskConfig ).then( callback ).catch( onError );\n\n\t}\n\n\tdecodeGeometry( buffer, taskConfig ) {\n\n\t\tconst taskKey = JSON.stringify( taskConfig );\n\n\t\t// Check for an existing task using this buffer. A transferred buffer cannot be transferred\n\t\t// again from this thread.\n\t\tif ( _taskCache.has( buffer ) ) {\n\n\t\t\tconst cachedTask = _taskCache.get( buffer );\n\n\t\t\tif ( cachedTask.key === taskKey ) {\n\n\t\t\t\treturn cachedTask.promise;\n\n\t\t\t} else if ( buffer.byteLength === 0 ) {\n\n\t\t\t\t// Technically, it would be possible to wait for the previous task to complete,\n\t\t\t\t// transfer the buffer back, and decode again with the second configuration. That\n\t\t\t\t// is complex, and I don't know of any reason to decode a Draco buffer twice in\n\t\t\t\t// different ways, so this is left unimplemented.\n\t\t\t\tthrow new Error(\n\n\t\t\t\t\t'THREE.DRACOLoader: Unable to re-decode a buffer with different ' +\n\t\t\t\t\t'settings. Buffer has already been transferred.'\n\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet worker;\n\t\tconst taskID = this.workerNextTaskID ++;\n\t\tconst taskCost = buffer.byteLength;\n\n\t\t// Obtain a worker and assign a task, and construct a geometry instance\n\t\t// when the task completes.\n\t\tconst geometryPending = this._getWorker( taskID, taskCost )\n\t\t\t.then( ( _worker ) => {\n\n\t\t\t\tworker = _worker;\n\n\t\t\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\t\t\tworker._callbacks[ taskID ] = { resolve, reject };\n\n\t\t\t\t\tworker.postMessage( { type: 'decode', id: taskID, taskConfig, buffer }, [ buffer ] );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t} );\n\n\t\t\t} )\n\t\t\t.then( ( message ) => this._createGeometry( message.geometry ) );\n\n\t\t// Remove task from the task list.\n\t\t// Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n\t\tgeometryPending\n\t\t\t.catch( () => true )\n\t\t\t.then( () => {\n\n\t\t\t\tif ( worker && taskID ) {\n\n\t\t\t\t\tthis._releaseTask( worker, taskID );\n\n\t\t\t\t\t// this.debug();\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t// Cache the task result.\n\t\t_taskCache.set( buffer, {\n\n\t\t\tkey: taskKey,\n\t\t\tpromise: geometryPending\n\n\t\t} );\n\n\t\treturn geometryPending;\n\n\t}\n\n\t_createGeometry( geometryData ) {\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tif ( geometryData.index ) {\n\n\t\t\tgeometry.setIndex( new BufferAttribute( geometryData.index.array, 1 ) );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < geometryData.attributes.length; i ++ ) {\n\n\t\t\tconst result = geometryData.attributes[ i ];\n\t\t\tconst name = result.name;\n\t\t\tconst array = result.array;\n\t\t\tconst itemSize = result.itemSize;\n\n\t\t\tconst attribute = new BufferAttribute( array, itemSize );\n\n\t\t\tif ( name === 'color' ) {\n\n\t\t\t\tthis._assignVertexColorSpace( attribute, result.vertexColorSpace );\n\n\t\t\t\tattribute.normalized = ( array instanceof Float32Array ) === false;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( name, attribute );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n\t_assignVertexColorSpace( attribute, inputColorSpace ) {\n\n\t\t// While .drc files do not specify colorspace, the only 'official' tooling\n\t\t// is PLY and OBJ converters, which use sRGB. We'll assume sRGB when a .drc\n\t\t// file is passed into .load() or .parse(). GLTFLoader uses internal APIs\n\t\t// to decode geometry, and vertex colors are already Linear-sRGB in there.\n\n\t\tif ( inputColorSpace !== SRGBColorSpace ) return;\n\n\t\tconst _color = new Color();\n\n\t\tfor ( let i = 0, il = attribute.count; i < il; i ++ ) {\n\n\t\t\t_color.fromBufferAttribute( attribute, i );\n\t\t\tColorManagement.toWorkingColorSpace( _color, SRGBColorSpace );\n\t\t\tattribute.setXYZ( i, _color.r, _color.g, _color.b );\n\n\t\t}\n\n\t}\n\n\t_loadLibrary( url, responseType ) {\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.decoderPath );\n\t\tloader.setResponseType( responseType );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\n\t\t\tloader.load( url, resolve, undefined, reject );\n\n\t\t} );\n\n\t}\n\n\tpreload() {\n\n\t\tthis._initDecoder();\n\n\t\treturn this;\n\n\t}\n\n\t_initDecoder() {\n\n\t\tif ( this.decoderPending ) return this.decoderPending;\n\n\t\tconst useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js';\n\t\tconst librariesPending = [];\n\n\t\tif ( useJS ) {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.js', 'text' ) );\n\n\t\t} else {\n\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_wasm_wrapper.js', 'text' ) );\n\t\t\tlibrariesPending.push( this._loadLibrary( 'draco_decoder.wasm', 'arraybuffer' ) );\n\n\t\t}\n\n\t\tthis.decoderPending = Promise.all( librariesPending )\n\t\t\t.then( ( libraries ) => {\n\n\t\t\t\tconst jsContent = libraries[ 0 ];\n\n\t\t\t\tif ( ! useJS ) {\n\n\t\t\t\t\tthis.decoderConfig.wasmBinary = libraries[ 1 ];\n\n\t\t\t\t}\n\n\t\t\t\tconst fn = DRACOWorker.toString();\n\n\t\t\t\tconst body = [\n\t\t\t\t\t'/* draco decoder */',\n\t\t\t\t\tjsContent,\n\t\t\t\t\t'',\n\t\t\t\t\t'/* worker */',\n\t\t\t\t\tfn.substring( fn.indexOf( '{' ) + 1, fn.lastIndexOf( '}' ) )\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tthis.workerSourceURL = URL.createObjectURL( new Blob( [ body ] ) );\n\n\t\t\t} );\n\n\t\treturn this.decoderPending;\n\n\t}\n\n\t_getWorker( taskID, taskCost ) {\n\n\t\treturn this._initDecoder().then( () => {\n\n\t\t\tif ( this.workerPool.length < this.workerLimit ) {\n\n\t\t\t\tconst worker = new Worker( this.workerSourceURL );\n\n\t\t\t\tworker._callbacks = {};\n\t\t\t\tworker._taskCosts = {};\n\t\t\t\tworker._taskLoad = 0;\n\n\t\t\t\tworker.postMessage( { type: 'init', decoderConfig: this.decoderConfig } );\n\n\t\t\t\tworker.onmessage = function ( e ) {\n\n\t\t\t\t\tconst message = e.data;\n\n\t\t\t\t\tswitch ( message.type ) {\n\n\t\t\t\t\t\tcase 'decode':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].resolve( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'error':\n\t\t\t\t\t\t\tworker._callbacks[ message.id ].reject( message );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"' );\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tthis.workerPool.push( worker );\n\n\t\t\t} else {\n\n\t\t\t\tthis.workerPool.sort( function ( a, b ) {\n\n\t\t\t\t\treturn a._taskLoad > b._taskLoad ? - 1 : 1;\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tconst worker = this.workerPool[ this.workerPool.length - 1 ];\n\t\t\tworker._taskCosts[ taskID ] = taskCost;\n\t\t\tworker._taskLoad += taskCost;\n\t\t\treturn worker;\n\n\t\t} );\n\n\t}\n\n\t_releaseTask( worker, taskID ) {\n\n\t\tworker._taskLoad -= worker._taskCosts[ taskID ];\n\t\tdelete worker._callbacks[ taskID ];\n\t\tdelete worker._taskCosts[ taskID ];\n\n\t}\n\n\tdebug() {\n\n\t\tconsole.log( 'Task load: ', this.workerPool.map( ( worker ) => worker._taskLoad ) );\n\n\t}\n\n\tdispose() {\n\n\t\tfor ( let i = 0; i < this.workerPool.length; ++ i ) {\n\n\t\t\tthis.workerPool[ i ].terminate();\n\n\t\t}\n\n\t\tthis.workerPool.length = 0;\n\n\t\tif ( this.workerSourceURL !== '' ) {\n\n\t\t\tURL.revokeObjectURL( this.workerSourceURL );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/* WEB WORKER */\n\nfunction DRACOWorker() {\n\n\tlet decoderConfig;\n\tlet decoderPending;\n\n\tonmessage = function ( e ) {\n\n\t\tconst message = e.data;\n\n\t\tswitch ( message.type ) {\n\n\t\t\tcase 'init':\n\t\t\t\tdecoderConfig = message.decoderConfig;\n\t\t\t\tdecoderPending = new Promise( function ( resolve/*, reject*/ ) {\n\n\t\t\t\t\tdecoderConfig.onModuleLoaded = function ( draco ) {\n\n\t\t\t\t\t\t// Module is Promise-like. Wrap before resolving to avoid loop.\n\t\t\t\t\t\tresolve( { draco: draco } );\n\n\t\t\t\t\t};\n\n\t\t\t\t\tDracoDecoderModule( decoderConfig ); // eslint-disable-line no-undef\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t\tcase 'decode':\n\t\t\t\tconst buffer = message.buffer;\n\t\t\t\tconst taskConfig = message.taskConfig;\n\t\t\t\tdecoderPending.then( ( module ) => {\n\n\t\t\t\t\tconst draco = module.draco;\n\t\t\t\t\tconst decoder = new draco.Decoder();\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tconst geometry = decodeGeometry( draco, decoder, new Int8Array( buffer ), taskConfig );\n\n\t\t\t\t\t\tconst buffers = geometry.attributes.map( ( attr ) => attr.array.buffer );\n\n\t\t\t\t\t\tif ( geometry.index ) buffers.push( geometry.index.array.buffer );\n\n\t\t\t\t\t\tself.postMessage( { type: 'decode', id: message.id, geometry }, buffers );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tconsole.error( error );\n\n\t\t\t\t\t\tself.postMessage( { type: 'error', id: message.id, error: error.message } );\n\n\t\t\t\t\t} finally {\n\n\t\t\t\t\t\tdraco.destroy( decoder );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t};\n\n\tfunction decodeGeometry( draco, decoder, array, taskConfig ) {\n\n\t\tconst attributeIDs = taskConfig.attributeIDs;\n\t\tconst attributeTypes = taskConfig.attributeTypes;\n\n\t\tlet dracoGeometry;\n\t\tlet decodingStatus;\n\n\t\tconst geometryType = decoder.GetEncodedGeometryType( array );\n\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tdracoGeometry = new draco.Mesh();\n\t\t\tdecodingStatus = decoder.DecodeArrayToMesh( array, array.byteLength, dracoGeometry );\n\n\t\t} else if ( geometryType === draco.POINT_CLOUD ) {\n\n\t\t\tdracoGeometry = new draco.PointCloud();\n\t\t\tdecodingStatus = decoder.DecodeArrayToPointCloud( array, array.byteLength, dracoGeometry );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Unexpected geometry type.' );\n\n\t\t}\n\n\t\tif ( ! decodingStatus.ok() || dracoGeometry.ptr === 0 ) {\n\n\t\t\tthrow new Error( 'THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg() );\n\n\t\t}\n\n\t\tconst geometry = { index: null, attributes: [] };\n\n\t\t// Gather all vertex attributes.\n\t\tfor ( const attributeName in attributeIDs ) {\n\n\t\t\tconst attributeType = self[ attributeTypes[ attributeName ] ];\n\n\t\t\tlet attribute;\n\t\t\tlet attributeID;\n\n\t\t\t// A Draco file may be created with default vertex attributes, whose attribute IDs\n\t\t\t// are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n\t\t\t// a Draco file may contain a custom set of attributes, identified by known unique\n\t\t\t// IDs. glTF files always do the latter, and `.drc` files typically do the former.\n\t\t\tif ( taskConfig.useUniqueIDs ) {\n\n\t\t\t\tattributeID = attributeIDs[ attributeName ];\n\t\t\t\tattribute = decoder.GetAttributeByUniqueId( dracoGeometry, attributeID );\n\n\t\t\t} else {\n\n\t\t\t\tattributeID = decoder.GetAttributeId( dracoGeometry, draco[ attributeIDs[ attributeName ] ] );\n\n\t\t\t\tif ( attributeID === - 1 ) continue;\n\n\t\t\t\tattribute = decoder.GetAttribute( dracoGeometry, attributeID );\n\n\t\t\t}\n\n\t\t\tconst attributeResult = decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute );\n\n\t\t\tif ( attributeName === 'color' ) {\n\n\t\t\t\tattributeResult.vertexColorSpace = taskConfig.vertexColorSpace;\n\n\t\t\t}\n\n\t\t\tgeometry.attributes.push( attributeResult );\n\n\t\t}\n\n\t\t// Add index.\n\t\tif ( geometryType === draco.TRIANGULAR_MESH ) {\n\n\t\t\tgeometry.index = decodeIndex( draco, decoder, dracoGeometry );\n\n\t\t}\n\n\t\tdraco.destroy( dracoGeometry );\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction decodeIndex( draco, decoder, dracoGeometry ) {\n\n\t\tconst numFaces = dracoGeometry.num_faces();\n\t\tconst numIndices = numFaces * 3;\n\t\tconst byteLength = numIndices * 4;\n\n\t\tconst ptr = draco._malloc( byteLength );\n\t\tdecoder.GetTrianglesUInt32Array( dracoGeometry, byteLength, ptr );\n\t\tconst index = new Uint32Array( draco.HEAPF32.buffer, ptr, numIndices ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn { array: index, itemSize: 1 };\n\n\t}\n\n\tfunction decodeAttribute( draco, decoder, dracoGeometry, attributeName, attributeType, attribute ) {\n\n\t\tconst numComponents = attribute.num_components();\n\t\tconst numPoints = dracoGeometry.num_points();\n\t\tconst numValues = numPoints * numComponents;\n\t\tconst byteLength = numValues * attributeType.BYTES_PER_ELEMENT;\n\t\tconst dataType = getDracoDataType( draco, attributeType );\n\n\t\tconst ptr = draco._malloc( byteLength );\n\t\tdecoder.GetAttributeDataArrayForAllPoints( dracoGeometry, attribute, dataType, byteLength, ptr );\n\t\tconst array = new attributeType( draco.HEAPF32.buffer, ptr, numValues ).slice();\n\t\tdraco._free( ptr );\n\n\t\treturn {\n\t\t\tname: attributeName,\n\t\t\tarray: array,\n\t\t\titemSize: numComponents\n\t\t};\n\n\t}\n\n\tfunction getDracoDataType( draco, attributeType ) {\n\n\t\tswitch ( attributeType ) {\n\n\t\t\tcase Float32Array: return draco.DT_FLOAT32;\n\t\t\tcase Int8Array: return draco.DT_INT8;\n\t\t\tcase Int16Array: return draco.DT_INT16;\n\t\t\tcase Int32Array: return draco.DT_INT32;\n\t\t\tcase Uint8Array: return draco.DT_UINT8;\n\t\t\tcase Uint16Array: return draco.DT_UINT16;\n\t\t\tcase Uint32Array: return draco.DT_UINT32;\n\n\t\t}\n\n\t}\n\n}\n\nexport { DRACOLoader };\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tInstancedBufferAttribute,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tTrianglesDrawMode,\n\tVector3,\n} from 'three';\n\nfunction computeMikkTSpaceTangents( geometry, MikkTSpace, negateSign = true ) {\n\n\tif ( ! MikkTSpace || ! MikkTSpace.isReady ) {\n\n\t\tthrow new Error( 'BufferGeometryUtils: Initialized MikkTSpace library required.' );\n\n\t}\n\n\tif ( ! geometry.hasAttribute( 'position' ) || ! geometry.hasAttribute( 'normal' ) || ! geometry.hasAttribute( 'uv' ) ) {\n\n\t\tthrow new Error( 'BufferGeometryUtils: Tangents require \"position\", \"normal\", and \"uv\" attributes.' );\n\n\t}\n\n\tfunction getAttributeArray( attribute ) {\n\n\t\tif ( attribute.normalized || attribute.isInterleavedBufferAttribute ) {\n\n\t\t\tconst dstArray = new Float32Array( attribute.count * attribute.itemSize );\n\n\t\t\tfor ( let i = 0, j = 0; i < attribute.count; i ++ ) {\n\n\t\t\t\tdstArray[ j ++ ] = attribute.getX( i );\n\t\t\t\tdstArray[ j ++ ] = attribute.getY( i );\n\n\t\t\t\tif ( attribute.itemSize > 2 ) {\n\n\t\t\t\t\tdstArray[ j ++ ] = attribute.getZ( i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn dstArray;\n\n\t\t}\n\n\t\tif ( attribute.array instanceof Float32Array ) {\n\n\t\t\treturn attribute.array;\n\n\t\t}\n\n\t\treturn new Float32Array( attribute.array );\n\n\t}\n\n\t// MikkTSpace algorithm requires non-indexed input.\n\n\tconst _geometry = geometry.index ? geometry.toNonIndexed() : geometry;\n\n\t// Compute vertex tangents.\n\n\tconst tangents = MikkTSpace.generateTangents(\n\n\t\tgetAttributeArray( _geometry.attributes.position ),\n\t\tgetAttributeArray( _geometry.attributes.normal ),\n\t\tgetAttributeArray( _geometry.attributes.uv )\n\n\t);\n\n\t// Texture coordinate convention of glTF differs from the apparent\n\t// default of the MikkTSpace library; .w component must be flipped.\n\n\tif ( negateSign ) {\n\n\t\tfor ( let i = 3; i < tangents.length; i += 4 ) {\n\n\t\t\ttangents[ i ] *= - 1;\n\n\t\t}\n\n\t}\n\n\t//\n\n\t_geometry.setAttribute( 'tangent', new BufferAttribute( tangents, 4 ) );\n\n\tif ( geometry !== _geometry ) {\n\n\t\tgeometry.copy( _geometry );\n\n\t}\n\n\treturn geometry;\n\n}\n\n/**\n * @param  {Array<BufferGeometry>} geometries\n * @param  {Boolean} useGroups\n * @return {BufferGeometry}\n */\nfunction mergeGeometries( geometries, useGroups = false ) {\n\n\tconst isIndexed = geometries[ 0 ].index !== null;\n\n\tconst attributesUsed = new Set( Object.keys( geometries[ 0 ].attributes ) );\n\tconst morphAttributesUsed = new Set( Object.keys( geometries[ 0 ].morphAttributes ) );\n\n\tconst attributes = {};\n\tconst morphAttributes = {};\n\n\tconst morphTargetsRelative = geometries[ 0 ].morphTargetsRelative;\n\n\tconst mergedGeometry = new BufferGeometry();\n\n\tlet offset = 0;\n\n\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\tconst geometry = geometries[ i ];\n\t\tlet attributesCount = 0;\n\n\t\t// ensure that all geometries are indexed, or none\n\n\t\tif ( isIndexed !== ( geometry.index !== null ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// gather attributes, exit early if they're different\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tif ( ! attributesUsed.has( name ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure \"' + name + '\" attribute exists among all geometries, or in none of them.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tif ( attributes[ name ] === undefined ) attributes[ name ] = [];\n\n\t\t\tattributes[ name ].push( geometry.attributes[ name ] );\n\n\t\t\tattributesCount ++;\n\n\t\t}\n\n\t\t// ensure geometries have the same number of attributes\n\n\t\tif ( attributesCount !== attributesUsed.size ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. Make sure all geometries have the same number of attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// gather morph attributes, exit early if they're different\n\n\t\tif ( morphTargetsRelative !== geometry.morphTargetsRelative ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. .morphTargetsRelative must be consistent throughout all geometries.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfor ( const name in geometry.morphAttributes ) {\n\n\t\t\tif ( ! morphAttributesUsed.has( name ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '.  .morphAttributes must be consistent throughout all geometries.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tif ( morphAttributes[ name ] === undefined ) morphAttributes[ name ] = [];\n\n\t\t\tmorphAttributes[ name ].push( geometry.morphAttributes[ name ] );\n\n\t\t}\n\n\t\tif ( useGroups ) {\n\n\t\t\tlet count;\n\n\t\t\tif ( isIndexed ) {\n\n\t\t\t\tcount = geometry.index.count;\n\n\t\t\t} else if ( geometry.attributes.position !== undefined ) {\n\n\t\t\t\tcount = geometry.attributes.position.count;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. The geometry must have either an index or a position attribute' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tmergedGeometry.addGroup( offset, count, i );\n\n\t\t\toffset += count;\n\n\t\t}\n\n\t}\n\n\t// merge indices\n\n\tif ( isIndexed ) {\n\n\t\tlet indexOffset = 0;\n\t\tconst mergedIndex = [];\n\n\t\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\t\tconst index = geometries[ i ].index;\n\n\t\t\tfor ( let j = 0; j < index.count; ++ j ) {\n\n\t\t\t\tmergedIndex.push( index.getX( j ) + indexOffset );\n\n\t\t\t}\n\n\t\t\tindexOffset += geometries[ i ].attributes.position.count;\n\n\t\t}\n\n\t\tmergedGeometry.setIndex( mergedIndex );\n\n\t}\n\n\t// merge attributes\n\n\tfor ( const name in attributes ) {\n\n\t\tconst mergedAttribute = mergeAttributes( attributes[ name ] );\n\n\t\tif ( ! mergedAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the ' + name + ' attribute.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tmergedGeometry.setAttribute( name, mergedAttribute );\n\n\t}\n\n\t// merge morph attributes\n\n\tfor ( const name in morphAttributes ) {\n\n\t\tconst numMorphTargets = morphAttributes[ name ][ 0 ].length;\n\n\t\tif ( numMorphTargets === 0 ) break;\n\n\t\tmergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {};\n\t\tmergedGeometry.morphAttributes[ name ] = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; ++ i ) {\n\n\t\t\tconst morphAttributesToMerge = [];\n\n\t\t\tfor ( let j = 0; j < morphAttributes[ name ].length; ++ j ) {\n\n\t\t\t\tmorphAttributesToMerge.push( morphAttributes[ name ][ j ][ i ] );\n\n\t\t\t}\n\n\t\t\tconst mergedMorphAttribute = mergeAttributes( morphAttributesToMerge );\n\n\t\t\tif ( ! mergedMorphAttribute ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the ' + name + ' morphAttribute.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tmergedGeometry.morphAttributes[ name ].push( mergedMorphAttribute );\n\n\t\t}\n\n\t}\n\n\treturn mergedGeometry;\n\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {BufferAttribute}\n */\nfunction mergeAttributes( attributes ) {\n\n\tlet TypedArray;\n\tlet itemSize;\n\tlet normalized;\n\tlet gpuType = - 1;\n\tlet arrayLength = 0;\n\n\tfor ( let i = 0; i < attributes.length; ++ i ) {\n\n\t\tconst attribute = attributes[ i ];\n\n\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\n\t\tif ( TypedArray !== attribute.array.constructor ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( itemSize === undefined ) itemSize = attribute.itemSize;\n\t\tif ( itemSize !== attribute.itemSize ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( normalized === undefined ) normalized = attribute.normalized;\n\t\tif ( normalized !== attribute.normalized ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( gpuType === - 1 ) gpuType = attribute.gpuType;\n\t\tif ( gpuType !== attribute.gpuType ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tarrayLength += attribute.count * itemSize;\n\n\t}\n\n\tconst array = new TypedArray( arrayLength );\n\tconst result = new BufferAttribute( array, itemSize, normalized );\n\tlet offset = 0;\n\n\tfor ( let i = 0; i < attributes.length; ++ i ) {\n\n\t\tconst attribute = attributes[ i ];\n\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\tconst tupleOffset = offset / itemSize;\n\t\t\tfor ( let j = 0, l = attribute.count; j < l; j ++ ) {\n\n\t\t\t\tfor ( let c = 0; c < itemSize; c ++ ) {\n\n\t\t\t\t\tconst value = attribute.getComponent( j, c );\n\t\t\t\t\tresult.setComponent( j + tupleOffset, c, value );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tarray.set( attribute.array, offset );\n\n\t\t}\n\n\t\toffset += attribute.count * itemSize;\n\n\t}\n\n\tif ( gpuType !== undefined ) {\n\n\t\tresult.gpuType = gpuType;\n\n\t}\n\n\treturn result;\n\n}\n\n/**\n * @param {BufferAttribute} attribute\n * @return {BufferAttribute}\n */\nexport function deepCloneAttribute( attribute ) {\n\n\tif ( attribute.isInstancedInterleavedBufferAttribute || attribute.isInterleavedBufferAttribute ) {\n\n\t\treturn deinterleaveAttribute( attribute );\n\n\t}\n\n\tif ( attribute.isInstancedBufferAttribute ) {\n\n\t\treturn new InstancedBufferAttribute().copy( attribute );\n\n\t}\n\n\treturn new BufferAttribute().copy( attribute );\n\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {Array<InterleavedBufferAttribute>}\n */\nfunction interleaveAttributes( attributes ) {\n\n\t// Interleaves the provided attributes into an InterleavedBuffer and returns\n\t// a set of InterleavedBufferAttributes for each attribute\n\tlet TypedArray;\n\tlet arrayLength = 0;\n\tlet stride = 0;\n\n\t// calculate the length and type of the interleavedBuffer\n\tfor ( let i = 0, l = attributes.length; i < l; ++ i ) {\n\n\t\tconst attribute = attributes[ i ];\n\n\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\n\t\tif ( TypedArray !== attribute.array.constructor ) {\n\n\t\t\tconsole.error( 'AttributeBuffers of different types cannot be interleaved' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tarrayLength += attribute.array.length;\n\t\tstride += attribute.itemSize;\n\n\t}\n\n\t// Create the set of buffer attributes\n\tconst interleavedBuffer = new InterleavedBuffer( new TypedArray( arrayLength ), stride );\n\tlet offset = 0;\n\tconst res = [];\n\tconst getters = [ 'getX', 'getY', 'getZ', 'getW' ];\n\tconst setters = [ 'setX', 'setY', 'setZ', 'setW' ];\n\n\tfor ( let j = 0, l = attributes.length; j < l; j ++ ) {\n\n\t\tconst attribute = attributes[ j ];\n\t\tconst itemSize = attribute.itemSize;\n\t\tconst count = attribute.count;\n\t\tconst iba = new InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, attribute.normalized );\n\t\tres.push( iba );\n\n\t\toffset += itemSize;\n\n\t\t// Move the data for each attribute into the new interleavedBuffer\n\t\t// at the appropriate offset\n\t\tfor ( let c = 0; c < count; c ++ ) {\n\n\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\tiba[ setters[ k ] ]( c, attribute[ getters[ k ] ]( c ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn res;\n\n}\n\n// returns a new, non-interleaved version of the provided attribute\nexport function deinterleaveAttribute( attribute ) {\n\n\tconst cons = attribute.data.array.constructor;\n\tconst count = attribute.count;\n\tconst itemSize = attribute.itemSize;\n\tconst normalized = attribute.normalized;\n\n\tconst array = new cons( count * itemSize );\n\tlet newAttribute;\n\tif ( attribute.isInstancedInterleavedBufferAttribute ) {\n\n\t\tnewAttribute = new InstancedBufferAttribute( array, itemSize, normalized, attribute.meshPerAttribute );\n\n\t} else {\n\n\t\tnewAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t}\n\n\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\tnewAttribute.setX( i, attribute.getX( i ) );\n\n\t\tif ( itemSize >= 2 ) {\n\n\t\t\tnewAttribute.setY( i, attribute.getY( i ) );\n\n\t\t}\n\n\t\tif ( itemSize >= 3 ) {\n\n\t\t\tnewAttribute.setZ( i, attribute.getZ( i ) );\n\n\t\t}\n\n\t\tif ( itemSize >= 4 ) {\n\n\t\t\tnewAttribute.setW( i, attribute.getW( i ) );\n\n\t\t}\n\n\t}\n\n\treturn newAttribute;\n\n}\n\n// deinterleaves all attributes on the geometry\nexport function deinterleaveGeometry( geometry ) {\n\n\tconst attributes = geometry.attributes;\n\tconst morphTargets = geometry.morphTargets;\n\tconst attrMap = new Map();\n\n\tfor ( const key in attributes ) {\n\n\t\tconst attr = attributes[ key ];\n\t\tif ( attr.isInterleavedBufferAttribute ) {\n\n\t\t\tif ( ! attrMap.has( attr ) ) {\n\n\t\t\t\tattrMap.set( attr, deinterleaveAttribute( attr ) );\n\n\t\t\t}\n\n\t\t\tattributes[ key ] = attrMap.get( attr );\n\n\t\t}\n\n\t}\n\n\tfor ( const key in morphTargets ) {\n\n\t\tconst attr = morphTargets[ key ];\n\t\tif ( attr.isInterleavedBufferAttribute ) {\n\n\t\t\tif ( ! attrMap.has( attr ) ) {\n\n\t\t\t\tattrMap.set( attr, deinterleaveAttribute( attr ) );\n\n\t\t\t}\n\n\t\t\tmorphTargets[ key ] = attrMap.get( attr );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @return {number}\n */\nfunction estimateBytesUsed( geometry ) {\n\n\t// Return the estimated memory used by this geometry in bytes\n\t// Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\n\t// for InterleavedBufferAttributes.\n\tlet mem = 0;\n\tfor ( const name in geometry.attributes ) {\n\n\t\tconst attr = geometry.getAttribute( name );\n\t\tmem += attr.count * attr.itemSize * attr.array.BYTES_PER_ELEMENT;\n\n\t}\n\n\tconst indices = geometry.getIndex();\n\tmem += indices ? indices.count * indices.itemSize * indices.array.BYTES_PER_ELEMENT : 0;\n\treturn mem;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} tolerance\n * @return {BufferGeometry}\n */\nfunction mergeVertices( geometry, tolerance = 1e-4 ) {\n\n\ttolerance = Math.max( tolerance, Number.EPSILON );\n\n\t// Generate an index buffer if the geometry doesn't have one, or optimize it\n\t// if it's already available.\n\tconst hashToIndex = {};\n\tconst indices = geometry.getIndex();\n\tconst positions = geometry.getAttribute( 'position' );\n\tconst vertexCount = indices ? indices.count : positions.count;\n\n\t// next value for triangle indices\n\tlet nextIndex = 0;\n\n\t// attributes and new attribute arrays\n\tconst attributeNames = Object.keys( geometry.attributes );\n\tconst tmpAttributes = {};\n\tconst tmpMorphAttributes = {};\n\tconst newIndices = [];\n\tconst getters = [ 'getX', 'getY', 'getZ', 'getW' ];\n\tconst setters = [ 'setX', 'setY', 'setZ', 'setW' ];\n\n\t// Initialize the arrays, allocating space conservatively. Extra\n\t// space will be trimmed in the last step.\n\tfor ( let i = 0, l = attributeNames.length; i < l; i ++ ) {\n\n\t\tconst name = attributeNames[ i ];\n\t\tconst attr = geometry.attributes[ name ];\n\n\t\ttmpAttributes[ name ] = new attr.constructor(\n\t\t\tnew attr.array.constructor( attr.count * attr.itemSize ),\n\t\t\tattr.itemSize,\n\t\t\tattr.normalized\n\t\t);\n\n\t\tconst morphAttributes = geometry.morphAttributes[ name ];\n\t\tif ( morphAttributes ) {\n\n\t\t\tif ( ! tmpMorphAttributes[ name ] ) tmpMorphAttributes[ name ] = [];\n\t\t\tmorphAttributes.forEach( ( morphAttr, i ) => {\n\n\t\t\t\tconst array = new morphAttr.array.constructor( morphAttr.count * morphAttr.itemSize );\n\t\t\t\ttmpMorphAttributes[ name ][ i ] = new morphAttr.constructor( array, morphAttr.itemSize, morphAttr.normalized );\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t// convert the error tolerance to an amount of decimal places to truncate to\n\tconst halfTolerance = tolerance * 0.5;\n\tconst exponent = Math.log10( 1 / tolerance );\n\tconst hashMultiplier = Math.pow( 10, exponent );\n\tconst hashAdditive = halfTolerance * hashMultiplier;\n\tfor ( let i = 0; i < vertexCount; i ++ ) {\n\n\t\tconst index = indices ? indices.getX( i ) : i;\n\n\t\t// Generate a hash for the vertex attributes at the current index 'i'\n\t\tlet hash = '';\n\t\tfor ( let j = 0, l = attributeNames.length; j < l; j ++ ) {\n\n\t\t\tconst name = attributeNames[ j ];\n\t\t\tconst attribute = geometry.getAttribute( name );\n\t\t\tconst itemSize = attribute.itemSize;\n\n\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\t// double tilde truncates the decimal value\n\t\t\t\thash += `${ ~ ~ ( attribute[ getters[ k ] ]( index ) * hashMultiplier + hashAdditive ) },`;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add another reference to the vertex if it's already\n\t\t// used by another index\n\t\tif ( hash in hashToIndex ) {\n\n\t\t\tnewIndices.push( hashToIndex[ hash ] );\n\n\t\t} else {\n\n\t\t\t// copy data to the new index in the temporary attributes\n\t\t\tfor ( let j = 0, l = attributeNames.length; j < l; j ++ ) {\n\n\t\t\t\tconst name = attributeNames[ j ];\n\t\t\t\tconst attribute = geometry.getAttribute( name );\n\t\t\t\tconst morphAttributes = geometry.morphAttributes[ name ];\n\t\t\t\tconst itemSize = attribute.itemSize;\n\t\t\t\tconst newArray = tmpAttributes[ name ];\n\t\t\t\tconst newMorphArrays = tmpMorphAttributes[ name ];\n\n\t\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\t\tconst getterFunc = getters[ k ];\n\t\t\t\t\tconst setterFunc = setters[ k ];\n\t\t\t\t\tnewArray[ setterFunc ]( nextIndex, attribute[ getterFunc ]( index ) );\n\n\t\t\t\t\tif ( morphAttributes ) {\n\n\t\t\t\t\t\tfor ( let m = 0, ml = morphAttributes.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\t\tnewMorphArrays[ m ][ setterFunc ]( nextIndex, morphAttributes[ m ][ getterFunc ]( index ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\thashToIndex[ hash ] = nextIndex;\n\t\t\tnewIndices.push( nextIndex );\n\t\t\tnextIndex ++;\n\n\t\t}\n\n\t}\n\n\t// generate result BufferGeometry\n\tconst result = geometry.clone();\n\tfor ( const name in geometry.attributes ) {\n\n\t\tconst tmpAttribute = tmpAttributes[ name ];\n\n\t\tresult.setAttribute( name, new tmpAttribute.constructor(\n\t\t\ttmpAttribute.array.slice( 0, nextIndex * tmpAttribute.itemSize ),\n\t\t\ttmpAttribute.itemSize,\n\t\t\ttmpAttribute.normalized,\n\t\t) );\n\n\t\tif ( ! ( name in tmpMorphAttributes ) ) continue;\n\n\t\tfor ( let j = 0; j < tmpMorphAttributes[ name ].length; j ++ ) {\n\n\t\t\tconst tmpMorphAttribute = tmpMorphAttributes[ name ][ j ];\n\n\t\t\tresult.morphAttributes[ name ][ j ] = new tmpMorphAttribute.constructor(\n\t\t\t\ttmpMorphAttribute.array.slice( 0, nextIndex * tmpMorphAttribute.itemSize ),\n\t\t\t\ttmpMorphAttribute.itemSize,\n\t\t\t\ttmpMorphAttribute.normalized,\n\t\t\t);\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tresult.setIndex( newIndices );\n\n\treturn result;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} drawMode\n * @return {BufferGeometry}\n */\nfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\tif ( drawMode === TrianglesDrawMode ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.' );\n\t\treturn geometry;\n\n\t}\n\n\tif ( drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode ) {\n\n\t\tlet index = geometry.getIndex();\n\n\t\t// generate index if not present\n\n\t\tif ( index === null ) {\n\n\t\t\tconst indices = [];\n\n\t\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t\tif ( position !== undefined ) {\n\n\t\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\t\tindices.push( i );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setIndex( indices );\n\t\t\t\tindex = geometry.getIndex();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\t\treturn geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst numberOfTriangles = index.count - 2;\n\t\tconst newIndices = [];\n\n\t\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t\t// gl.TRIANGLE_FAN\n\n\t\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// gl.TRIANGLE_STRIP\n\n\t\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t\t}\n\n\t\t// build final geometry\n\n\t\tconst newGeometry = geometry.clone();\n\t\tnewGeometry.setIndex( newIndices );\n\t\tnewGeometry.clearGroups();\n\n\t\treturn newGeometry;\n\n\t} else {\n\n\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode );\n\t\treturn geometry;\n\n\t}\n\n}\n\n/**\n * Calculates the morphed attributes of a morphed/skinned BufferGeometry.\n * Helpful for Raytracing or Decals.\n * @param {Mesh | Line | Points} object An instance of Mesh, Line or Points.\n * @return {Object} An Object with original position/normal attributes and morphed ones.\n */\nfunction computeMorphedAttributes( object ) {\n\n\tconst _vA = new Vector3();\n\tconst _vB = new Vector3();\n\tconst _vC = new Vector3();\n\n\tconst _tempA = new Vector3();\n\tconst _tempB = new Vector3();\n\tconst _tempC = new Vector3();\n\n\tconst _morphA = new Vector3();\n\tconst _morphB = new Vector3();\n\tconst _morphC = new Vector3();\n\n\tfunction _calculateMorphedAttributeData(\n\t\tobject,\n\t\tattribute,\n\t\tmorphAttribute,\n\t\tmorphTargetsRelative,\n\t\ta,\n\t\tb,\n\t\tc,\n\t\tmodifiedAttributeArray\n\t) {\n\n\t\t_vA.fromBufferAttribute( attribute, a );\n\t\t_vB.fromBufferAttribute( attribute, b );\n\t\t_vC.fromBufferAttribute( attribute, c );\n\n\t\tconst morphInfluences = object.morphTargetInfluences;\n\n\t\tif ( morphAttribute && morphInfluences ) {\n\n\t\t\t_morphA.set( 0, 0, 0 );\n\t\t\t_morphB.set( 0, 0, 0 );\n\t\t\t_morphC.set( 0, 0, 0 );\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst influence = morphInfluences[ i ];\n\t\t\t\tconst morph = morphAttribute[ i ];\n\n\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t_tempA.fromBufferAttribute( morph, a );\n\t\t\t\t_tempB.fromBufferAttribute( morph, b );\n\t\t\t\t_tempC.fromBufferAttribute( morph, c );\n\n\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_vA.add( _morphA );\n\t\t\t_vB.add( _morphB );\n\t\t\t_vC.add( _morphC );\n\n\t\t}\n\n\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\tobject.applyBoneTransform( a, _vA );\n\t\t\tobject.applyBoneTransform( b, _vB );\n\t\t\tobject.applyBoneTransform( c, _vC );\n\n\t\t}\n\n\t\tmodifiedAttributeArray[ a * 3 + 0 ] = _vA.x;\n\t\tmodifiedAttributeArray[ a * 3 + 1 ] = _vA.y;\n\t\tmodifiedAttributeArray[ a * 3 + 2 ] = _vA.z;\n\t\tmodifiedAttributeArray[ b * 3 + 0 ] = _vB.x;\n\t\tmodifiedAttributeArray[ b * 3 + 1 ] = _vB.y;\n\t\tmodifiedAttributeArray[ b * 3 + 2 ] = _vB.z;\n\t\tmodifiedAttributeArray[ c * 3 + 0 ] = _vC.x;\n\t\tmodifiedAttributeArray[ c * 3 + 1 ] = _vC.y;\n\t\tmodifiedAttributeArray[ c * 3 + 2 ] = _vC.z;\n\n\t}\n\n\tconst geometry = object.geometry;\n\tconst material = object.material;\n\n\tlet a, b, c;\n\tconst index = geometry.index;\n\tconst positionAttribute = geometry.attributes.position;\n\tconst morphPosition = geometry.morphAttributes.position;\n\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\tconst normalAttribute = geometry.attributes.normal;\n\tconst morphNormal = geometry.morphAttributes.position;\n\n\tconst groups = geometry.groups;\n\tconst drawRange = geometry.drawRange;\n\tlet i, j, il, jl;\n\tlet group;\n\tlet start, end;\n\n\tconst modifiedPosition = new Float32Array( positionAttribute.count * positionAttribute.itemSize );\n\tconst modifiedNormal = new Float32Array( normalAttribute.count * normalAttribute.itemSize );\n\n\tif ( index !== null ) {\n\n\t\t// indexed buffer geometry\n\n\t\tif ( Array.isArray( material ) ) {\n\n\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\tgroup = groups[ i ];\n\n\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t);\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\ta = index.getX( i );\n\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tpositionAttribute,\n\t\t\t\t\tmorphPosition,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedPosition\n\t\t\t\t);\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tnormalAttribute,\n\t\t\t\t\tmorphNormal,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedNormal\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t} else {\n\n\t\t// non-indexed buffer geometry\n\n\t\tif ( Array.isArray( material ) ) {\n\n\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\tgroup = groups[ i ];\n\n\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\ta = j;\n\t\t\t\t\tb = j + 1;\n\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t);\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\tend = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\ta = i;\n\t\t\t\tb = i + 1;\n\t\t\t\tc = i + 2;\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tpositionAttribute,\n\t\t\t\t\tmorphPosition,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedPosition\n\t\t\t\t);\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tnormalAttribute,\n\t\t\t\t\tmorphNormal,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedNormal\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tconst morphedPositionAttribute = new Float32BufferAttribute( modifiedPosition, 3 );\n\tconst morphedNormalAttribute = new Float32BufferAttribute( modifiedNormal, 3 );\n\n\treturn {\n\n\t\tpositionAttribute: positionAttribute,\n\t\tnormalAttribute: normalAttribute,\n\t\tmorphedPositionAttribute: morphedPositionAttribute,\n\t\tmorphedNormalAttribute: morphedNormalAttribute\n\n\t};\n\n}\n\nfunction mergeGroups( geometry ) {\n\n\tif ( geometry.groups.length === 0 ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge.' );\n\t\treturn geometry;\n\n\t}\n\n\tlet groups = geometry.groups;\n\n\t// sort groups by material index\n\n\tgroups = groups.sort( ( a, b ) => {\n\n\t\tif ( a.materialIndex !== b.materialIndex ) return a.materialIndex - b.materialIndex;\n\n\t\treturn a.start - b.start;\n\n\t} );\n\n\t// create index for non-indexed geometries\n\n\tif ( geometry.getIndex() === null ) {\n\n\t\tconst positionAttribute = geometry.getAttribute( 'position' );\n\t\tconst indices = [];\n\n\t\tfor ( let i = 0; i < positionAttribute.count; i += 3 ) {\n\n\t\t\tindices.push( i, i + 1, i + 2 );\n\n\t\t}\n\n\t\tgeometry.setIndex( indices );\n\n\t}\n\n\t// sort index\n\n\tconst index = geometry.getIndex();\n\n\tconst newIndices = [];\n\n\tfor ( let i = 0; i < groups.length; i ++ ) {\n\n\t\tconst group = groups[ i ];\n\n\t\tconst groupStart = group.start;\n\t\tconst groupLength = groupStart + group.count;\n\n\t\tfor ( let j = groupStart; j < groupLength; j ++ ) {\n\n\t\t\tnewIndices.push( index.getX( j ) );\n\n\t\t}\n\n\t}\n\n\tgeometry.dispose(); // Required to force buffer recreation\n\tgeometry.setIndex( newIndices );\n\n\t// update groups indices\n\n\tlet start = 0;\n\n\tfor ( let i = 0; i < groups.length; i ++ ) {\n\n\t\tconst group = groups[ i ];\n\n\t\tgroup.start = start;\n\t\tstart += group.count;\n\n\t}\n\n\t// merge groups\n\n\tlet currentGroup = groups[ 0 ];\n\n\tgeometry.groups = [ currentGroup ];\n\n\tfor ( let i = 1; i < groups.length; i ++ ) {\n\n\t\tconst group = groups[ i ];\n\n\t\tif ( currentGroup.materialIndex === group.materialIndex ) {\n\n\t\t\tcurrentGroup.count += group.count;\n\n\t\t} else {\n\n\t\t\tcurrentGroup = group;\n\t\t\tgeometry.groups.push( currentGroup );\n\n\t\t}\n\n\t}\n\n\treturn geometry;\n\n}\n\n\n/**\n * Modifies the supplied geometry if it is non-indexed, otherwise creates a new,\n * non-indexed geometry. Returns the geometry with smooth normals everywhere except\n * faces that meet at an angle greater than the crease angle.\n *\n * @param {BufferGeometry} geometry\n * @param {number} [creaseAngle]\n * @return {BufferGeometry}\n */\nfunction toCreasedNormals( geometry, creaseAngle = Math.PI / 3 /* 60 degrees */ ) {\n\n\tconst creaseDot = Math.cos( creaseAngle );\n\tconst hashMultiplier = ( 1 + 1e-10 ) * 1e2;\n\n\t// reusable vectors\n\tconst verts = [ new Vector3(), new Vector3(), new Vector3() ];\n\tconst tempVec1 = new Vector3();\n\tconst tempVec2 = new Vector3();\n\tconst tempNorm = new Vector3();\n\tconst tempNorm2 = new Vector3();\n\n\t// hashes a vector\n\tfunction hashVertex( v ) {\n\n\t\tconst x = ~ ~ ( v.x * hashMultiplier );\n\t\tconst y = ~ ~ ( v.y * hashMultiplier );\n\t\tconst z = ~ ~ ( v.z * hashMultiplier );\n\t\treturn `${x},${y},${z}`;\n\n\t}\n\n\t// BufferGeometry.toNonIndexed() warns if the geometry is non-indexed\n\t// and returns the original geometry\n\tconst resultGeometry = geometry.index ? geometry.toNonIndexed() : geometry;\n\tconst posAttr = resultGeometry.attributes.position;\n\tconst vertexMap = {};\n\n\t// find all the normals shared by commonly located vertices\n\tfor ( let i = 0, l = posAttr.count / 3; i < l; i ++ ) {\n\n\t\tconst i3 = 3 * i;\n\t\tconst a = verts[ 0 ].fromBufferAttribute( posAttr, i3 + 0 );\n\t\tconst b = verts[ 1 ].fromBufferAttribute( posAttr, i3 + 1 );\n\t\tconst c = verts[ 2 ].fromBufferAttribute( posAttr, i3 + 2 );\n\n\t\ttempVec1.subVectors( c, b );\n\t\ttempVec2.subVectors( a, b );\n\n\t\t// add the normal to the map for all vertices\n\t\tconst normal = new Vector3().crossVectors( tempVec1, tempVec2 ).normalize();\n\t\tfor ( let n = 0; n < 3; n ++ ) {\n\n\t\t\tconst vert = verts[ n ];\n\t\t\tconst hash = hashVertex( vert );\n\t\t\tif ( ! ( hash in vertexMap ) ) {\n\n\t\t\t\tvertexMap[ hash ] = [];\n\n\t\t\t}\n\n\t\t\tvertexMap[ hash ].push( normal );\n\n\t\t}\n\n\t}\n\n\t// average normals from all vertices that share a common location if they are within the\n\t// provided crease threshold\n\tconst normalArray = new Float32Array( posAttr.count * 3 );\n\tconst normAttr = new BufferAttribute( normalArray, 3, false );\n\tfor ( let i = 0, l = posAttr.count / 3; i < l; i ++ ) {\n\n\t\t// get the face normal for this vertex\n\t\tconst i3 = 3 * i;\n\t\tconst a = verts[ 0 ].fromBufferAttribute( posAttr, i3 + 0 );\n\t\tconst b = verts[ 1 ].fromBufferAttribute( posAttr, i3 + 1 );\n\t\tconst c = verts[ 2 ].fromBufferAttribute( posAttr, i3 + 2 );\n\n\t\ttempVec1.subVectors( c, b );\n\t\ttempVec2.subVectors( a, b );\n\n\t\ttempNorm.crossVectors( tempVec1, tempVec2 ).normalize();\n\n\t\t// average all normals that meet the threshold and set the normal value\n\t\tfor ( let n = 0; n < 3; n ++ ) {\n\n\t\t\tconst vert = verts[ n ];\n\t\t\tconst hash = hashVertex( vert );\n\t\t\tconst otherNormals = vertexMap[ hash ];\n\t\t\ttempNorm2.set( 0, 0, 0 );\n\n\t\t\tfor ( let k = 0, lk = otherNormals.length; k < lk; k ++ ) {\n\n\t\t\t\tconst otherNorm = otherNormals[ k ];\n\t\t\t\tif ( tempNorm.dot( otherNorm ) > creaseDot ) {\n\n\t\t\t\t\ttempNorm2.add( otherNorm );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttempNorm2.normalize();\n\t\t\tnormAttr.setXYZ( i3 + n, tempNorm2.x, tempNorm2.y, tempNorm2.z );\n\n\t\t}\n\n\t}\n\n\tresultGeometry.setAttribute( 'normal', normAttr );\n\treturn resultGeometry;\n\n}\n\nexport {\n\tcomputeMikkTSpaceTangents,\n\tmergeGeometries,\n\tmergeAttributes,\n\tinterleaveAttributes,\n\testimateBytesUsed,\n\tmergeVertices,\n\ttoTrianglesDrawMode,\n\tcomputeMorphedAttributes,\n\tmergeGroups,\n\ttoCreasedNormals\n};\n","import {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tColorManagement,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tImageBitmapLoader,\n\tInstancedMesh,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLinearSRGBColorSpace,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshPhysicalMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternion,\n\tQuaternionKeyframeTrack,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTexture,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tSRGBColorSpace,\n\tInstancedBufferAttribute\n} from 'three';\nimport { toTrianglesDrawMode } from '../utils/BufferGeometryUtils.js';\n\nclass GLTFLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ktx2Loader = null;\n\t\tthis.meshoptDecoder = null;\n\n\t\tthis.pluginCallbacks = [];\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsDispersionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureWebPExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureAVIFExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSheenExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsVolumeExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsIorExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsEmissiveStrengthExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsSpecularExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsIridescenceExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsAnisotropyExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsBumpExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFLightsExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshoptCompression( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshGpuInstancing( parser );\n\n\t\t} );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet resourcePath;\n\n\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\tresourcePath = this.resourcePath;\n\n\t\t} else if ( this.path !== '' ) {\n\n\t\t\t// If a base path is set, resources will be relative paths from that plus the relative path of the gltf file\n\t\t\t// Example  path = 'https://my-cnd-server.com/', url = 'assets/models/model.gltf'\n\t\t\t// resourcePath = 'https://my-cnd-server.com/assets/models/'\n\t\t\t// referenced resource 'model.bin' will be loaded from 'https://my-cnd-server.com/assets/models/model.bin'\n\t\t\t// referenced resource '../textures/texture.png' will be loaded from 'https://my-cnd-server.com/assets/textures/texture.png'\n\t\t\tconst relativeUrl = LoaderUtils.extractUrlBase( url );\n\t\t\tresourcePath = LoaderUtils.resolveURL( relativeUrl, this.path );\n\n\t\t} else {\n\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t}\n\n\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\tthis.manager.itemStart( url );\n\n\t\tconst _onError = function ( e ) {\n\n\t\t\tif ( onError ) {\n\n\t\t\t\tonError( e );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( e );\n\n\t\t\t}\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t};\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( data ) {\n\n\t\t\ttry {\n\n\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, _onError );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\t_onError( e );\n\n\t\t\t}\n\n\t\t}, onProgress, _onError );\n\n\t}\n\n\tsetDRACOLoader( dracoLoader ) {\n\n\t\tthis.dracoLoader = dracoLoader;\n\t\treturn this;\n\n\t}\n\n\tsetKTX2Loader( ktx2Loader ) {\n\n\t\tthis.ktx2Loader = ktx2Loader;\n\t\treturn this;\n\n\t}\n\n\tsetMeshoptDecoder( meshoptDecoder ) {\n\n\t\tthis.meshoptDecoder = meshoptDecoder;\n\t\treturn this;\n\n\t}\n\n\tregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tparse( data, path, onLoad, onError ) {\n\n\t\tlet json;\n\t\tconst extensions = {};\n\t\tconst plugins = {};\n\t\tconst textDecoder = new TextDecoder();\n\n\t\tif ( typeof data === 'string' ) {\n\n\t\t\tjson = JSON.parse( data );\n\n\t\t} else if ( data instanceof ArrayBuffer ) {\n\n\t\t\tconst magic = textDecoder.decode( new Uint8Array( data, 0, 4 ) );\n\n\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tjson = JSON.parse( extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content );\n\n\t\t\t} else {\n\n\t\t\t\tjson = JSON.parse( textDecoder.decode( data ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tjson = data;\n\n\t\t}\n\n\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst parser = new GLTFParser( json, {\n\n\t\t\tpath: path || this.resourcePath || '',\n\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\trequestHeader: this.requestHeader,\n\t\t\tmanager: this.manager,\n\t\t\tktx2Loader: this.ktx2Loader,\n\t\t\tmeshoptDecoder: this.meshoptDecoder\n\n\t\t} );\n\n\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\tfor ( let i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\tconst plugin = this.pluginCallbacks[ i ]( parser );\n\n\t\t\tif ( ! plugin.name ) console.error( 'THREE.GLTFLoader: Invalid plugin found: missing name' );\n\n\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t// Remove this workaround if we move all the existing\n\t\t\t// extension handlers to plugin system\n\t\t\textensions[ plugin.name ] = true;\n\n\t\t}\n\n\t\tif ( json.extensionsUsed ) {\n\n\t\t\tfor ( let i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\tconst extensionName = json.extensionsUsed[ i ];\n\t\t\t\tconst extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tparser.setExtensions( extensions );\n\t\tparser.setPlugins( plugins );\n\t\tparser.parse( onLoad, onError );\n\n\t}\n\n\tparseAsync( data, path ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.parse( data, path, resolve, reject );\n\n\t\t} );\n\n\t}\n\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n\n\tlet objects = {};\n\n\treturn\t{\n\n\t\tget: function ( key ) {\n\n\t\t\treturn objects[ key ];\n\n\t\t},\n\n\t\tadd: function ( key, object ) {\n\n\t\t\tobjects[ key ] = object;\n\n\t\t},\n\n\t\tremove: function ( key ) {\n\n\t\t\tdelete objects[ key ];\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\tobjects = {};\n\n\t\t}\n\n\t};\n\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\tKHR_MATERIALS_DISPERSION: 'KHR_materials_dispersion',\n\tKHR_MATERIALS_IOR: 'KHR_materials_ior',\n\tKHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n\tKHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n\tKHR_MATERIALS_IRIDESCENCE: 'KHR_materials_iridescence',\n\tKHR_MATERIALS_ANISOTROPY: 'KHR_materials_anisotropy',\n\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\tKHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\tKHR_MATERIALS_EMISSIVE_STRENGTH: 'KHR_materials_emissive_strength',\n\tEXT_MATERIALS_BUMP: 'EXT_materials_bump',\n\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\n\tEXT_TEXTURE_AVIF: 'EXT_texture_avif',\n\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',\n\tEXT_MESH_GPU_INSTANCING: 'EXT_mesh_gpu_instancing'\n};\n\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\nclass GLTFLightsExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\t// Object3D instance caches\n\t\tthis.cache = { refs: {}, uses: {} };\n\n\t}\n\n\t_markDefs() {\n\n\t\tconst parser = this.parser;\n\t\tconst nodeDefs = this.parser.json.nodes || [];\n\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t\t&& nodeDef.extensions[ this.name ]\n\t\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\n\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_loadLight( lightIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst cacheKey = 'light:' + lightIndex;\n\t\tlet dependency = parser.cache.get( cacheKey );\n\n\t\tif ( dependency ) return dependency;\n\n\t\tconst json = parser.json;\n\t\tconst extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\n\t\tconst lightDefs = extensions.lights || [];\n\t\tconst lightDef = lightDefs[ lightIndex ];\n\t\tlet lightNode;\n\n\t\tconst color = new Color( 0xffffff );\n\n\t\tif ( lightDef.color !== undefined ) color.setRGB( lightDef.color[ 0 ], lightDef.color[ 1 ], lightDef.color[ 2 ], LinearSRGBColorSpace );\n\n\t\tconst range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type: ' + lightDef.type );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tassignExtrasToUserData( lightNode, lightDef );\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\n\n\t\tdependency = Promise.resolve( lightNode );\n\n\t\tparser.cache.add( cacheKey, dependency );\n\n\t\treturn dependency;\n\n\t}\n\n\tgetDependency( type, index ) {\n\n\t\tif ( type !== 'light' ) return;\n\n\t\treturn this._loadLight( index );\n\n\t}\n\n\tcreateNodeAttachment( nodeIndex ) {\n\n\t\tconst self = this;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\t\tconst lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\n\t\tconst lightIndex = lightDef.light;\n\n\t\tif ( lightIndex === undefined ) return null;\n\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\n\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\nclass GLTFMaterialsUnlitExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn MeshBasicMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.setRGB( array[ 0 ], array[ 1 ], array[ 2 ], LinearSRGBColorSpace );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture, SRGBColorSpace ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials Emissive Strength Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/blob/5768b3ce0ef32bc39cdf1bef10b948586635ead3/extensions/2.0/Khronos/KHR_materials_emissive_strength/README.md\n */\nclass GLTFMaterialsEmissiveStrengthExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst emissiveStrength = materialDef.extensions[ this.name ].emissiveStrength;\n\n\t\tif ( emissiveStrength !== undefined ) {\n\n\t\t\tmaterialParams.emissiveIntensity = emissiveStrength;\n\n\t\t}\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\nclass GLTFMaterialsClearcoatExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials dispersion Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_dispersion\n */\nclass GLTFMaterialsDispersionExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_DISPERSION;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.dispersion = extension.dispersion !== undefined ? extension.dispersion : 0;\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Iridescence Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_iridescence\n */\nclass GLTFMaterialsIridescenceExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IRIDESCENCE;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.iridescenceFactor !== undefined ) {\n\n\t\t\tmaterialParams.iridescence = extension.iridescenceFactor;\n\n\t\t}\n\n\t\tif ( extension.iridescenceTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'iridescenceMap', extension.iridescenceTexture ) );\n\n\t\t}\n\n\t\tif ( extension.iridescenceIor !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceIOR = extension.iridescenceIor;\n\n\t\t}\n\n\t\tif ( materialParams.iridescenceThicknessRange === undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange = [ 100, 400 ];\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessMinimum !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange[ 0 ] = extension.iridescenceThicknessMinimum;\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessMaximum !== undefined ) {\n\n\t\t\tmaterialParams.iridescenceThicknessRange[ 1 ] = extension.iridescenceThicknessMaximum;\n\n\t\t}\n\n\t\tif ( extension.iridescenceThicknessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'iridescenceThicknessMap', extension.iridescenceThicknessTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\nclass GLTFMaterialsSheenExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SHEEN;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.sheenColor = new Color( 0, 0, 0 );\n\t\tmaterialParams.sheenRoughness = 0;\n\t\tmaterialParams.sheen = 1;\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.sheenColorFactor !== undefined ) {\n\n\t\t\tconst colorFactor = extension.sheenColorFactor;\n\t\t\tmaterialParams.sheenColor.setRGB( colorFactor[ 0 ], colorFactor[ 1 ], colorFactor[ 2 ], LinearSRGBColorSpace );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.sheenRoughness = extension.sheenRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.sheenColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenColorMap', extension.sheenColorTexture, SRGBColorSpace ) );\n\n\t\t}\n\n\t\tif ( extension.sheenRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\nclass GLTFMaterialsTransmissionExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.transmissionFactor !== undefined ) {\n\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\n\n\t\t}\n\n\t\tif ( extension.transmissionTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\nclass GLTFMaterialsVolumeExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n\t\tif ( extension.thicknessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'thicknessMap', extension.thicknessTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.attenuationDistance = extension.attenuationDistance || Infinity;\n\n\t\tconst colorArray = extension.attenuationColor || [ 1, 1, 1 ];\n\t\tmaterialParams.attenuationColor = new Color().setRGB( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ], LinearSRGBColorSpace );\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\nclass GLTFMaterialsIorExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_IOR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n\n\t\treturn Promise.resolve();\n\n\t}\n\n}\n\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\nclass GLTFMaterialsSpecularExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n\t\tif ( extension.specularTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularIntensityMap', extension.specularTexture ) );\n\n\t\t}\n\n\t\tconst colorArray = extension.specularColorFactor || [ 1, 1, 1 ];\n\t\tmaterialParams.specularColor = new Color().setRGB( colorArray[ 0 ], colorArray[ 1 ], colorArray[ 2 ], LinearSRGBColorSpace );\n\n\t\tif ( extension.specularColorTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularColorMap', extension.specularColorTexture, SRGBColorSpace ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n\n/**\n * Materials bump Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/EXT_materials_bump\n */\nclass GLTFMaterialsBumpExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_MATERIALS_BUMP;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.bumpScale = extension.bumpFactor !== undefined ? extension.bumpFactor : 1.0;\n\n\t\tif ( extension.bumpTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'bumpMap', extension.bumpTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Materials anisotropy Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_anisotropy\n */\nclass GLTFMaterialsAnisotropyExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_ANISOTROPY;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.anisotropyStrength !== undefined ) {\n\n\t\t\tmaterialParams.anisotropy = extension.anisotropyStrength;\n\n\t\t}\n\n\t\tif ( extension.anisotropyRotation !== undefined ) {\n\n\t\t\tmaterialParams.anisotropyRotation = extension.anisotropyRotation;\n\n\t\t}\n\n\t\tif ( extension.anisotropyTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'anisotropyMap', extension.anisotropyTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\nclass GLTFTextureBasisUExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ this.name ];\n\t\tconst loader = parser.options.ktx2Loader;\n\n\t\tif ( ! loader ) {\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\n\n\t\t\t} else {\n\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t}\n\n}\n\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\nclass GLTFTextureWebPExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst name = this.name;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ name ];\n\t\tconst source = json.images[ extension.source ];\n\n\t\tlet loader = parser.textureLoader;\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = parser.options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t}\n\n\tdetectSupport() {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tconst image = new Image();\n\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\n\t\t\t\t// WebP images, unfortunately.\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t}\n\n}\n\n/**\n * AVIF Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_avif\n */\nclass GLTFTextureAVIFExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_AVIF;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst name = this.name;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ name ];\n\t\tconst source = json.images[ extension.source ];\n\n\t\tlet loader = parser.textureLoader;\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = parser.options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, extension.source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: AVIF required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t}\n\n\tdetectSupport() {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tconst image = new Image();\n\n\t\t\t\t// Lossy test image.\n\t\t\t\timage.src = 'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=';\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t}\n\n}\n\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\nclass GLTFMeshoptCompression {\n\n\tconstructor( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n\t\tthis.parser = parser;\n\n\t}\n\n\tloadBufferView( index ) {\n\n\t\tconst json = this.parser.json;\n\t\tconst bufferView = json.bufferViews[ index ];\n\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\n\n\t\t\tconst extensionDef = bufferView.extensions[ this.name ];\n\n\t\t\tconst buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\n\t\t\tconst decoder = this.parser.options.meshoptDecoder;\n\n\t\t\tif ( ! decoder || ! decoder.supported ) {\n\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn buffer.then( function ( res ) {\n\n\t\t\t\tconst byteOffset = extensionDef.byteOffset || 0;\n\t\t\t\tconst byteLength = extensionDef.byteLength || 0;\n\n\t\t\t\tconst count = extensionDef.count;\n\t\t\t\tconst stride = extensionDef.byteStride;\n\n\t\t\t\tconst source = new Uint8Array( res, byteOffset, byteLength );\n\n\t\t\t\tif ( decoder.decodeGltfBufferAsync ) {\n\n\t\t\t\t\treturn decoder.decodeGltfBufferAsync( count, stride, source, extensionDef.mode, extensionDef.filter ).then( function ( res ) {\n\n\t\t\t\t\t\treturn res.buffer;\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Support for MeshoptDecoder 0.18 or earlier, without decodeGltfBufferAsync\n\t\t\t\t\treturn decoder.ready.then( function () {\n\n\t\t\t\t\t\tconst result = new ArrayBuffer( count * stride );\n\t\t\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\n\t\t\t\t\t\treturn result;\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * GPU Instancing Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_mesh_gpu_instancing\n *\n */\nclass GLTFMeshGpuInstancing {\n\n\tconstructor( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESH_GPU_INSTANCING;\n\t\tthis.parser = parser;\n\n\t}\n\n\tcreateNodeMesh( nodeIndex ) {\n\n\t\tconst json = this.parser.json;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tif ( ! nodeDef.extensions || ! nodeDef.extensions[ this.name ] ||\n\t\t\tnodeDef.mesh === undefined ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst meshDef = json.meshes[ nodeDef.mesh ];\n\n\t\t// No Points or Lines + Instancing support yet\n\n\t\tfor ( const primitive of meshDef.primitives ) {\n\n\t\t\tif ( primitive.mode !== WEBGL_CONSTANTS.TRIANGLES &&\n\t\t\t\t primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_STRIP &&\n\t\t\t\t primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_FAN &&\n\t\t\t\t primitive.mode !== undefined ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst extensionDef = nodeDef.extensions[ this.name ];\n\t\tconst attributesDef = extensionDef.attributes;\n\n\t\t// @TODO: Can we support InstancedMesh + SkinnedMesh?\n\n\t\tconst pending = [];\n\t\tconst attributes = {};\n\n\t\tfor ( const key in attributesDef ) {\n\n\t\t\tpending.push( this.parser.getDependency( 'accessor', attributesDef[ key ] ).then( accessor => {\n\n\t\t\t\tattributes[ key ] = accessor;\n\t\t\t\treturn attributes[ key ];\n\n\t\t\t} ) );\n\n\t\t}\n\n\t\tif ( pending.length < 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tpending.push( this.parser.createNodeMesh( nodeIndex ) );\n\n\t\treturn Promise.all( pending ).then( results => {\n\n\t\t\tconst nodeObject = results.pop();\n\t\t\tconst meshes = nodeObject.isGroup ? nodeObject.children : [ nodeObject ];\n\t\t\tconst count = results[ 0 ].count; // All attribute counts should be same\n\t\t\tconst instancedMeshes = [];\n\n\t\t\tfor ( const mesh of meshes ) {\n\n\t\t\t\t// Temporal variables\n\t\t\t\tconst m = new Matrix4();\n\t\t\t\tconst p = new Vector3();\n\t\t\t\tconst q = new Quaternion();\n\t\t\t\tconst s = new Vector3( 1, 1, 1 );\n\n\t\t\t\tconst instancedMesh = new InstancedMesh( mesh.geometry, mesh.material, count );\n\n\t\t\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\t\t\tif ( attributes.TRANSLATION ) {\n\n\t\t\t\t\t\tp.fromBufferAttribute( attributes.TRANSLATION, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attributes.ROTATION ) {\n\n\t\t\t\t\t\tq.fromBufferAttribute( attributes.ROTATION, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attributes.SCALE ) {\n\n\t\t\t\t\t\ts.fromBufferAttribute( attributes.SCALE, i );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tinstancedMesh.setMatrixAt( i, m.compose( p, q, s ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Add instance attributes to the geometry, excluding TRS.\n\t\t\t\tfor ( const attributeName in attributes ) {\n\n\t\t\t\t\tif ( attributeName === '_COLOR_0' ) {\n\n\t\t\t\t\t\tconst attr = attributes[ attributeName ];\n\t\t\t\t\t\tinstancedMesh.instanceColor = new InstancedBufferAttribute( attr.array, attr.itemSize, attr.normalized );\n\n\t\t\t\t\t} else if ( attributeName !== 'TRANSLATION' &&\n\t\t\t\t\t\t attributeName !== 'ROTATION' &&\n\t\t\t\t\t\t attributeName !== 'SCALE' ) {\n\n\t\t\t\t\t\tmesh.geometry.setAttribute( attributeName, attributes[ attributeName ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Just in case\n\t\t\t\tObject3D.prototype.copy.call( instancedMesh, mesh );\n\n\t\t\t\tthis.parser.assignFinalMaterial( instancedMesh );\n\n\t\t\t\tinstancedMeshes.push( instancedMesh );\n\n\t\t\t}\n\n\t\t\tif ( nodeObject.isGroup ) {\n\n\t\t\t\tnodeObject.clear();\n\n\t\t\t\tnodeObject.add( ... instancedMeshes );\n\n\t\t\t\treturn nodeObject;\n\n\t\t\t}\n\n\t\t\treturn instancedMeshes[ 0 ];\n\n\t\t} );\n\n\t}\n\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\nclass GLTFBinaryExtension {\n\n\tconstructor( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tconst headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tconst textDecoder = new TextDecoder();\n\n\t\tthis.header = {\n\t\t\tmagic: textDecoder.decode( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tconst chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n\t\tconst chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tlet chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkContentsLength ) {\n\n\t\t\tconst chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tconst chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tconst contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = textDecoder.decode( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tconst byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\nclass GLTFDracoMeshCompressionExtension {\n\n\tconstructor( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tdecodePrimitive( primitive, parser ) {\n\n\t\tconst json = this.json;\n\t\tconst dracoLoader = this.dracoLoader;\n\t\tconst bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tconst gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tconst threeAttributeMap = {};\n\t\tconst attributeNormalizedMap = {};\n\t\tconst attributeTypeMap = {};\n\n\t\tfor ( const attributeName in gltfAttributeMap ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( const attributeName in primitive.attributes ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tconst accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tconst componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType.name;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( const attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tconst attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tconst normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap, LinearSRGBColorSpace, reject );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\nclass GLTFTextureTransformExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\textendTexture( texture, transform ) {\n\n\t\tif ( ( transform.texCoord === undefined || transform.texCoord === texture.channel )\n\t\t\t&& transform.offset === undefined\n\t\t\t&& transform.rotation === undefined\n\t\t\t&& transform.scale === undefined ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21819.\n\t\t\treturn texture;\n\n\t\t}\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\ttexture.channel = transform.texCoord;\n\n\t\t}\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\nclass GLTFMeshQuantizationExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( let i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer;\n\t\tconst values = this.sampleValues;\n\t\tconst stride = this.valueSize;\n\n\t\tconst stride2 = stride * 2;\n\t\tconst stride3 = stride * 3;\n\n\t\tconst td = t1 - t0;\n\n\t\tconst p = ( t - t0 ) / td;\n\t\tconst pp = p * p;\n\t\tconst ppp = pp * p;\n\n\t\tconst offset1 = i1 * stride3;\n\t\tconst offset0 = offset1 - stride3;\n\n\t\tconst s2 = - 2 * ppp + 3 * pp;\n\t\tconst s3 = ppp - pp;\n\t\tconst s0 = 1 - s2;\n\t\tconst s1 = s3 - pp + p;\n\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\t\tfor ( let i = 0; i !== stride; i ++ ) {\n\n\t\t\tconst p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\t\tconst m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\t\tconst p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\t\tconst m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nconst _q = new Quaternion();\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = super.interpolate_( i1, t0, t, t1 );\n\n\t\t_q.fromArray( result ).normalize().toArray( result );\n\n\t\treturn result;\n\n\t}\n\n}\n\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n\tFLOAT: 5126,\n\t//FLOAT_MAT2: 35674,\n\tFLOAT_MAT3: 35675,\n\tFLOAT_MAT4: 35676,\n\tFLOAT_VEC2: 35664,\n\tFLOAT_VEC3: 35665,\n\tFLOAT_VEC4: 35666,\n\tLINEAR: 9729,\n\tREPEAT: 10497,\n\tSAMPLER_2D: 35678,\n\tPOINTS: 0,\n\tLINES: 1,\n\tLINE_LOOP: 2,\n\tLINE_STRIP: 3,\n\tTRIANGLES: 4,\n\tTRIANGLE_STRIP: 5,\n\tTRIANGLE_FAN: 6,\n\tUNSIGNED_BYTE: 5121,\n\tUNSIGNED_SHORT: 5123\n};\n\nconst WEBGL_COMPONENT_TYPES = {\n\t5120: Int8Array,\n\t5121: Uint8Array,\n\t5122: Int16Array,\n\t5123: Uint16Array,\n\t5125: Uint32Array,\n\t5126: Float32Array\n};\n\nconst WEBGL_FILTERS = {\n\t9728: NearestFilter,\n\t9729: LinearFilter,\n\t9984: NearestMipmapNearestFilter,\n\t9985: LinearMipmapNearestFilter,\n\t9986: NearestMipmapLinearFilter,\n\t9987: LinearMipmapLinearFilter\n};\n\nconst WEBGL_WRAPPINGS = {\n\t33071: ClampToEdgeWrapping,\n\t33648: MirroredRepeatWrapping,\n\t10497: RepeatWrapping\n};\n\nconst WEBGL_TYPE_SIZES = {\n\t'SCALAR': 1,\n\t'VEC2': 2,\n\t'VEC3': 3,\n\t'VEC4': 4,\n\t'MAT2': 4,\n\t'MAT3': 9,\n\t'MAT4': 16\n};\n\nconst ATTRIBUTES = {\n\tPOSITION: 'position',\n\tNORMAL: 'normal',\n\tTANGENT: 'tangent',\n\tTEXCOORD_0: 'uv',\n\tTEXCOORD_1: 'uv1',\n\tTEXCOORD_2: 'uv2',\n\tTEXCOORD_3: 'uv3',\n\tCOLOR_0: 'color',\n\tWEIGHTS_0: 'skinWeight',\n\tJOINTS_0: 'skinIndex',\n};\n\nconst PATH_PROPERTIES = {\n\tscale: 'scale',\n\ttranslation: 'position',\n\trotation: 'quaternion',\n\tweights: 'morphTargetInfluences'\n};\n\nconst INTERPOLATION = {\n\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\tLINEAR: InterpolateLinear,\n\tSTEP: InterpolateDiscrete\n};\n\nconst ALPHA_MODES = {\n\tOPAQUE: 'OPAQUE',\n\tMASK: 'MASK',\n\tBLEND: 'BLEND'\n};\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n *\n * @param {Object<String, Material>} cache\n * @return {Material}\n */\nfunction createDefaultMaterial( cache ) {\n\n\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: FrontSide\n\t\t} );\n\n\t}\n\n\treturn cache[ 'DefaultMaterial' ];\n\n}\n\nfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t// Add unknown glTF extensions to an object's userData.\n\n\tfor ( const name in objectDef.extensions ) {\n\n\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\nfunction assignExtrasToUserData( object, gltfDef ) {\n\n\tif ( gltfDef.extras !== undefined ) {\n\n\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addMorphTargets( geometry, targets, parser ) {\n\n\tlet hasMorphPosition = false;\n\tlet hasMorphNormal = false;\n\tlet hasMorphColor = false;\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\t\tif ( target.COLOR_0 !== undefined ) hasMorphColor = true;\n\n\t\tif ( hasMorphPosition && hasMorphNormal && hasMorphColor ) break;\n\n\t}\n\n\tif ( ! hasMorphPosition && ! hasMorphNormal && ! hasMorphColor ) return Promise.resolve( geometry );\n\n\tconst pendingPositionAccessors = [];\n\tconst pendingNormalAccessors = [];\n\tconst pendingColorAccessors = [];\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( hasMorphPosition ) {\n\n\t\t\tconst pendingAccessor = target.POSITION !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t: geometry.attributes.position;\n\n\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphNormal ) {\n\n\t\t\tconst pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t: geometry.attributes.normal;\n\n\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphColor ) {\n\n\t\t\tconst pendingAccessor = target.COLOR_0 !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.COLOR_0 )\n\t\t\t\t: geometry.attributes.color;\n\n\t\t\tpendingColorAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( [\n\t\tPromise.all( pendingPositionAccessors ),\n\t\tPromise.all( pendingNormalAccessors ),\n\t\tPromise.all( pendingColorAccessors )\n\t] ).then( function ( accessors ) {\n\n\t\tconst morphPositions = accessors[ 0 ];\n\t\tconst morphNormals = accessors[ 1 ];\n\t\tconst morphColors = accessors[ 2 ];\n\n\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\tif ( hasMorphColor ) geometry.morphAttributes.color = morphColors;\n\t\tgeometry.morphTargetsRelative = true;\n\n\t\treturn geometry;\n\n\t} );\n\n}\n\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\nfunction updateMorphTargets( mesh, meshDef ) {\n\n\tmesh.updateMorphTargets();\n\n\tif ( meshDef.weights !== undefined ) {\n\n\t\tfor ( let i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t}\n\n\t}\n\n\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\tconst targetNames = meshDef.extras.targetNames;\n\n\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\tfor ( let i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t}\n\n\t}\n\n}\n\nfunction createPrimitiveKey( primitiveDef ) {\n\n\tlet geometryKey;\n\n\tconst dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\n\tif ( dracoExtension ) {\n\n\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t} else {\n\n\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t}\n\n\tif ( primitiveDef.targets !== undefined ) {\n\n\t\tfor ( let i = 0, il = primitiveDef.targets.length; i < il; i ++ ) {\n\n\t\t\tgeometryKey += ':' + createAttributesKey( primitiveDef.targets[ i ] );\n\n\t\t}\n\n\t}\n\n\treturn geometryKey;\n\n}\n\nfunction createAttributesKey( attributes ) {\n\n\tlet attributesKey = '';\n\n\tconst keys = Object.keys( attributes ).sort();\n\n\tfor ( let i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t}\n\n\treturn attributesKey;\n\n}\n\nfunction getNormalizedComponentScale( constructor ) {\n\n\t// Reference:\n\t// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n\tswitch ( constructor ) {\n\n\t\tcase Int8Array:\n\t\t\treturn 1 / 127;\n\n\t\tcase Uint8Array:\n\t\t\treturn 1 / 255;\n\n\t\tcase Int16Array:\n\t\t\treturn 1 / 32767;\n\n\t\tcase Uint16Array:\n\t\t\treturn 1 / 65535;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported normalized accessor component type.' );\n\n\t}\n\n}\n\nfunction getImageURIMimeType( uri ) {\n\n\tif ( uri.search( /\\.jpe?g($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/jpeg/ ) === 0 ) return 'image/jpeg';\n\tif ( uri.search( /\\.webp($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/webp/ ) === 0 ) return 'image/webp';\n\tif ( uri.search( /\\.ktx2($|\\?)/i ) > 0 || uri.search( /^data\\:image\\/ktx2/ ) === 0 ) return 'image/ktx2';\n\n\treturn 'image/png';\n\n}\n\nconst _identityMatrix = new Matrix4();\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n\n\tconstructor( json = {}, options = {} ) {\n\n\t\tthis.json = json;\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options;\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Node cache\n\t\tthis.nodeCache = {};\n\n\t\t// Object3D instance caches\n\t\tthis.meshCache = { refs: {}, uses: {} };\n\t\tthis.cameraCache = { refs: {}, uses: {} };\n\t\tthis.lightCache = { refs: {}, uses: {} };\n\n\t\tthis.sourceCache = {};\n\t\tthis.textureCache = {};\n\n\t\t// Track node names, to ensure no duplicates\n\t\tthis.nodeNamesUsed = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\n\t\tlet isSafari = false;\n\t\tlet safariVersion = - 1;\n\t\tlet isFirefox = false;\n\t\tlet firefoxVersion = - 1;\n\n\t\tif ( typeof navigator !== 'undefined' ) {\n\n\t\t\tconst userAgent = navigator.userAgent;\n\n\t\t\tisSafari = /^((?!chrome|android).)*safari/i.test( userAgent ) === true;\n\t\t\tconst safariMatch = userAgent.match( /Version\\/(\\d+)/ );\n\t\t\tsafariVersion = isSafari && safariMatch ? parseInt( safariMatch[ 1 ], 10 ) : - 1;\n\n\t\t\tisFirefox = userAgent.indexOf( 'Firefox' ) > - 1;\n\t\t\tfirefoxVersion = isFirefox ? userAgent.match( /Firefox\\/([0-9]+)\\./ )[ 1 ] : - 1;\n\n\t\t}\n\n\t\tif ( typeof createImageBitmap === 'undefined' || ( isSafari && safariVersion < 17 ) || ( isFirefox && firefoxVersion < 98 ) ) {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\t\tthis.textureLoader.setRequestHeader( this.options.requestHeader );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tsetExtensions( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t}\n\n\tsetPlugins( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t}\n\n\tparse( onLoad, onError ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\t\tthis.nodeCache = {};\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis._invokeAll( function ( ext ) {\n\n\t\t\treturn ext._markDefs && ext._markDefs();\n\n\t\t} );\n\n\t\tPromise.all( this._invokeAll( function ( ext ) {\n\n\t\t\treturn ext.beforeRoot && ext.beforeRoot();\n\n\t\t} ) ).then( function () {\n\n\t\t\treturn Promise.all( [\n\n\t\t\t\tparser.getDependencies( 'scene' ),\n\t\t\t\tparser.getDependencies( 'animation' ),\n\t\t\t\tparser.getDependencies( 'camera' ),\n\n\t\t\t] );\n\n\t\t} ).then( function ( dependencies ) {\n\n\t\t\tconst result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\treturn Promise.all( parser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.afterRoot && ext.afterRoot( result );\n\n\t\t\t} ) ).then( function () {\n\n\t\t\t\tfor ( const scene of result.scenes ) {\n\n\t\t\t\t\tscene.updateMatrixWorld();\n\n\t\t\t\t}\n\n\t\t\t\tonLoad( result );\n\n\t\t\t} );\n\n\t\t} ).catch( onError );\n\n\t}\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\t_markDefs() {\n\n\t\tconst nodeDefs = this.json.nodes || [];\n\t\tconst skinDefs = this.json.skins || [];\n\t\tconst meshDefs = this.json.meshes || [];\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tconst joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( let i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Iterate over all nodes, marking references to shared resources,\n\t\t// as well as skeleton joints.\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Counts references to shared node / Object3D resources. These resources\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\n\t * Textures) can be reused directly and are not marked here.\n\t *\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t *\n\t * @param {Object} cache\n\t * @param {Object3D} index\n\t */\n\t_addNodeRef( cache, index ) {\n\n\t\tif ( index === undefined ) return;\n\n\t\tif ( cache.refs[ index ] === undefined ) {\n\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\n\n\t\t}\n\n\t\tcache.refs[ index ] ++;\n\n\t}\n\n\t/**\n\t * Returns a reference to a shared resource, cloning it if necessary.\n\t *\n\t * @param {Object} cache\n\t * @param {Number} index\n\t * @param {Object} object\n\t * @return {Object}\n\t */\n\t_getNodeRef( cache, index, object ) {\n\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\n\n\t\tconst ref = object.clone();\n\n\t\t// Propagates mappings to the cloned object, prevents mappings on the\n\t\t// original object from being lost.\n\t\tconst updateMappings = ( original, clone ) => {\n\n\t\t\tconst mappings = this.associations.get( original );\n\t\t\tif ( mappings != null ) {\n\n\t\t\t\tthis.associations.set( clone, mappings );\n\n\t\t\t}\n\n\t\t\tfor ( const [ i, child ] of original.children.entries() ) {\n\n\t\t\t\tupdateMappings( child, clone.children[ i ] );\n\n\t\t\t}\n\n\t\t};\n\n\t\tupdateMappings( object, ref );\n\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\n\n\t\treturn ref;\n\n\t}\n\n\t_invokeOne( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t_invokeAll( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) pending.push( result );\n\n\t\t}\n\n\t\treturn pending;\n\n\t}\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tgetDependency( type, index ) {\n\n\t\tconst cacheKey = type + ':' + index;\n\t\tlet dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadNode && ext.loadNode( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadAnimation && ext.loadAnimation( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext != this && ext.getDependency && ext.getDependency( type, index );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\tif ( ! dependency ) {\n\n\t\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t}\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tgetDependencies( type ) {\n\n\t\tlet dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tconst parser = this;\n\t\t\tconst defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBuffer( bufferIndex ) {\n\n\t\tconst bufferDef = this.json.buffers[ bufferIndex ];\n\t\tconst loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tconst options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( LoaderUtils.resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBufferView( bufferViewIndex ) {\n\n\t\tconst bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tconst byteLength = bufferViewDef.byteLength || 0;\n\t\t\tconst byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tloadAccessor( accessorIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\t\t\tconst normalized = accessorDef.normalized === true;\n\n\t\t\tconst array = new TypedArray( accessorDef.count * itemSize );\n\t\t\treturn Promise.resolve( new BufferAttribute( array, itemSize, normalized ) );\n\n\t\t}\n\n\t\tconst pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tconst bufferView = bufferViews[ 0 ];\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tconst elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tconst itemBytes = elementBytes * itemSize;\n\t\t\tconst byteOffset = accessorDef.byteOffset || 0;\n\t\t\tconst byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tconst normalized = accessorDef.normalized === true;\n\t\t\tlet array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tconst ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tconst ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tlet ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tconst itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tconst TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tconst byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tconst byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tconst sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tconst sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\t// Ignore normalized since we copy from sparse\n\t\t\t\tbufferAttribute.normalized = false;\n\n\t\t\t\tfor ( let i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute.normalized = normalized;\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture|null>}\n\t */\n\tloadTexture( textureIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceIndex = textureDef.source;\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tlet loader = this.textureLoader;\n\n\t\tif ( sourceDef.uri ) {\n\n\t\t\tconst handler = options.manager.getHandler( sourceDef.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.loadTextureImage( textureIndex, sourceIndex, loader );\n\n\t}\n\n\tloadTextureImage( textureIndex, sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst cacheKey = ( sourceDef.uri || sourceDef.bufferView ) + ':' + textureDef.sampler;\n\n\t\tif ( this.textureCache[ cacheKey ] ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21559.\n\t\t\treturn this.textureCache[ cacheKey ];\n\n\t\t}\n\n\t\tconst promise = this.loadImageSource( sourceIndex, loader ).then( function ( texture ) {\n\n\t\t\ttexture.flipY = false;\n\n\t\t\ttexture.name = textureDef.name || sourceDef.name || '';\n\n\t\t\tif ( texture.name === '' && typeof sourceDef.uri === 'string' && sourceDef.uri.startsWith( 'data:image/' ) === false ) {\n\n\t\t\t\ttexture.name = sourceDef.uri;\n\n\t\t\t}\n\n\t\t\tconst samplers = json.samplers || {};\n\t\t\tconst sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\t\t\ttexture.generateMipmaps = ! texture.isCompressedTexture && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t\t\tparser.associations.set( texture, { textures: textureIndex } );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function () {\n\n\t\t\treturn null;\n\n\t\t} );\n\n\t\tthis.textureCache[ cacheKey ] = promise;\n\n\t\treturn promise;\n\n\t}\n\n\tloadImageSource( sourceIndex, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\n\t\tif ( this.sourceCache[ sourceIndex ] !== undefined ) {\n\n\t\t\treturn this.sourceCache[ sourceIndex ].then( ( texture ) => texture.clone() );\n\n\t\t}\n\n\t\tconst sourceDef = json.images[ sourceIndex ];\n\n\t\tconst URL = self.URL || self.webkitURL;\n\n\t\tlet sourceURI = sourceDef.uri || '';\n\t\tlet isObjectURL = false;\n\n\t\tif ( sourceDef.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', sourceDef.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tconst blob = new Blob( [ bufferView ], { type: sourceDef.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t} else if ( sourceDef.uri === undefined ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Image ' + sourceIndex + ' is missing URI and bufferView' );\n\n\t\t}\n\n\t\tconst promise = Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tlet onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tconst texture = new Texture( imageBitmap );\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\t\tresolve( texture );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( LoaderUtils.resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( texture, sourceDef );\n\n\t\t\ttexture.userData.mimeType = sourceDef.mimeType || getImageURIMimeType( sourceDef.uri );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function ( error ) {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader: Couldn\\'t load texture', sourceURI );\n\t\t\tthrow error;\n\n\t\t} );\n\n\t\tthis.sourceCache[ sourceIndex ] = promise;\n\t\treturn promise;\n\n\t}\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t *\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @param {string} colorSpace\n\t * @return {Promise<Texture>}\n\t */\n\tassignTexture( materialParams, mapName, mapDef, colorSpace ) {\n\n\t\tconst parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\tif ( ! texture ) return null;\n\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord > 0 ) {\n\n\t\t\t\ttexture = texture.clone();\n\t\t\t\ttexture.channel = mapDef.texCoord;\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tconst transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tconst gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( colorSpace !== undefined ) {\n\n\t\t\t\ttexture.colorSpace = colorSpace;\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accommodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tassignFinalMaterial( mesh ) {\n\n\t\tconst geometry = mesh.geometry;\n\t\tlet material = mesh.material;\n\n\t\tconst useDerivativeTangents = geometry.attributes.tangent === undefined;\n\t\tconst useVertexColors = geometry.attributes.color !== undefined;\n\t\tconst useFlatShading = geometry.attributes.normal === undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tconst cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tlet pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tconst cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tlet lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\t\t\t\tlineMaterial.map = material.map;\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useDerivativeTangents || useVertexColors || useFlatShading ) {\n\n\t\t\tlet cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( useDerivativeTangents ) cacheKey += 'derivative-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\n\t\t\tlet cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\n\t\t\t\tif ( useDerivativeTangents ) {\n\n\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\t\tif ( cachedMaterial.normalScale ) cachedMaterial.normalScale.y *= - 1;\n\t\t\t\t\tif ( cachedMaterial.clearcoatNormalScale ) cachedMaterial.clearcoatNormalScale.y *= - 1;\n\n\t\t\t\t}\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t}\n\n\tgetMaterialType( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tloadMaterial( materialIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst materialDef = json.materials[ materialIndex ];\n\n\t\tlet materialType;\n\t\tconst materialParams = {};\n\t\tconst materialExtensions = materialDef.extensions || {};\n\n\t\tconst pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tconst kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.setRGB( array[ 0 ], array[ 1 ], array[ 2 ], LinearSRGBColorSpace );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture, SRGBColorSpace ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tconst alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = materialDef.normalTexture.scale;\n\n\t\t\t\tmaterialParams.normalScale.set( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tconst emissiveFactor = materialDef.emissiveFactor;\n\t\t\tmaterialParams.emissive = new Color().setRGB( emissiveFactor[ 0 ], emissiveFactor[ 1 ], emissiveFactor[ 2 ], LinearSRGBColorSpace );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture, SRGBColorSpace ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tconst material = new materialType( materialParams );\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { materials: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * When Object3D instances are targeted by animation, they need unique names.\n\t *\n\t * @param {String} originalName\n\t * @return {String}\n\t */\n\tcreateUniqueName( originalName ) {\n\n\t\tconst sanitizedName = PropertyBinding.sanitizeNodeName( originalName || '' );\n\n\t\tif ( sanitizedName in this.nodeNamesUsed ) {\n\n\t\t\treturn sanitizedName + '_' + ( ++ this.nodeNamesUsed[ sanitizedName ] );\n\n\t\t} else {\n\n\t\t\tthis.nodeNamesUsed[ sanitizedName ] = 0;\n\n\t\t\treturn sanitizedName;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tloadGeometries( primitives ) {\n\n\t\tconst parser = this;\n\t\tconst extensions = this.extensions;\n\t\tconst cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst primitive = primitives[ i ];\n\t\t\tconst cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tconst cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tlet geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tloadMesh( meshIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\tconst meshDef = json.meshes[ meshIndex ];\n\t\tconst primitives = meshDef.primitives;\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tconst materials = results.slice( 0, results.length - 1 );\n\t\t\tconst geometries = results[ results.length - 1 ];\n\n\t\t\tconst meshes = [];\n\n\t\t\tfor ( let i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tconst geometry = geometries[ i ];\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tconst material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true ) {\n\n\t\t\t\t\t\t// normalize skin weights to fix malformed assets (see #15319)\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tparser.associations.set( meshes[ i ], {\n\t\t\t\t\tmeshes: meshIndex,\n\t\t\t\t\tprimitives: i\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\tif ( meshDef.extensions ) addUnknownExtensionsToUserData( extensions, meshes[ 0 ], meshDef );\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tconst group = new Group();\n\n\t\t\tif ( meshDef.extensions ) addUnknownExtensionsToUserData( extensions, group, meshDef );\n\n\t\t\tparser.associations.set( group, { meshes: meshIndex } );\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tloadCamera( cameraIndex ) {\n\n\t\tlet camera;\n\t\tconst cameraDef = this.json.cameras[ cameraIndex ];\n\t\tconst params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Skeleton>}\n\t */\n\tloadSkin( skinIndex ) {\n\n\t\tconst skinDef = this.json.skins[ skinIndex ];\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = skinDef.joints.length; i < il; i ++ ) {\n\n\t\t\tpending.push( this._loadNodeShallow( skinDef.joints[ i ] ) );\n\n\t\t}\n\n\t\tif ( skinDef.inverseBindMatrices !== undefined ) {\n\n\t\t\tpending.push( this.getDependency( 'accessor', skinDef.inverseBindMatrices ) );\n\n\t\t} else {\n\n\t\t\tpending.push( null );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tconst inverseBindMatrices = results.pop();\n\t\t\tconst jointNodes = results;\n\n\t\t\t// Note that bones (joint nodes) may or may not be in the\n\t\t\t// scene graph at this time.\n\n\t\t\tconst bones = [];\n\t\t\tconst boneInverses = [];\n\n\t\t\tfor ( let i = 0, il = jointNodes.length; i < il; i ++ ) {\n\n\t\t\t\tconst jointNode = jointNodes[ i ];\n\n\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\tconst mat = new Matrix4();\n\n\t\t\t\t\tif ( inverseBindMatrices !== null ) {\n\n\t\t\t\t\t\tmat.fromArray( inverseBindMatrices.array, i * 16 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinDef.joints[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new Skeleton( bones, boneInverses );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tloadAnimation( animationIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\n\t\tconst animationDef = json.animations[ animationIndex ];\n\t\tconst animationName = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\tconst pendingNodes = [];\n\t\tconst pendingInputAccessors = [];\n\t\tconst pendingOutputAccessors = [];\n\t\tconst pendingSamplers = [];\n\t\tconst pendingTargets = [];\n\n\t\tfor ( let i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tconst channel = animationDef.channels[ i ];\n\t\t\tconst sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tconst target = channel.target;\n\t\t\tconst name = target.node;\n\t\t\tconst input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tconst output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tif ( target.node === undefined ) continue;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tconst nodes = dependencies[ 0 ];\n\t\t\tconst inputAccessors = dependencies[ 1 ];\n\t\t\tconst outputAccessors = dependencies[ 2 ];\n\t\t\tconst samplers = dependencies[ 3 ];\n\t\t\tconst targets = dependencies[ 4 ];\n\n\t\t\tconst tracks = [];\n\n\t\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tconst node = nodes[ i ];\n\t\t\t\tconst inputAccessor = inputAccessors[ i ];\n\t\t\t\tconst outputAccessor = outputAccessors[ i ];\n\t\t\t\tconst sampler = samplers[ i ];\n\t\t\t\tconst target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tif ( node.updateMatrix ) {\n\n\t\t\t\t\tnode.updateMatrix();\n\n\t\t\t\t}\n\n\t\t\t\tconst createdTracks = parser._createAnimationTracks( node, inputAccessor, outputAccessor, sampler, target );\n\n\t\t\t\tif ( createdTracks ) {\n\n\t\t\t\t\tfor ( let k = 0; k < createdTracks.length; k ++ ) {\n\n\t\t\t\t\t\ttracks.push( createdTracks[ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new AnimationClip( animationName, undefined, tracks );\n\n\t\t} );\n\n\t}\n\n\tcreateNodeMesh( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tif ( nodeDef.mesh === undefined ) return null;\n\n\t\treturn parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\tconst node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\n\n\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\tfor ( let i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tloadNode( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tconst nodePending = parser._loadNodeShallow( nodeIndex );\n\n\t\tconst childPending = [];\n\t\tconst childrenDef = nodeDef.children || [];\n\n\t\tfor ( let i = 0, il = childrenDef.length; i < il; i ++ ) {\n\n\t\t\tchildPending.push( parser.getDependency( 'node', childrenDef[ i ] ) );\n\n\t\t}\n\n\t\tconst skeletonPending = nodeDef.skin === undefined\n\t\t\t? Promise.resolve( null )\n\t\t\t: parser.getDependency( 'skin', nodeDef.skin );\n\n\t\treturn Promise.all( [\n\t\t\tnodePending,\n\t\t\tPromise.all( childPending ),\n\t\t\tskeletonPending\n\t\t] ).then( function ( results ) {\n\n\t\t\tconst node = results[ 0 ];\n\t\t\tconst children = results[ 1 ];\n\t\t\tconst skeleton = results[ 2 ];\n\n\t\t\tif ( skeleton !== null ) {\n\n\t\t\t\t// This full traverse should be fine because\n\t\t\t\t// child glTF nodes have not been added to this node yet.\n\t\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\t\tif ( ! mesh.isSkinnedMesh ) return;\n\n\t\t\t\t\tmesh.bind( skeleton, _identityMatrix );\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\tnode.add( children[ i ] );\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t// ._loadNodeShallow() parses a single node.\n\t// skin and child nodes are created and added in .loadNode() (no '_' prefix).\n\t_loadNodeShallow( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst parser = this;\n\n\t\t// This method is called from .loadNode() and .loadSkin().\n\t\t// Cache a node to avoid duplication.\n\n\t\tif ( this.nodeCache[ nodeIndex ] !== undefined ) {\n\n\t\t\treturn this.nodeCache[ nodeIndex ];\n\n\t\t}\n\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\n\t\tconst nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\n\n\t\tconst pending = [];\n\n\t\tconst meshPromise = parser._invokeOne( function ( ext ) {\n\n\t\t\treturn ext.createNodeMesh && ext.createNodeMesh( nodeIndex );\n\n\t\t} );\n\n\t\tif ( meshPromise ) {\n\n\t\t\tpending.push( meshPromise );\n\n\t\t}\n\n\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\n\n\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\n\n\t\t\t} ) );\n\n\t\t}\n\n\t\tparser._invokeAll( function ( ext ) {\n\n\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\n\n\t\t} ).forEach( function ( promise ) {\n\n\t\t\tpending.push( promise );\n\n\t\t} );\n\n\t\tthis.nodeCache[ nodeIndex ] = Promise.all( pending ).then( function ( objects ) {\n\n\t\t\tlet node;\n\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( let i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = nodeName;\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tconst matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ! parser.associations.has( node ) ) {\n\n\t\t\t\tparser.associations.set( node, {} );\n\n\t\t\t}\n\n\t\t\tparser.associations.get( node ).nodes = nodeIndex;\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t\treturn this.nodeCache[ nodeIndex ];\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tloadScene( sceneIndex ) {\n\n\t\tconst extensions = this.extensions;\n\t\tconst sceneDef = this.json.scenes[ sceneIndex ];\n\t\tconst parser = this;\n\n\t\t// Loader returns Group, not Scene.\n\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\tconst scene = new Group();\n\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\n\n\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\tconst nodeIds = sceneDef.nodes || [];\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\tpending.push( parser.getDependency( 'node', nodeIds[ i ] ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function ( nodes ) {\n\n\t\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tscene.add( nodes[ i ] );\n\n\t\t\t}\n\n\t\t\t// Removes dangling associations, associations that reference a node that\n\t\t\t// didn't make it into the scene.\n\t\t\tconst reduceAssociations = ( node ) => {\n\n\t\t\t\tconst reducedAssociations = new Map();\n\n\t\t\t\tfor ( const [ key, value ] of parser.associations ) {\n\n\t\t\t\t\tif ( key instanceof Material || key instanceof Texture ) {\n\n\t\t\t\t\t\treducedAssociations.set( key, value );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tnode.traverse( ( node ) => {\n\n\t\t\t\t\tconst mappings = parser.associations.get( node );\n\n\t\t\t\t\tif ( mappings != null ) {\n\n\t\t\t\t\t\treducedAssociations.set( node, mappings );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\treturn reducedAssociations;\n\n\t\t\t};\n\n\t\t\tparser.associations = reduceAssociations( scene );\n\n\t\t\treturn scene;\n\n\t\t} );\n\n\t}\n\n\t_createAnimationTracks( node, inputAccessor, outputAccessor, sampler, target ) {\n\n\t\tconst tracks = [];\n\n\t\tconst targetName = node.name ? node.name : node.uuid;\n\t\tconst targetNames = [];\n\n\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\tif ( object.morphTargetInfluences ) {\n\n\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\ttargetNames.push( targetName );\n\n\t\t}\n\n\t\tlet TypedKeyframeTrack;\n\n\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\tbreak;\n\n\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\tbreak;\n\n\t\t\tcase PATH_PROPERTIES.position:\n\t\t\tcase PATH_PROPERTIES.scale:\n\n\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tswitch ( outputAccessor.itemSize ) {\n\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\tcase 3:\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tconst interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\n\t\tconst outputArray = this._getArrayFromAccessor( outputAccessor );\n\n\t\tfor ( let j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\tconst track = new TypedKeyframeTrack(\n\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\tinputAccessor.array,\n\t\t\t\toutputArray,\n\t\t\t\tinterpolation\n\t\t\t);\n\n\t\t\t// Override interpolation with custom factory method.\n\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\tthis._createCubicSplineTrackInterpolant( track );\n\n\t\t\t}\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\treturn tracks;\n\n\t}\n\n\t_getArrayFromAccessor( accessor ) {\n\n\t\tlet outputArray = accessor.array;\n\n\t\tif ( accessor.normalized ) {\n\n\t\t\tconst scale = getNormalizedComponentScale( outputArray.constructor );\n\t\t\tconst scaled = new Float32Array( outputArray.length );\n\n\t\t\tfor ( let j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t}\n\n\t\t\toutputArray = scaled;\n\n\t\t}\n\n\t\treturn outputArray;\n\n\t}\n\n\t_createCubicSplineTrackInterpolant( track ) {\n\n\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\tconst interpolantType = ( this instanceof QuaternionKeyframeTrack ) ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\n\n\t\t\treturn new interpolantType( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t};\n\n\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t}\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst box = new Box3();\n\n\tif ( attributes.POSITION !== undefined ) {\n\n\t\tconst accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\tconst min = accessor.min;\n\t\tconst max = accessor.max;\n\n\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\tbox.set(\n\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] )\n\t\t\t);\n\n\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\tbox.min.multiplyScalar( boxScale );\n\t\t\t\tbox.max.multiplyScalar( boxScale );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\treturn;\n\n\t\t}\n\n\t} else {\n\n\t\treturn;\n\n\t}\n\n\tconst targets = primitiveDef.targets;\n\n\tif ( targets !== undefined ) {\n\n\t\tconst maxDisplacement = new Vector3();\n\t\tconst vector = new Vector3();\n\n\t\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tconst target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\tconst accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\tconst min = accessor.min;\n\t\t\t\tconst max = accessor.max;\n\n\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\n\t\t\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\t\t\tvector.multiplyScalar( boxScale );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\tbox.expandByVector( maxDisplacement );\n\n\t}\n\n\tgeometry.boundingBox = box;\n\n\tconst sphere = new Sphere();\n\n\tbox.getCenter( sphere.center );\n\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\tgeometry.boundingSphere = sphere;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst pending = [];\n\n\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t.then( function ( accessor ) {\n\n\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t} );\n\n\t}\n\n\tfor ( const gltfAttributeName in attributes ) {\n\n\t\tconst threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t}\n\n\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\tconst accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\tgeometry.setIndex( accessor );\n\n\t\t} );\n\n\t\tpending.push( accessor );\n\n\t}\n\n\tif ( ColorManagement.workingColorSpace !== LinearSRGBColorSpace && 'COLOR_0' in attributes ) {\n\n\t\tconsole.warn( `THREE.GLTFLoader: Converting vertex colors from \"srgb-linear\" to \"${ColorManagement.workingColorSpace}\" not supported.` );\n\n\t}\n\n\tassignExtrasToUserData( geometry, primitiveDef );\n\n\tcomputeBounds( geometry, primitiveDef, parser );\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\treturn primitiveDef.targets !== undefined\n\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t: geometry;\n\n\t} );\n\n}\n\nexport { GLTFLoader };\n","/**\n * @author Deepkolos / https://github.com/deepkolos\n */\n\nexport class WorkerPool {\n\n\tconstructor( pool = 4 ) {\n\n\t\tthis.pool = pool;\n\t\tthis.queue = [];\n\t\tthis.workers = [];\n\t\tthis.workersResolve = [];\n\t\tthis.workerStatus = 0;\n\n\t}\n\n\t_initWorker( workerId ) {\n\n\t\tif ( ! this.workers[ workerId ] ) {\n\n\t\t\tconst worker = this.workerCreator();\n\t\t\tworker.addEventListener( 'message', this._onMessage.bind( this, workerId ) );\n\t\t\tthis.workers[ workerId ] = worker;\n\n\t\t}\n\n\t}\n\n\t_getIdleWorker() {\n\n\t\tfor ( let i = 0; i < this.pool; i ++ )\n\t\t\tif ( ! ( this.workerStatus & ( 1 << i ) ) ) return i;\n\n\t\treturn - 1;\n\n\t}\n\n\t_onMessage( workerId, msg ) {\n\n\t\tconst resolve = this.workersResolve[ workerId ];\n\t\tresolve && resolve( msg );\n\n\t\tif ( this.queue.length ) {\n\n\t\t\tconst { resolve, msg, transfer } = this.queue.shift();\n\t\t\tthis.workersResolve[ workerId ] = resolve;\n\t\t\tthis.workers[ workerId ].postMessage( msg, transfer );\n\n\t\t} else {\n\n\t\t\tthis.workerStatus ^= 1 << workerId;\n\n\t\t}\n\n\t}\n\n\tsetWorkerCreator( workerCreator ) {\n\n\t\tthis.workerCreator = workerCreator;\n\n\t}\n\n\tsetWorkerLimit( pool ) {\n\n\t\tthis.pool = pool;\n\n\t}\n\n\tpostMessage( msg, transfer ) {\n\n\t\treturn new Promise( ( resolve ) => {\n\n\t\t\tconst workerId = this._getIdleWorker();\n\n\t\t\tif ( workerId !== - 1 ) {\n\n\t\t\t\tthis._initWorker( workerId );\n\t\t\t\tthis.workerStatus |= 1 << workerId;\n\t\t\t\tthis.workersResolve[ workerId ] = resolve;\n\t\t\t\tthis.workers[ workerId ].postMessage( msg, transfer );\n\n\t\t\t} else {\n\n\t\t\t\tthis.queue.push( { resolve, msg, transfer } );\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.workers.forEach( ( worker ) => worker.terminate() );\n\t\tthis.workersResolve.length = 0;\n\t\tthis.workers.length = 0;\n\t\tthis.queue.length = 0;\n\t\tthis.workerStatus = 0;\n\n\t}\n\n}\n","const t=0,e=1,n=2,i=3,s=0,a=0,r=2,o=0,l=1,f=160,h=161,U=162,c=163,_=166,p=0,g=1,y=0,x=1,u=2,b=3,d=4,w=5,m=6,D=7,B=8,L=9,v=10,A=11,k=12,V=13,I=14,S=15,F=16,O=17,E=18,T=0,C=1,M=2,P=3,z=4,W=5,H=6,N=7,K=8,X=9,R=10,Y=11,j=0,q=1,G=2,J=13,Q=14,Z=15,$=128,tt=64,et=32,nt=16,it=0,st=1,at=2,rt=3,ot=4,lt=5,ft=6,ht=7,Ut=8,ct=9,_t=10,pt=13,gt=14,yt=15,xt=16,ut=17,bt=20,dt=21,wt=22,mt=23,Dt=24,Bt=27,Lt=28,vt=29,At=30,kt=31,Vt=34,It=35,St=36,Ft=37,Ot=38,Et=41,Tt=42,Ct=43,Mt=44,Pt=45,zt=48,Wt=49,Ht=50,Nt=58,Kt=59,Xt=62,Rt=63,Yt=64,jt=65,qt=68,Gt=69,Jt=70,Qt=71,Zt=74,$t=75,te=76,ee=77,ne=78,ie=81,se=82,ae=83,re=84,oe=85,le=88,fe=89,he=90,Ue=91,ce=92,_e=95,pe=96,ge=97,ye=98,xe=99,ue=100,be=101,de=102,we=103,me=104,De=105,Be=106,Le=107,ve=108,Ae=109,ke=110,Ve=111,Ie=112,Se=113,Fe=114,Oe=115,Ee=116,Te=117,Ce=118,Me=119,Pe=120,ze=121,We=122,He=123,Ne=124,Ke=125,Xe=126,Re=127,Ye=128,je=129,qe=130,Ge=131,Je=132,Qe=133,Ze=134,$e=135,tn=136,en=137,nn=138,sn=139,an=140,rn=141,on=142,ln=143,fn=144,hn=145,Un=146,cn=147,_n=148,pn=149,gn=150,yn=151,xn=152,un=153,bn=154,dn=155,wn=156,mn=157,Dn=158,Bn=159,Ln=160,vn=161,An=162,kn=163,Vn=164,In=165,Sn=166,Fn=167,On=168,En=169,Tn=170,Cn=171,Mn=172,Pn=173,zn=174,Wn=175,Hn=176,Nn=177,Kn=178,Xn=179,Rn=180,Yn=181,jn=182,qn=183,Gn=184,Jn=1000156007,Qn=1000156008,Zn=1000156009,$n=1000156010,ti=1000156011,ei=1000156017,ni=1000156018,ii=1000156019,si=1000156020,ai=1000156021,ri=1000054e3,oi=1000054001,li=1000054002,fi=1000054003,hi=1000054004,Ui=1000054005,ci=1000054006,_i=1000054007,pi=1000066e3,gi=1000066001,yi=1000066002,xi=1000066003,ui=1000066004,bi=1000066005,di=1000066006,wi=1000066007,mi=1000066008,Di=1000066009,Bi=1000066010,Li=1000066011,vi=1000066012,Ai=1000066013,ki=100034e4,Vi=1000340001;class Ii{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class Si{constructor(t,e,n,i){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(t.buffer,t.byteOffset+e,n),this._littleEndian=i,this._offset=0}_nextUint8(){const t=this._dataView.getUint8(this._offset);return this._offset+=1,t}_nextUint16(){const t=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,t}_nextUint32(){const t=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,t}_nextUint64(){const t=this._dataView.getUint32(this._offset,this._littleEndian)+2**32*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,t}_nextInt32(){const t=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,t}_nextUint8Array(t){const e=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,t);return this._offset+=t,e}_skip(t){return this._offset+=t,this}_scan(t,e){void 0===e&&(e=0);const n=this._offset;let i=0;for(;this._dataView.getUint8(this._offset)!==e&&i<t;)i++,this._offset++;return i<t&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,i)}}const Fi=new Uint8Array([0]),Oi=[171,75,84,88,32,50,48,187,13,10,26,10];function Ei(t){return(new TextEncoder).encode(t)}function Ti(t){return(new TextDecoder).decode(t)}function Ci(t){let e=0;for(const n of t)e+=n.byteLength;const n=new Uint8Array(e);let i=0;for(const e of t)n.set(new Uint8Array(e),i),i+=e.byteLength;return n}function Mi(t,e){return void 0===e&&(e=4),Math.ceil(t/e)*e-t}function Pi(t){const e=new Uint8Array(t.buffer,t.byteOffset,Oi.length);if(e[0]!==Oi[0]||e[1]!==Oi[1]||e[2]!==Oi[2]||e[3]!==Oi[3]||e[4]!==Oi[4]||e[5]!==Oi[5]||e[6]!==Oi[6]||e[7]!==Oi[7]||e[8]!==Oi[8]||e[9]!==Oi[9]||e[10]!==Oi[10]||e[11]!==Oi[11])throw new Error(\"Missing KTX 2.0 identifier.\");const n=new Ii,i=17*Uint32Array.BYTES_PER_ELEMENT,s=new Si(t,Oi.length,i,!0);n.vkFormat=s._nextUint32(),n.typeSize=s._nextUint32(),n.pixelWidth=s._nextUint32(),n.pixelHeight=s._nextUint32(),n.pixelDepth=s._nextUint32(),n.layerCount=s._nextUint32(),n.faceCount=s._nextUint32();const a=s._nextUint32();n.supercompressionScheme=s._nextUint32();const r=s._nextUint32(),o=s._nextUint32(),l=s._nextUint32(),f=s._nextUint32(),h=s._nextUint64(),U=s._nextUint64(),c=new Si(t,Oi.length+i,3*a*8,!0);for(let e=0;e<a;e++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+c._nextUint64(),c._nextUint64()),uncompressedByteLength:c._nextUint64()});const _=new Si(t,r,o,!0),p={vendorId:_._skip(4)._nextUint16(),descriptorType:_._nextUint16(),versionNumber:_._nextUint16(),descriptorBlockSize:_._nextUint16(),colorModel:_._nextUint8(),colorPrimaries:_._nextUint8(),transferFunction:_._nextUint8(),flags:_._nextUint8(),texelBlockDimension:[_._nextUint8(),_._nextUint8(),_._nextUint8(),_._nextUint8()],bytesPlane:[_._nextUint8(),_._nextUint8(),_._nextUint8(),_._nextUint8(),_._nextUint8(),_._nextUint8(),_._nextUint8(),_._nextUint8()],samples:[]},g=(p.descriptorBlockSize/4-6)/4;for(let t=0;t<g;t++){const e={bitOffset:_._nextUint16(),bitLength:_._nextUint8(),channelType:_._nextUint8(),samplePosition:[_._nextUint8(),_._nextUint8(),_._nextUint8(),_._nextUint8()],sampleLower:-Infinity,sampleUpper:Infinity};64&e.channelType?(e.sampleLower=_._nextInt32(),e.sampleUpper=_._nextInt32()):(e.sampleLower=_._nextUint32(),e.sampleUpper=_._nextUint32()),p.samples[t]=e}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(p);const y=new Si(t,l,f,!0);for(;y._offset<f;){const t=y._nextUint32(),e=y._scan(t),i=Ti(e);if(n.keyValue[i]=y._nextUint8Array(t-e.byteLength-1),i.match(/^ktx/i)){const t=Ti(n.keyValue[i]);n.keyValue[i]=t.substring(0,t.lastIndexOf(\"\\0\"))}y._skip(t%4?4-t%4:0)}if(U<=0)return n;const x=new Si(t,h,U,!0),u=x._nextUint16(),b=x._nextUint16(),d=x._nextUint32(),w=x._nextUint32(),m=x._nextUint32(),D=x._nextUint32(),B=[];for(let t=0;t<a;t++)B.push({imageFlags:x._nextUint32(),rgbSliceByteOffset:x._nextUint32(),rgbSliceByteLength:x._nextUint32(),alphaSliceByteOffset:x._nextUint32(),alphaSliceByteLength:x._nextUint32()});const L=h+x._offset,v=L+d,A=v+w,k=A+m,V=new Uint8Array(t.buffer,t.byteOffset+L,d),I=new Uint8Array(t.buffer,t.byteOffset+v,w),S=new Uint8Array(t.buffer,t.byteOffset+A,m),F=new Uint8Array(t.buffer,t.byteOffset+k,D);return n.globalData={endpointCount:u,selectorCount:b,imageDescs:B,endpointsData:V,selectorsData:I,tablesData:S,extendedData:F},n}const zi={keepWriter:!1};function Wi(t,e){void 0===e&&(e={}),e={...zi,...e};let n=new ArrayBuffer(0);if(t.globalData){const e=new ArrayBuffer(20+5*t.globalData.imageDescs.length*4),i=new DataView(e);i.setUint16(0,t.globalData.endpointCount,!0),i.setUint16(2,t.globalData.selectorCount,!0),i.setUint32(4,t.globalData.endpointsData.byteLength,!0),i.setUint32(8,t.globalData.selectorsData.byteLength,!0),i.setUint32(12,t.globalData.tablesData.byteLength,!0),i.setUint32(16,t.globalData.extendedData.byteLength,!0);for(let e=0;e<t.globalData.imageDescs.length;e++){const n=t.globalData.imageDescs[e];i.setUint32(20+5*e*4+0,n.imageFlags,!0),i.setUint32(20+5*e*4+4,n.rgbSliceByteOffset,!0),i.setUint32(20+5*e*4+8,n.rgbSliceByteLength,!0),i.setUint32(20+5*e*4+12,n.alphaSliceByteOffset,!0),i.setUint32(20+5*e*4+16,n.alphaSliceByteLength,!0)}n=Ci([e,t.globalData.endpointsData,t.globalData.selectorsData,t.globalData.tablesData,t.globalData.extendedData])}const i=[];let s=t.keyValue;e.keepWriter||(s={...t.keyValue,KTXwriter:\"KTX-Parse v0.7.1\"});for(const t in s){const e=s[t],n=Ei(t),a=\"string\"==typeof e?Ci([Ei(e),Fi]):e,r=n.byteLength+1+a.byteLength,o=Mi(r,4);i.push(Ci([new Uint32Array([r]),n,Fi,a,new Uint8Array(o).fill(0)]))}const a=Ci(i);if(1!==t.dataFormatDescriptor.length||0!==t.dataFormatDescriptor[0].descriptorType)throw new Error(\"Only BASICFORMAT Data Format Descriptor output supported.\");const r=t.dataFormatDescriptor[0],o=new ArrayBuffer(28+16*r.samples.length),l=new DataView(o),f=24+16*r.samples.length;if(l.setUint32(0,o.byteLength,!0),l.setUint16(4,r.vendorId,!0),l.setUint16(6,r.descriptorType,!0),l.setUint16(8,r.versionNumber,!0),l.setUint16(10,f,!0),l.setUint8(12,r.colorModel),l.setUint8(13,r.colorPrimaries),l.setUint8(14,r.transferFunction),l.setUint8(15,r.flags),!Array.isArray(r.texelBlockDimension))throw new Error(\"texelBlockDimension is now an array. For dimensionality `d`, set `d - 1`.\");l.setUint8(16,r.texelBlockDimension[0]),l.setUint8(17,r.texelBlockDimension[1]),l.setUint8(18,r.texelBlockDimension[2]),l.setUint8(19,r.texelBlockDimension[3]);for(let t=0;t<8;t++)l.setUint8(20+t,r.bytesPlane[t]);for(let t=0;t<r.samples.length;t++){const e=r.samples[t],n=28+16*t;if(e.channelID)throw new Error(\"channelID has been renamed to channelType.\");l.setUint16(n+0,e.bitOffset,!0),l.setUint8(n+2,e.bitLength),l.setUint8(n+3,e.channelType),l.setUint8(n+4,e.samplePosition[0]),l.setUint8(n+5,e.samplePosition[1]),l.setUint8(n+6,e.samplePosition[2]),l.setUint8(n+7,e.samplePosition[3]),64&e.channelType?(l.setInt32(n+8,e.sampleLower,!0),l.setInt32(n+12,e.sampleUpper,!0)):(l.setUint32(n+8,e.sampleLower,!0),l.setUint32(n+12,e.sampleUpper,!0))}const h=Oi.length+68+3*t.levels.length*8,U=h+o.byteLength;let c=n.byteLength>0?U+a.byteLength:0;c%8&&(c+=8-c%8);const _=[],p=new DataView(new ArrayBuffer(3*t.levels.length*8)),g=new Uint32Array(t.levels.length);let y=0;0===t.supercompressionScheme&&(y=function(t,e){const n=Math.max(t,4),i=Math.min(t,4);let s=n;for(;s%i!=0;)s+=n;return s}(function(t){return t.levels[0].levelData.byteLength/function(t,e){let n=1;const i=[t.pixelWidth,t.pixelHeight,t.pixelDepth],s=function(t){const[e,n,i]=t.dataFormatDescriptor[0].texelBlockDimension;return[e+1,n+1,i+1]}(t);for(let t=0;t<3;t++)if(i[t]>0){const e=Math.ceil(Math.floor(i[t]*Math.pow(2,-0))/s[t]);n*=Math.max(1,e)}return t.layerCount>0&&(n*=t.layerCount),t.faceCount>0&&(n*=t.faceCount),n}(t)}(t)));let x=(c||U+a.byteLength)+n.byteLength;for(let e=t.levels.length-1;e>=0;e--){if(x%y){const t=Mi(x,y);_.push(new Uint8Array(t)),x+=t}const n=t.levels[e];_.push(n.levelData),g[e]=x,x+=n.levelData.byteLength}for(let e=0;e<t.levels.length;e++){const n=t.levels[e];p.setBigUint64(24*e+0,BigInt(g[e]),!0),p.setBigUint64(24*e+8,BigInt(n.levelData.byteLength),!0),p.setBigUint64(24*e+16,BigInt(n.uncompressedByteLength),!0)}const u=new ArrayBuffer(68),b=new DataView(u);return b.setUint32(0,t.vkFormat,!0),b.setUint32(4,t.typeSize,!0),b.setUint32(8,t.pixelWidth,!0),b.setUint32(12,t.pixelHeight,!0),b.setUint32(16,t.pixelDepth,!0),b.setUint32(20,t.layerCount,!0),b.setUint32(24,t.faceCount,!0),b.setUint32(28,t.levels.length,!0),b.setUint32(32,t.supercompressionScheme,!0),b.setUint32(36,h,!0),b.setUint32(40,o.byteLength,!0),b.setUint32(44,U,!0),b.setUint32(48,a.byteLength,!0),b.setBigUint64(52,BigInt(n.byteLength>0?c:0),!0),b.setBigUint64(60,BigInt(n.byteLength),!0),new Uint8Array(Ci([new Uint8Array(Oi).buffer,u,p.buffer,o,a,c>0?new ArrayBuffer(c-(U+a.byteLength)):new ArrayBuffer(0),n,..._]))}export{Z as KHR_DF_CHANNEL_RGBSDA_ALPHA,G as KHR_DF_CHANNEL_RGBSDA_BLUE,Q as KHR_DF_CHANNEL_RGBSDA_DEPTH,q as KHR_DF_CHANNEL_RGBSDA_GREEN,j as KHR_DF_CHANNEL_RGBSDA_RED,J as KHR_DF_CHANNEL_RGBSDA_STENCIL,g as KHR_DF_FLAG_ALPHA_PREMULTIPLIED,p as KHR_DF_FLAG_ALPHA_STRAIGHT,s as KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT,U as KHR_DF_MODEL_ASTC,f as KHR_DF_MODEL_ETC1,c as KHR_DF_MODEL_ETC1S,h as KHR_DF_MODEL_ETC2,l as KHR_DF_MODEL_RGBSDA,_ as KHR_DF_MODEL_UASTC,o as KHR_DF_MODEL_UNSPECIFIED,H as KHR_DF_PRIMARIES_ACES,N as KHR_DF_PRIMARIES_ACESCC,Y as KHR_DF_PRIMARIES_ADOBERGB,z as KHR_DF_PRIMARIES_BT2020,M as KHR_DF_PRIMARIES_BT601_EBU,P as KHR_DF_PRIMARIES_BT601_SMPTE,C as KHR_DF_PRIMARIES_BT709,W as KHR_DF_PRIMARIES_CIEXYZ,R as KHR_DF_PRIMARIES_DISPLAYP3,K as KHR_DF_PRIMARIES_NTSC1953,X as KHR_DF_PRIMARIES_PAL525,T as KHR_DF_PRIMARIES_UNSPECIFIED,et as KHR_DF_SAMPLE_DATATYPE_EXPONENT,$ as KHR_DF_SAMPLE_DATATYPE_FLOAT,nt as KHR_DF_SAMPLE_DATATYPE_LINEAR,tt as KHR_DF_SAMPLE_DATATYPE_SIGNED,F as KHR_DF_TRANSFER_ACESCC,O as KHR_DF_TRANSFER_ACESCCT,E as KHR_DF_TRANSFER_ADOBERGB,D as KHR_DF_TRANSFER_BT1886,k as KHR_DF_TRANSFER_DCIP3,L as KHR_DF_TRANSFER_HLG_EOTF,B as KHR_DF_TRANSFER_HLG_OETF,b as KHR_DF_TRANSFER_ITU,x as KHR_DF_TRANSFER_LINEAR,d as KHR_DF_TRANSFER_NTSC,I as KHR_DF_TRANSFER_PAL625_EOTF,V as KHR_DF_TRANSFER_PAL_OETF,v as KHR_DF_TRANSFER_PQ_EOTF,A as KHR_DF_TRANSFER_PQ_OETF,w as KHR_DF_TRANSFER_SLOG,m as KHR_DF_TRANSFER_SLOG2,u as KHR_DF_TRANSFER_SRGB,S as KHR_DF_TRANSFER_ST240,y as KHR_DF_TRANSFER_UNSPECIFIED,a as KHR_DF_VENDORID_KHRONOS,r as KHR_DF_VERSION,e as KHR_SUPERCOMPRESSION_BASISLZ,t as KHR_SUPERCOMPRESSION_NONE,i as KHR_SUPERCOMPRESSION_ZLIB,n as KHR_SUPERCOMPRESSION_ZSTD,Ii as KTX2Container,Ut as VK_FORMAT_A1R5G5B5_UNORM_PACK16,Gt as VK_FORMAT_A2B10G10R10_SINT_PACK32,jt as VK_FORMAT_A2B10G10R10_SNORM_PACK32,qt as VK_FORMAT_A2B10G10R10_UINT_PACK32,Yt as VK_FORMAT_A2B10G10R10_UNORM_PACK32,Rt as VK_FORMAT_A2R10G10B10_SINT_PACK32,Kt as VK_FORMAT_A2R10G10B10_SNORM_PACK32,Xt as VK_FORMAT_A2R10G10B10_UINT_PACK32,Nt as VK_FORMAT_A2R10G10B10_UNORM_PACK32,Vi as VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT,ki as VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT,Li as VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT,Rn as VK_FORMAT_ASTC_10x10_SRGB_BLOCK,Xn as VK_FORMAT_ASTC_10x10_UNORM_BLOCK,mi as VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT,zn as VK_FORMAT_ASTC_10x5_SRGB_BLOCK,Pn as VK_FORMAT_ASTC_10x5_UNORM_BLOCK,Di as VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT,Hn as VK_FORMAT_ASTC_10x6_SRGB_BLOCK,Wn as VK_FORMAT_ASTC_10x6_UNORM_BLOCK,Bi as VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT,Kn as VK_FORMAT_ASTC_10x8_SRGB_BLOCK,Nn as VK_FORMAT_ASTC_10x8_UNORM_BLOCK,vi as VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT,jn as VK_FORMAT_ASTC_12x10_SRGB_BLOCK,Yn as VK_FORMAT_ASTC_12x10_UNORM_BLOCK,Ai as VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT,Gn as VK_FORMAT_ASTC_12x12_SRGB_BLOCK,qn as VK_FORMAT_ASTC_12x12_UNORM_BLOCK,pi as VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT,Dn as VK_FORMAT_ASTC_4x4_SRGB_BLOCK,mn as VK_FORMAT_ASTC_4x4_UNORM_BLOCK,gi as VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT,Ln as VK_FORMAT_ASTC_5x4_SRGB_BLOCK,Bn as VK_FORMAT_ASTC_5x4_UNORM_BLOCK,yi as VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT,An as VK_FORMAT_ASTC_5x5_SRGB_BLOCK,vn as VK_FORMAT_ASTC_5x5_UNORM_BLOCK,xi as VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT,Vn as VK_FORMAT_ASTC_6x5_SRGB_BLOCK,kn as VK_FORMAT_ASTC_6x5_UNORM_BLOCK,ui as VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT,Sn as VK_FORMAT_ASTC_6x6_SRGB_BLOCK,In as VK_FORMAT_ASTC_6x6_UNORM_BLOCK,bi as VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT,On as VK_FORMAT_ASTC_8x5_SRGB_BLOCK,Fn as VK_FORMAT_ASTC_8x5_UNORM_BLOCK,di as VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT,Tn as VK_FORMAT_ASTC_8x6_SRGB_BLOCK,En as VK_FORMAT_ASTC_8x6_UNORM_BLOCK,wi as VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT,Mn as VK_FORMAT_ASTC_8x8_SRGB_BLOCK,Cn as VK_FORMAT_ASTC_8x8_UNORM_BLOCK,We as VK_FORMAT_B10G11R11_UFLOAT_PACK32,ti as VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16,ai as VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16,rt as VK_FORMAT_B4G4R4A4_UNORM_PACK16,ht as VK_FORMAT_B5G5R5A1_UNORM_PACK16,lt as VK_FORMAT_B5G6R5_UNORM_PACK16,Wt as VK_FORMAT_B8G8R8A8_SINT,Pt as VK_FORMAT_B8G8R8A8_SNORM,Ht as VK_FORMAT_B8G8R8A8_SRGB,zt as VK_FORMAT_B8G8R8A8_UINT,Mt as VK_FORMAT_B8G8R8A8_UNORM,It as VK_FORMAT_B8G8R8_SINT,kt as VK_FORMAT_B8G8R8_SNORM,St as VK_FORMAT_B8G8R8_SRGB,Vt as VK_FORMAT_B8G8R8_UINT,At as VK_FORMAT_B8G8R8_UNORM,Ze as VK_FORMAT_BC1_RGBA_SRGB_BLOCK,Qe as VK_FORMAT_BC1_RGBA_UNORM_BLOCK,Je as VK_FORMAT_BC1_RGB_SRGB_BLOCK,Ge as VK_FORMAT_BC1_RGB_UNORM_BLOCK,tn as VK_FORMAT_BC2_SRGB_BLOCK,$e as VK_FORMAT_BC2_UNORM_BLOCK,nn as VK_FORMAT_BC3_SRGB_BLOCK,en as VK_FORMAT_BC3_UNORM_BLOCK,an as VK_FORMAT_BC4_SNORM_BLOCK,sn as VK_FORMAT_BC4_UNORM_BLOCK,on as VK_FORMAT_BC5_SNORM_BLOCK,rn as VK_FORMAT_BC5_UNORM_BLOCK,fn as VK_FORMAT_BC6H_SFLOAT_BLOCK,ln as VK_FORMAT_BC6H_UFLOAT_BLOCK,Un as VK_FORMAT_BC7_SRGB_BLOCK,hn as VK_FORMAT_BC7_UNORM_BLOCK,Ne as VK_FORMAT_D16_UNORM,Ye as VK_FORMAT_D16_UNORM_S8_UINT,je as VK_FORMAT_D24_UNORM_S8_UINT,Xe as VK_FORMAT_D32_SFLOAT,qe as VK_FORMAT_D32_SFLOAT_S8_UINT,He as VK_FORMAT_E5B9G9R9_UFLOAT_PACK32,wn as VK_FORMAT_EAC_R11G11_SNORM_BLOCK,dn as VK_FORMAT_EAC_R11G11_UNORM_BLOCK,bn as VK_FORMAT_EAC_R11_SNORM_BLOCK,un as VK_FORMAT_EAC_R11_UNORM_BLOCK,gn as VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK,pn as VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK,xn as VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK,yn as VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK,_n as VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK,cn as VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK,$n as VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16,si as VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16,hi as VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG,ri as VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG,Ui as VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG,oi as VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG,ci as VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG,li as VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG,_i as VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG,fi as VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG,Zn as VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16,Qn as VK_FORMAT_R10X6G10X6_UNORM_2PACK16,Jn as VK_FORMAT_R10X6_UNORM_PACK16,ii as VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16,ni as VK_FORMAT_R12X4G12X4_UNORM_2PACK16,ei as VK_FORMAT_R12X4_UNORM_PACK16,ge as VK_FORMAT_R16G16B16A16_SFLOAT,pe as VK_FORMAT_R16G16B16A16_SINT,ce as VK_FORMAT_R16G16B16A16_SNORM,_e as VK_FORMAT_R16G16B16A16_UINT,Ue as VK_FORMAT_R16G16B16A16_UNORM,he as VK_FORMAT_R16G16B16_SFLOAT,fe as VK_FORMAT_R16G16B16_SINT,oe as VK_FORMAT_R16G16B16_SNORM,le as VK_FORMAT_R16G16B16_UINT,re as VK_FORMAT_R16G16B16_UNORM,ae as VK_FORMAT_R16G16_SFLOAT,se as VK_FORMAT_R16G16_SINT,ne as VK_FORMAT_R16G16_SNORM,ie as VK_FORMAT_R16G16_UINT,ee as VK_FORMAT_R16G16_UNORM,te as VK_FORMAT_R16_SFLOAT,$t as VK_FORMAT_R16_SINT,Qt as VK_FORMAT_R16_SNORM,Zt as VK_FORMAT_R16_UINT,Jt as VK_FORMAT_R16_UNORM,Ae as VK_FORMAT_R32G32B32A32_SFLOAT,ve as VK_FORMAT_R32G32B32A32_SINT,Le as VK_FORMAT_R32G32B32A32_UINT,Be as VK_FORMAT_R32G32B32_SFLOAT,De as VK_FORMAT_R32G32B32_SINT,me as VK_FORMAT_R32G32B32_UINT,we as VK_FORMAT_R32G32_SFLOAT,de as VK_FORMAT_R32G32_SINT,be as VK_FORMAT_R32G32_UINT,ue as VK_FORMAT_R32_SFLOAT,xe as VK_FORMAT_R32_SINT,ye as VK_FORMAT_R32_UINT,at as VK_FORMAT_R4G4B4A4_UNORM_PACK16,st as VK_FORMAT_R4G4_UNORM_PACK8,ft as VK_FORMAT_R5G5B5A1_UNORM_PACK16,ot as VK_FORMAT_R5G6B5_UNORM_PACK16,ze as VK_FORMAT_R64G64B64A64_SFLOAT,Pe as VK_FORMAT_R64G64B64A64_SINT,Me as VK_FORMAT_R64G64B64A64_UINT,Ce as VK_FORMAT_R64G64B64_SFLOAT,Te as VK_FORMAT_R64G64B64_SINT,Ee as VK_FORMAT_R64G64B64_UINT,Oe as VK_FORMAT_R64G64_SFLOAT,Fe as VK_FORMAT_R64G64_SINT,Se as VK_FORMAT_R64G64_UINT,Ie as VK_FORMAT_R64_SFLOAT,Ve as VK_FORMAT_R64_SINT,ke as VK_FORMAT_R64_UINT,Tt as VK_FORMAT_R8G8B8A8_SINT,Ot as VK_FORMAT_R8G8B8A8_SNORM,Ct as VK_FORMAT_R8G8B8A8_SRGB,Et as VK_FORMAT_R8G8B8A8_UINT,Ft as VK_FORMAT_R8G8B8A8_UNORM,Lt as VK_FORMAT_R8G8B8_SINT,Dt as VK_FORMAT_R8G8B8_SNORM,vt as VK_FORMAT_R8G8B8_SRGB,Bt as VK_FORMAT_R8G8B8_UINT,mt as VK_FORMAT_R8G8B8_UNORM,dt as VK_FORMAT_R8G8_SINT,ut as VK_FORMAT_R8G8_SNORM,wt as VK_FORMAT_R8G8_SRGB,bt as VK_FORMAT_R8G8_UINT,xt as VK_FORMAT_R8G8_UNORM,gt as VK_FORMAT_R8_SINT,_t as VK_FORMAT_R8_SNORM,yt as VK_FORMAT_R8_SRGB,pt as VK_FORMAT_R8_UINT,ct as VK_FORMAT_R8_UNORM,Re as VK_FORMAT_S8_UINT,it as VK_FORMAT_UNDEFINED,Ke as VK_FORMAT_X8_D24_UNORM_PACK32,Pi as read,Wi as write};\n","let A,I,B;const g={env:{emscripten_notify_memory_growth:function(A){B=new Uint8Array(I.exports.memory.buffer)}}};class Q{init(){return A||(A=\"undefined\"!=typeof fetch?fetch(\"data:application/wasm;base64,\"+C).then(A=>A.arrayBuffer()).then(A=>WebAssembly.instantiate(A,g)).then(this._init):WebAssembly.instantiate(Buffer.from(C,\"base64\"),g).then(this._init),A)}_init(A){I=A.instance,g.env.emscripten_notify_memory_growth(0)}decode(A,g=0){if(!I)throw new Error(\"ZSTDDecoder: Await .init() before decoding.\");const Q=A.byteLength,C=I.exports.malloc(Q);B.set(A,C),g=g||Number(I.exports.ZSTD_findDecompressedSize(C,Q));const E=I.exports.malloc(g),i=I.exports.ZSTD_decompress(E,g,C,Q),D=B.slice(E,E+i);return I.exports.free(C),I.exports.free(E),D}}const C=\"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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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\";export{Q as ZSTDDecoder};\n","/**\n * Loader for KTX 2.0 GPU Texture containers.\n *\n * KTX 2.0 is a container format for various GPU texture formats. The loader\n * supports Basis Universal GPU textures, which can be quickly transcoded to\n * a wide variety of GPU texture compression formats, as well as some\n * uncompressed DataTexture and Data3DTexture formats.\n *\n * References:\n * - KTX: http://github.khronos.org/KTX-Specification/\n * - DFD: https://www.khronos.org/registry/DataFormat/specs/1.3/dataformat.1.3.html#basicdescriptor\n * - BasisU HDR: https://github.com/BinomialLLC/basis_universal/wiki/UASTC-HDR-Texture-Specification-v1.0\n */\n\nimport {\n\tCompressedTexture,\n\tCompressedArrayTexture,\n\tCompressedCubeTexture,\n\tData3DTexture,\n\tDataTexture,\n\tFileLoader,\n\tFloatType,\n\tHalfFloatType,\n\tNoColorSpace,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearSRGBColorSpace,\n\tLoader,\n\tRedFormat,\n\tRGB_BPTC_UNSIGNED_Format,\n\tRGB_ETC1_Format,\n\tRGB_ETC2_Format,\n\tRGB_PVRTC_4BPPV1_Format,\n\tRGBA_ASTC_4x4_Format,\n\tRGBA_ASTC_6x6_Format,\n\tRGBA_BPTC_Format,\n\tRGBA_ETC2_EAC_Format,\n\tRGBA_PVRTC_4BPPV1_Format,\n\tRGBA_S3TC_DXT5_Format,\n\tRGBA_S3TC_DXT1_Format,\n\tRGBAFormat,\n\tRGFormat,\n\tSRGBColorSpace,\n\tUnsignedByteType,\n} from 'three';\nimport { WorkerPool } from '../utils/WorkerPool.js';\nimport {\n\tread,\n\tKHR_DF_FLAG_ALPHA_PREMULTIPLIED,\n\tKHR_DF_TRANSFER_SRGB,\n\tKHR_SUPERCOMPRESSION_NONE,\n\tKHR_SUPERCOMPRESSION_ZSTD,\n\tVK_FORMAT_UNDEFINED,\n\tVK_FORMAT_R16_SFLOAT,\n\tVK_FORMAT_R16G16_SFLOAT,\n\tVK_FORMAT_R16G16B16A16_SFLOAT,\n\tVK_FORMAT_R32_SFLOAT,\n\tVK_FORMAT_R32G32_SFLOAT,\n\tVK_FORMAT_R32G32B32A32_SFLOAT,\n\tVK_FORMAT_R8_SRGB,\n\tVK_FORMAT_R8_UNORM,\n\tVK_FORMAT_R8G8_SRGB,\n\tVK_FORMAT_R8G8_UNORM,\n\tVK_FORMAT_R8G8B8A8_SRGB,\n\tVK_FORMAT_R8G8B8A8_UNORM,\n\tVK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT,\n\tVK_FORMAT_ASTC_6x6_SRGB_BLOCK,\n\tVK_FORMAT_ASTC_6x6_UNORM_BLOCK,\n\tKHR_DF_PRIMARIES_UNSPECIFIED,\n\tKHR_DF_PRIMARIES_BT709,\n\tKHR_DF_PRIMARIES_DISPLAYP3\n} from '../libs/ktx-parse.module.js';\nimport { ZSTDDecoder } from '../libs/zstddec.module.js';\nimport { DisplayP3ColorSpace, LinearDisplayP3ColorSpace } from '../math/ColorSpaces.js';\n\nconst _taskCache = new WeakMap();\n\nlet _activeLoaders = 0;\n\nlet _zstd;\n\nclass KTX2Loader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.transcoderPath = '';\n\t\tthis.transcoderBinary = null;\n\t\tthis.transcoderPending = null;\n\n\t\tthis.workerPool = new WorkerPool();\n\t\tthis.workerSourceURL = '';\n\t\tthis.workerConfig = null;\n\n\t\tif ( typeof MSC_TRANSCODER !== 'undefined' ) {\n\n\t\t\tconsole.warn(\n\n\t\t\t\t'THREE.KTX2Loader: Please update to latest \"basis_transcoder\".'\n\t\t\t\t+ ' \"msc_basis_transcoder\" is no longer supported in three.js r125+.'\n\n\t\t\t);\n\n\t\t}\n\n\t}\n\n\tsetTranscoderPath( path ) {\n\n\t\tthis.transcoderPath = path;\n\n\t\treturn this;\n\n\t}\n\n\tsetWorkerLimit( num ) {\n\n\t\tthis.workerPool.setWorkerLimit( num );\n\n\t\treturn this;\n\n\t}\n\n\tasync detectSupportAsync( renderer ) {\n\n\t\tthis.workerConfig = {\n\t\t\tastcSupported: await renderer.hasFeatureAsync( 'texture-compression-astc' ),\n\t\t\tastcHDRSupported: false, // https://github.com/gpuweb/gpuweb/issues/3856\n\t\t\tetc1Supported: await renderer.hasFeatureAsync( 'texture-compression-etc1' ),\n\t\t\tetc2Supported: await renderer.hasFeatureAsync( 'texture-compression-etc2' ),\n\t\t\tdxtSupported: await renderer.hasFeatureAsync( 'texture-compression-bc' ),\n\t\t\tbptcSupported: await renderer.hasFeatureAsync( 'texture-compression-bptc' ),\n\t\t\tpvrtcSupported: await renderer.hasFeatureAsync( 'texture-compression-pvrtc' )\n\t\t};\n\n\t\treturn this;\n\n\t}\n\n\tdetectSupport( renderer ) {\n\n\t\tif ( renderer.isWebGPURenderer === true ) {\n\n\t\t\tthis.workerConfig = {\n\t\t\t\tastcSupported: renderer.hasFeature( 'texture-compression-astc' ),\n\t\t\t\tastcHDRSupported: false, // https://github.com/gpuweb/gpuweb/issues/3856\n\t\t\t\tetc1Supported: renderer.hasFeature( 'texture-compression-etc1' ),\n\t\t\t\tetc2Supported: renderer.hasFeature( 'texture-compression-etc2' ),\n\t\t\t\tdxtSupported: renderer.hasFeature( 'texture-compression-bc' ),\n\t\t\t\tbptcSupported: renderer.hasFeature( 'texture-compression-bptc' ),\n\t\t\t\tpvrtcSupported: renderer.hasFeature( 'texture-compression-pvrtc' )\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tthis.workerConfig = {\n\t\t\t\tastcSupported: renderer.extensions.has( 'WEBGL_compressed_texture_astc' ),\n\t\t\t\tastcHDRSupported: renderer.extensions.has( 'WEBGL_compressed_texture_astc' )\n\t\t\t\t\t&& renderer.extensions.get( 'WEBGL_compressed_texture_astc' ).getSupportedProfiles().includes( 'hdr' ),\n\t\t\t\tetc1Supported: renderer.extensions.has( 'WEBGL_compressed_texture_etc1' ),\n\t\t\t\tetc2Supported: renderer.extensions.has( 'WEBGL_compressed_texture_etc' ),\n\t\t\t\tdxtSupported: renderer.extensions.has( 'WEBGL_compressed_texture_s3tc' ),\n\t\t\t\tbptcSupported: renderer.extensions.has( 'EXT_texture_compression_bptc' ),\n\t\t\t\tpvrtcSupported: renderer.extensions.has( 'WEBGL_compressed_texture_pvrtc' )\n\t\t\t\t\t|| renderer.extensions.has( 'WEBKIT_WEBGL_compressed_texture_pvrtc' )\n\t\t\t};\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinit() {\n\n\t\tif ( ! this.transcoderPending ) {\n\n\t\t\t// Load transcoder wrapper.\n\t\t\tconst jsLoader = new FileLoader( this.manager );\n\t\t\tjsLoader.setPath( this.transcoderPath );\n\t\t\tjsLoader.setWithCredentials( this.withCredentials );\n\t\t\tconst jsContent = jsLoader.loadAsync( 'basis_transcoder.js' );\n\n\t\t\t// Load transcoder WASM binary.\n\t\t\tconst binaryLoader = new FileLoader( this.manager );\n\t\t\tbinaryLoader.setPath( this.transcoderPath );\n\t\t\tbinaryLoader.setResponseType( 'arraybuffer' );\n\t\t\tbinaryLoader.setWithCredentials( this.withCredentials );\n\t\t\tconst binaryContent = binaryLoader.loadAsync( 'basis_transcoder.wasm' );\n\n\t\t\tthis.transcoderPending = Promise.all( [ jsContent, binaryContent ] )\n\t\t\t\t.then( ( [ jsContent, binaryContent ] ) => {\n\n\t\t\t\t\tconst fn = KTX2Loader.BasisWorker.toString();\n\n\t\t\t\t\tconst body = [\n\t\t\t\t\t\t'/* constants */',\n\t\t\t\t\t\t'let _EngineFormat = ' + JSON.stringify( KTX2Loader.EngineFormat ),\n\t\t\t\t\t\t'let _EngineType = ' + JSON.stringify( KTX2Loader.EngineType ),\n\t\t\t\t\t\t'let _TranscoderFormat = ' + JSON.stringify( KTX2Loader.TranscoderFormat ),\n\t\t\t\t\t\t'let _BasisFormat = ' + JSON.stringify( KTX2Loader.BasisFormat ),\n\t\t\t\t\t\t'/* basis_transcoder.js */',\n\t\t\t\t\t\tjsContent,\n\t\t\t\t\t\t'/* worker */',\n\t\t\t\t\t\tfn.substring( fn.indexOf( '{' ) + 1, fn.lastIndexOf( '}' ) )\n\t\t\t\t\t].join( '\\n' );\n\n\t\t\t\t\tthis.workerSourceURL = URL.createObjectURL( new Blob( [ body ] ) );\n\t\t\t\t\tthis.transcoderBinary = binaryContent;\n\n\t\t\t\t\tthis.workerPool.setWorkerCreator( () => {\n\n\t\t\t\t\t\tconst worker = new Worker( this.workerSourceURL );\n\t\t\t\t\t\tconst transcoderBinary = this.transcoderBinary.slice( 0 );\n\n\t\t\t\t\t\tworker.postMessage( { type: 'init', config: this.workerConfig, transcoderBinary }, [ transcoderBinary ] );\n\n\t\t\t\t\t\treturn worker;\n\n\t\t\t\t\t} );\n\n\t\t\t\t} );\n\n\t\t\tif ( _activeLoaders > 0 ) {\n\n\t\t\t\t// Each instance loads a transcoder and allocates workers, increasing network and memory cost.\n\n\t\t\t\tconsole.warn(\n\n\t\t\t\t\t'THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues.'\n\t\t\t\t\t+ ' Use a single KTX2Loader instance, or call .dispose() on old instances.'\n\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\t_activeLoaders ++;\n\n\t\t}\n\n\t\treturn this.transcoderPending;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.workerConfig === null ) {\n\n\t\t\tthrow new Error( 'THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.' );\n\n\t\t}\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, ( buffer ) => {\n\n\t\t\tthis.parse( buffer, onLoad, onError );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( buffer, onLoad, onError ) {\n\n\t\tif ( this.workerConfig === null ) {\n\n\t\t\tthrow new Error( 'THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.' );\n\n\t\t}\n\n\t\t// Check for an existing task using this buffer. A transferred buffer cannot be transferred\n\t\t// again from this thread.\n\t\tif ( _taskCache.has( buffer ) ) {\n\n\t\t\tconst cachedTask = _taskCache.get( buffer );\n\n\t\t\treturn cachedTask.promise.then( onLoad ).catch( onError );\n\n\t\t}\n\n\t\tthis._createTexture( buffer )\n\t\t\t.then( ( texture ) => onLoad ? onLoad( texture ) : null )\n\t\t\t.catch( onError );\n\n\t}\n\n\t_createTextureFrom( transcodeResult, container ) {\n\n\t\tconst { type: messageType, error, data: { faces, width, height, format, type, dfdFlags } } = transcodeResult;\n\n\t\tif ( messageType === 'error' ) return Promise.reject( error );\n\n\t\tlet texture;\n\n\t\tif ( container.faceCount === 6 ) {\n\n\t\t\ttexture = new CompressedCubeTexture( faces, format, type );\n\n\t\t} else {\n\n\t\t\tconst mipmaps = faces[ 0 ].mipmaps;\n\n\t\t\ttexture = container.layerCount > 1\n\t\t\t\t? new CompressedArrayTexture( mipmaps, width, height, container.layerCount, format, type )\n\t\t\t\t: new CompressedTexture( mipmaps, width, height, format, type );\n\n\t\t}\n\n\t\ttexture.minFilter = faces[ 0 ].mipmaps.length === 1 ? LinearFilter : LinearMipmapLinearFilter;\n\t\ttexture.magFilter = LinearFilter;\n\t\ttexture.generateMipmaps = false;\n\n\t\ttexture.needsUpdate = true;\n\t\ttexture.colorSpace = parseColorSpace( container );\n\t\ttexture.premultiplyAlpha = !! ( dfdFlags & KHR_DF_FLAG_ALPHA_PREMULTIPLIED );\n\n\t\treturn texture;\n\n\t}\n\n\t/**\n\t * @param {ArrayBuffer} buffer\n\t * @param {object?} config\n\t * @return {Promise<CompressedTexture|CompressedArrayTexture|DataTexture|Data3DTexture>}\n\t */\n\tasync _createTexture( buffer, config = {} ) {\n\n\t\tconst container = read( new Uint8Array( buffer ) );\n\n\t\t// Basis UASTC HDR is a subset of ASTC, which can be transcoded efficiently\n\t\t// to BC6H. To detect whether a KTX2 file uses Basis UASTC HDR, or default\n\t\t// ASTC, inspect the DFD color model.\n\t\t//\n\t\t// Source: https://github.com/BinomialLLC/basis_universal/issues/381\n\t\tconst isBasisHDR = container.vkFormat === VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT\n\t\t\t&& container.dataFormatDescriptor[ 0 ].colorModel === 0xA7;\n\n\t\t// If the device supports ASTC, Basis UASTC HDR requires no transcoder.\n\t\tconst needsTranscoder = container.vkFormat === VK_FORMAT_UNDEFINED\n\t\t\t|| isBasisHDR && ! this.workerConfig.astcHDRSupported;\n\n\t\tif ( ! needsTranscoder ) {\n\n\t\t\treturn createRawTexture( container );\n\n\t\t}\n\n\t\t//\n\t\tconst taskConfig = config;\n\t\tconst texturePending = this.init().then( () => {\n\n\t\t\treturn this.workerPool.postMessage( { type: 'transcode', buffer, taskConfig: taskConfig }, [ buffer ] );\n\n\t\t} ).then( ( e ) => this._createTextureFrom( e.data, container ) );\n\n\t\t// Cache the task result.\n\t\t_taskCache.set( buffer, { promise: texturePending } );\n\n\t\treturn texturePending;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.workerPool.dispose();\n\t\tif ( this.workerSourceURL ) URL.revokeObjectURL( this.workerSourceURL );\n\n\t\t_activeLoaders --;\n\n\t\treturn this;\n\n\t}\n\n}\n\n\n/* CONSTANTS */\n\nKTX2Loader.BasisFormat = {\n\tETC1S: 0,\n\tUASTC: 1,\n\tUASTC_HDR: 2,\n};\n\n// Source: https://github.com/BinomialLLC/basis_universal/blob/master/webgl/texture_test/index.html\nKTX2Loader.TranscoderFormat = {\n\tETC1: 0,\n\tETC2: 1,\n\tBC1: 2,\n\tBC3: 3,\n\tBC4: 4,\n\tBC5: 5,\n\tBC7_M6_OPAQUE_ONLY: 6,\n\tBC7_M5: 7,\n\tPVRTC1_4_RGB: 8,\n\tPVRTC1_4_RGBA: 9,\n\tASTC_4x4: 10,\n\tATC_RGB: 11,\n\tATC_RGBA_INTERPOLATED_ALPHA: 12,\n\tRGBA32: 13,\n\tRGB565: 14,\n\tBGR565: 15,\n\tRGBA4444: 16,\n\tBC6H: 22,\n\tRGB_HALF: 24,\n\tRGBA_HALF: 25,\n};\n\nKTX2Loader.EngineFormat = {\n\tRGBAFormat: RGBAFormat,\n\tRGBA_ASTC_4x4_Format: RGBA_ASTC_4x4_Format,\n\tRGB_BPTC_UNSIGNED_Format: RGB_BPTC_UNSIGNED_Format,\n\tRGBA_BPTC_Format: RGBA_BPTC_Format,\n\tRGBA_ETC2_EAC_Format: RGBA_ETC2_EAC_Format,\n\tRGBA_PVRTC_4BPPV1_Format: RGBA_PVRTC_4BPPV1_Format,\n\tRGBA_S3TC_DXT5_Format: RGBA_S3TC_DXT5_Format,\n\tRGB_ETC1_Format: RGB_ETC1_Format,\n\tRGB_ETC2_Format: RGB_ETC2_Format,\n\tRGB_PVRTC_4BPPV1_Format: RGB_PVRTC_4BPPV1_Format,\n\tRGBA_S3TC_DXT1_Format: RGBA_S3TC_DXT1_Format,\n};\n\nKTX2Loader.EngineType = {\n\tUnsignedByteType: UnsignedByteType,\n\tHalfFloatType: HalfFloatType,\n\tFloatType: FloatType,\n};\n\n/* WEB WORKER */\n\nKTX2Loader.BasisWorker = function () {\n\n\tlet config;\n\tlet transcoderPending;\n\tlet BasisModule;\n\n\tconst EngineFormat = _EngineFormat; // eslint-disable-line no-undef\n\tconst EngineType = _EngineType; // eslint-disable-line no-undef\n\tconst TranscoderFormat = _TranscoderFormat; // eslint-disable-line no-undef\n\tconst BasisFormat = _BasisFormat; // eslint-disable-line no-undef\n\n\tself.addEventListener( 'message', function ( e ) {\n\n\t\tconst message = e.data;\n\n\t\tswitch ( message.type ) {\n\n\t\t\tcase 'init':\n\t\t\t\tconfig = message.config;\n\t\t\t\tinit( message.transcoderBinary );\n\t\t\t\tbreak;\n\n\t\t\tcase 'transcode':\n\t\t\t\ttranscoderPending.then( () => {\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\tconst { faces, buffers, width, height, hasAlpha, format, type, dfdFlags } = transcode( message.buffer );\n\n\t\t\t\t\t\tself.postMessage( { type: 'transcode', id: message.id, data: { faces, width, height, hasAlpha, format, type, dfdFlags } }, buffers );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tconsole.error( error );\n\n\t\t\t\t\t\tself.postMessage( { type: 'error', id: message.id, error: error.message } );\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t} );\n\n\tfunction init( wasmBinary ) {\n\n\t\ttranscoderPending = new Promise( ( resolve ) => {\n\n\t\t\tBasisModule = { wasmBinary, onRuntimeInitialized: resolve };\n\t\t\tBASIS( BasisModule ); // eslint-disable-line no-undef\n\n\t\t} ).then( () => {\n\n\t\t\tBasisModule.initializeBasis();\n\n\t\t\tif ( BasisModule.KTX2File === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.KTX2Loader: Please update Basis Universal transcoder.' );\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\tfunction transcode( buffer ) {\n\n\t\tconst ktx2File = new BasisModule.KTX2File( new Uint8Array( buffer ) );\n\n\t\tfunction cleanup() {\n\n\t\t\tktx2File.close();\n\t\t\tktx2File.delete();\n\n\t\t}\n\n\t\tif ( ! ktx2File.isValid() ) {\n\n\t\t\tcleanup();\n\t\t\tthrow new Error( 'THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file' );\n\n\t\t}\n\n\t\tlet basisFormat;\n\n\t\tif ( ktx2File.isUASTC() ) {\n\n\t\t\tbasisFormat = BasisFormat.UASTC;\n\n\t\t} else if ( ktx2File.isETC1S() ) {\n\n\t\t\tbasisFormat = BasisFormat.ETC1S;\n\n\t\t} else if ( ktx2File.isHDR() ) {\n\n\t\t\tbasisFormat = BasisFormat.UASTC_HDR;\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.KTX2Loader: Unknown Basis encoding' );\n\n\t\t}\n\n\t\tconst width = ktx2File.getWidth();\n\t\tconst height = ktx2File.getHeight();\n\t\tconst layerCount = ktx2File.getLayers() || 1;\n\t\tconst levelCount = ktx2File.getLevels();\n\t\tconst faceCount = ktx2File.getFaces();\n\t\tconst hasAlpha = ktx2File.getHasAlpha();\n\t\tconst dfdFlags = ktx2File.getDFDFlags();\n\n\t\tconst { transcoderFormat, engineFormat, engineType } = getTranscoderFormat( basisFormat, width, height, hasAlpha );\n\n\t\tif ( ! width || ! height || ! levelCount ) {\n\n\t\t\tcleanup();\n\t\t\tthrow new Error( 'THREE.KTX2Loader:\tInvalid texture' );\n\n\t\t}\n\n\t\tif ( ! ktx2File.startTranscoding() ) {\n\n\t\t\tcleanup();\n\t\t\tthrow new Error( 'THREE.KTX2Loader: .startTranscoding failed' );\n\n\t\t}\n\n\t\tconst faces = [];\n\t\tconst buffers = [];\n\n\t\tfor ( let face = 0; face < faceCount; face ++ ) {\n\n\t\t\tconst mipmaps = [];\n\n\t\t\tfor ( let mip = 0; mip < levelCount; mip ++ ) {\n\n\t\t\t\tconst layerMips = [];\n\n\t\t\t\tlet mipWidth, mipHeight;\n\n\t\t\t\tfor ( let layer = 0; layer < layerCount; layer ++ ) {\n\n\t\t\t\t\tconst levelInfo = ktx2File.getImageLevelInfo( mip, layer, face );\n\n\t\t\t\t\tif ( face === 0 && mip === 0 && layer === 0 && ( levelInfo.origWidth % 4 !== 0 || levelInfo.origHeight % 4 !== 0 ) ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( levelCount > 1 ) {\n\n\t\t\t\t\t\tmipWidth = levelInfo.origWidth;\n\t\t\t\t\t\tmipHeight = levelInfo.origHeight;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Handles non-multiple-of-four dimensions in textures without mipmaps. Textures with\n\t\t\t\t\t\t// mipmaps must use multiple-of-four dimensions, for some texture formats and APIs.\n\t\t\t\t\t\t// See mrdoob/three.js#25908.\n\t\t\t\t\t\tmipWidth = levelInfo.width;\n\t\t\t\t\t\tmipHeight = levelInfo.height;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlet dst = new Uint8Array( ktx2File.getImageTranscodedSizeInBytes( mip, layer, 0, transcoderFormat ) );\n\t\t\t\t\tconst status = ktx2File.transcodeImage( dst, mip, layer, face, transcoderFormat, 0, - 1, - 1 );\n\n\t\t\t\t\tif ( engineType === EngineType.HalfFloatType ) {\n\n\t\t\t\t\t\tdst = new Uint16Array( dst.buffer, dst.byteOffset, dst.byteLength / Uint16Array.BYTES_PER_ELEMENT );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! status ) {\n\n\t\t\t\t\t\tcleanup();\n\t\t\t\t\t\tthrow new Error( 'THREE.KTX2Loader: .transcodeImage failed.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayerMips.push( dst );\n\n\t\t\t\t}\n\n\t\t\t\tconst mipData = concat( layerMips );\n\n\t\t\t\tmipmaps.push( { data: mipData, width: mipWidth, height: mipHeight } );\n\t\t\t\tbuffers.push( mipData.buffer );\n\n\t\t\t}\n\n\t\t\tfaces.push( { mipmaps, width, height, format: engineFormat, type: engineType } );\n\n\t\t}\n\n\t\tcleanup();\n\n\t\treturn { faces, buffers, width, height, hasAlpha, dfdFlags, format: engineFormat, type: engineType };\n\n\t}\n\n\t//\n\n\t// Optimal choice of a transcoder target format depends on the Basis format (ETC1S, UASTC, or\n\t// UASTC HDR), device capabilities, and texture dimensions. The list below ranks the formats\n\t// separately for each format. Currently, priority is assigned based on:\n\t//\n\t//   high quality > low quality > uncompressed\n\t//\n\t// Prioritization may be revisited, or exposed for configuration, in the future.\n\t//\n\t// Reference: https://github.com/KhronosGroup/3D-Formats-Guidelines/blob/main/KTXDeveloperGuide.md\n\tconst FORMAT_OPTIONS = [\n\t\t{\n\t\t\tif: 'astcSupported',\n\t\t\tbasisFormat: [ BasisFormat.UASTC ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.ASTC_4x4, TranscoderFormat.ASTC_4x4 ],\n\t\t\tengineFormat: [ EngineFormat.RGBA_ASTC_4x4_Format, EngineFormat.RGBA_ASTC_4x4_Format ],\n\t\t\tengineType: [ EngineType.UnsignedByteType ],\n\t\t\tpriorityETC1S: Infinity,\n\t\t\tpriorityUASTC: 1,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\t\t{\n\t\t\tif: 'bptcSupported',\n\t\t\tbasisFormat: [ BasisFormat.ETC1S, BasisFormat.UASTC ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.BC7_M5, TranscoderFormat.BC7_M5 ],\n\t\t\tengineFormat: [ EngineFormat.RGBA_BPTC_Format, EngineFormat.RGBA_BPTC_Format ],\n\t\t\tengineType: [ EngineType.UnsignedByteType ],\n\t\t\tpriorityETC1S: 3,\n\t\t\tpriorityUASTC: 2,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\t\t{\n\t\t\tif: 'dxtSupported',\n\t\t\tbasisFormat: [ BasisFormat.ETC1S, BasisFormat.UASTC ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.BC1, TranscoderFormat.BC3 ],\n\t\t\tengineFormat: [ EngineFormat.RGBA_S3TC_DXT1_Format, EngineFormat.RGBA_S3TC_DXT5_Format ],\n\t\t\tengineType: [ EngineType.UnsignedByteType ],\n\t\t\tpriorityETC1S: 4,\n\t\t\tpriorityUASTC: 5,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\t\t{\n\t\t\tif: 'etc2Supported',\n\t\t\tbasisFormat: [ BasisFormat.ETC1S, BasisFormat.UASTC ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.ETC1, TranscoderFormat.ETC2 ],\n\t\t\tengineFormat: [ EngineFormat.RGB_ETC2_Format, EngineFormat.RGBA_ETC2_EAC_Format ],\n\t\t\tengineType: [ EngineType.UnsignedByteType ],\n\t\t\tpriorityETC1S: 1,\n\t\t\tpriorityUASTC: 3,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\t\t{\n\t\t\tif: 'etc1Supported',\n\t\t\tbasisFormat: [ BasisFormat.ETC1S, BasisFormat.UASTC ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.ETC1 ],\n\t\t\tengineFormat: [ EngineFormat.RGB_ETC1_Format ],\n\t\t\tengineType: [ EngineType.UnsignedByteType ],\n\t\t\tpriorityETC1S: 2,\n\t\t\tpriorityUASTC: 4,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\t\t{\n\t\t\tif: 'pvrtcSupported',\n\t\t\tbasisFormat: [ BasisFormat.ETC1S, BasisFormat.UASTC ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.PVRTC1_4_RGB, TranscoderFormat.PVRTC1_4_RGBA ],\n\t\t\tengineFormat: [ EngineFormat.RGB_PVRTC_4BPPV1_Format, EngineFormat.RGBA_PVRTC_4BPPV1_Format ],\n\t\t\tengineType: [ EngineType.UnsignedByteType ],\n\t\t\tpriorityETC1S: 5,\n\t\t\tpriorityUASTC: 6,\n\t\t\tneedsPowerOfTwo: true,\n\t\t},\n\t\t{\n\t\t\tif: 'bptcSupported',\n\t\t\tbasisFormat: [ BasisFormat.UASTC_HDR ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.BC6H ],\n\t\t\tengineFormat: [ EngineFormat.RGB_BPTC_UNSIGNED_Format ],\n\t\t\tengineType: [ EngineType.HalfFloatType ],\n\t\t\tpriorityHDR: 1,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\n\t\t// Uncompressed fallbacks.\n\n\t\t{\n\t\t\tbasisFormat: [ BasisFormat.ETC1S, BasisFormat.UASTC ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.RGBA32, TranscoderFormat.RGBA32 ],\n\t\t\tengineFormat: [ EngineFormat.RGBAFormat, EngineFormat.RGBAFormat ],\n\t\t\tengineType: [ EngineType.UnsignedByteType, EngineType.UnsignedByteType ],\n\t\t\tpriorityETC1S: 100,\n\t\t\tpriorityUASTC: 100,\n\t\t\tneedsPowerOfTwo: false,\n\t\t},\n\t\t{\n\t\t\tbasisFormat: [ BasisFormat.UASTC_HDR ],\n\t\t\ttranscoderFormat: [ TranscoderFormat.RGBA_HALF ],\n\t\t\tengineFormat: [ EngineFormat.RGBAFormat ],\n\t\t\tengineType: [ EngineType.HalfFloatType ],\n\t\t\tpriorityHDR: 100,\n\t\t\tneedsPowerOfTwo: false,\n\t\t}\n\t];\n\n\tconst OPTIONS = {\n\t\t// TODO: For ETC1S we intentionally sort by _UASTC_ priority, preserving\n\t\t// a historical accident shown to avoid performance pitfalls for Linux with\n\t\t// Firefox & AMD GPU (RadeonSI). Further work needed.\n\t\t// See https://github.com/mrdoob/three.js/pull/29730.\n\t\t[ BasisFormat.ETC1S ]: FORMAT_OPTIONS\n\t\t\t.filter( ( opt ) => opt.basisFormat.includes( BasisFormat.ETC1S ) )\n\t\t\t.sort( ( a, b ) => a.priorityUASTC - b.priorityUASTC ),\n\n\t\t[ BasisFormat.UASTC ]: FORMAT_OPTIONS\n\t\t\t.filter( ( opt ) => opt.basisFormat.includes( BasisFormat.UASTC ) )\n\t\t\t.sort( ( a, b ) => a.priorityUASTC - b.priorityUASTC ),\n\n\t\t[ BasisFormat.UASTC_HDR ]: FORMAT_OPTIONS\n\t\t\t.filter( ( opt ) => opt.basisFormat.includes( BasisFormat.UASTC_HDR ) )\n\t\t\t.sort( ( a, b ) => a.priorityHDR - b.priorityHDR ),\n\t};\n\n\tfunction getTranscoderFormat( basisFormat, width, height, hasAlpha ) {\n\n\t\tconst options = OPTIONS[ basisFormat ];\n\n\t\tfor ( let i = 0; i < options.length; i ++ ) {\n\n\t\t\tconst opt = options[ i ];\n\n\t\t\tif ( opt.if && ! config[ opt.if ] ) continue;\n\t\t\tif ( ! opt.basisFormat.includes( basisFormat ) ) continue;\n\t\t\tif ( hasAlpha && opt.transcoderFormat.length < 2 ) continue;\n\t\t\tif ( opt.needsPowerOfTwo && ! ( isPowerOfTwo( width ) && isPowerOfTwo( height ) ) ) continue;\n\n\t\t\tconst transcoderFormat = opt.transcoderFormat[ hasAlpha ? 1 : 0 ];\n\t\t\tconst engineFormat = opt.engineFormat[ hasAlpha ? 1 : 0 ];\n\t\t\tconst engineType = opt.engineType[ 0 ];\n\n\t\t\treturn { transcoderFormat, engineFormat, engineType };\n\n\t\t}\n\n\t\tthrow new Error( 'THREE.KTX2Loader: Failed to identify transcoding target.' );\n\n\t}\n\n\tfunction isPowerOfTwo( value ) {\n\n\t\tif ( value <= 2 ) return true;\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t}\n\n\t/**\n\t * Concatenates N byte arrays.\n\t *\n\t * @param {Uint8Array[]} arrays\n\t * @return {Uint8Array}\n\t */\n\tfunction concat( arrays ) {\n\n\t\tif ( arrays.length === 1 ) return arrays[ 0 ];\n\n\t\tlet totalByteLength = 0;\n\n\t\tfor ( let i = 0; i < arrays.length; i ++ ) {\n\n\t\t\tconst array = arrays[ i ];\n\t\t\ttotalByteLength += array.byteLength;\n\n\t\t}\n\n\t\tconst result = new Uint8Array( totalByteLength );\n\n\t\tlet byteOffset = 0;\n\n\t\tfor ( let i = 0; i < arrays.length; i ++ ) {\n\n\t\t\tconst array = arrays[ i ];\n\t\t\tresult.set( array, byteOffset );\n\n\t\t\tbyteOffset += array.byteLength;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n};\n\n// Parsing for non-Basis textures. These textures may have supercompression\n// like Zstd, but they do not require transcoding.\n\nconst UNCOMPRESSED_FORMATS = new Set( [ RGBAFormat, RGFormat, RedFormat ] );\n\nconst FORMAT_MAP = {\n\n\t[ VK_FORMAT_R32G32B32A32_SFLOAT ]: RGBAFormat,\n\t[ VK_FORMAT_R16G16B16A16_SFLOAT ]: RGBAFormat,\n\t[ VK_FORMAT_R8G8B8A8_UNORM ]: RGBAFormat,\n\t[ VK_FORMAT_R8G8B8A8_SRGB ]: RGBAFormat,\n\n\t[ VK_FORMAT_R32G32_SFLOAT ]: RGFormat,\n\t[ VK_FORMAT_R16G16_SFLOAT ]: RGFormat,\n\t[ VK_FORMAT_R8G8_UNORM ]: RGFormat,\n\t[ VK_FORMAT_R8G8_SRGB ]: RGFormat,\n\n\t[ VK_FORMAT_R32_SFLOAT ]: RedFormat,\n\t[ VK_FORMAT_R16_SFLOAT ]: RedFormat,\n\t[ VK_FORMAT_R8_SRGB ]: RedFormat,\n\t[ VK_FORMAT_R8_UNORM ]: RedFormat,\n\n\t[ VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT ]: RGBA_ASTC_4x4_Format,\n\t[ VK_FORMAT_ASTC_6x6_SRGB_BLOCK ]: RGBA_ASTC_6x6_Format,\n\t[ VK_FORMAT_ASTC_6x6_UNORM_BLOCK ]: RGBA_ASTC_6x6_Format,\n\n};\n\nconst TYPE_MAP = {\n\n\t[ VK_FORMAT_R32G32B32A32_SFLOAT ]: FloatType,\n\t[ VK_FORMAT_R16G16B16A16_SFLOAT ]: HalfFloatType,\n\t[ VK_FORMAT_R8G8B8A8_UNORM ]: UnsignedByteType,\n\t[ VK_FORMAT_R8G8B8A8_SRGB ]: UnsignedByteType,\n\n\t[ VK_FORMAT_R32G32_SFLOAT ]: FloatType,\n\t[ VK_FORMAT_R16G16_SFLOAT ]: HalfFloatType,\n\t[ VK_FORMAT_R8G8_UNORM ]: UnsignedByteType,\n\t[ VK_FORMAT_R8G8_SRGB ]: UnsignedByteType,\n\n\t[ VK_FORMAT_R32_SFLOAT ]: FloatType,\n\t[ VK_FORMAT_R16_SFLOAT ]: HalfFloatType,\n\t[ VK_FORMAT_R8_SRGB ]: UnsignedByteType,\n\t[ VK_FORMAT_R8_UNORM ]: UnsignedByteType,\n\n\t[ VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT ]: HalfFloatType,\n\t[ VK_FORMAT_ASTC_6x6_SRGB_BLOCK ]: UnsignedByteType,\n\t[ VK_FORMAT_ASTC_6x6_UNORM_BLOCK ]: UnsignedByteType,\n\n};\n\nasync function createRawTexture( container ) {\n\n\tconst { vkFormat } = container;\n\n\tif ( FORMAT_MAP[ vkFormat ] === undefined ) {\n\n\t\tthrow new Error( 'THREE.KTX2Loader: Unsupported vkFormat.' );\n\n\t}\n\n\t//\n\n\tlet zstd;\n\n\tif ( container.supercompressionScheme === KHR_SUPERCOMPRESSION_ZSTD ) {\n\n\t\tif ( ! _zstd ) {\n\n\t\t\t_zstd = new Promise( async ( resolve ) => {\n\n\t\t\t\tconst zstd = new ZSTDDecoder();\n\t\t\t\tawait zstd.init();\n\t\t\t\tresolve( zstd );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tzstd = await _zstd;\n\n\t}\n\n\t//\n\n\tconst mipmaps = [];\n\n\n\tfor ( let levelIndex = 0; levelIndex < container.levels.length; levelIndex ++ ) {\n\n\t\tconst levelWidth = Math.max( 1, container.pixelWidth >> levelIndex );\n\t\tconst levelHeight = Math.max( 1, container.pixelHeight >> levelIndex );\n\t\tconst levelDepth = container.pixelDepth ? Math.max( 1, container.pixelDepth >> levelIndex ) : 0;\n\n\t\tconst level = container.levels[ levelIndex ];\n\n\t\tlet levelData;\n\n\t\tif ( container.supercompressionScheme === KHR_SUPERCOMPRESSION_NONE ) {\n\n\t\t\tlevelData = level.levelData;\n\n\t\t} else if ( container.supercompressionScheme === KHR_SUPERCOMPRESSION_ZSTD ) {\n\n\t\t\tlevelData = zstd.decode( level.levelData, level.uncompressedByteLength );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.KTX2Loader: Unsupported supercompressionScheme.' );\n\n\t\t}\n\n\t\tlet data;\n\n\t\tif ( TYPE_MAP[ vkFormat ] === FloatType ) {\n\n\t\t\tdata = new Float32Array(\n\n\t\t\t\tlevelData.buffer,\n\t\t\t\tlevelData.byteOffset,\n\t\t\t\tlevelData.byteLength / Float32Array.BYTES_PER_ELEMENT\n\n\t\t\t);\n\n\t\t} else if ( TYPE_MAP[ vkFormat ] === HalfFloatType ) {\n\n\t\t\tdata = new Uint16Array(\n\n\t\t\t\tlevelData.buffer,\n\t\t\t\tlevelData.byteOffset,\n\t\t\t\tlevelData.byteLength / Uint16Array.BYTES_PER_ELEMENT\n\n\t\t\t);\n\n\t\t} else {\n\n\t\t\tdata = levelData;\n\n\t\t}\n\n\t\tmipmaps.push( {\n\n\t\t\tdata: data,\n\t\t\twidth: levelWidth,\n\t\t\theight: levelHeight,\n\t\t\tdepth: levelDepth,\n\n\t\t} );\n\n\t}\n\n\tlet texture;\n\n\tif ( UNCOMPRESSED_FORMATS.has( FORMAT_MAP[ vkFormat ] ) ) {\n\n\t\ttexture = container.pixelDepth === 0\n\t\t\t? new DataTexture( mipmaps[ 0 ].data, container.pixelWidth, container.pixelHeight )\n\t\t\t: new Data3DTexture( mipmaps[ 0 ].data, container.pixelWidth, container.pixelHeight, container.pixelDepth );\n\n\t} else {\n\n\t\tif ( container.pixelDepth > 0 ) throw new Error( 'THREE.KTX2Loader: Unsupported pixelDepth.' );\n\n\t\ttexture = new CompressedTexture( mipmaps, container.pixelWidth, container.pixelHeight );\n\n\t\ttexture.minFilter = mipmaps.length === 1 ? LinearFilter : LinearMipmapLinearFilter;\n\t\ttexture.magFilter = LinearFilter;\n\n\t}\n\n\ttexture.mipmaps = mipmaps;\n\n\ttexture.type = TYPE_MAP[ vkFormat ];\n\ttexture.format = FORMAT_MAP[ vkFormat ];\n\ttexture.colorSpace = parseColorSpace( container );\n\ttexture.needsUpdate = true;\n\n\t//\n\n\treturn Promise.resolve( texture );\n\n}\n\nfunction parseColorSpace( container ) {\n\n\tconst dfd = container.dataFormatDescriptor[ 0 ];\n\n\tif ( dfd.colorPrimaries === KHR_DF_PRIMARIES_BT709 ) {\n\n\t\treturn dfd.transferFunction === KHR_DF_TRANSFER_SRGB ? SRGBColorSpace : LinearSRGBColorSpace;\n\n\t} else if ( dfd.colorPrimaries === KHR_DF_PRIMARIES_DISPLAYP3 ) {\n\n\t\treturn dfd.transferFunction === KHR_DF_TRANSFER_SRGB ? DisplayP3ColorSpace : LinearDisplayP3ColorSpace;\n\n\t} else if ( dfd.colorPrimaries === KHR_DF_PRIMARIES_UNSPECIFIED ) {\n\n\t\treturn NoColorSpace;\n\n\t} else {\n\n\t\tconsole.warn( `THREE.KTX2Loader: Unsupported color primaries, \"${ dfd.colorPrimaries }\"` );\n\t\treturn NoColorSpace;\n\n\t}\n\n}\n\nexport { KTX2Loader };\n","import { LinearTransfer, Matrix3, SRGBTransfer } from 'three';\n\n// Reference: http://www.russellcottrell.com/photo/matrixCalculator.htm\n\nconst P3_PRIMARIES = [ 0.680, 0.320, 0.265, 0.690, 0.150, 0.060 ];\nconst P3_LUMINANCE_COEFFICIENTS = [ 0.2289, 0.6917, 0.0793 ];\nconst REC2020_PRIMARIES = [ 0.708, 0.292, 0.170, 0.797, 0.131, 0.046 ];\nconst REC2020_LUMINANCE_COEFFICIENTS = [ 0.2627, 0.6780, 0.0593 ];\nconst D65 = [ 0.3127, 0.3290 ];\n\n/******************************************************************************\n * Display P3 definitions\n */\n\nconst LINEAR_DISPLAY_P3_TO_XYZ = /*@__PURE__*/ new Matrix3().set(\n\t0.4865709, 0.2656677, 0.1982173,\n\t0.2289746, 0.6917385, 0.0792869,\n\t0.0000000, 0.0451134, 1.0439444\n);\n\nconst XYZ_TO_LINEAR_DISPLAY_P3 = /*@__PURE__*/ new Matrix3().set(\n\t2.4934969, - 0.9313836, - 0.4027108,\n\t- 0.8294890, 1.7626641, 0.0236247,\n\t0.0358458, - 0.0761724, 0.9568845\n);\n\nexport const DisplayP3ColorSpace = 'display-p3';\nexport const LinearDisplayP3ColorSpace = 'display-p3-linear';\n\nexport const DisplayP3ColorSpaceImpl = {\n\tprimaries: P3_PRIMARIES,\n\twhitePoint: D65,\n\ttransfer: SRGBTransfer,\n\ttoXYZ: LINEAR_DISPLAY_P3_TO_XYZ,\n\tfromXYZ: XYZ_TO_LINEAR_DISPLAY_P3,\n\tluminanceCoefficients: P3_LUMINANCE_COEFFICIENTS,\n\toutputColorSpaceConfig: { drawingBufferColorSpace: DisplayP3ColorSpace }\n};\n\nexport const LinearDisplayP3ColorSpaceImpl = {\n\tprimaries: P3_PRIMARIES,\n\twhitePoint: D65,\n\ttransfer: LinearTransfer,\n\ttoXYZ: LINEAR_DISPLAY_P3_TO_XYZ,\n\tfromXYZ: XYZ_TO_LINEAR_DISPLAY_P3,\n\tluminanceCoefficients: P3_LUMINANCE_COEFFICIENTS,\n\tworkingColorSpaceConfig: { unpackColorSpace: DisplayP3ColorSpace },\n\toutputColorSpaceConfig: { drawingBufferColorSpace: DisplayP3ColorSpace }\n};\n\n/******************************************************************************\n * Rec. 2020 definitions\n */\n\nconst LINEAR_REC2020_TO_XYZ = /*@__PURE__*/ new Matrix3().set(\n\t0.6369580, 0.1446169, 0.1688810,\n\t0.2627002, 0.6779981, 0.0593017,\n\t0.0000000, 0.0280727, 1.0609851\n);\n\nconst XYZ_TO_LINEAR_REC2020 = /*@__PURE__*/ new Matrix3().set(\n\t1.7166512, - 0.3556708, - 0.2533663,\n\t- 0.6666844, 1.6164812, 0.0157685,\n\t0.0176399, - 0.0427706, 0.9421031\n);\n\nexport const LinearRec2020ColorSpace = 'rec2020-linear';\n\nexport const LinearRec2020ColorSpaceImpl = {\n\tprimaries: REC2020_PRIMARIES,\n\twhitePoint: D65,\n\ttransfer: LinearTransfer,\n\ttoXYZ: LINEAR_REC2020_TO_XYZ,\n\tfromXYZ: XYZ_TO_LINEAR_REC2020,\n\tluminanceCoefficients: REC2020_LUMINANCE_COEFFICIENTS,\n};\n","import {\n\tBox3,\n\tMathUtils,\n\tMatrix4,\n\tMatrix3,\n\tRay,\n\tVector3\n} from 'three';\n\n// module scope helper variables\n\nconst a = {\n\tc: null, // center\n\tu: [ new Vector3(), new Vector3(), new Vector3() ], // basis vectors\n\te: [] // half width\n};\n\nconst b = {\n\tc: null, // center\n\tu: [ new Vector3(), new Vector3(), new Vector3() ], // basis vectors\n\te: [] // half width\n};\n\nconst R = [[], [], []];\nconst AbsR = [[], [], []];\nconst t = [];\n\nconst xAxis = new Vector3();\nconst yAxis = new Vector3();\nconst zAxis = new Vector3();\nconst v1 = new Vector3();\nconst size = new Vector3();\nconst closestPoint = new Vector3();\nconst rotationMatrix = new Matrix3();\nconst aabb = new Box3();\nconst matrix = new Matrix4();\nconst inverse = new Matrix4();\nconst localRay = new Ray();\n\n// OBB\n\nclass OBB {\n\n\tconstructor( center = new Vector3(), halfSize = new Vector3(), rotation = new Matrix3() ) {\n\n\t\tthis.center = center;\n\t\tthis.halfSize = halfSize;\n\t\tthis.rotation = rotation;\n\n\t}\n\n\tset( center, halfSize, rotation ) {\n\n\t\tthis.center = center;\n\t\tthis.halfSize = halfSize;\n\t\tthis.rotation = rotation;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( obb ) {\n\n\t\tthis.center.copy( obb.center );\n\t\tthis.halfSize.copy( obb.halfSize );\n\t\tthis.rotation.copy( obb.rotation );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tgetSize( result ) {\n\n\t\treturn result.copy( this.halfSize ).multiplyScalar( 2 );\n\n\t}\n\n\t/**\n\t* Reference: Closest Point on OBB to Point in Real-Time Collision Detection\n\t* by Christer Ericson (chapter 5.1.4)\n\t*\n\t* @param {Vector3} point\n\t* @param {Vector3} result\n\t* @returns {Vector3}\n\t*/\n\tclampPoint( point, result ) {\n\n\t\tconst halfSize = this.halfSize;\n\n\t\tv1.subVectors( point, this.center );\n\t\tthis.rotation.extractBasis( xAxis, yAxis, zAxis );\n\n\t\t// start at the center position of the OBB\n\n\t\tresult.copy( this.center );\n\n\t\t// project the target onto the OBB axes and walk towards that point\n\n\t\tconst x = MathUtils.clamp( v1.dot( xAxis ), - halfSize.x, halfSize.x );\n\t\tresult.add( xAxis.multiplyScalar( x ) );\n\n\t\tconst y = MathUtils.clamp( v1.dot( yAxis ), - halfSize.y, halfSize.y );\n\t\tresult.add( yAxis.multiplyScalar( y ) );\n\n\t\tconst z = MathUtils.clamp( v1.dot( zAxis ), - halfSize.z, halfSize.z );\n\t\tresult.add( zAxis.multiplyScalar( z ) );\n\n\t\treturn result;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tv1.subVectors( point, this.center );\n\t\tthis.rotation.extractBasis( xAxis, yAxis, zAxis );\n\n\t\t// project v1 onto each axis and check if these points lie inside the OBB\n\n\t\treturn Math.abs( v1.dot( xAxis ) ) <= this.halfSize.x &&\n\t\t\t\tMath.abs( v1.dot( yAxis ) ) <= this.halfSize.y &&\n\t\t\t\tMath.abs( v1.dot( zAxis ) ) <= this.halfSize.z;\n\n\t}\n\n\tintersectsBox3( box3 ) {\n\n\t\treturn this.intersectsOBB( obb.fromBox3( box3 ) );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// find the point on the OBB closest to the sphere center\n\n\t\tthis.clampPoint( sphere.center, closestPoint );\n\n\t\t// if that point is inside the sphere, the OBB and sphere intersect\n\n\t\treturn closestPoint.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\t/**\n\t* Reference: OBB-OBB Intersection in Real-Time Collision Detection\n\t* by Christer Ericson (chapter 4.4.1)\n\t*\n\t* @param {OBB} obb\n\t* @param {Number} [epsilon=Number.EPSILON] - A small value to prevent arithmetic errors\n\t* @returns {Boolean}\n\t*/\n\tintersectsOBB( obb, epsilon = Number.EPSILON ) {\n\n\t\t// prepare data structures (the code uses the same nomenclature like the reference)\n\n\t\ta.c = this.center;\n\t\ta.e[ 0 ] = this.halfSize.x;\n\t\ta.e[ 1 ] = this.halfSize.y;\n\t\ta.e[ 2 ] = this.halfSize.z;\n\t\tthis.rotation.extractBasis( a.u[ 0 ], a.u[ 1 ], a.u[ 2 ] );\n\n\t\tb.c = obb.center;\n\t\tb.e[ 0 ] = obb.halfSize.x;\n\t\tb.e[ 1 ] = obb.halfSize.y;\n\t\tb.e[ 2 ] = obb.halfSize.z;\n\t\tobb.rotation.extractBasis( b.u[ 0 ], b.u[ 1 ], b.u[ 2 ] );\n\n\t\t// compute rotation matrix expressing b in a's coordinate frame\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\tR[ i ][ j ] = a.u[ i ].dot( b.u[ j ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute translation vector\n\n\t\tv1.subVectors( b.c, a.c );\n\n\t\t// bring translation into a's coordinate frame\n\n\t\tt[ 0 ] = v1.dot( a.u[ 0 ] );\n\t\tt[ 1 ] = v1.dot( a.u[ 1 ] );\n\t\tt[ 2 ] = v1.dot( a.u[ 2 ] );\n\n\t\t// compute common subexpressions. Add in an epsilon term to\n\t\t// counteract arithmetic errors when two edges are parallel and\n\t\t// their cross product is (near) null\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\tAbsR[ i ][ j ] = Math.abs( R[ i ][ j ] ) + epsilon;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet ra, rb;\n\n\t\t// test axes L = A0, L = A1, L = A2\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tra = a.e[ i ];\n\t\t\trb = b.e[ 0 ] * AbsR[ i ][ 0 ] + b.e[ 1 ] * AbsR[ i ][ 1 ] + b.e[ 2 ] * AbsR[ i ][ 2 ];\n\t\t\tif ( Math.abs( t[ i ] ) > ra + rb ) return false;\n\n\n\t\t}\n\n\t\t// test axes L = B0, L = B1, L = B2\n\n\t\tfor ( let i = 0; i < 3; i ++ ) {\n\n\t\t\tra = a.e[ 0 ] * AbsR[ 0 ][ i ] + a.e[ 1 ] * AbsR[ 1 ][ i ] + a.e[ 2 ] * AbsR[ 2 ][ i ];\n\t\t\trb = b.e[ i ];\n\t\t\tif ( Math.abs( t[ 0 ] * R[ 0 ][ i ] + t[ 1 ] * R[ 1 ][ i ] + t[ 2 ] * R[ 2 ][ i ] ) > ra + rb ) return false;\n\n\t\t}\n\n\t\t// test axis L = A0 x B0\n\n\t\tra = a.e[ 1 ] * AbsR[ 2 ][ 0 ] + a.e[ 2 ] * AbsR[ 1 ][ 0 ];\n\t\trb = b.e[ 1 ] * AbsR[ 0 ][ 2 ] + b.e[ 2 ] * AbsR[ 0 ][ 1 ];\n\t\tif ( Math.abs( t[ 2 ] * R[ 1 ][ 0 ] - t[ 1 ] * R[ 2 ][ 0 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A0 x B1\n\n\t\tra = a.e[ 1 ] * AbsR[ 2 ][ 1 ] + a.e[ 2 ] * AbsR[ 1 ][ 1 ];\n\t\trb = b.e[ 0 ] * AbsR[ 0 ][ 2 ] + b.e[ 2 ] * AbsR[ 0 ][ 0 ];\n\t\tif ( Math.abs( t[ 2 ] * R[ 1 ][ 1 ] - t[ 1 ] * R[ 2 ][ 1 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A0 x B2\n\n\t\tra = a.e[ 1 ] * AbsR[ 2 ][ 2 ] + a.e[ 2 ] * AbsR[ 1 ][ 2 ];\n\t\trb = b.e[ 0 ] * AbsR[ 0 ][ 1 ] + b.e[ 1 ] * AbsR[ 0 ][ 0 ];\n\t\tif ( Math.abs( t[ 2 ] * R[ 1 ][ 2 ] - t[ 1 ] * R[ 2 ][ 2 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A1 x B0\n\n\t\tra = a.e[ 0 ] * AbsR[ 2 ][ 0 ] + a.e[ 2 ] * AbsR[ 0 ][ 0 ];\n\t\trb = b.e[ 1 ] * AbsR[ 1 ][ 2 ] + b.e[ 2 ] * AbsR[ 1 ][ 1 ];\n\t\tif ( Math.abs( t[ 0 ] * R[ 2 ][ 0 ] - t[ 2 ] * R[ 0 ][ 0 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A1 x B1\n\n\t\tra = a.e[ 0 ] * AbsR[ 2 ][ 1 ] + a.e[ 2 ] * AbsR[ 0 ][ 1 ];\n\t\trb = b.e[ 0 ] * AbsR[ 1 ][ 2 ] + b.e[ 2 ] * AbsR[ 1 ][ 0 ];\n\t\tif ( Math.abs( t[ 0 ] * R[ 2 ][ 1 ] - t[ 2 ] * R[ 0 ][ 1 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A1 x B2\n\n\t\tra = a.e[ 0 ] * AbsR[ 2 ][ 2 ] + a.e[ 2 ] * AbsR[ 0 ][ 2 ];\n\t\trb = b.e[ 0 ] * AbsR[ 1 ][ 1 ] + b.e[ 1 ] * AbsR[ 1 ][ 0 ];\n\t\tif ( Math.abs( t[ 0 ] * R[ 2 ][ 2 ] - t[ 2 ] * R[ 0 ][ 2 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A2 x B0\n\n\t\tra = a.e[ 0 ] * AbsR[ 1 ][ 0 ] + a.e[ 1 ] * AbsR[ 0 ][ 0 ];\n\t\trb = b.e[ 1 ] * AbsR[ 2 ][ 2 ] + b.e[ 2 ] * AbsR[ 2 ][ 1 ];\n\t\tif ( Math.abs( t[ 1 ] * R[ 0 ][ 0 ] - t[ 0 ] * R[ 1 ][ 0 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A2 x B1\n\n\t\tra = a.e[ 0 ] * AbsR[ 1 ][ 1 ] + a.e[ 1 ] * AbsR[ 0 ][ 1 ];\n\t\trb = b.e[ 0 ] * AbsR[ 2 ][ 2 ] + b.e[ 2 ] * AbsR[ 2 ][ 0 ];\n\t\tif ( Math.abs( t[ 1 ] * R[ 0 ][ 1 ] - t[ 0 ] * R[ 1 ][ 1 ] ) > ra + rb ) return false;\n\n\t\t// test axis L = A2 x B2\n\n\t\tra = a.e[ 0 ] * AbsR[ 1 ][ 2 ] + a.e[ 1 ] * AbsR[ 0 ][ 2 ];\n\t\trb = b.e[ 0 ] * AbsR[ 2 ][ 1 ] + b.e[ 1 ] * AbsR[ 2 ][ 0 ];\n\t\tif ( Math.abs( t[ 1 ] * R[ 0 ][ 2 ] - t[ 0 ] * R[ 1 ][ 2 ] ) > ra + rb ) return false;\n\n\t\t// since no separating axis is found, the OBBs must be intersecting\n\n\t\treturn true;\n\n\t}\n\n\t/**\n\t* Reference: Testing Box Against Plane in Real-Time Collision Detection\n\t* by Christer Ericson (chapter 5.2.3)\n\t*\n\t* @param {Plane} plane\n\t* @returns {Boolean}\n\t*/\n\tintersectsPlane( plane ) {\n\n\t\tthis.rotation.extractBasis( xAxis, yAxis, zAxis );\n\n\t\t// compute the projection interval radius of this OBB onto L(t) = this->center + t * p.normal;\n\n\t\tconst r = this.halfSize.x * Math.abs( plane.normal.dot( xAxis ) ) +\n\t\t\t\tthis.halfSize.y * Math.abs( plane.normal.dot( yAxis ) ) +\n\t\t\t\tthis.halfSize.z * Math.abs( plane.normal.dot( zAxis ) );\n\n\t\t// compute distance of the OBB's center from the plane\n\n\t\tconst d = plane.normal.dot( this.center ) - plane.constant;\n\n\t\t// Intersection occurs when distance d falls within [-r,+r] interval\n\n\t\treturn Math.abs( d ) <= r;\n\n\t}\n\n\t/**\n\t* Performs a ray/OBB intersection test and stores the intersection point\n\t* to the given 3D vector. If no intersection is detected, *null* is returned.\n\t*\n\t* @param {Ray} ray\n\t* @param {Vector3} result\n\t* @return {Vector3?}\n\t*/\n\tintersectRay( ray, result ) {\n\n\t\t// the idea is to perform the intersection test in the local space\n\t\t// of the OBB.\n\n\t\tthis.getSize( size );\n\t\taabb.setFromCenterAndSize( v1.set( 0, 0, 0 ), size );\n\n\t\t// create a 4x4 transformation matrix\n\n\t\tmatrix.setFromMatrix3( this.rotation );\n\t\tmatrix.setPosition( this.center );\n\n\t\t// transform ray to the local space of the OBB\n\n\t\tinverse.copy( matrix ).invert();\n\t\tlocalRay.copy( ray ).applyMatrix4( inverse );\n\n\t\t// perform ray <-> AABB intersection test\n\n\t\tif ( localRay.intersectBox( aabb, result ) ) {\n\n\t\t\t// transform the intersection point back to world space\n\n\t\t\treturn result.applyMatrix4( matrix );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n\t/**\n\t* Performs a ray/OBB intersection test. Returns either true or false if\n\t* there is a intersection or not.\n\t*\n\t* @param {Ray} ray\n\t* @returns {Boolean}\n\t*/\n\tintersectsRay( ray ) {\n\n\t\treturn this.intersectRay( ray, v1 ) !== null;\n\n\t}\n\n\tfromBox3( box3 ) {\n\n\t\tbox3.getCenter( this.center );\n\n\t\tbox3.getSize( this.halfSize ).multiplyScalar( 0.5 );\n\n\t\tthis.rotation.identity();\n\n\t\treturn this;\n\n\t}\n\n\tequals( obb ) {\n\n\t\treturn obb.center.equals( this.center ) &&\n\t\t\tobb.halfSize.equals( this.halfSize ) &&\n\t\t\tobb.rotation.equals( this.rotation );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst e = matrix.elements;\n\n\t\tlet sx = v1.set( e[ 0 ], e[ 1 ], e[ 2 ] ).length();\n\t\tconst sy = v1.set( e[ 4 ], e[ 5 ], e[ 6 ] ).length();\n\t\tconst sz = v1.set( e[ 8 ], e[ 9 ], e[ 10 ] ).length();\n\n\t\tconst det = matrix.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\trotationMatrix.setFromMatrix4( matrix );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\trotationMatrix.elements[ 0 ] *= invSX;\n\t\trotationMatrix.elements[ 1 ] *= invSX;\n\t\trotationMatrix.elements[ 2 ] *= invSX;\n\n\t\trotationMatrix.elements[ 3 ] *= invSY;\n\t\trotationMatrix.elements[ 4 ] *= invSY;\n\t\trotationMatrix.elements[ 5 ] *= invSY;\n\n\t\trotationMatrix.elements[ 6 ] *= invSZ;\n\t\trotationMatrix.elements[ 7 ] *= invSZ;\n\t\trotationMatrix.elements[ 8 ] *= invSZ;\n\n\t\tthis.rotation.multiply( rotationMatrix );\n\n\t\tthis.halfSize.x *= sx;\n\t\tthis.halfSize.y *= sy;\n\t\tthis.halfSize.z *= sz;\n\n\t\tv1.setFromMatrixPosition( matrix );\n\t\tthis.center.add( v1 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst obb = new OBB();\n\nexport { OBB };\n","import {\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tGroup,\n\tLineBasicMaterial,\n\tLineSegments,\n\tLoader,\n\tMaterial,\n\tMesh,\n\tMeshPhongMaterial,\n\tPoints,\n\tPointsMaterial,\n\tVector3,\n\tColor,\n\tSRGBColorSpace\n} from 'three';\n\n// o object_name | g group_name\nconst _object_pattern = /^[og]\\s*(.+)?/;\n// mtllib file_reference\nconst _material_library_pattern = /^mtllib /;\n// usemtl material_name\nconst _material_use_pattern = /^usemtl /;\n// usemap map_name\nconst _map_use_pattern = /^usemap /;\nconst _face_vertex_data_separator_pattern = /\\s+/;\n\nconst _vA = new Vector3();\nconst _vB = new Vector3();\nconst _vC = new Vector3();\n\nconst _ab = new Vector3();\nconst _cb = new Vector3();\n\nconst _color = new Color();\n\nfunction ParserState() {\n\n\tconst state = {\n\t\tobjects: [],\n\t\tobject: {},\n\n\t\tvertices: [],\n\t\tnormals: [],\n\t\tcolors: [],\n\t\tuvs: [],\n\n\t\tmaterials: {},\n\t\tmaterialLibraries: [],\n\n\t\tstartObject: function ( name, fromDeclaration ) {\n\n\t\t\t// If the current object (initial from reset) is not from a g/o declaration in the parsed\n\t\t\t// file. We need to use it for the first parsed g/o to keep things in sync.\n\t\t\tif ( this.object && this.object.fromDeclaration === false ) {\n\n\t\t\t\tthis.object.name = name;\n\t\t\t\tthis.object.fromDeclaration = ( fromDeclaration !== false );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst previousMaterial = ( this.object && typeof this.object.currentMaterial === 'function' ? this.object.currentMaterial() : undefined );\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t\tthis.object = {\n\t\t\t\tname: name || '',\n\t\t\t\tfromDeclaration: ( fromDeclaration !== false ),\n\n\t\t\t\tgeometry: {\n\t\t\t\t\tvertices: [],\n\t\t\t\t\tnormals: [],\n\t\t\t\t\tcolors: [],\n\t\t\t\t\tuvs: [],\n\t\t\t\t\thasUVIndices: false\n\t\t\t\t},\n\t\t\t\tmaterials: [],\n\t\t\t\tsmooth: true,\n\n\t\t\t\tstartMaterial: function ( name, libraries ) {\n\n\t\t\t\t\tconst previous = this._finalize( false );\n\n\t\t\t\t\t// New usemtl declaration overwrites an inherited material, except if faces were declared\n\t\t\t\t\t// after the material, then it must be preserved for proper MultiMaterial continuation.\n\t\t\t\t\tif ( previous && ( previous.inherited || previous.groupCount <= 0 ) ) {\n\n\t\t\t\t\t\tthis.materials.splice( previous.index, 1 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst material = {\n\t\t\t\t\t\tindex: this.materials.length,\n\t\t\t\t\t\tname: name || '',\n\t\t\t\t\t\tmtllib: ( Array.isArray( libraries ) && libraries.length > 0 ? libraries[ libraries.length - 1 ] : '' ),\n\t\t\t\t\t\tsmooth: ( previous !== undefined ? previous.smooth : this.smooth ),\n\t\t\t\t\t\tgroupStart: ( previous !== undefined ? previous.groupEnd : 0 ),\n\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\tinherited: false,\n\n\t\t\t\t\t\tclone: function ( index ) {\n\n\t\t\t\t\t\t\tconst cloned = {\n\t\t\t\t\t\t\t\tindex: ( typeof index === 'number' ? index : this.index ),\n\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\tmtllib: this.mtllib,\n\t\t\t\t\t\t\t\tsmooth: this.smooth,\n\t\t\t\t\t\t\t\tgroupStart: 0,\n\t\t\t\t\t\t\t\tgroupEnd: - 1,\n\t\t\t\t\t\t\t\tgroupCount: - 1,\n\t\t\t\t\t\t\t\tinherited: false\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcloned.clone = this.clone.bind( cloned );\n\t\t\t\t\t\t\treturn cloned;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.materials.push( material );\n\n\t\t\t\t\treturn material;\n\n\t\t\t\t},\n\n\t\t\t\tcurrentMaterial: function () {\n\n\t\t\t\t\tif ( this.materials.length > 0 ) {\n\n\t\t\t\t\t\treturn this.materials[ this.materials.length - 1 ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn undefined;\n\n\t\t\t\t},\n\n\t\t\t\t_finalize: function ( end ) {\n\n\t\t\t\t\tconst lastMultiMaterial = this.currentMaterial();\n\t\t\t\t\tif ( lastMultiMaterial && lastMultiMaterial.groupEnd === - 1 ) {\n\n\t\t\t\t\t\tlastMultiMaterial.groupEnd = this.geometry.vertices.length / 3;\n\t\t\t\t\t\tlastMultiMaterial.groupCount = lastMultiMaterial.groupEnd - lastMultiMaterial.groupStart;\n\t\t\t\t\t\tlastMultiMaterial.inherited = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ignore objects tail materials if no face declarations followed them before a new o/g started.\n\t\t\t\t\tif ( end && this.materials.length > 1 ) {\n\n\t\t\t\t\t\tfor ( let mi = this.materials.length - 1; mi >= 0; mi -- ) {\n\n\t\t\t\t\t\t\tif ( this.materials[ mi ].groupCount <= 0 ) {\n\n\t\t\t\t\t\t\t\tthis.materials.splice( mi, 1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Guarantee at least one empty material, this makes the creation later more straight forward.\n\t\t\t\t\tif ( end && this.materials.length === 0 ) {\n\n\t\t\t\t\t\tthis.materials.push( {\n\t\t\t\t\t\t\tname: '',\n\t\t\t\t\t\t\tsmooth: this.smooth\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn lastMultiMaterial;\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Inherit previous objects material.\n\t\t\t// Spec tells us that a declared material must be set to all objects until a new material is declared.\n\t\t\t// If a usemtl declaration is encountered while this new object is being parsed, it will\n\t\t\t// overwrite the inherited material. Exception being that there was already face declarations\n\t\t\t// to the inherited material, then it will be preserved for proper MultiMaterial continuation.\n\n\t\t\tif ( previousMaterial && previousMaterial.name && typeof previousMaterial.clone === 'function' ) {\n\n\t\t\t\tconst declared = previousMaterial.clone( 0 );\n\t\t\t\tdeclared.inherited = true;\n\t\t\t\tthis.object.materials.push( declared );\n\n\t\t\t}\n\n\t\t\tthis.objects.push( this.object );\n\n\t\t},\n\n\t\tfinalize: function () {\n\n\t\t\tif ( this.object && typeof this.object._finalize === 'function' ) {\n\n\t\t\t\tthis.object._finalize( true );\n\n\t\t\t}\n\n\t\t},\n\n\t\tparseVertexIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseNormalIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 3 ) * 3;\n\n\t\t},\n\n\t\tparseUVIndex: function ( value, len ) {\n\n\t\t\tconst index = parseInt( value, 10 );\n\t\t\treturn ( index >= 0 ? index - 1 : index + len / 2 ) * 2;\n\n\t\t},\n\n\t\taddVertex: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddVertexPoint: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddVertexLine: function ( a ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.vertices;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\n\t\t},\n\n\t\taddNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.normals;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddFaceNormal: function ( a, b, c ) {\n\n\t\t\tconst src = this.vertices;\n\t\t\tconst dst = this.object.geometry.normals;\n\n\t\t\t_vA.fromArray( src, a );\n\t\t\t_vB.fromArray( src, b );\n\t\t\t_vC.fromArray( src, c );\n\n\t\t\t_cb.subVectors( _vC, _vB );\n\t\t\t_ab.subVectors( _vA, _vB );\n\t\t\t_cb.cross( _ab );\n\n\t\t\t_cb.normalize();\n\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\t\t\tdst.push( _cb.x, _cb.y, _cb.z );\n\n\t\t},\n\n\t\taddColor: function ( a, b, c ) {\n\n\t\t\tconst src = this.colors;\n\t\t\tconst dst = this.object.geometry.colors;\n\n\t\t\tif ( src[ a ] !== undefined ) dst.push( src[ a + 0 ], src[ a + 1 ], src[ a + 2 ] );\n\t\t\tif ( src[ b ] !== undefined ) dst.push( src[ b + 0 ], src[ b + 1 ], src[ b + 2 ] );\n\t\t\tif ( src[ c ] !== undefined ) dst.push( src[ c + 0 ], src[ c + 1 ], src[ c + 2 ] );\n\n\t\t},\n\n\t\taddUV: function ( a, b, c ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\t\t\tdst.push( src[ b + 0 ], src[ b + 1 ] );\n\t\t\tdst.push( src[ c + 0 ], src[ c + 1 ] );\n\n\t\t},\n\n\t\taddDefaultUV: function () {\n\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\t\t\tdst.push( 0, 0 );\n\n\t\t},\n\n\t\taddUVLine: function ( a ) {\n\n\t\t\tconst src = this.uvs;\n\t\t\tconst dst = this.object.geometry.uvs;\n\n\t\t\tdst.push( src[ a + 0 ], src[ a + 1 ] );\n\n\t\t},\n\n\t\taddFace: function ( a, b, c, ua, ub, uc, na, nb, nc ) {\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tlet ia = this.parseVertexIndex( a, vLen );\n\t\t\tlet ib = this.parseVertexIndex( b, vLen );\n\t\t\tlet ic = this.parseVertexIndex( c, vLen );\n\n\t\t\tthis.addVertex( ia, ib, ic );\n\t\t\tthis.addColor( ia, ib, ic );\n\n\t\t\t// normals\n\n\t\t\tif ( na !== undefined && na !== '' ) {\n\n\t\t\t\tconst nLen = this.normals.length;\n\n\t\t\t\tia = this.parseNormalIndex( na, nLen );\n\t\t\t\tib = this.parseNormalIndex( nb, nLen );\n\t\t\t\tic = this.parseNormalIndex( nc, nLen );\n\n\t\t\t\tthis.addNormal( ia, ib, ic );\n\n\t\t\t} else {\n\n\t\t\t\tthis.addFaceNormal( ia, ib, ic );\n\n\t\t\t}\n\n\t\t\t// uvs\n\n\t\t\tif ( ua !== undefined && ua !== '' ) {\n\n\t\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\t\tia = this.parseUVIndex( ua, uvLen );\n\t\t\t\tib = this.parseUVIndex( ub, uvLen );\n\t\t\t\tic = this.parseUVIndex( uc, uvLen );\n\n\t\t\t\tthis.addUV( ia, ib, ic );\n\n\t\t\t\tthis.object.geometry.hasUVIndices = true;\n\n\t\t\t} else {\n\n\t\t\t\t// add placeholder values (for inconsistent face definitions)\n\n\t\t\t\tthis.addDefaultUV();\n\n\t\t\t}\n\n\t\t},\n\n\t\taddPointGeometry: function ( vertices ) {\n\n\t\t\tthis.object.geometry.type = 'Points';\n\n\t\t\tconst vLen = this.vertices.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tconst index = this.parseVertexIndex( vertices[ vi ], vLen );\n\n\t\t\t\tthis.addVertexPoint( index );\n\t\t\t\tthis.addColor( index );\n\n\t\t\t}\n\n\t\t},\n\n\t\taddLineGeometry: function ( vertices, uvs ) {\n\n\t\t\tthis.object.geometry.type = 'Line';\n\n\t\t\tconst vLen = this.vertices.length;\n\t\t\tconst uvLen = this.uvs.length;\n\n\t\t\tfor ( let vi = 0, l = vertices.length; vi < l; vi ++ ) {\n\n\t\t\t\tthis.addVertexLine( this.parseVertexIndex( vertices[ vi ], vLen ) );\n\n\t\t\t}\n\n\t\t\tfor ( let uvi = 0, l = uvs.length; uvi < l; uvi ++ ) {\n\n\t\t\t\tthis.addUVLine( this.parseUVIndex( uvs[ uvi ], uvLen ) );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tstate.startObject( '', false );\n\n\treturn state;\n\n}\n\n//\n\nclass OBJLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.materials = null;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tsetMaterials( materials ) {\n\n\t\tthis.materials = materials;\n\n\t\treturn this;\n\n\t}\n\n\tparse( text ) {\n\n\t\tconst state = new ParserState();\n\n\t\tif ( text.indexOf( '\\r\\n' ) !== - 1 ) {\n\n\t\t\t// This is faster than String.split with regex that splits on both\n\t\t\ttext = text.replace( /\\r\\n/g, '\\n' );\n\n\t\t}\n\n\t\tif ( text.indexOf( '\\\\\\n' ) !== - 1 ) {\n\n\t\t\t// join lines separated by a line continuation character (\\)\n\t\t\ttext = text.replace( /\\\\\\n/g, '' );\n\n\t\t}\n\n\t\tconst lines = text.split( '\\n' );\n\t\tlet result = [];\n\n\t\tfor ( let i = 0, l = lines.length; i < l; i ++ ) {\n\n\t\t\tconst line = lines[ i ].trimStart();\n\n\t\t\tif ( line.length === 0 ) continue;\n\n\t\t\tconst lineFirstChar = line.charAt( 0 );\n\n\t\t\t// @todo invoke passed in handler if any\n\t\t\tif ( lineFirstChar === '#' ) continue; // skip comments\n\n\t\t\tif ( lineFirstChar === 'v' ) {\n\n\t\t\t\tconst data = line.split( _face_vertex_data_separator_pattern );\n\n\t\t\t\tswitch ( data[ 0 ] ) {\n\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tstate.vertices.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif ( data.length >= 7 ) {\n\n\t\t\t\t\t\t\t_color.setRGB(\n\t\t\t\t\t\t\t\tparseFloat( data[ 4 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 5 ] ),\n\t\t\t\t\t\t\t\tparseFloat( data[ 6 ] ),\n\t\t\t\t\t\t\t\tSRGBColorSpace\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tstate.colors.push( _color.r, _color.g, _color.b );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// if no colors are defined, add placeholders so color and vertex indices match\n\n\t\t\t\t\t\t\tstate.colors.push( undefined, undefined, undefined );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vn':\n\t\t\t\t\t\tstate.normals.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 3 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'vt':\n\t\t\t\t\t\tstate.uvs.push(\n\t\t\t\t\t\t\tparseFloat( data[ 1 ] ),\n\t\t\t\t\t\t\tparseFloat( data[ 2 ] )\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'f' ) {\n\n\t\t\t\tconst lineData = line.slice( 1 ).trim();\n\t\t\t\tconst vertexData = lineData.split( _face_vertex_data_separator_pattern );\n\t\t\t\tconst faceVertices = [];\n\n\t\t\t\t// Parse the face vertex data into an easy to work with format\n\n\t\t\t\tfor ( let j = 0, jl = vertexData.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst vertex = vertexData[ j ];\n\n\t\t\t\t\tif ( vertex.length > 0 ) {\n\n\t\t\t\t\t\tconst vertexParts = vertex.split( '/' );\n\t\t\t\t\t\tfaceVertices.push( vertexParts );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// Draw an edge between the first vertex and all subsequent vertices to form an n-gon\n\n\t\t\t\tconst v1 = faceVertices[ 0 ];\n\n\t\t\t\tfor ( let j = 1, jl = faceVertices.length - 1; j < jl; j ++ ) {\n\n\t\t\t\t\tconst v2 = faceVertices[ j ];\n\t\t\t\t\tconst v3 = faceVertices[ j + 1 ];\n\n\t\t\t\t\tstate.addFace(\n\t\t\t\t\t\tv1[ 0 ], v2[ 0 ], v3[ 0 ],\n\t\t\t\t\t\tv1[ 1 ], v2[ 1 ], v3[ 1 ],\n\t\t\t\t\t\tv1[ 2 ], v2[ 2 ], v3[ 2 ]\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t} else if ( lineFirstChar === 'l' ) {\n\n\t\t\t\tconst lineParts = line.substring( 1 ).trim().split( ' ' );\n\t\t\t\tlet lineVertices = [];\n\t\t\t\tconst lineUVs = [];\n\n\t\t\t\tif ( line.indexOf( '/' ) === - 1 ) {\n\n\t\t\t\t\tlineVertices = lineParts;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let li = 0, llen = lineParts.length; li < llen; li ++ ) {\n\n\t\t\t\t\t\tconst parts = lineParts[ li ].split( '/' );\n\n\t\t\t\t\t\tif ( parts[ 0 ] !== '' ) lineVertices.push( parts[ 0 ] );\n\t\t\t\t\t\tif ( parts[ 1 ] !== '' ) lineUVs.push( parts[ 1 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tstate.addLineGeometry( lineVertices, lineUVs );\n\n\t\t\t} else if ( lineFirstChar === 'p' ) {\n\n\t\t\t\tconst lineData = line.slice( 1 ).trim();\n\t\t\t\tconst pointData = lineData.split( ' ' );\n\n\t\t\t\tstate.addPointGeometry( pointData );\n\n\t\t\t} else if ( ( result = _object_pattern.exec( line ) ) !== null ) {\n\n\t\t\t\t// o object_name\n\t\t\t\t// or\n\t\t\t\t// g group_name\n\n\t\t\t\t// WORKAROUND: https://bugs.chromium.org/p/v8/issues/detail?id=2869\n\t\t\t\t// let name = result[ 0 ].slice( 1 ).trim();\n\t\t\t\tconst name = ( ' ' + result[ 0 ].slice( 1 ).trim() ).slice( 1 );\n\n\t\t\t\tstate.startObject( name );\n\n\t\t\t} else if ( _material_use_pattern.test( line ) ) {\n\n\t\t\t\t// material\n\n\t\t\t\tstate.object.startMaterial( line.substring( 7 ).trim(), state.materialLibraries );\n\n\t\t\t} else if ( _material_library_pattern.test( line ) ) {\n\n\t\t\t\t// mtl file\n\n\t\t\t\tstate.materialLibraries.push( line.substring( 7 ).trim() );\n\n\t\t\t} else if ( _map_use_pattern.test( line ) ) {\n\n\t\t\t\t// the line is parsed but ignored since the loader assumes textures are defined MTL files\n\t\t\t\t// (according to https://www.okino.com/conv/imp_wave.htm, 'usemap' is the old-style Wavefront texture reference method)\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Rendering identifier \"usemap\" not supported. Textures must be defined in MTL files.' );\n\n\t\t\t} else if ( lineFirstChar === 's' ) {\n\n\t\t\t\tresult = line.split( ' ' );\n\n\t\t\t\t// smooth shading\n\n\t\t\t\t// @todo Handle files that have varying smooth values for a set of faces inside one geometry,\n\t\t\t\t// but does not define a usemtl for each face set.\n\t\t\t\t// This should be detected and a dummy material created (later MultiMaterial and geometry groups).\n\t\t\t\t// This requires some care to not create extra material on each smooth value for \"normal\" obj files.\n\t\t\t\t// where explicit usemtl defines geometry groups.\n\t\t\t\t// Example asset: examples/models/obj/cerberus/Cerberus.obj\n\n\t\t\t\t/*\n\t\t\t\t\t * http://paulbourke.net/dataformats/obj/\n\t\t\t\t\t *\n\t\t\t\t\t * From chapter \"Grouping\" Syntax explanation \"s group_number\":\n\t\t\t\t\t * \"group_number is the smoothing group number. To turn off smoothing groups, use a value of 0 or off.\n\t\t\t\t\t * Polygonal elements use group numbers to put elements in different smoothing groups. For free-form\n\t\t\t\t\t * surfaces, smoothing groups are either turned on or off; there is no difference between values greater\n\t\t\t\t\t * than 0.\"\n\t\t\t\t\t */\n\t\t\t\tif ( result.length > 1 ) {\n\n\t\t\t\t\tconst value = result[ 1 ].trim().toLowerCase();\n\t\t\t\t\tstate.object.smooth = ( value !== '0' && value !== 'off' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// ZBrush can produce \"s\" lines #11707\n\t\t\t\t\tstate.object.smooth = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst material = state.object.currentMaterial();\n\t\t\t\tif ( material ) material.smooth = state.object.smooth;\n\n\t\t\t} else {\n\n\t\t\t\t// Handle null terminated files without exception\n\t\t\t\tif ( line === '\\0' ) continue;\n\n\t\t\t\tconsole.warn( 'THREE.OBJLoader: Unexpected line: \"' + line + '\"' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.finalize();\n\n\t\tconst container = new Group();\n\t\tcontainer.materialLibraries = [].concat( state.materialLibraries );\n\n\t\tconst hasPrimitives = ! ( state.objects.length === 1 && state.objects[ 0 ].geometry.vertices.length === 0 );\n\n\t\tif ( hasPrimitives === true ) {\n\n\t\t\tfor ( let i = 0, l = state.objects.length; i < l; i ++ ) {\n\n\t\t\t\tconst object = state.objects[ i ];\n\t\t\t\tconst geometry = object.geometry;\n\t\t\t\tconst materials = object.materials;\n\t\t\t\tconst isLine = ( geometry.type === 'Line' );\n\t\t\t\tconst isPoints = ( geometry.type === 'Points' );\n\t\t\t\tlet hasVertexColors = false;\n\n\t\t\t\t// Skip o/g line declarations that did not follow with any faces\n\t\t\t\tif ( geometry.vertices.length === 0 ) continue;\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( geometry.vertices, 3 ) );\n\n\t\t\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'normal', new Float32BufferAttribute( geometry.normals, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\t\t\thasVertexColors = true;\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( geometry.colors, 3 ) );\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometry.hasUVIndices === true ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'uv', new Float32BufferAttribute( geometry.uvs, 2 ) );\n\n\t\t\t\t}\n\n\t\t\t\t// Create materials\n\n\t\t\t\tconst createdMaterials = [];\n\n\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\tconst materialHash = sourceMaterial.name + '_' + sourceMaterial.smooth + '_' + hasVertexColors;\n\t\t\t\t\tlet material = state.materials[ materialHash ];\n\n\t\t\t\t\tif ( this.materials !== null ) {\n\n\t\t\t\t\t\tmaterial = this.materials.create( sourceMaterial.name );\n\n\t\t\t\t\t\t// mtl etc. loaders probably can't create line materials correctly, copy properties to a line material.\n\t\t\t\t\t\tif ( isLine && material && ! ( material instanceof LineBasicMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialLine = new LineBasicMaterial();\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialLine, material );\n\t\t\t\t\t\t\tmaterialLine.color.copy( material.color );\n\t\t\t\t\t\t\tmaterial = materialLine;\n\n\t\t\t\t\t\t} else if ( isPoints && material && ! ( material instanceof PointsMaterial ) ) {\n\n\t\t\t\t\t\t\tconst materialPoints = new PointsMaterial( { size: 10, sizeAttenuation: false } );\n\t\t\t\t\t\t\tMaterial.prototype.copy.call( materialPoints, material );\n\t\t\t\t\t\t\tmaterialPoints.color.copy( material.color );\n\t\t\t\t\t\t\tmaterialPoints.map = material.map;\n\t\t\t\t\t\t\tmaterial = materialPoints;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( material === undefined ) {\n\n\t\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\t\tmaterial = new LineBasicMaterial();\n\n\t\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\t\tmaterial = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tmaterial = new MeshPhongMaterial();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterial.name = sourceMaterial.name;\n\t\t\t\t\t\tmaterial.flatShading = sourceMaterial.smooth ? false : true;\n\t\t\t\t\t\tmaterial.vertexColors = hasVertexColors;\n\n\t\t\t\t\t\tstate.materials[ materialHash ] = material;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcreatedMaterials.push( material );\n\n\t\t\t\t}\n\n\t\t\t\t// Create mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tif ( createdMaterials.length > 1 ) {\n\n\t\t\t\t\tfor ( let mi = 0, miLen = materials.length; mi < miLen; mi ++ ) {\n\n\t\t\t\t\t\tconst sourceMaterial = materials[ mi ];\n\t\t\t\t\t\tbuffergeometry.addGroup( sourceMaterial.groupStart, sourceMaterial.groupCount, mi );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( isLine ) {\n\n\t\t\t\t\t\tmesh = new LineSegments( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else if ( isPoints ) {\n\n\t\t\t\t\t\tmesh = new Points( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmesh = new Mesh( buffergeometry, createdMaterials[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = object.name;\n\n\t\t\t\tcontainer.add( mesh );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// if there is only the default parser state object with no geometry data, interpret data as point cloud\n\n\t\t\tif ( state.vertices.length > 0 ) {\n\n\t\t\t\tconst material = new PointsMaterial( { size: 1, sizeAttenuation: false } );\n\n\t\t\t\tconst buffergeometry = new BufferGeometry();\n\n\t\t\t\tbuffergeometry.setAttribute( 'position', new Float32BufferAttribute( state.vertices, 3 ) );\n\n\t\t\t\tif ( state.colors.length > 0 && state.colors[ 0 ] !== undefined ) {\n\n\t\t\t\t\tbuffergeometry.setAttribute( 'color', new Float32BufferAttribute( state.colors, 3 ) );\n\t\t\t\t\tmaterial.vertexColors = true;\n\n\t\t\t\t}\n\n\t\t\t\tconst points = new Points( buffergeometry, material );\n\t\t\t\tcontainer.add( points );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn container;\n\n\t}\n\n}\n\nexport { OBJLoader };\n","import {\n\tColor,\n\tColorManagement,\n\tDefaultLoadingManager,\n\tFileLoader,\n\tFrontSide,\n\tLoader,\n\tLoaderUtils,\n\tMeshPhongMaterial,\n\tRepeatWrapping,\n\tTextureLoader,\n\tVector2,\n\tSRGBColorSpace\n} from 'three';\n\n/**\n * Loads a Wavefront .mtl file specifying materials\n */\n\nclass MTLLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\t/**\n\t * Loads and parses a MTL asset from a URL.\n\t *\n\t * @param {String} url - URL to the MTL file.\n\t * @param {Function} [onLoad] - Callback invoked with the loaded object.\n\t * @param {Function} [onProgress] - Callback for download progress.\n\t * @param {Function} [onError] - Callback for download errors.\n\t *\n\t * @see setPath setResourcePath\n\t *\n\t * @note In order for relative texture references to resolve correctly\n\t * you must call setResourcePath() explicitly prior to load.\n\t */\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text, path ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tsetMaterialOptions( value ) {\n\n\t\tthis.materialOptions = value;\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Parses a MTL file.\n\t *\n\t * @param {String} text - Content of MTL file\n\t * @param {String} path\n\t * @return {MaterialCreator}\n\t *\n\t * @see setPath setResourcePath\n\t *\n\t * @note In order for relative texture references to resolve correctly\n\t * you must call setResourcePath() explicitly prior to parse.\n\t */\n\tparse( text, path ) {\n\n\t\tconst lines = text.split( '\\n' );\n\t\tlet info = {};\n\t\tconst delimiter_pattern = /\\s+/;\n\t\tconst materialsInfo = {};\n\n\t\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\t\tlet line = lines[ i ];\n\t\t\tline = line.trim();\n\n\t\t\tif ( line.length === 0 || line.charAt( 0 ) === '#' ) {\n\n\t\t\t\t// Blank line or comment ignore\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst pos = line.indexOf( ' ' );\n\n\t\t\tlet key = ( pos >= 0 ) ? line.substring( 0, pos ) : line;\n\t\t\tkey = key.toLowerCase();\n\n\t\t\tlet value = ( pos >= 0 ) ? line.substring( pos + 1 ) : '';\n\t\t\tvalue = value.trim();\n\n\t\t\tif ( key === 'newmtl' ) {\n\n\t\t\t\t// New material\n\n\t\t\t\tinfo = { name: value };\n\t\t\t\tmaterialsInfo[ value ] = info;\n\n\t\t\t} else {\n\n\t\t\t\tif ( key === 'ka' || key === 'kd' || key === 'ks' || key === 'ke' ) {\n\n\t\t\t\t\tconst ss = value.split( delimiter_pattern, 3 );\n\t\t\t\t\tinfo[ key ] = [ parseFloat( ss[ 0 ] ), parseFloat( ss[ 1 ] ), parseFloat( ss[ 2 ] ) ];\n\n\t\t\t\t} else {\n\n\t\t\t\t\tinfo[ key ] = value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst materialCreator = new MaterialCreator( this.resourcePath || path, this.materialOptions );\n\t\tmaterialCreator.setCrossOrigin( this.crossOrigin );\n\t\tmaterialCreator.setManager( this.manager );\n\t\tmaterialCreator.setMaterials( materialsInfo );\n\t\treturn materialCreator;\n\n\t}\n\n}\n\n/**\n * Create a new MTLLoader.MaterialCreator\n * @param baseUrl - Url relative to which textures are loaded\n * @param options - Set of options on how to construct the materials\n *                  side: Which side to apply the material\n *                        FrontSide (default), THREE.BackSide, THREE.DoubleSide\n *                  wrap: What type of wrapping to apply for textures\n *                        RepeatWrapping (default), THREE.ClampToEdgeWrapping, THREE.MirroredRepeatWrapping\n *                  normalizeRGB: RGBs need to be normalized to 0-1 from 0-255\n *                                Default: false, assumed to be already normalized\n *                  ignoreZeroRGBs: Ignore values of RGBs (Ka,Kd,Ks) that are all 0's\n *                                  Default: false\n * @constructor\n */\n\nclass MaterialCreator {\n\n\tconstructor( baseUrl = '', options = {} ) {\n\n\t\tthis.baseUrl = baseUrl;\n\t\tthis.options = options;\n\t\tthis.materialsInfo = {};\n\t\tthis.materials = {};\n\t\tthis.materialsArray = [];\n\t\tthis.nameLookup = {};\n\n\t\tthis.crossOrigin = 'anonymous';\n\n\t\tthis.side = ( this.options.side !== undefined ) ? this.options.side : FrontSide;\n\t\tthis.wrap = ( this.options.wrap !== undefined ) ? this.options.wrap : RepeatWrapping;\n\n\t}\n\n\tsetCrossOrigin( value ) {\n\n\t\tthis.crossOrigin = value;\n\t\treturn this;\n\n\t}\n\n\tsetManager( value ) {\n\n\t\tthis.manager = value;\n\n\t}\n\n\tsetMaterials( materialsInfo ) {\n\n\t\tthis.materialsInfo = this.convert( materialsInfo );\n\t\tthis.materials = {};\n\t\tthis.materialsArray = [];\n\t\tthis.nameLookup = {};\n\n\t}\n\n\tconvert( materialsInfo ) {\n\n\t\tif ( ! this.options ) return materialsInfo;\n\n\t\tconst converted = {};\n\n\t\tfor ( const mn in materialsInfo ) {\n\n\t\t\t// Convert materials info into normalized form based on options\n\n\t\t\tconst mat = materialsInfo[ mn ];\n\n\t\t\tconst covmat = {};\n\n\t\t\tconverted[ mn ] = covmat;\n\n\t\t\tfor ( const prop in mat ) {\n\n\t\t\t\tlet save = true;\n\t\t\t\tlet value = mat[ prop ];\n\t\t\t\tconst lprop = prop.toLowerCase();\n\n\t\t\t\tswitch ( lprop ) {\n\n\t\t\t\t\tcase 'kd':\n\t\t\t\t\tcase 'ka':\n\t\t\t\t\tcase 'ks':\n\n\t\t\t\t\t\t// Diffuse color (color under white light) using RGB values\n\n\t\t\t\t\t\tif ( this.options && this.options.normalizeRGB ) {\n\n\t\t\t\t\t\t\tvalue = [ value[ 0 ] / 255, value[ 1 ] / 255, value[ 2 ] / 255 ];\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( this.options && this.options.ignoreZeroRGBs ) {\n\n\t\t\t\t\t\t\tif ( value[ 0 ] === 0 && value[ 1 ] === 0 && value[ 2 ] === 0 ) {\n\n\t\t\t\t\t\t\t\t// ignore\n\n\t\t\t\t\t\t\t\tsave = false;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tif ( save ) {\n\n\t\t\t\t\tcovmat[ lprop ] = value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn converted;\n\n\t}\n\n\tpreload() {\n\n\t\tfor ( const mn in this.materialsInfo ) {\n\n\t\t\tthis.create( mn );\n\n\t\t}\n\n\t}\n\n\tgetIndex( materialName ) {\n\n\t\treturn this.nameLookup[ materialName ];\n\n\t}\n\n\tgetAsArray() {\n\n\t\tlet index = 0;\n\n\t\tfor ( const mn in this.materialsInfo ) {\n\n\t\t\tthis.materialsArray[ index ] = this.create( mn );\n\t\t\tthis.nameLookup[ mn ] = index;\n\t\t\tindex ++;\n\n\t\t}\n\n\t\treturn this.materialsArray;\n\n\t}\n\n\tcreate( materialName ) {\n\n\t\tif ( this.materials[ materialName ] === undefined ) {\n\n\t\t\tthis.createMaterial_( materialName );\n\n\t\t}\n\n\t\treturn this.materials[ materialName ];\n\n\t}\n\n\tcreateMaterial_( materialName ) {\n\n\t\t// Create material\n\n\t\tconst scope = this;\n\t\tconst mat = this.materialsInfo[ materialName ];\n\t\tconst params = {\n\n\t\t\tname: materialName,\n\t\t\tside: this.side\n\n\t\t};\n\n\t\tfunction resolveURL( baseUrl, url ) {\n\n\t\t\tif ( typeof url !== 'string' || url === '' )\n\t\t\t\treturn '';\n\n\t\t\t// Absolute URL\n\t\t\tif ( /^https?:\\/\\//i.test( url ) ) return url;\n\n\t\t\treturn baseUrl + url;\n\n\t\t}\n\n\t\tfunction setMapForType( mapType, value ) {\n\n\t\t\tif ( params[ mapType ] ) return; // Keep the first encountered texture\n\n\t\t\tconst texParams = scope.getTextureParams( value, params );\n\t\t\tconst map = scope.loadTexture( resolveURL( scope.baseUrl, texParams.url ) );\n\n\t\t\tmap.repeat.copy( texParams.scale );\n\t\t\tmap.offset.copy( texParams.offset );\n\n\t\t\tmap.wrapS = scope.wrap;\n\t\t\tmap.wrapT = scope.wrap;\n\n\t\t\tif ( mapType === 'map' || mapType === 'emissiveMap' ) {\n\n\t\t\t\tmap.colorSpace = SRGBColorSpace;\n\n\t\t\t}\n\n\t\t\tparams[ mapType ] = map;\n\n\t\t}\n\n\t\tfor ( const prop in mat ) {\n\n\t\t\tconst value = mat[ prop ];\n\t\t\tlet n;\n\n\t\t\tif ( value === '' ) continue;\n\n\t\t\tswitch ( prop.toLowerCase() ) {\n\n\t\t\t\t// Ns is material specular exponent\n\n\t\t\t\tcase 'kd':\n\n\t\t\t\t\t// Diffuse color (color under white light) using RGB values\n\n\t\t\t\t\tparams.color = ColorManagement.toWorkingColorSpace( new Color().fromArray( value ), SRGBColorSpace );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ks':\n\n\t\t\t\t\t// Specular color (color when light is reflected from shiny surface) using RGB values\n\t\t\t\t\tparams.specular = ColorManagement.toWorkingColorSpace( new Color().fromArray( value ), SRGBColorSpace );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ke':\n\n\t\t\t\t\t// Emissive using RGB values\n\t\t\t\t\tparams.emissive = ColorManagement.toWorkingColorSpace( new Color().fromArray( value ), SRGBColorSpace );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_kd':\n\n\t\t\t\t\t// Diffuse texture map\n\n\t\t\t\t\tsetMapForType( 'map', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_ks':\n\n\t\t\t\t\t// Specular map\n\n\t\t\t\t\tsetMapForType( 'specularMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_ke':\n\n\t\t\t\t\t// Emissive map\n\n\t\t\t\t\tsetMapForType( 'emissiveMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'norm':\n\n\t\t\t\t\tsetMapForType( 'normalMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_bump':\n\t\t\t\tcase 'bump':\n\n\t\t\t\t\t// Bump texture map\n\n\t\t\t\t\tsetMapForType( 'bumpMap', value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'map_d':\n\n\t\t\t\t\t// Alpha map\n\n\t\t\t\t\tsetMapForType( 'alphaMap', value );\n\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ns':\n\n\t\t\t\t\t// The specular exponent (defines the focus of the specular highlight)\n\t\t\t\t\t// A high exponent results in a tight, concentrated highlight. Ns values normally range from 0 to 1000.\n\n\t\t\t\t\tparams.shininess = parseFloat( value );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'd':\n\t\t\t\t\tn = parseFloat( value );\n\n\t\t\t\t\tif ( n < 1 ) {\n\n\t\t\t\t\t\tparams.opacity = n;\n\t\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'tr':\n\t\t\t\t\tn = parseFloat( value );\n\n\t\t\t\t\tif ( this.options && this.options.invertTrProperty ) n = 1 - n;\n\n\t\t\t\t\tif ( n > 0 ) {\n\n\t\t\t\t\t\tparams.opacity = 1 - n;\n\t\t\t\t\t\tparams.transparent = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.materials[ materialName ] = new MeshPhongMaterial( params );\n\t\treturn this.materials[ materialName ];\n\n\t}\n\n\tgetTextureParams( value, matParams ) {\n\n\t\tconst texParams = {\n\n\t\t\tscale: new Vector2( 1, 1 ),\n\t\t\toffset: new Vector2( 0, 0 )\n\n\t\t };\n\n\t\tconst items = value.split( /\\s+/ );\n\t\tlet pos;\n\n\t\tpos = items.indexOf( '-bm' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\tmatParams.bumpScale = parseFloat( items[ pos + 1 ] );\n\t\t\titems.splice( pos, 2 );\n\n\t\t}\n\n\t\tpos = items.indexOf( '-s' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\ttexParams.scale.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\n\n\t\t}\n\n\t\tpos = items.indexOf( '-o' );\n\n\t\tif ( pos >= 0 ) {\n\n\t\t\ttexParams.offset.set( parseFloat( items[ pos + 1 ] ), parseFloat( items[ pos + 2 ] ) );\n\t\t\titems.splice( pos, 4 ); // we expect 3 parameters here!\n\n\t\t}\n\n\t\ttexParams.url = items.join( ' ' ).trim();\n\t\treturn texParams;\n\n\t}\n\n\tloadTexture( url, mapping, onLoad, onProgress, onError ) {\n\n\t\tconst manager = ( this.manager !== undefined ) ? this.manager : DefaultLoadingManager;\n\t\tlet loader = manager.getHandler( url );\n\n\t\tif ( loader === null ) {\n\n\t\t\tloader = new TextureLoader( manager );\n\n\t\t}\n\n\t\tif ( loader.setCrossOrigin ) loader.setCrossOrigin( this.crossOrigin );\n\n\t\tconst texture = loader.load( url, onLoad, onProgress, onError );\n\n\t\tif ( mapping !== undefined ) texture.mapping = mapping;\n\n\t\treturn texture;\n\n\t}\n\n}\n\nexport { MTLLoader };\n","import {\n\tColor,\n\tLightProbe,\n\tLinearSRGBColorSpace,\n\tSphericalHarmonics3,\n\tVector3,\n\tSRGBColorSpace,\n\tNoColorSpace,\n\tHalfFloatType,\n\tDataUtils,\n\tWebGLCoordinateSystem\n} from 'three';\n\nclass LightProbeGenerator {\n\n\t// https://www.ppsloan.org/publications/StupidSH36.pdf\n\tstatic fromCubeTexture( cubeTexture ) {\n\n\t\tlet totalWeight = 0;\n\n\t\tconst coord = new Vector3();\n\n\t\tconst dir = new Vector3();\n\n\t\tconst color = new Color();\n\n\t\tconst shBasis = [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n\n\t\tconst sh = new SphericalHarmonics3();\n\t\tconst shCoefficients = sh.coefficients;\n\n\t\tfor ( let faceIndex = 0; faceIndex < 6; faceIndex ++ ) {\n\n\t\t\tconst image = cubeTexture.image[ faceIndex ];\n\n\t\t\tconst width = image.width;\n\t\t\tconst height = image.height;\n\n\t\t\tconst canvas = document.createElement( 'canvas' );\n\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\n\t\t\tconst context = canvas.getContext( '2d' );\n\n\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\tconst imageData = context.getImageData( 0, 0, width, height );\n\n\t\t\tconst data = imageData.data;\n\n\t\t\tconst imageWidth = imageData.width; // assumed to be square\n\n\t\t\tconst pixelSize = 2 / imageWidth;\n\n\t\t\tfor ( let i = 0, il = data.length; i < il; i += 4 ) { // RGBA assumed\n\n\t\t\t\t// pixel color\n\t\t\t\tcolor.setRGB( data[ i ] / 255, data[ i + 1 ] / 255, data[ i + 2 ] / 255 );\n\n\t\t\t\t// convert to linear color space\n\t\t\t\tconvertColorToLinear( color, cubeTexture.colorSpace );\n\n\t\t\t\t// pixel coordinate on unit cube\n\n\t\t\t\tconst pixelIndex = i / 4;\n\n\t\t\t\tconst col = - 1 + ( pixelIndex % imageWidth + 0.5 ) * pixelSize;\n\n\t\t\t\tconst row = 1 - ( Math.floor( pixelIndex / imageWidth ) + 0.5 ) * pixelSize;\n\n\t\t\t\tswitch ( faceIndex ) {\n\n\t\t\t\t\tcase 0: coord.set( - 1, row, - col ); break;\n\n\t\t\t\t\tcase 1: coord.set( 1, row, col ); break;\n\n\t\t\t\t\tcase 2: coord.set( - col, 1, - row ); break;\n\n\t\t\t\t\tcase 3: coord.set( - col, - 1, row ); break;\n\n\t\t\t\t\tcase 4: coord.set( - col, row, 1 ); break;\n\n\t\t\t\t\tcase 5: coord.set( col, row, - 1 ); break;\n\n\t\t\t\t}\n\n\t\t\t\t// weight assigned to this pixel\n\n\t\t\t\tconst lengthSq = coord.lengthSq();\n\n\t\t\t\tconst weight = 4 / ( Math.sqrt( lengthSq ) * lengthSq );\n\n\t\t\t\ttotalWeight += weight;\n\n\t\t\t\t// direction vector to this pixel\n\t\t\t\tdir.copy( coord ).normalize();\n\n\t\t\t\t// evaluate SH basis functions in direction dir\n\t\t\t\tSphericalHarmonics3.getBasisAt( dir, shBasis );\n\n\t\t\t\t// accumulate\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tshCoefficients[ j ].x += shBasis[ j ] * color.r * weight;\n\t\t\t\t\tshCoefficients[ j ].y += shBasis[ j ] * color.g * weight;\n\t\t\t\t\tshCoefficients[ j ].z += shBasis[ j ] * color.b * weight;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// normalize\n\t\tconst norm = ( 4 * Math.PI ) / totalWeight;\n\n\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\tshCoefficients[ j ].x *= norm;\n\t\t\tshCoefficients[ j ].y *= norm;\n\t\t\tshCoefficients[ j ].z *= norm;\n\n\t\t}\n\n\t\treturn new LightProbe( sh );\n\n\t}\n\n\tstatic async fromCubeRenderTarget( renderer, cubeRenderTarget ) {\n\n\t\tconst flip = renderer.coordinateSystem === WebGLCoordinateSystem ? - 1 : 1;\n\n\t\t// The renderTarget must be set to RGBA in order to make readRenderTargetPixels works\n\t\tlet totalWeight = 0;\n\n\t\tconst coord = new Vector3();\n\n\t\tconst dir = new Vector3();\n\n\t\tconst color = new Color();\n\n\t\tconst shBasis = [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ];\n\n\t\tconst sh = new SphericalHarmonics3();\n\t\tconst shCoefficients = sh.coefficients;\n\n\t\tconst dataType = cubeRenderTarget.texture.type;\n\t\tconst imageWidth = cubeRenderTarget.width; // assumed to be square\n\n\t\tlet data;\n\n\t\tif ( renderer.isWebGLRenderer ) {\n\n\t\t\tif ( dataType === HalfFloatType ) {\n\n\t\t\t\tdata = new Uint16Array( imageWidth * imageWidth * 4 );\n\n\t\t\t} else {\n\n\t\t\t\t// assuming UnsignedByteType\n\n\t\t\t\tdata = new Uint8Array( imageWidth * imageWidth * 4 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let faceIndex = 0; faceIndex < 6; faceIndex ++ ) {\n\n\t\t\tif ( renderer.isWebGLRenderer ) {\n\n\t\t\t\tawait renderer.readRenderTargetPixelsAsync( cubeRenderTarget, 0, 0, imageWidth, imageWidth, data, faceIndex );\n\n\t\t\t} else {\n\n\t\t\t\tdata = await renderer.readRenderTargetPixelsAsync( cubeRenderTarget, 0, 0, imageWidth, imageWidth, 0, faceIndex );\n\n\t\t\t}\n\n\t\t\tconst pixelSize = 2 / imageWidth;\n\n\t\t\tfor ( let i = 0, il = data.length; i < il; i += 4 ) { // RGBA assumed\n\n\t\t\t\tlet r, g, b;\n\n\t\t\t\tif ( dataType === HalfFloatType ) {\n\n\t\t\t\t\tr = DataUtils.fromHalfFloat( data[ i ] );\n\t\t\t\t\tg = DataUtils.fromHalfFloat( data[ i + 1 ] );\n\t\t\t\t\tb = DataUtils.fromHalfFloat( data[ i + 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tr = data[ i ] / 255;\n\t\t\t\t\tg = data[ i + 1 ] / 255;\n\t\t\t\t\tb = data[ i + 2 ] / 255;\n\n\t\t\t\t}\n\n\t\t\t\t// pixel color\n\t\t\t\tcolor.setRGB( r, g, b );\n\n\t\t\t\t// convert to linear color space\n\t\t\t\tconvertColorToLinear( color, cubeRenderTarget.texture.colorSpace );\n\n\t\t\t\t// pixel coordinate on unit cube\n\n\t\t\t\tconst pixelIndex = i / 4;\n\n\t\t\t\tconst col = ( 1 - ( pixelIndex % imageWidth + 0.5 ) * pixelSize ) * flip;\n\n\t\t\t\tconst row = 1 - ( Math.floor( pixelIndex / imageWidth ) + 0.5 ) * pixelSize;\n\n\t\t\t\tswitch ( faceIndex ) {\n\n\t\t\t\t\tcase 0: coord.set( - 1 * flip, row, col * flip ); break;\n\n\t\t\t\t\tcase 1: coord.set( 1 * flip, row, - col * flip ); break;\n\n\t\t\t\t\tcase 2: coord.set( col, 1, - row ); break;\n\n\t\t\t\t\tcase 3: coord.set( col, - 1, row ); break;\n\n\t\t\t\t\tcase 4: coord.set( col, row, 1 ); break;\n\n\t\t\t\t\tcase 5: coord.set( - col, row, - 1 ); break;\n\n\t\t\t\t}\n\n\t\t\t\t// weight assigned to this pixel\n\n\t\t\t\tconst lengthSq = coord.lengthSq();\n\n\t\t\t\tconst weight = 4 / ( Math.sqrt( lengthSq ) * lengthSq );\n\n\t\t\t\ttotalWeight += weight;\n\n\t\t\t\t// direction vector to this pixel\n\t\t\t\tdir.copy( coord ).normalize();\n\n\t\t\t\t// evaluate SH basis functions in direction dir\n\t\t\t\tSphericalHarmonics3.getBasisAt( dir, shBasis );\n\n\t\t\t\t// accumulate\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tshCoefficients[ j ].x += shBasis[ j ] * color.r * weight;\n\t\t\t\t\tshCoefficients[ j ].y += shBasis[ j ] * color.g * weight;\n\t\t\t\t\tshCoefficients[ j ].z += shBasis[ j ] * color.b * weight;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// normalize\n\t\tconst norm = ( 4 * Math.PI ) / totalWeight;\n\n\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\tshCoefficients[ j ].x *= norm;\n\t\t\tshCoefficients[ j ].y *= norm;\n\t\t\tshCoefficients[ j ].z *= norm;\n\n\t\t}\n\n\t\treturn new LightProbe( sh );\n\n\t}\n\n}\n\nfunction convertColorToLinear( color, colorSpace ) {\n\n\tswitch ( colorSpace ) {\n\n\t\tcase SRGBColorSpace:\n\n\t\t\tcolor.convertSRGBToLinear();\n\t\t\tbreak;\n\n\t\tcase LinearSRGBColorSpace:\n\t\tcase NoColorSpace:\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tconsole.warn( 'WARNING: LightProbeGenerator convertColorToLinear() encountered an unsupported color space.' );\n\t\t\tbreak;\n\n\t}\n\n\treturn color;\n\n}\n\nexport { LightProbeGenerator };\n","/**\n * @author richt / http://richt.me\n * @author WestLangley / http://github.com/WestLangley\n *\n * W3C Device Orientation control (http://w3c.github.io/deviceorientation/spec-source-orientation.html)\n */\n\nexport var DeviceOrientationControls = function ( object ) {\n\n  var scope = this;\n\n  this.object = object;\n  this.object.rotation.reorder( 'YXZ' );\n\n  this.enabled = true;\n\n  this.deviceOrientation = {};\n  this.screenOrientation = 0;\n\n  this.alphaOffset = 0; // radians\n\n  var onDeviceOrientationChangeEvent = function ( event ) {\n\n    scope.deviceOrientation = event;\n\n  };\n\n  var onScreenOrientationChangeEvent = function () {\n\n    scope.screenOrientation = window.orientation || 0;\n\n  };\n\n  // The angles alpha, beta and gamma form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n\n  var setObjectQuaternion = function () {\n\n    var zee = new THREE.Vector3( 0, 0, 1 );\n\n    var euler = new THREE.Euler();\n\n    var q0 = new THREE.Quaternion();\n\n    var q1 = new THREE.Quaternion( - Math.sqrt( 0.5 ), 0, 0, Math.sqrt( 0.5 ) ); // - PI/2 around the x-axis\n\n    return function ( quaternion, alpha, beta, gamma, orient ) {\n\n      euler.set( beta, alpha, - gamma, 'YXZ' ); // 'ZXY' for the device, but 'YXZ' for us\n\n      quaternion.setFromEuler( euler ); // orient the device\n\n      quaternion.multiply( q1 ); // camera looks out the back of the device, not the top\n\n      quaternion.multiply( q0.setFromAxisAngle( zee, - orient ) ); // adjust for screen orientation\n\n    };\n\n  }();\n\n  this.connect = function () {\n \n    onScreenOrientationChangeEvent();\n\n    window.addEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );\n    window.addEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );\n\n    scope.enabled = true;\n\n  };\n\n  this.disconnect = function () {\n\n    window.removeEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );\n    window.removeEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );\n\n    scope.enabled = false;\n\n  };\n\n  this.update = function () {\n\n    if ( scope.enabled === false ) return;\n\n    var device = scope.deviceOrientation;\n\n    if ( device ) {\n\n      var alpha = device.alpha ? THREE.MathUtils.degToRad( device.alpha ) + scope.alphaOffset : 0; // Z\n\n      var beta = device.beta ? THREE.MathUtils.degToRad( device.beta ) : 0; // X'\n\n      var gamma = device.gamma ? THREE.MathUtils.degToRad( device.gamma ) : 0; // Y''\n\n      var orient = scope.screenOrientation ? THREE.MathUtils.degToRad( scope.screenOrientation ) : 0; // O\n\n      setObjectQuaternion( scope.object.quaternion, alpha, beta, gamma, orient );\n\n    }\n\n\n  };\n\n  this.dispose = function () {\n\n    scope.disconnect();\n\n  };\n\n  this.connect();\n\n};\n","import * as SUPER_THREE from 'three';\nimport { DRACOLoader } from 'three/addons/loaders/DRACOLoader.js';\nimport { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';\nimport { KTX2Loader } from 'three/addons/loaders/KTX2Loader.js';\nimport { OBB } from 'three/addons/math/OBB.js';\nimport { OBJLoader } from 'three/addons/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/addons/loaders/MTLLoader.js';\nimport * as BufferGeometryUtils from 'three/addons/utils/BufferGeometryUtils.js';\nimport { LightProbeGenerator } from 'three/addons/lights/LightProbeGenerator.js';\nimport { DeviceOrientationControls } from '../../vendor/DeviceOrientationControls.js'; // THREE.DeviceOrientationControls\n\nvar THREE = globalThis.THREE = {...SUPER_THREE};\n\n// TODO: Eventually include these only if they are needed by a component.\nTHREE.DRACOLoader = DRACOLoader;\nTHREE.GLTFLoader = GLTFLoader;\nTHREE.KTX2Loader = KTX2Loader;\nTHREE.OBJLoader = OBJLoader;\nTHREE.MTLLoader = MTLLoader;\nTHREE.OBB = OBB;\nTHREE.BufferGeometryUtils = BufferGeometryUtils;\nTHREE.LightProbeGenerator = LightProbeGenerator;\nTHREE.DeviceOrientationControls = DeviceOrientationControls;\n\nTHREE.Cache.enabled = true;\n\nexport default THREE;\n","export var AFRAME_CDN_ROOT = window.AFRAME_CDN_ROOT || 'https://cdn.aframe.io/';\nexport var AFRAME_INJECTED = 'aframe-injected';\nexport var DEFAULT_CAMERA_HEIGHT = 1.6;\nexport var DEFAULT_HANDEDNESS = 'right';\n","import debug from 'debug';\n\nvar settings = {\n  colors: {\n    debug: 'gray',\n    error: 'red',\n    info: 'gray',\n    warn: 'orange'\n  }\n};\n\n/**\n * Overwrite `debug` so we can colorize error/warning messages  and remove Time Diff\n *\n * (See issue: https://github.com/debug-js/debug/issues/582#issuecomment-1755718739)\n */\ndebug.formatArgs = formatArgs;\n\nfunction formatArgs (args) {\n  args[0] =\n    (this.useColors ? '%c' : '') +\n    this.namespace +\n    (this.useColors ? ' %c' : ' ') +\n    args[0] +\n    (this.useColors ? '%c ' : ' ');\n\n  if (!this.useColors) {\n    return;\n  }\n  this.color = getDebugNamespaceColor(this.namespace);\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit');\n\n  // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n    index++;\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Returns the type of the namespace (e.g., `error`, `warn`).\n *\n * @param {string} namespace\n *   The debug logger's namespace (e.g., `components:geometry:warn`).\n * @returns {string} The type of the namespace (e.g., `warn`).\n * @api private\n */\nfunction getDebugNamespaceType (namespace) {\n  var chunks = namespace.split(':');\n\n  return chunks[chunks.length - 1];  // Return the last one\n}\n\n/**\n * Returns the color of the namespace (e.g., `orange`).\n *\n * @param {string} namespace\n *   The debug logger's namespace (e.g., `components:geometry:warn`).\n * @returns {string} The color of the namespace (e.g., `orange`).\n * @api private\n */\nfunction getDebugNamespaceColor (namespace) {\n  var type = getDebugNamespaceType(namespace);\n\n  var color = settings.colors && settings.colors[type];\n\n  return color || null;\n}\n\n/**\n * Returns `localStorage` if possible.\n *\n * This is necessary because Safari throws when a user disables\n * cookies or `localStorage` and you attempt to access it.\n *\n * @returns {localStorage}\n * @api private\n */\nfunction storage () {\n  try {\n    return window.localStorage;\n  } catch (e) {\n  }\n}\n\n/**\n * To enable console logging, type this in the Console of your Dev Tools:\n *\n *   localStorage.logs = 1\n *\n * To disable console logging:\n *\n *   localStorage.logs = 0\n *\n */\nvar ls = storage();\nif (ls && (parseInt(ls.logs, 10) || ls.logs === 'true')) {\n  debug.enable('*');\n} else {\n  debug.enable('*:error,*:info,*:warn');\n}\n\nexport default debug;\n","import debug from './debug.js';\nvar error = debug('device:error');\n\nvar supportsVRSession = false;\nvar supportsARSession = false;\n\nexport var isWebXRAvailable = navigator.xr !== undefined;\n\n// Support both WebVR and WebXR APIs.\nif (isWebXRAvailable) {\n  var updateEnterInterfaces = function () {\n    var sceneEl = document.querySelector('a-scene');\n    if (!sceneEl) {\n      window.addEventListener('DOMContentLoaded', updateEnterInterfaces);\n      return;\n    }\n    if (sceneEl.hasLoaded) {\n      sceneEl.components['xr-mode-ui'].updateEnterInterfaces();\n    } else {\n      sceneEl.addEventListener('loaded', updateEnterInterfaces);\n    }\n  };\n  var errorHandler = function (err) {\n    error('WebXR session support error: ' + err.message);\n  };\n  if (navigator.xr.isSessionSupported) {\n    // Current WebXR spec uses a boolean-returning isSessionSupported promise\n    navigator.xr.isSessionSupported('immersive-vr').then(function (supported) {\n      supportsVRSession = supported;\n      updateEnterInterfaces();\n    }).catch(errorHandler);\n\n    navigator.xr.isSessionSupported('immersive-ar').then(function (supported) {\n      supportsARSession = supported;\n      updateEnterInterfaces();\n    }).catch(function () {});\n  } else if (navigator.xr.supportsSession) {\n    // Fallback for implementations that haven't updated to the new spec yet,\n    // the old version used supportsSession which is rejected for missing\n    // support.\n    navigator.xr.supportsSession('immersive-vr').then(function () {\n      supportsVRSession = true;\n      updateEnterInterfaces();\n    }).catch(errorHandler);\n    navigator.xr.supportsSession('immersive-ar').then(function () {\n      supportsARSession = true;\n      updateEnterInterfaces();\n    }).catch(function () {});\n  } else {\n    error('WebXR has neither isSessionSupported or supportsSession?!');\n  }\n}\n\n/**\n * Determine if a headset is connected.\n */\nexport function checkHeadsetConnected () {\n  return supportsVRSession || supportsARSession;\n}\n\nexport function checkARSupport () { return supportsARSession; }\n\nexport function checkVRSupport () { return supportsVRSession; }\n\n/**\n * Checks if browser is mobile and not stand-alone dedicated vr device.\n * @returns {boolean} True if mobile browser detected.\n */\nexport var isMobile = (function () {\n  var _isMobile = false;\n  (function (a) {\n    // eslint-disable-next-line no-useless-escape\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) {\n      _isMobile = true;\n    }\n    if (isIOS() || isTablet() || isR7()) {\n      _isMobile = true;\n    }\n    if (isMobileVR()) {\n      _isMobile = false;\n    }\n  })(window.navigator.userAgent || window.navigator.vendor || window.opera);\n\n  return function () { return _isMobile; };\n})();\n\n/**\n *  Detect tablet devices.\n *  @param {string} mockUserAgent - Allow passing a mock user agent for testing.\n */\nexport function isTablet (mockUserAgent) {\n  var userAgent = mockUserAgent || window.navigator.userAgent;\n\n  var isTablet = /Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(userAgent);\n\n  // Additional check for iPad or MacIntel with touch capabilities and not an MSStream device\n  return isTablet || isIpad();\n}\n\n/**\n *  Detect ipad devices.\n *  @param {string} mockUserAgent - Allow passing a mock user agent for testing.\n *  @param {string} mockDevicePlatform - Allow passing a mock device platform for testing.\n *  @param {string} mockDeviceTouchPoints - Allow passing a mock device touch points for testing.\n*/\nexport function isIpad (mockUserAgent, mockDevicePlatform, mockDeviceTouchPoints) {\n  var userAgent = mockUserAgent || window.navigator.userAgent;\n  var platform = mockDevicePlatform || window.navigator.platform;\n  var maxTouchPoints = mockDeviceTouchPoints || window.navigator.maxTouchPoints || 0;\n\n  return ((platform === 'iPad' || platform === 'MacIntel') && maxTouchPoints > 0 && /Macintosh|Intel|iPad|ipad/i.test(userAgent) && !window.MSStream);\n}\n\n/**\n *  Detect Apple Vision Pro devices.\n */\nexport function isAppleVisionPro () {\n  // Safari for Apple Vision Pro presents itself as a desktop browser.\n  var isMacintosh = navigator.userAgent.includes('Macintosh');\n  // Discriminates between a \"real\" desktop browser and Safari for Vision Pro.\n  var hasFiveTouchPoints = navigator.maxTouchPoints === 5;\n  // isWebXRAvailable discriminates between Vision Pro and iPad / iPhone.\n  // This will no longer work once WebXR ships in iOS / iPad OS.\n  return isMacintosh && hasFiveTouchPoints && isWebXRAvailable;\n}\n\nexport function isIOS () {\n  return /iPad|iPhone|iPod/.test(window.navigator.platform);\n}\n\nexport function isMobileDeviceRequestingDesktopSite () {\n  return !isMobile() && !isMobileVR() && window.orientation !== undefined;\n}\n\n/**\n *  Detect Oculus Browser (standalone headset)\n */\nexport function isOculusBrowser () {\n  return /(OculusBrowser)/i.test(window.navigator.userAgent);\n}\n\n/**\n *  Detect Firefox Reality (standalone headset)\n */\nexport function isFirefoxReality () {\n  return /(Mobile VR)/i.test(window.navigator.userAgent);\n}\n\n/**\n *  Detect browsers in Stand-Alone headsets\n */\nexport function isMobileVR () {\n  return isOculusBrowser() || isFirefoxReality() || isAppleVisionPro();\n}\n\nexport function isR7 () {\n  return /R7 Build/.test(window.navigator.userAgent);\n}\n\n/**\n * Checks mobile device orientation.\n * @returns {boolean} True if landscape orientation.\n */\nexport function isLandscape () {\n  var orientation = window.orientation;\n  if (isR7()) { orientation += 90; }\n  return orientation === 90 || orientation === -90;\n}\n\n/**\n * Check if running in a browser or spoofed browser (bundler).\n * We need to check a node api that isn't mocked on either side.\n * `require` and `module.exports` are mocked in browser by bundlers.\n * process is polyfilled with process.browser true by Next.js with \"use client\".\n */\nexport var isBrowserEnvironment = typeof process === 'undefined' || process.browser === true;\n\n/**\n * Check if running in node on the server.\n */\nexport var isNodeEnvironment = !isBrowserEnvironment;\n","/*\n  Adapted deePool by Kyle Simpson.\n  MIT License: http://getify.mit-license.org\n*/\nvar EMPTY_SLOT = Object.freeze(Object.create(null));\n\n// Default object factory.\nfunction defaultObjectFactory () { return {}; }\n\n/**\n * Create a new pool.\n */\nexport function createPool (objectFactory) {\n  var objPool = [];\n  var nextFreeSlot = null;  // Pool location to look for a free object to use.\n\n  objectFactory = objectFactory || defaultObjectFactory;\n\n  function use () {\n    var objToUse;\n    if (nextFreeSlot === null || nextFreeSlot === objPool.length) {\n      grow(objPool.length || 5);\n    }\n    objToUse = objPool[nextFreeSlot];\n    objPool[nextFreeSlot++] = EMPTY_SLOT;\n    clearObject(objToUse);\n    return objToUse;\n  }\n\n  function recycle (obj) {\n    if (!(obj instanceof Object)) { return; }\n    if (nextFreeSlot === null || nextFreeSlot === -1) {\n      objPool[objPool.length] = obj;\n      return;\n    }\n    objPool[--nextFreeSlot] = obj;\n  }\n\n  function grow (count) {\n    var currentLength;\n    var i;\n\n    count = count === undefined ? objPool.length : count;\n    if (count > 0 && nextFreeSlot == null) {\n      nextFreeSlot = 0;\n    }\n\n    if (count > 0) {\n      currentLength = objPool.length;\n      objPool.length += Number(count);\n      for (i = currentLength; i < objPool.length; i++) {\n        // Add new obj to pool.\n        objPool[i] = objectFactory();\n      }\n    }\n\n    return objPool.length;\n  }\n\n  function size () {\n    return objPool.length;\n  }\n\n  return {\n    grow: grow,\n    pool: objPool,\n    recycle: recycle,\n    size: size,\n    use: use\n  };\n}\n\nexport function clearObject (obj) {\n  var key;\n  if (!obj || obj.constructor !== Object) { return; }\n  for (key in obj) { obj[key] = undefined; }\n}\n\nexport function removeUnusedKeys (obj, schema) {\n  var key;\n  if (!obj || obj.constructor !== Object) { return; }\n  for (key in obj) {\n    if (!(key in schema)) {\n      delete obj[key];\n    }\n  }\n}\n","import * as THREE from 'three';\nimport debug from './debug.js';\n\nvar warn = debug('utils:coordinates:warn');\n\n// Order of coordinates parsed by coordinates.parse.\nvar COORDINATE_KEYS = ['x', 'y', 'z', 'w'];\n\n// Coordinate string regex. Handles negative, positive, and decimals.\nexport var regex = /^\\s*((-?\\d*\\.{0,1}\\d+(e-?\\d+)?)\\s+){2,3}(-?\\d*\\.{0,1}\\d+(e-?\\d+)?)\\s*$/;\n\nvar whitespaceRegex = /\\s+/g;\n\n/**\n * Parses coordinates from an \"x y z\" string.\n * Example: \"3 10 -5\" to {x: 3, y: 10, z: -5}.\n *\n * @param {string} value - An \"x y z\" string.\n * @param {string} defaultVec - fallback value.\n * @param {object} target - Optional target object for coordinates.\n * @returns {object} An object with keys [x, y, z].\n */\nexport function parse (value, defaultVec, target) {\n  var coordinate;\n  var defaultVal;\n  var key;\n  var i;\n  var vec = (target && typeof target === 'object') ? target : {};\n  var x;\n  var y;\n  var z;\n  var w;\n\n  if (value && value instanceof Object) {\n    x = value.x === undefined ? defaultVec && defaultVec.x : value.x;\n    y = value.y === undefined ? defaultVec && defaultVec.y : value.y;\n    z = value.z === undefined ? defaultVec && defaultVec.z : value.z;\n    w = value.w === undefined ? defaultVec && defaultVec.w : value.w;\n    if (x !== undefined && x !== null) { vec.x = parseIfString(x); }\n    if (y !== undefined && y !== null) { vec.y = parseIfString(y); }\n    if (z !== undefined && z !== null) { vec.z = parseIfString(z); }\n    if (w !== undefined && w !== null) { vec.w = parseIfString(w); }\n    return vec;\n  }\n\n  if (value === null || value === undefined) {\n    return typeof defaultVec === 'object' ? Object.assign(vec, defaultVec) : defaultVec;\n  }\n\n  coordinate = value.trim().split(whitespaceRegex);\n  for (i = 0; i < COORDINATE_KEYS.length; i++) {\n    key = COORDINATE_KEYS[i];\n    if (coordinate[i]) {\n      vec[key] = parseFloat(coordinate[i], 10);\n    } else {\n      defaultVal = defaultVec && defaultVec[key];\n      if (defaultVal === undefined) { continue; }\n      vec[key] = parseIfString(defaultVal);\n    }\n  }\n  return vec;\n}\n\n/**\n * Stringify coordinates from an object with keys [x y z].\n * Example: {x: 3, y: 10, z: -5} to \"3 10 -5\".\n *\n * @param {object|string} data - An object with keys [x y z].\n * @returns {string} An \"x y z\" string.\n */\nexport function stringify (data) {\n  var str;\n  if (typeof data !== 'object') { return data; }\n  str = data.x + ' ' + data.y;\n  if (data.z != null) { str += ' ' + data.z; }\n  if (data.w != null) { str += ' ' + data.w; }\n  return str;\n}\n\n/**\n * Compares the values of two coordinates to check equality.\n *\n * @param {object|string} a - An object with keys [x y z].\n * @param {object|string} b - An object with keys [x y z].\n * @returns {boolean} True if both coordinates are equal, false otherwise\n */\nexport function equals (a, b) {\n  if (typeof a !== 'object' || typeof b !== 'object') {\n    return a === b;\n  }\n  return a.x === b.x && a.y === b.y && a.z === b.z && a.w === b.w;\n}\n\n/**\n * @param {string} value\n * @returns {boolean}\n */\nexport function isCoordinates (value) {\n  return regex.test(value);\n}\n\nexport function isCoordinate (value) {\n  warn('`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`');\n  return isCoordinates(value);\n}\n\nfunction parseIfString (val) {\n  if (val !== null && val !== undefined && val.constructor === String) {\n    return parseFloat(val, 10);\n  }\n  return val;\n}\n\n/**\n * Convert {x, y, z} object to three.js Vector3.\n */\nexport function toVector3 (vec3) {\n  return new THREE.Vector3(vec3.x, vec3.y, vec3.z);\n}\n","/**\n * String split with cached result.\n */\nexport var split = (function () {\n  var splitCache = {};\n\n  return function (str, delimiter) {\n    if (!(delimiter in splitCache)) { splitCache[delimiter] = {}; }\n\n    if (str in splitCache[delimiter]) { return splitCache[delimiter][str]; }\n\n    splitCache[delimiter][str] = str.split(delimiter);\n    return splitCache[delimiter][str];\n  };\n})();\n","import { split } from './split.js';\n\n/**\n * Split a delimited component property string (e.g., `material.color`) to an object\n * containing `component` name and `property` name. If there is no delimiter, just return the\n * string back.\n *\n * Uses the caching split implementation `AFRAME.utils.split`\n *\n * @param {string} str - e.g., `material.opacity`.\n * @param {string} delimiter - e.g., `.`.\n * @returns {string[]} e.g., `['material', 'opacity']`.\n */\nexport function getComponentPropertyPath (str, delimiter) {\n  delimiter = delimiter || '.';\n  var parts = split(str, delimiter);\n  if (parts.length === 1) {\n    return parts[0];\n  }\n  return parts;\n}\n\n/**\n * Get component property using encoded component name + component property name with a\n * delimiter.\n */\nexport function getComponentProperty (el, name, delimiter) {\n  var splitName;\n  delimiter = delimiter || '.';\n  if (name.indexOf(delimiter) !== -1) {\n    splitName = getComponentPropertyPath(name, delimiter);\n    if (splitName.constructor === String) {\n      return el.getAttribute(splitName);\n    }\n    return el.getAttribute(splitName[0])[splitName[1]];\n  }\n  return el.getAttribute(name);\n}\n\n/**\n * Set component property using encoded component name + component property name with a\n * delimiter.\n */\nexport function setComponentProperty (el, name, value, delimiter) {\n  var splitName;\n  delimiter = delimiter || '.';\n  if (name.indexOf(delimiter) !== -1) {\n    splitName = getComponentPropertyPath(name, delimiter);\n    if (splitName.constructor === String) {\n      el.setAttribute(splitName, value);\n    } else {\n      el.setAttribute(splitName[0], splitName[1], value);\n    }\n    return;\n  }\n  el.setAttribute(name, value);\n}\n","export default function forceCanvasResizeSafariMobile (canvasEl) {\n  var width = canvasEl.style.width;\n  var height = canvasEl.style.height;\n  // Taken from webvr-polyfill (https://github.com/borismus/webvr-polyfill/blob/85f657cd502ec9417bf26b87c3cb2afa6a70e079/src/util.js#L200)\n  // iOS only workaround for https://bugs.webkit.org/show_bug.cgi?id=152556\n  // By changing the size 1 pixel and restoring the previous value\n  // we trigger a size recalculation cycle.\n  canvasEl.style.width = (parseInt(width, 10) + 1) + 'px';\n  canvasEl.style.height = (parseInt(height, 10) + 1) + 'px';\n  setTimeout(function () {\n    canvasEl.style.width = width;\n    canvasEl.style.height = height;\n  }, 200);\n}\n","/* global Image, XMLHttpRequest */\nimport debug from './debug.js';\n\nvar warn = debug('utils:src-loader:warn');\n\n/**\n * Validate a texture, either as a selector or as a URL.\n * Detects whether `src` is pointing to an image or video and invokes the appropriate\n * callback.\n *\n * `src` will be passed into the callback\n *\n * @param {string|Element} src - URL or media element.\n * @param {function} isImageCb - callback if texture is an image.\n * @param {function} isVideoCb - callback if texture is a video.\n */\nexport function validateSrc (src, isImageCb, isVideoCb) {\n  checkIsImage(src, function isAnImageUrl (isImage) {\n    if (isImage) {\n      isImageCb(src);\n      return;\n    }\n    isVideoCb(src);\n  });\n}\n\n/**\n * Validates either six images as a cubemap or one image as an Equirectangular image.\n *\n * @param {string} src - A selector, image URL or comma-separated image URLs. Image URLS\n          must be wrapped by `url()`.\n * @param {function} isCubemapCb - callback if src is a cubemap.\n * @param {function} isEquirectCb - callback if src is a singular equirectangular image.\n */\nexport function validateEnvMapSrc (src, isCubemapCb, isEquirectCb) {\n  var el;\n  var cubemapSrcRegex = '';\n  var i;\n  var urls;\n  var validatedUrls = [];\n\n  if (typeof src === 'string') {\n    for (i = 0; i < 5; i++) {\n      cubemapSrcRegex += '(url\\\\((?:[^\\\\)]+)\\\\),\\\\s*)';\n    }\n    cubemapSrcRegex += '(url\\\\((?:[^\\\\)]+)\\\\)\\\\s*)';\n    urls = src.match(new RegExp(cubemapSrcRegex));\n\n    // `src` is a comma-separated list of URLs.\n    // In this case, re-use validateSrc for each side of the cube.\n    function isImageCb (url) {\n      validatedUrls.push(url);\n      if (validatedUrls.length === 6) {\n        isCubemapCb(validatedUrls);\n      }\n    }\n    if (urls) {\n      for (i = 1; i < 7; i++) {\n        validateSrc(parseUrl(urls[i]), isImageCb);\n      }\n      return;\n    }\n\n    // Single URL src\n    if (!src.startsWith('#')) {\n      var parsedSrc = parseUrl(src);\n      if (parsedSrc) {\n        validateSrc(parsedSrc, isEquirectCb);\n      } else {\n        validateSrc(src, isEquirectCb);\n      }\n      return;\n    }\n  }\n\n  // `src` is either an element or a query selector to an element (<a-cubemap> or <img>).\n  if (src.tagName) {\n    el = src;\n  } else {\n    el = validateAndGetQuerySelector(src);\n  }\n\n  if (!el) { return; }\n  if (el.tagName === 'A-CUBEMAP' && el.srcs) {\n    return isCubemapCb(el.srcs);\n  }\n  if (el.tagName === 'IMG') {\n    return isEquirectCb(el);\n  }\n  // Else if el is not a valid element, either <a-cubemap> or <img>.\n  warn('Selector \"%s\" does not point to <a-cubemap> or <img>', src);\n}\n\n/**\n * Validates six images as a cubemap, either as selector or comma-separated\n * URLs.\n *\n * @param {string} src - A selector or comma-separated image URLs. Image URLs\n          must be wrapped by `url()`.\n * @param {function} cb - callback if src is a cubemap.\n */\nexport function validateCubemapSrc (src, cb) {\n  return validateEnvMapSrc(src, cb, function isEquirectCb () {\n    warn('Expected cubemap but got image');\n  });\n}\n\n/**\n * Parses src from `url(src)`.\n * @param  {string} src - String to parse.\n * @returns {string} The parsed src, if parseable.\n */\nexport function parseUrl (src) {\n  var parsedSrc = src.match(/url\\((.+)\\)/);\n  if (!parsedSrc) { return; }\n  return parsedSrc[1];\n}\n\n/**\n * Call back whether `src` is an image.\n *\n * @param {string|Element} src - URL or element that will be tested.\n * @param {function} onResult - Callback with whether `src` is an image.\n */\nfunction checkIsImage (src, onResult) {\n  var request;\n\n  if (src.tagName) {\n    onResult(src.tagName === 'IMG');\n    return;\n  }\n  request = new XMLHttpRequest();\n\n  // Try to send HEAD request to check if image first.\n  request.open('HEAD', src);\n  request.addEventListener('load', function (event) {\n    var contentType;\n    if (request.status >= 200 && request.status < 300) {\n      contentType = request.getResponseHeader('Content-Type');\n      if (contentType == null) {\n        checkIsImageFallback(src, onResult);\n      } else {\n        if (contentType.startsWith('image')) {\n          onResult(true);\n        } else {\n          onResult(false);\n        }\n      }\n    } else {\n      checkIsImageFallback(src, onResult);\n    }\n    request.abort();\n  });\n  request.send();\n}\n\nfunction checkIsImageFallback (src, onResult) {\n  var tester = new Image();\n  tester.addEventListener('load', onLoad);\n  function onLoad () { onResult(true); }\n  tester.addEventListener('error', onError);\n  function onError () { onResult(false); }\n  tester.src = src;\n}\n\n/**\n * Query and validate a query selector,\n *\n * @param {string} selector - DOM selector.\n * @returns {object|null|undefined} Selected DOM element if exists.\n *          null if query yields no results.\n *          undefined if `selector` is not a valid selector.\n */\nfunction validateAndGetQuerySelector (selector) {\n  try {\n    var el = document.querySelector(selector);\n    if (!el) {\n      warn('No element was found matching the selector: \"%s\"', selector);\n    }\n    return el;\n  } catch (e) {  // Capture exception if it's not a valid selector.\n    warn('\"%s\" is not a valid selector', selector);\n    return undefined;\n  }\n}\n","/* global HTMLCanvasElement, HTMLVideoElement */\nimport * as THREE from 'three';\nimport * as srcLoader from './src-loader.js';\nimport debug from './debug.js';\nvar warn = debug('utils:material:warn');\n\nvar COLOR_MAPS = new Set([\n  'emissiveMap',\n  'envMap',\n  'map',\n  'specularMap'\n]);\n\n/**\n * Set texture properties such as repeat and offset.\n *\n * @param {THREE.Texture} texture - a Texture instance.\n * @param {object} data - With keys like `repeat`.\n */\nexport function setTextureProperties (texture, data) {\n  var offset = data.offset || {x: 0, y: 0};\n  var repeat = data.repeat || {x: 1, y: 1};\n  var npot = data.npot || false;\n  var anisotropy = data.anisotropy || THREE.Texture.DEFAULT_ANISOTROPY;\n  var wrapS = texture.wrapS;\n  var wrapT = texture.wrapT;\n  var magFilter = texture.magFilter;\n  var minFilter = texture.minFilter;\n\n  // To support NPOT textures, wrap must be ClampToEdge (not Repeat),\n  // and filters must not use mipmaps (i.e. Nearest or Linear).\n  if (npot) {\n    wrapS = THREE.ClampToEdgeWrapping;\n    wrapT = THREE.ClampToEdgeWrapping;\n    magFilter = THREE.LinearFilter;\n    minFilter = THREE.LinearFilter;\n  }\n\n  // Set wrap mode to repeat only if repeat isn't 1/1. Power-of-two is required to repeat.\n  if (repeat.x !== 1 || repeat.y !== 1) {\n    wrapS = THREE.RepeatWrapping;\n    wrapT = THREE.RepeatWrapping;\n  }\n\n  // Apply texture properties\n  texture.offset.set(offset.x, offset.y);\n  texture.repeat.set(repeat.x, repeat.y);\n\n  if (texture.wrapS !== wrapS || texture.wrapT !== wrapT ||\n      texture.magFilter !== magFilter || texture.minFilter !== minFilter ||\n      texture.anisotropy !== anisotropy) {\n    texture.wrapS = wrapS;\n    texture.wrapT = wrapT;\n    texture.magFilter = magFilter;\n    texture.minFilter = minFilter;\n    texture.anisotropy = anisotropy;\n    texture.needsUpdate = true;\n  }\n}\n\n/**\n * Update `material` texture property (usually but not always `map`)\n * from `data` property (usually but not always `src`).\n *\n * @param {string} materialName\n * @param {string} dataName\n * @param {object} shader - A-Frame shader instance.\n * @param {object} data\n */\nexport function updateMapMaterialFromData (materialName, dataName, shader, data) {\n  var el = shader.el;\n  var material = shader.material;\n  var rendererSystem = el.sceneEl.systems.renderer;\n  var src = data[dataName];\n\n  // Because a single material / shader may have multiple textures,\n  // we need to remember the source value for this data property\n  // to avoid redundant operations which can be expensive otherwise\n  // (e.g. video texture loads).\n  if (!shader.materialSrcs) { shader.materialSrcs = {}; }\n\n  if (!src) {\n    // Forget the prior material src.\n    delete shader.materialSrcs[materialName];\n    // Remove the texture from the material.\n    setMap(null);\n    return;\n  }\n\n  // If material src hasn't changed, and we already have a texture,\n  // just update properties, but don't reload the texture.\n  if (src === shader.materialSrcs[materialName] &&\n      material[materialName]) {\n    setTextureProperties(material[materialName], data);\n    return;\n  }\n\n  // Remember the new src for this texture (there may be multiple).\n  shader.materialSrcs[materialName] = src;\n\n  // If the new material src is already a texture, just use it.\n  if (src instanceof THREE.Texture) { setMap(src); } else {\n    // Load texture source for the new material src.\n    // (And check if we should still use it once available in callback.)\n    el.sceneEl.systems.material.loadTextureSource(src, updateTexture);\n  }\n\n  function updateTexture (source) {\n    // If the source has been changed, don't use loaded texture.\n    if (shader.materialSrcs[materialName] !== src) { return; }\n\n    var texture = material[materialName];\n\n    // Handle removal or texture type change\n    if (texture && (source === null || !isCompatibleTexture(texture, source))) {\n      texture = null;\n    }\n\n    // Create texture if needed\n    if (!texture && source) {\n      texture = createCompatibleTexture(source);\n    }\n\n    // Update texture source and properties\n    if (texture) {\n      if (texture.source !== source) {\n        texture.source = source;\n        texture.needsUpdate = true;\n      }\n      if (COLOR_MAPS.has(materialName)) {\n        rendererSystem.applyColorCorrection(texture);\n      }\n      setTextureProperties(texture, data);\n    }\n\n    // Set map property on the material\n    setMap(texture);\n  }\n\n  function setMap (texture) {\n    // Nothing to do if texture is the same\n    if (material[materialName] === texture) {\n      return;\n    }\n\n    // Dispose old texture if present\n    if (material[materialName]) {\n      material[materialName].dispose();\n    }\n\n    material[materialName] = texture;\n    material.needsUpdate = true;\n    handleTextureEvents(el, texture);\n  }\n}\n\n/**\n * Update `material.map` given `data.src`. For standard and flat shaders.\n *\n * @param {object} shader - A-Frame shader instance.\n * @param {object} data\n */\nexport function updateMap (shader, data) {\n  return updateMapMaterialFromData('map', 'src', shader, data);\n}\n\n/**\n * Updates the material's maps which give the illusion of extra geometry.\n *\n * @param {string} longType - The friendly name of the map from the component e.g. ambientOcclusionMap becomes aoMap in THREE.js\n * @param {object} shader - A-Frame shader instance\n * @param {object} data\n */\nexport function updateDistortionMap (longType, shader, data) {\n  var shortType = longType;\n  if (longType === 'ambientOcclusion') { shortType = 'ao'; }\n\n  var info = {};\n  info.src = data[longType + 'Map'];\n\n  // Pass through the repeat and offset to be handled by the material loader.\n  info.offset = data[longType + 'TextureOffset'];\n  info.repeat = data[longType + 'TextureRepeat'];\n  info.wrap = data[longType + 'TextureWrap'];\n  return updateMapMaterialFromData(shortType + 'Map', 'src', shader, info);\n}\n\n// Cache env map results as promises\nvar envMapPromises = {};\n\n/**\n * Updates the material's environment map providing reflections or refractions.\n *\n * @param {object} shader - A-Frame shader instance\n * @param {object} data\n */\nexport function updateEnvMap (shader, data) {\n  var material = shader.material;\n  var el = shader.el;\n  var materialName = 'envMap';\n  var src = data.envMap;\n  var sphericalEnvMap = data.sphericalEnvMap;\n  var refract = data.refract;\n\n  if (sphericalEnvMap) {\n    src = sphericalEnvMap;\n    warn('`sphericalEnvMap` property is deprecated, using spherical map as equirectangular map instead. ' +\n      'Use `envMap` property with a CubeMap or Equirectangular image instead.');\n  }\n\n  if (!shader.materialSrcs) { shader.materialSrcs = {}; }\n\n  // EnvMap has been removed\n  if (!src) {\n    // Forget the prior material src.\n    delete shader.materialSrcs[materialName];\n    material.envMap = null;\n    material.needsUpdate = true;\n    return;\n  }\n\n  // Remember the new src for this env map.\n  shader.materialSrcs[materialName] = src;\n\n  // Env map is already loading. Wait on promise.\n  if (envMapPromises[src]) {\n    envMapPromises[src].then(checkSetMap);\n    return;\n  }\n\n  // First time loading this env map.\n  envMapPromises[src] = new Promise(function (resolve) {\n    srcLoader.validateEnvMapSrc(src, function loadCubeMap (srcs) {\n      el.sceneEl.systems.material.loadCubeMapTexture(srcs, function (texture) {\n        texture.mapping = refract ? THREE.CubeRefractionMapping : THREE.CubeReflectionMapping;\n        checkSetMap(texture);\n        resolve(texture);\n      });\n    }, function loadEquirectMap (src) {\n      el.sceneEl.systems.material.loadTexture(src, {src: src}, function (texture) {\n        texture.mapping = refract ? THREE.EquirectangularRefractionMapping : THREE.EquirectangularReflectionMapping;\n        checkSetMap(texture);\n        resolve(texture);\n      });\n    });\n  });\n\n  function checkSetMap (texture) {\n    if (shader.materialSrcs[materialName] !== src) { return; }\n    material.envMap = texture;\n    material.needsUpdate = true;\n    handleTextureEvents(el, texture);\n  }\n}\n\n/**\n * Emit event on entities on texture-related events.\n *\n * @param {Element} el - Entity.\n * @param {object} texture - three.js Texture.\n */\nexport function handleTextureEvents (el, texture) {\n  if (!texture) { return; }\n\n  el.emit('materialtextureloaded', {src: texture.image, texture: texture});\n\n  // Video events.\n  if (!texture.image || texture.image.tagName !== 'VIDEO') { return; }\n\n  texture.image.addEventListener('loadeddata', emitVideoTextureLoadedDataAll);\n  texture.image.addEventListener('ended', emitVideoTextureEndedAll);\n  function emitVideoTextureLoadedDataAll () {\n    el.emit('materialvideoloadeddata', {src: texture.image, texture: texture});\n  }\n  function emitVideoTextureEndedAll () {\n    // Works for non-looping videos only.\n    el.emit('materialvideoended', {src: texture.image, texture: texture});\n  }\n\n  // Video source can outlive texture, so cleanup event listeners when texture is disposed\n  texture.addEventListener('dispose', function cleanupListeners () {\n    texture.image.removeEventListener('loadeddata', emitVideoTextureLoadedDataAll);\n    texture.image.removeEventListener('ended', emitVideoTextureEndedAll);\n  });\n}\n\n/**\n * Checks if a given texture type is compatible with a given source.\n *\n * @param {THREE.Texture} texture - The texture to check compatibility with\n * @param {THREE.Source} source - The source to check compatibility with\n * @returns {boolean} True if the texture is compatible with the source, false otherwise\n */\nexport function isCompatibleTexture (texture, source) {\n  if (texture.source !== source) {\n    return false;\n  }\n\n  if (source.data instanceof HTMLCanvasElement) {\n    return texture.isCanvasTexture;\n  }\n\n  if (source.data instanceof HTMLVideoElement) {\n    return texture.isVideoTexture;\n  }\n\n  return texture.isTexture && !texture.isCanvasTexture && !texture.isVideoTexture;\n}\n\nexport function createCompatibleTexture (source) {\n  var texture;\n\n  if (source.data instanceof HTMLCanvasElement) {\n    texture = new THREE.CanvasTexture();\n  } else if (source.data instanceof HTMLVideoElement) {\n    // Pass underlying video to constructor to ensure requestVideoFrameCallback is setup\n    texture = new THREE.VideoTexture(source.data);\n  } else {\n    texture = new THREE.Texture();\n  }\n\n  texture.source = source;\n  texture.needsUpdate = true;\n  return texture;\n}\n","/**\n * Utils for parsing style-like strings (e.g., \"primitive: box; width: 5; height: 4.5\").\n * Some code adapted from `style-attr` (https://github.com/joshwnj/style-attr)\n * by Josh Johnston (MIT License).\n */\nvar DASH_REGEX = /-([a-z])/g;\n\n/**\n * Deserialize style-like string into an object of properties.\n *\n * @param {string} value - HTML attribute value.\n * @param {object} obj - Reused object for object pooling.\n * @returns {object} Property data.\n */\nexport function parse (value, obj) {\n  var parsedData;\n  if (typeof value !== 'string') { return value; }\n  parsedData = styleParse(value, obj);\n  // The style parser returns an object { \"\" : \"test\"} when fed a string\n  if (parsedData['']) { return value; }\n  return parsedData;\n}\n\n/**\n * Serialize an object of properties into a style-like string.\n *\n * @param {object} data - Property data.\n * @returns {string}\n */\nexport function stringify (data) {\n  if (typeof data === 'string') { return data; }\n  return styleStringify(data);\n}\n\n/**\n * Converts string from hyphen to camelCase.\n *\n * @param {string} str - String to camelCase.\n * @returns {string} CamelCased string.\n */\nexport function toCamelCase (str) {\n  return str.replace(DASH_REGEX, upperCase);\n}\n\n/**\n * Split a string into chunks matching `<key>: <value>`\n */\nvar getKeyValueChunks = (function () {\n  var chunks = [];\n  var hasUnclosedUrl = /url\\([^)]+$/;\n\n  return function getKeyValueChunks (raw) {\n    var chunk = '';\n    var nextSplit;\n    var offset = 0;\n    var sep = ';';\n\n    chunks.length = 0;\n\n    while (offset < raw.length) {\n      nextSplit = raw.indexOf(sep, offset);\n      if (nextSplit === -1) { nextSplit = raw.length; }\n\n      chunk += raw.substring(offset, nextSplit);\n\n      // data URIs can contain semicolons, so make sure we get the whole thing\n      if (hasUnclosedUrl.test(chunk)) {\n        chunk += ';';\n        offset = nextSplit + 1;\n        continue;\n      }\n\n      chunks.push(chunk.trim());\n      chunk = '';\n      offset = nextSplit + 1;\n    }\n\n    return chunks;\n  };\n})();\n\n/**\n * Convert a style attribute string to an object.\n *\n * @param {object} str - Attribute string.\n * @param {object} obj - Object to reuse as a base, else a new one will be allocated.\n */\nfunction styleParse (str, obj) {\n  var chunks;\n  var i;\n  var item;\n  var pos;\n  var key;\n  var val;\n\n  obj = obj || {};\n\n  chunks = getKeyValueChunks(str);\n  for (i = 0; i < chunks.length; i++) {\n    item = chunks[i];\n    if (!item) { continue; }\n    // Split with `.indexOf` rather than `.split` because the value may also contain colons.\n    pos = item.indexOf(':');\n    key = item.substr(0, pos).trim();\n    val = item.substr(pos + 1).trim();\n    obj[toCamelCase(key)] = val;\n  }\n  return obj;\n}\n\n/**\n * Convert an object into an attribute string\n **/\nfunction styleStringify (obj) {\n  var key;\n  var keyCount = 0;\n  var i = 0;\n  var str = '';\n\n  for (key in obj) { keyCount++; }\n\n  for (key in obj) {\n    str += (key + ': ' + obj[key]);\n    if (i < keyCount - 1) { str += '; '; }\n    i++;\n  }\n  return str;\n}\n\nfunction upperCase (str) { return str[1].toUpperCase(); }\n","var AXIS_LABELS = ['x', 'y', 'z', 'w'];\n\n/**\n * Called on controller component `.play` handlers.\n * Check if controller matches parameters and inject tracked-controls component.\n * Handle event listeners.\n * Generate controllerconnected or controllerdisconnected events.\n *\n * @param {object} component - Tracked controls component.\n * @param {object} idPrefix - Prefix to match in gamepad id if any.\n * @param {object} queryObject - Map of values to match.\n */\nexport function checkControllerPresentAndSetup (component, idPrefix, queryObject) {\n  var el = component.el;\n  var controller;\n  var isControllerPresent = isControllerPresentWebXR;\n  var isPresent;\n\n  controller = isControllerPresent(component, idPrefix, queryObject);\n  isPresent = !!controller;\n\n  // Nothing changed, no need to do anything.\n  if (isPresent === component.controllerPresent) { return isPresent; }\n\n  component.controllerPresent = isPresent;\n\n  // Update controller presence.\n  if (isPresent) {\n    component.addEventListeners();\n    component.injectTrackedControls(controller);\n    el.emit('controllerconnected', {name: component.name, component: component});\n  } else {\n    component.removeEventListeners();\n    el.emit('controllerdisconnected', {name: component.name, component: component});\n  }\n}\n\n/**\n *\n * @param {object} component - Tracked controls component.\n * @returns {boolean} True if a controller is present.\n */\nexport function isControllerPresentWebXR (component, id, queryObject) {\n  var controllers;\n  var sceneEl = component.el.sceneEl;\n  var trackedControlsSystem = sceneEl && sceneEl.systems['tracked-controls'];\n  if (!trackedControlsSystem) { return false; }\n\n  controllers = trackedControlsSystem.controllers;\n  if (!controllers || !controllers.length) { return false; }\n\n  return findMatchingControllerWebXR(\n    controllers, id,\n    queryObject.hand, queryObject.index, queryObject.iterateControllerProfiles, queryObject.handTracking);\n}\n\nexport function findMatchingControllerWebXR (controllers, idPrefix, handedness, index, iterateProfiles, handTracking) {\n  var i;\n  var j;\n  var controller;\n  var controllerMatch = false;\n  var controllerHasHandedness;\n  var profiles;\n  for (i = 0; i < controllers.length; i++) {\n    controller = controllers[i];\n    profiles = controller.profiles;\n    if (handTracking) {\n      controllerMatch = controller.hand;\n    } else {\n      if (iterateProfiles) {\n        for (j = 0; j < profiles.length; j++) {\n          controllerMatch = profiles[j].startsWith(idPrefix);\n          if (controllerMatch) { break; }\n        }\n      } else {\n        controllerMatch = profiles.length > 0 && profiles[0].startsWith(idPrefix);\n      }\n    }\n    if (!controllerMatch) { continue; }\n    // Vive controllers are assigned handedness at runtime and it might not be always available.\n    controllerHasHandedness = controller.handedness === 'right' || controller.handedness === 'left';\n    if (controllerHasHandedness) {\n      if (controller.handedness === handedness) { return controllers[i]; }\n    } else { // Fallback to index if controller has no handedness.\n      if ((i === index)) { return controllers[i]; }\n    }\n  }\n  return undefined;\n}\n\n/**\n * Emit specific `moved` event(s) if axes changed based on original axismove event.\n *\n * @param {object} component - Controller component in use.\n * @param {object} axesMapping - For example `{thumbstick: [0, 1]}`.\n * @param {object} evt - Event to process.\n */\nexport function emitIfAxesChanged (component, axesMapping, evt) {\n  var axes;\n  var buttonType;\n  var changed;\n  var detail;\n  var j;\n\n  for (buttonType in axesMapping) {\n    axes = axesMapping[buttonType];\n\n    changed = false;\n    for (j = 0; j < axes.length; j++) {\n      if (evt.detail.changed[axes[j]]) { changed = true; }\n    }\n\n    if (!changed) { continue; }\n\n    // Axis has changed. Emit the specific moved event with axis values in detail.\n    detail = {};\n    for (j = 0; j < axes.length; j++) {\n      detail[AXIS_LABELS[j]] = evt.detail.axis[axes[j]];\n    }\n    component.el.emit(buttonType + 'moved', detail);\n  }\n}\n\n/**\n * Handle a button event and reemits the events.\n *\n * @param {string} id - id of the button.\n * @param {string} evtName - name of the reemitted event\n * @param {object} component - reference to the component\n * @param {string} hand - handedness of the controller: left or right.\n */\nexport function onButtonEvent (id, evtName, component, hand) {\n  var mapping = hand ? component.mapping[hand] : component.mapping;\n  var buttonName = mapping.buttons[id];\n  component.el.emit(buttonName + evtName);\n  if (component.updateModel) {\n    component.updateModel(buttonName, evtName);\n  }\n}\n","/* global location */\n\n/* Centralized place to reference utilities since utils is exposed to the user. */\nimport debug from './debug.js';\nimport deepAssign from 'deep-assign';\nimport * as device from './device.js';\nimport * as objectPool from './object-pool.js';\n\nvar warn = debug('utils:warn');\n\n/** @deprecated */\nexport function bind (fn) {\n  return fn.bind.apply(fn, Array.prototype.slice.call(arguments, 1));\n}\nexport * as coordinates from './coordinates.js';\nexport { default as debug } from './debug.js';\nexport * as device from './device.js';\nexport * as entity from './entity.js';\nexport { default as forceCanvasResizeSafariMobile } from './forceCanvasResizeSafariMobile.js';\nexport * as material from './material.js';\nexport * as objectPool from './object-pool.js';\nexport { split } from './split.js';\nexport * as styleParser from './styleParser.js';\nexport * as trackedControls from './tracked-controls.js';\n\nexport function checkHeadsetConnected () {\n  warn('`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`');\n  return device.checkHeadsetConnected(arguments);\n}\n\nexport function isIOS () {\n  warn('`utils.isIOS` has moved to `utils.device.isIOS`');\n  return device.isIOS(arguments);\n}\n\nexport function isMobile () {\n  warn('`utils.isMobile has moved to `utils.device.isMobile`');\n  return device.isMobile(arguments);\n}\n\n/**\n * Returns throttle function that gets called at most once every interval.\n *\n * @param {function} functionToThrottle\n * @param {number} minimumInterval - Minimal interval between calls (milliseconds).\n * @param {object} optionalContext - If given, bind function to throttle to this context.\n * @returns {function} Throttled function.\n */\nexport function throttle (functionToThrottle, minimumInterval, optionalContext) {\n  var lastTime;\n  if (optionalContext) {\n    functionToThrottle = functionToThrottle.bind(optionalContext);\n  }\n  return function () {\n    var time = Date.now();\n    var sinceLastTime = typeof lastTime === 'undefined' ? minimumInterval : time - lastTime;\n    if (typeof lastTime === 'undefined' || (sinceLastTime >= minimumInterval)) {\n      lastTime = time;\n      functionToThrottle.apply(null, arguments);\n    }\n  };\n}\n\n/**\n * Returns throttle function that gets called at most once every interval.\n * If there are multiple calls in the last interval we call the function one additional\n * time.\n * It behaves like throttle except for the very last call that gets deferred until the end of the interval.\n * This is useful when an event is used to trigger synchronization of state, and there is a need to converge\n * to the correct final state following a burst of events.\n *\n * Example use cases:\n * - synchronizing state based on the componentchanged event\n * - following a mouse pointer using the mousemove event\n * - integrating with THREE.TransformControls, via the objectChange event.\n *\n * @param {function} functionToThrottle\n * @param {number} minimumInterval - Minimal interval between calls (milliseconds).\n * @param {object} optionalContext - If given, bind function to throttle to this context.\n * @returns {function} Throttled function.\n */\nexport function throttleLeadingAndTrailing (functionToThrottle, minimumInterval, optionalContext) {\n  var lastTime;\n  var deferTimer;\n  if (optionalContext) {\n    functionToThrottle = functionToThrottle.bind(optionalContext);\n  }\n  var args;\n  var timerExpired = function () {\n    // Reached end of interval, call function\n    lastTime = Date.now();\n    functionToThrottle.apply(this, args);\n    deferTimer = undefined;\n  };\n\n  return function () {\n    var time = Date.now();\n    var sinceLastTime = typeof lastTime === 'undefined' ? minimumInterval : time - lastTime;\n    if (sinceLastTime >= minimumInterval) {\n      // Outside of minimum interval, call throttled function.\n      // Clear any pending timer as timeout imprecisions could otherwise cause two calls\n      // for the same interval.\n      clearTimeout(deferTimer);\n      deferTimer = undefined;\n      lastTime = time;\n      functionToThrottle.apply(null, arguments);\n    } else {\n      // Inside minimum interval, create timer if needed.\n      deferTimer = deferTimer || setTimeout(timerExpired, minimumInterval - sinceLastTime);\n      // Update args for when timer expires.\n      args = arguments;\n    }\n  };\n}\n\n/**\n * Returns throttle function that gets called at most once every interval.\n * Uses the time/timeDelta timestamps provided by the global render loop for better perf.\n *\n * @param {function} functionToThrottle\n * @param {number} minimumInterval - Minimal interval between calls (milliseconds).\n * @param {object} optionalContext - If given, bind function to throttle to this context.\n * @returns {function} Throttled function.\n */\nexport function throttleTick (functionToThrottle, minimumInterval, optionalContext) {\n  var lastTime;\n  if (optionalContext) {\n    functionToThrottle = functionToThrottle.bind(optionalContext);\n  }\n  return function (time, delta) {\n    var sinceLastTime = typeof lastTime === 'undefined' ? delta : time - lastTime;\n    if (typeof lastTime === 'undefined' || (sinceLastTime >= minimumInterval)) {\n      lastTime = time;\n      functionToThrottle(time, sinceLastTime);\n    }\n  };\n}\n\n/**\n * Returns debounce function that gets called only once after a set of repeated calls.\n *\n * @param {function} func - function to debounce\n * @param {number} wait - Time to wait for repeated function calls (milliseconds).\n * @param {boolean} immediate - Calls the function immediately regardless of if it should be waiting.\n * @returns {function} Debounced function.\n */\nexport function debounce (func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this;\n    var args = arguments;\n    var later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\n/**\n * Mix the properties of source object(s) into a destination object.\n *\n * @param  {object} dest - The object to which properties will be copied.\n * @param  {...object} source - The object(s) from which properties will be copied.\n */\nexport var extend = Object.assign;\nexport var extendDeep = deepAssign;\n\nexport function clone (obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\n/**\n * Checks if two values are equal.\n * Includes objects and arrays and nested objects and arrays.\n * Try to keep this function performant as it will be called often to see if a component\n * should be updated.\n *\n * @param {object} a - First object.\n * @param {object} b - Second object.\n * @returns {boolean} Whether two objects are deeply equal.\n */\nexport var deepEqual = (function () {\n  var arrayPool = objectPool.createPool(function () { return []; });\n\n  return function (a, b) {\n    var key;\n    var keysA;\n    var keysB;\n    var i;\n    var valA;\n    var valB;\n\n    // If not objects or arrays, compare as values.\n    if (a === undefined || b === undefined || a === null || b === null ||\n        !(a && b && (a.constructor === Object && b.constructor === Object) ||\n                    (a.constructor === Array && b.constructor === Array))) {\n      return a === b;\n    }\n\n    // Different number of keys, not equal.\n    keysA = arrayPool.use();\n    keysB = arrayPool.use();\n    keysA.length = 0;\n    keysB.length = 0;\n    for (key in a) { keysA.push(key); }\n    for (key in b) { keysB.push(key); }\n    if (keysA.length !== keysB.length) {\n      arrayPool.recycle(keysA);\n      arrayPool.recycle(keysB);\n      return false;\n    }\n\n    // Return `false` at the first sign of inequality.\n    for (i = 0; i < keysA.length; ++i) {\n      valA = a[keysA[i]];\n      valB = b[keysA[i]];\n      // Check nested array and object.\n      if ((typeof valA === 'object' || typeof valB === 'object') ||\n          (Array.isArray(valA) && Array.isArray(valB))) {\n        if (valA === valB) { continue; }\n        if (!deepEqual(valA, valB)) {\n          arrayPool.recycle(keysA);\n          arrayPool.recycle(keysB);\n          return false;\n        }\n      } else if (valA !== valB) {\n        arrayPool.recycle(keysA);\n        arrayPool.recycle(keysB);\n        return false;\n      }\n    }\n\n    arrayPool.recycle(keysA);\n    arrayPool.recycle(keysB);\n    return true;\n  };\n})();\n\n/**\n * Computes the difference between two objects.\n *\n * @param {object} a - First object to compare (e.g., oldData).\n * @param {object} b - Second object to compare (e.g., newData).\n * @returns {object}\n *   Difference object where set of keys note which values were not equal, and values are\n *   `b`'s values.\n */\nexport var diff = (function () {\n  var keys = [];\n\n  return function (a, b, targetObject) {\n    var aVal;\n    var bVal;\n    var bKey;\n    var diff;\n    var key;\n    var i;\n    var isComparingObjects;\n\n    diff = targetObject || {};\n\n    // Collect A keys.\n    keys.length = 0;\n    for (key in a) { keys.push(key); }\n\n    if (!b) { return diff; }\n\n    // Collect B keys.\n    for (bKey in b) {\n      if (keys.indexOf(bKey) === -1) {\n        keys.push(bKey);\n      }\n    }\n\n    for (i = 0; i < keys.length; i++) {\n      key = keys[i];\n      aVal = a[key];\n      bVal = b[key];\n      isComparingObjects = aVal && bVal &&\n                          aVal.constructor === Object && bVal.constructor === Object;\n      if ((isComparingObjects && !deepEqual(aVal, bVal)) ||\n          (!isComparingObjects && aVal !== bVal)) {\n        diff[key] = bVal;\n      }\n    }\n    return diff;\n  };\n})();\n\n/**\n * Returns whether we should capture this keyboard event for keyboard shortcuts.\n * @param {Event} event Event object.\n * @returns {boolean} Whether the key event should be captured.\n */\nexport function shouldCaptureKeyEvent (event) {\n  if (event.metaKey) { return false; }\n  return document.activeElement === document.body;\n}\n\n/**\n * Splits a string into an array based on a delimiter.\n *\n * @param   {string} [str='']        Source string\n * @param   {string} [delimiter=' '] Delimiter to use\n * @returns {string[]}               Array of delimited strings\n */\nexport function splitString (str, delimiter) {\n  if (typeof delimiter === 'undefined') { delimiter = ' '; }\n  // First collapse the whitespace (or whatever the delimiter is).\n  var regex = new RegExp(delimiter, 'g');\n  str = (str || '').replace(regex, delimiter);\n  // Then split.\n  return str.split(delimiter);\n}\n\n/**\n * Extracts data from the element given an object that contains expected keys.\n *\n * @param {Element} el - Source element.\n * @param {object} [defaults={}] - Object of default key-value pairs.\n * @returns {object}\n */\nexport function getElData (el, defaults) {\n  defaults = defaults || {};\n  var data = {};\n  Object.keys(defaults).forEach(copyAttribute);\n  function copyAttribute (key) {\n    if (el.hasAttribute(key)) {\n      data[key] = el.getAttribute(key);\n    }\n  }\n  return data;\n}\n\n/**\n * Retrieves querystring value.\n * @param {string} name Name of querystring key.\n * @returns {string} Value\n */\nexport function getUrlParameter (name) {\n  // eslint-disable-next-line no-useless-escape\n  name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n  var results = regex.exec(location.search);\n  return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n}\n\n/**\n * Detects whether context is within iframe.\n */\nexport function isIframed () {\n  return window.top !== window.self;\n}\n\n/**\n * Finds all elements under the element that have the isScene\n * property set to true\n */\nexport function findAllScenes (el) {\n  var matchingElements = [];\n  var allElements = el.getElementsByTagName('*');\n  for (var i = 0, n = allElements.length; i < n; i++) {\n    if (allElements[i].isScene) {\n      // Element exists with isScene set.\n      matchingElements.push(allElements[i]);\n    }\n  }\n  return matchingElements;\n}\n\n// Must be at bottom to avoid circular dependency.\nexport * as srcLoader from './src-loader.js';\n","import * as constants from '../../constants/index.js';\nimport { extend } from '../../utils/index.js';\n\nexport var MOBILE_HEAD_TAGS = [\n  Meta({name: 'viewport', content: 'width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover'}),\n\n  // W3C-standardised meta tags.\n  Meta({name: 'mobile-web-app-capable', content: 'yes'}),\n  Meta({name: 'theme-color', content: 'black'})\n];\n\nexport var MOBILE_IOS_HEAD_TAGS = [\n  // iOS-specific meta tags for fullscreen when pinning to homescreen.\n  Meta({name: 'apple-mobile-web-app-capable', content: 'yes'}),\n  Meta({name: 'apple-mobile-web-app-status-bar-style', content: 'black'}),\n  Link({rel: 'apple-touch-icon', href: 'https://aframe.io/images/aframe-logo-152.png'})\n];\n\nfunction Meta (attrs) {\n  return {\n    tagName: 'meta',\n    attributes: attrs,\n    exists: function () { return document.querySelector('meta[name=\"' + attrs.name + '\"]'); }\n  };\n}\n\nfunction Link (attrs) {\n  return {\n    tagName: 'link',\n    attributes: attrs,\n    exists: function () { return document.querySelector('link[rel=\"' + attrs.rel + '\"]'); }\n  };\n}\n\n/**\n * Injects the necessary metatags in the document for mobile support:\n * 1. Prevent the user to zoom in the document.\n * 2. Ensure that window.innerWidth and window.innerHeight have the correct\n *    values and the canvas is properly scaled.\n * 3. To allow fullscreen mode when pinning a web app on the home screen on\n *    iOS.\n * Adapted from https://www.reddit.com/r/web_design/comments/3la04p/\n *\n * @param {object} scene - Scene element\n * @returns {Array}\n */\nexport var inject = function injectHeadTags (scene) {\n  var headEl = document.head;\n  var headScriptEl = headEl.querySelector('script');\n  var tag;\n  var headTags = [];\n  MOBILE_HEAD_TAGS.forEach(createAndInjectTag);\n  if (scene.isIOS) {\n    MOBILE_IOS_HEAD_TAGS.forEach(createAndInjectTag);\n  }\n  return headTags;\n\n  function createAndInjectTag (tagObj) {\n    if (!tagObj || tagObj.exists()) { return; }\n\n    tag = createTag(tagObj);\n    if (!tag) { return; }\n\n    if (headScriptEl) {\n      headScriptEl.parentNode.insertBefore(tag, headScriptEl);\n    } else {\n      headEl.appendChild(tag);\n    }\n\n    headTags.push(tag);\n  }\n};\n\nfunction createTag (tagObj) {\n  if (!tagObj || !tagObj.tagName) { return; }\n  var meta = document.createElement(tagObj.tagName);\n  meta.setAttribute(constants.AFRAME_INJECTED, '');\n  return extend(meta, tagObj.attributes);\n}\n","import * as THREE from 'three';\nimport { AFRAME_INJECTED } from '../../constants/index.js';\nimport * as utils from '../../utils/index.js';\nvar styleParser = utils.styleParser;\n\nvar sceneEl;\nvar titleEl;\nvar getSceneCanvasSize;\n\nvar ATTR_NAME = 'loading-screen';\nvar LOADER_TITLE_CLASS = 'a-loader-title';\n\nexport function setup (el, getCanvasSize) {\n  sceneEl = el;\n  getSceneCanvasSize = getCanvasSize;\n  var loaderAttribute = sceneEl.hasAttribute(ATTR_NAME) ? styleParser.parse(sceneEl.getAttribute(ATTR_NAME)) : undefined;\n  var dotsColor = loaderAttribute && loaderAttribute.dotsColor || 'white';\n  var backgroundColor = loaderAttribute && loaderAttribute.backgroundColor || '#24CAFF';\n  var loaderEnabled = loaderAttribute === undefined || loaderAttribute.enabled === 'true' || loaderAttribute.enabled === undefined; // true default\n  var loaderScene;\n  var sphereGeometry;\n  var sphereMaterial;\n  var sphereMesh1;\n  var sphereMesh2;\n  var sphereMesh3;\n  var camera;\n  var clock;\n  var time;\n  var render;\n\n  if (!loaderEnabled) { return; }\n\n  // Setup Scene.\n  loaderScene = new THREE.Scene();\n  sphereGeometry = new THREE.SphereGeometry(0.20, 36, 18, 0, 2 * Math.PI, 0, Math.PI);\n  sphereMaterial = new THREE.MeshBasicMaterial({color: dotsColor});\n  sphereMesh1 = new THREE.Mesh(sphereGeometry, sphereMaterial);\n  sphereMesh2 = sphereMesh1.clone();\n  sphereMesh3 = sphereMesh1.clone();\n  camera = new THREE.PerspectiveCamera(80, window.innerWidth / window.innerHeight, 0.0005, 10000);\n  clock = new THREE.Clock();\n  time = 0;\n  render = function () {\n    sceneEl.renderer.render(loaderScene, camera);\n    time = clock.getElapsedTime() % 4;\n    sphereMesh1.visible = time >= 1;\n    sphereMesh2.visible = time >= 2;\n    sphereMesh3.visible = time >= 3;\n  };\n\n  loaderScene.background = new THREE.Color(backgroundColor);\n  loaderScene.add(camera);\n  sphereMesh1.position.set(-1, 0, -15);\n  sphereMesh2.position.set(0, 0, -15);\n  sphereMesh3.position.set(1, 0, -15);\n  camera.add(sphereMesh1);\n  camera.add(sphereMesh2);\n  camera.add(sphereMesh3);\n  setupTitle();\n\n  // Delay 200ms to avoid loader flashes.\n  setTimeout(function () {\n    if (sceneEl.hasLoaded) { return; }\n    resize(camera);\n    titleEl.style.display = 'block';\n    window.addEventListener('resize', function () { resize(camera); });\n    sceneEl.renderer.setAnimationLoop(render);\n  }, 200);\n}\n\nexport function remove () {\n  window.removeEventListener('resize', resize);\n  if (!titleEl) { return; }\n  // Hide title.\n  titleEl.style.display = 'none';\n}\n\nfunction resize (camera) {\n  var embedded = sceneEl.hasAttribute('embedded');\n  var size = getSceneCanvasSize(sceneEl.canvas, embedded, sceneEl.maxCanvasSize, sceneEl.is('vr-mode'));\n  camera.aspect = size.width / size.height;\n  camera.updateProjectionMatrix();\n   // Notify renderer of size change.\n  sceneEl.renderer.setSize(size.width, size.height, false);\n}\n\nfunction setupTitle () {\n  titleEl = document.createElement('div');\n  titleEl.className = LOADER_TITLE_CLASS;\n  titleEl.innerHTML = document.title;\n  titleEl.style.display = 'none';\n  titleEl.setAttribute(AFRAME_INJECTED, '');\n  sceneEl.appendChild(titleEl);\n}\n","/*\n  Scene index for keeping track of created scenes.\n*/\nexport default [];\n","import * as coordinates from '../utils/coordinates.js';\nimport debug from 'debug';\n\nvar warn = debug('core:propertyTypes:warn');\n\nexport var propertyTypes = {};\nvar nonCharRegex = /[,> .[\\]:]/;\nvar urlRegex = /url\\((.+)\\)/;\n\n// Built-in property types.\nregisterPropertyType('audio', '', assetParse, assetStringify);\nregisterPropertyType('array', [], arrayParse, arrayStringify, arrayEquals);\nregisterPropertyType('asset', '', assetParse, assetStringify);\nregisterPropertyType('boolean', false, boolParse);\nregisterPropertyType('color', '#FFF');\nregisterPropertyType('int', 0, intParse);\nregisterPropertyType('number', 0, numberParse);\nregisterPropertyType('map', '', assetParse, assetStringify);\nregisterPropertyType('model', '', assetParse, assetStringify);\nregisterPropertyType('selector', null, selectorParse, selectorStringify, defaultEquals, false);\nregisterPropertyType('selectorAll', null, selectorAllParse, selectorAllStringify, arrayEquals, false);\nregisterPropertyType('src', '', srcParse, assetStringify);\nregisterPropertyType('string', '');\nregisterPropertyType('time', 0, intParse);\nregisterPropertyType('vec2', {x: 0, y: 0}, vecParse, coordinates.stringify, coordinates.equals);\nregisterPropertyType('vec3', {x: 0, y: 0, z: 0}, vecParse, coordinates.stringify, coordinates.equals);\nregisterPropertyType('vec4', {x: 0, y: 0, z: 0, w: 1}, vecParse, coordinates.stringify, coordinates.equals);\n\n/**\n * Register a parser for re-use such that when someone uses `type` in the schema,\n * `schema.process` will set the property `parse` and `stringify`.\n *\n * @param {string} type - Type name.\n * @param {any} [defaultValue=null] - Default value to use if component does not define default value.\n * @param {function} [parse=defaultParse] - Parse string function.\n * @param {function} [stringify=defaultStringify] - Stringify to DOM function.\n * @param {function} [equals=defaultEquals] - Equality comparator.\n * @param {boolean} [cacheable=false] - Whether or not the parsed value of a property can be cached.\n */\nexport function registerPropertyType (type, defaultValue, parse, stringify, equals, cacheable) {\n  if (type in propertyTypes) {\n    throw new Error('Property type ' + type + ' is already registered.');\n  }\n\n  propertyTypes[type] = {\n    default: defaultValue,\n    parse: parse || defaultParse,\n    stringify: stringify || defaultStringify,\n    equals: equals || defaultEquals,\n    isCacheable: cacheable !== false\n  };\n}\n\nfunction arrayParse (value) {\n  if (Array.isArray(value)) { return value; }\n  if (!value || typeof value !== 'string') { return []; }\n  return value.split(',').map(trim);\n  function trim (str) { return str.trim(); }\n}\n\nfunction arrayStringify (value) {\n  return value.join(', ');\n}\n\nfunction arrayEquals (a, b) {\n  if (!Array.isArray(a) || !Array.isArray(b)) {\n    return a === b;\n  }\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; i++) {\n    // FIXME: Deep-equals for objects?\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * For general assets.\n *\n * @param {string} value - Can either be `url(<value>)`, an ID selector to an asset, or\n *   just string.\n * @returns {string} Parsed value from `url(<value>)`, src from `<someasset src>`, or\n *   just string.\n */\nfunction assetParse (value) {\n  var el;\n  var parsedUrl;\n\n  // If an element was provided (e.g. canvas or video), just return it.\n  if (typeof value !== 'string') { return value; }\n\n  // Wrapped `url()` in case of data URI.\n  parsedUrl = value.match(urlRegex);\n  if (parsedUrl) { return parsedUrl[1]; }\n\n  // ID.\n  if (value.charAt(0) === '#') {\n    el = document.getElementById(value.substring(1));\n    if (el) {\n      // Pass through media elements. If we have the elements, we don't have to call\n      // three.js loaders which would re-request the assets.\n      if (el.tagName === 'CANVAS' || el.tagName === 'VIDEO' || el.tagName === 'IMG') {\n        return el;\n      }\n      return el.getAttribute('src');\n    }\n    warn('\"' + value + '\" asset not found.');\n    return;\n  }\n\n  // Non-wrapped url().\n  return value;\n}\n\nfunction assetStringify (value) {\n  if (value.getAttribute) {\n    var id = value.getAttribute('id');\n    if (id) {\n      return '#' + value.getAttribute('id');\n    }\n    // HTMLElement without id can not be stringified, as there is no string assetParse\n    // could convert back to this exact element, using the src attribute instead.\n    return value.getAttribute('src');\n  }\n  return defaultStringify(value);\n}\n\nfunction defaultParse (value) {\n  return value;\n}\n\nfunction defaultStringify (value) {\n  if (value === null) { return 'null'; }\n  return value.toString();\n}\n\nfunction defaultEquals (a, b) {\n  return a === b;\n}\n\nfunction boolParse (value) {\n  return value !== 'false' && value !== false;\n}\n\nfunction intParse (value) {\n  return parseInt(value, 10);\n}\n\nfunction numberParse (value) {\n  return parseFloat(value, 10);\n}\n\nfunction selectorParse (value) {\n  if (!value) { return null; }\n  if (typeof value !== 'string') { return value; }\n  if (value[0] === '#' && !nonCharRegex.test(value)) {\n    // When selecting element by ID only, use getElementById for better performance.\n    // Don't match like #myId .child.\n    return document.getElementById(value.substring(1));\n  }\n  return document.querySelector(value);\n}\n\nfunction selectorAllParse (value) {\n  if (!value) { return null; }\n  if (typeof value !== 'string') { return value; }\n  return Array.prototype.slice.call(document.querySelectorAll(value), 0);\n}\n\nfunction selectorStringify (value) {\n  if (value.getAttribute) {\n    return '#' + value.getAttribute('id');\n  }\n  return defaultStringify(value);\n}\n\nfunction selectorAllStringify (value) {\n  if (value instanceof Array) {\n    return value.map(function (element) {\n      return '#' + element.getAttribute('id');\n    }).join(', ');\n  }\n  return defaultStringify(value);\n}\n\nfunction srcParse (value) {\n  warn('`src` property type is deprecated. Use `asset` instead.');\n  return assetParse(value);\n}\n\nfunction vecParse (value, defaultValue, target) {\n  return coordinates.parse(value, defaultValue, target);\n}\n\n/**\n * Validate the default values in a schema to match their type.\n *\n * @param {string} type - Property type name.\n * @param defaultVal - Property type default value.\n * @returns {boolean} Whether default value is accurate given the type.\n */\nexport function isValidDefaultValue (type, defaultVal) {\n  if (type === 'audio' && typeof defaultVal !== 'string') { return false; }\n  if (type === 'array' && !Array.isArray(defaultVal)) { return false; }\n  if (type === 'asset' && typeof defaultVal !== 'string') { return false; }\n  if (type === 'boolean' && typeof defaultVal !== 'boolean') { return false; }\n  if (type === 'color' && typeof defaultVal !== 'string') { return false; }\n  if (type === 'int' && typeof defaultVal !== 'number') { return false; }\n  if (type === 'number' && typeof defaultVal !== 'number') { return false; }\n  if (type === 'map' && typeof defaultVal !== 'string') { return false; }\n  if (type === 'model' && typeof defaultVal !== 'string') { return false; }\n  if (type === 'selector' && typeof defaultVal !== 'string' &&\n      defaultVal !== null) { return false; }\n  if (type === 'selectorAll' && typeof defaultVal !== 'string' &&\n      defaultVal !== null) { return false; }\n  if (type === 'src' && typeof defaultVal !== 'string') { return false; }\n  if (type === 'string' && typeof defaultVal !== 'string') { return false; }\n  if (type === 'time' && typeof defaultVal !== 'number') { return false; }\n  if (type === 'vec2') { return isValidDefaultCoordinate(defaultVal, 2); }\n  if (type === 'vec3') { return isValidDefaultCoordinate(defaultVal, 3); }\n  if (type === 'vec4') { return isValidDefaultCoordinate(defaultVal, 4); }\n  return true;\n}\n\n/**\n * Checks if default coordinates are valid.\n *\n * @param possibleCoordinates\n * @param {number} dimensions - 2 for 2D Vector, 3 for 3D vector.\n * @returns {boolean} Whether coordinates are parsed correctly.\n */\nexport function isValidDefaultCoordinate (possibleCoordinates, dimensions) {\n  if (possibleCoordinates === null) { return true; }\n  if (typeof possibleCoordinates !== 'object') { return false; }\n\n  if (Object.keys(possibleCoordinates).length !== dimensions) {\n    return false;\n  } else {\n    var x = possibleCoordinates.x;\n    var y = possibleCoordinates.y;\n    var z = possibleCoordinates.z;\n    var w = possibleCoordinates.w;\n\n    if (typeof x !== 'number' || typeof y !== 'number') { return false; }\n    if (dimensions > 2 && typeof z !== 'number') { return false; }\n    if (dimensions > 3 && typeof w !== 'number') { return false; }\n  }\n\n  return true;\n}\n","import * as utils from '../utils/index.js';\nimport * as PropertyTypes from './propertyTypes.js';\n\nvar debug = utils.debug;\nvar isValidDefaultValue = PropertyTypes.isValidDefaultValue;\nvar propertyTypes = PropertyTypes.propertyTypes;\n\nvar warn = debug('core:schema:warn');\n\n/**\n * A schema is classified as a schema for a single property if:\n * - `type` is defined on the schema as a string.\n * - OR `default` is defined on the schema, as a reserved keyword.\n * - OR schema is empty.\n */\nexport function isSingleProperty (schema) {\n  if ('type' in schema) {\n    return typeof schema.type === 'string';\n  }\n  return 'default' in schema;\n}\n\n/**\n * Build step to schema to use `type` to inject default value, parser, and stringifier.\n *\n * @param {object} schema\n * @param {string} componentName\n * @returns {object} Schema.\n */\nexport function process (schema, componentName) {\n  var propName;\n\n  // For single property schema, run processPropDefinition over the whole schema.\n  if (isSingleProperty(schema)) {\n    return processPropertyDefinition(schema, componentName);\n  }\n\n  // For multi-property schema, run processPropDefinition over each property definition.\n  for (propName in schema) {\n    schema[propName] = processPropertyDefinition(schema[propName], componentName);\n  }\n  return schema;\n}\n\n/**\n * Inject default value, parser, stringifier for single property.\n *\n * @param {object} propDefinition\n * @param {string} componentName\n */\nexport function processPropertyDefinition (propDefinition, componentName) {\n  var defaultVal = propDefinition.default;\n  var isCustomType;\n  var propType;\n  var typeName = propDefinition.type;\n\n  // Type inference.\n  if (!propDefinition.type) {\n    if (defaultVal !== undefined &&\n        (typeof defaultVal === 'boolean' || typeof defaultVal === 'number')) {\n      // Type inference.\n      typeName = typeof defaultVal;\n    } else if (Array.isArray(defaultVal)) {\n      typeName = 'array';\n    } else {\n      // Fall back to string.\n      typeName = 'string';\n    }\n  } else if (propDefinition.type === 'bool') {\n    typeName = 'boolean';\n  } else if (propDefinition.type === 'float') {\n    typeName = 'number';\n  }\n\n  propType = propertyTypes[typeName];\n  if (!propType) {\n    warn('Unknown property type for component `' + componentName + '`: ' + typeName);\n  }\n\n  // Fill in parse and stringify using property types.\n  isCustomType = !!propDefinition.parse;\n  propDefinition.parse = propDefinition.parse || propType.parse;\n  propDefinition.stringify = propDefinition.stringify || propType.stringify;\n  propDefinition.equals = propDefinition.equals || propType.equals;\n  propDefinition.isCacheable = propDefinition.isCacheable === true || propType.isCacheable;\n\n  // Fill in type name.\n  propDefinition.type = typeName;\n\n  // Check that default value exists.\n  if ('default' in propDefinition) {\n    // Check that default values are valid.\n    if (!isCustomType && !isValidDefaultValue(typeName, defaultVal)) {\n      warn('Default value `' + defaultVal + '` does not match type `' + typeName +\n           '` in component `' + componentName + '`');\n    }\n  } else {\n    // Fill in default value.\n    propDefinition.default = propType.default;\n  }\n\n  return propDefinition;\n}\n\n/**\n * Parse propData using schema. Use default values if not existing in propData.\n *\n * @param {object} propData - Unparsed properties.\n * @param {object} schema - Property types definition.\n * @param {boolean} getPartialData - Whether to return full component data or just the data\n *        with keys in `propData`.\n * @param {string } componentName - Name of the component, used for the property warning.\n * @param {boolean} silent - Suppress warning messages.\n */\nexport var parseProperties = (function () {\n  var propNames = [];\n\n  return function (propData, schema, getPartialData, componentName, silent) {\n    var i;\n    var propName;\n    var propDefinition;\n    var propValue;\n\n    propNames.length = 0;\n    for (propName in (getPartialData ? propData : schema)) {\n      if (getPartialData && propData[propName] === undefined) { continue; }\n      propNames.push(propName);\n    }\n\n    if (propData === null || typeof propData !== 'object') { return propData; }\n\n    // Validation errors.\n    for (propName in propData) {\n      if (propData[propName] !== undefined && !schema[propName] && !silent) {\n        warn('Unknown property `' + propName +\n             '` for component/system `' + componentName + '`.');\n      }\n    }\n\n    for (i = 0; i < propNames.length; i++) {\n      propName = propNames[i];\n      propDefinition = schema[propName];\n      propValue = propData[propName];\n      if (!(schema[propName])) { return; }\n      propData[propName] = parseProperty(propValue, propDefinition);\n    }\n\n    return propData;\n  };\n})();\n\n/**\n * Deserialize a single property.\n *\n * @param {any} value - The value to parse.\n * @param {object} propDefinition - The single property schema for the property.\n * @param {any} target - Optional target value to parse into (reuse).\n */\nexport function parseProperty (value, propDefinition, target) {\n  // Use default value if value is falsy.\n  if (value === undefined || value === null || value === '') {\n    value = propDefinition.default;\n    if (Array.isArray(value)) { value = value.slice(); }\n  }\n  // Invoke property type parser.\n  return propDefinition.parse(value, propDefinition.default, target);\n}\n\n/**\n * Serialize a group of properties.\n */\nexport function stringifyProperties (propData, schema) {\n  var propName;\n  var propDefinition;\n  var propValue;\n  var stringifiedData = {};\n  var value;\n\n  for (propName in propData) {\n    propDefinition = schema[propName];\n    propValue = propData[propName];\n    value = propValue;\n    if (typeof value === 'object') {\n      value = stringifyProperty(propValue, propDefinition);\n      if (!propDefinition) { warn('Unknown component property: ' + propName); }\n    }\n    if (value !== undefined) {\n      stringifiedData[propName] = value;\n    }\n  }\n  return stringifiedData;\n}\n\n/**\n * Serialize a single property.\n */\nexport function stringifyProperty (value, propDefinition) {\n  // This function stringifies but it's used in a context where\n  // there's always second stringification pass. By returning the original\n  // value when it's not an object we save one unnecessary call\n  // to JSON.stringify.\n  if (typeof value !== 'object') { return value; }\n  // if there's no schema for the property we use standard JSON stringify\n  if (!propDefinition || value === null) { return JSON.stringify(value); }\n  return propDefinition.stringify(value);\n}\n","/* global Node */\nimport * as schema from './schema.js';\nimport scenes from './scene/scenes.js';\nimport * as systems from './system.js';\nimport * as utils from '../utils/index.js';\n\nexport var components = {}; // Keep track of registered components.\nvar parseProperty = schema.parseProperty;\nvar processSchema = schema.process;\nvar isSingleProp = schema.isSingleProperty;\nvar stringifyProperties = schema.stringifyProperties;\nvar stringifyProperty = schema.stringifyProperty;\nvar styleParser = utils.styleParser;\nvar warn = utils.debug('core:component:warn');\n\nvar aframeScript = document.currentScript;\nvar upperCaseRegExp = new RegExp('[A-Z]+');\n\n// Object pools by component, created upon registration.\nvar objectPools = {};\nvar emptyInitialOldData = Object.freeze({});\nvar encounteredUnknownProperties = [];\n\n// Handler translating get/set into getComputedPropertyValue and recomputeProperty.\nvar attrValueProxyHandler = {\n  get: function (target, prop) {\n    return target.getComputedPropertyValue(prop);\n  },\n  set: function (target, prop, newValue) {\n    if (prop in target.schema) {\n      target.recomputeProperty(prop, newValue);\n    } else if (newValue !== undefined) {\n      target.handleUnknownProperty(prop, newValue);\n    }\n    return true;\n  }\n};\n\n/**\n * Component class definition.\n *\n * Components configure appearance, modify behavior, or add functionality to\n * entities. The behavior and appearance of an entity can be changed at runtime\n * by adding, removing, or updating components. Entities do not share instances\n * of components.\n *\n * @constructor\n * @param {object} el - Reference to the entity element.\n * @param {string} attrValue - Value of the corresponding HTML attribute.\n * @param {string} id - Optional id for differentiating multiple instances on the same entity.\n */\nexport var Component = function (el, attrValue, id) {\n  var self = this;\n\n  // If component is sceneOnly check the entity is the scene element\n  if (this.sceneOnly && !el.isScene) {\n    throw new Error('Component `' + this.name + '` can only be applied to <a-scene>');\n  }\n\n  // If component name has an id we check component type multiplicity.\n  if (id && !this.multiple) {\n    throw new Error('Trying to initialize multiple ' +\n                    'components of type `' + this.name +\n                    '`. There can only be one component of this type per entity.');\n  }\n\n  this.el = el;\n  this.id = id;\n  this.attrName = this.name + (id ? '__' + id : '');\n  this.evtDetail = {id: this.id, name: this.name};\n  this.initialized = false;\n  this.el.components[this.attrName] = this;\n  this.objectPool = objectPools[this.name];\n\n  var events = this.events;\n  this.events = {};\n  eventsBind(this, events);\n\n  // Allocate data and oldData.\n  this.attrValue = undefined;\n  if (this.isObjectBased) {\n    this.data = this.objectPool.use();\n    // Drop any properties added by dynamic schemas in previous use\n    utils.objectPool.removeUnusedKeys(this.data, this.schema);\n    this.oldData = this.objectPool.use();\n    utils.objectPool.removeUnusedKeys(this.oldData, this.schema);\n\n    this.attrValueProxy = new Proxy(this, attrValueProxyHandler);\n  } else {\n    this.data = undefined;\n    this.oldData = undefined;\n    this.attrValueProxy = undefined;\n  }\n\n  // Dynamic schema requires special handling of unknown properties to avoid false-positives.\n  this.deferUnknownPropertyWarnings = !!this.updateSchema;\n\n  // Last value passed to updateProperties.\n  // This type of throttle ensures that when a burst of changes occurs, the final change to the\n  // component always triggers an event (so a consumer of this event will end up reading the correct\n  // final state, following a burst of changes).\n  this.throttledEmitComponentChanged = utils.throttleLeadingAndTrailing(function emitChange () {\n    el.emit('componentchanged', self.evtDetail, false);\n  }, 200);\n\n  // Initial call to updateProperties, force clobber to trigger an initial computation of all properties.\n  this.updateProperties(attrValue, true);\n};\n\nComponent.prototype = {\n  /**\n   * Contains the type schema and defaults for the data values.\n   * Data is coerced into the types of the values of the defaults.\n   */\n  schema: {},\n\n  /**\n   * Init handler. Similar to attachedCallback.\n   * Called during component initialization and is only run once.\n   * Components can use this to set initial state.\n   */\n  init: function () { /* no-op */ },\n\n  /**\n   * Map of event names to bound event handlers that will be lifecycle-handled.\n   * Will be detached on pause / remove.\n   * Will be attached on play.\n   */\n  events: {},\n\n  /**\n   * Update handler. Similar to attributeChangedCallback.\n   * Called whenever component's data changes.\n   * Also called on component initialization when the component receives initial data.\n   *\n   * @param {object} prevData - Previous attributes of the component.\n   */\n  update: function (prevData) { /* no-op */ },\n\n  /**\n   * Update schema handler. Allows the component to dynamically change its schema.\n   * Called whenever a property marked as schemaChange changes.\n   * Also called on initialization when the component receives initial data.\n   *\n   * @param {object} data - The data causing the schema change\n   */\n  updateSchema: undefined,\n\n  /**\n   * Tick handler.\n   * Called on each tick of the scene render loop.\n   * Affected by play and pause.\n   *\n   * @param {number} time - Scene tick time.\n   * @param {number} timeDelta - Difference in current render time and previous render time.\n   */\n  tick: undefined,\n\n  /**\n   * Tock handler.\n   * Called on each tock of the scene render loop.\n   * Affected by play and pause.\n   *\n   * @param {number} time - Scene tick time.\n   * @param {number} timeDelta - Difference in current render time and previous render time.\n   * @param {object} camera - Camera used to render the last frame.\n   */\n  tock: undefined,\n\n  /**\n   * Called to start any dynamic behavior (e.g., animation, AI, events, physics).\n   */\n  play: function () { /* no-op */ },\n\n  /**\n   * Called to stop any dynamic behavior (e.g., animation, AI, events, physics).\n   */\n  pause: function () { /* no-op */ },\n\n  /**\n   * Remove handler. Similar to detachedCallback.\n   * Called whenever component is removed from the entity (i.e., removeAttribute).\n   * Components can use this to reset behavior on the entity.\n   */\n  remove: function () { /* no-op */ },\n\n  /**\n   * Stringify properties if necessary.\n   *\n   * Only called from `Entity.setAttribute` for properties whose parsers accept a non-string\n   * value (e.g., selector, vec3 property types).\n   *\n   * @param {object} data - Complete component data.\n   * @returns {string}\n   */\n  stringify: function (data) {\n    var schema = this.schema;\n    if (typeof data === 'string') { return data; }\n    if (this.isSingleProperty) { return stringifyProperty(data, schema); }\n    data = stringifyProperties(data, schema);\n    return styleParser.stringify(data);\n  },\n\n  /**\n   * Write cached attribute data to the entity DOM element.\n   *\n   * @param {boolean} isDefault - Whether component is a default component. Always flush for\n   *   default components.\n   */\n  flushToDOM: function (isDefault) {\n    var attrValue = isDefault ? this.data : this.attrValue;\n    if (attrValue === null || attrValue === undefined) { return; }\n    window.HTMLElement.prototype.setAttribute.call(this.el, this.attrName,\n                                                   this.stringify(attrValue));\n  },\n\n  /**\n   * Apply new component data if data has changed (from setAttribute).\n   *\n   * @param {string} attrValue - HTML attribute value.\n   *        If undefined, use the cached attribute value and continue updating properties.\n   * @param {boolean} clobber - The previous component data is overwritten by the attrValue.\n   */\n  updateProperties: function (attrValue, clobber) {\n    var el = this.el;\n\n    // Update data\n    this.updateData(attrValue, clobber);\n\n    // Just cache the attribute if the entity has not loaded\n    // Components are not initialized until the entity has loaded\n    if (!el.hasLoaded && !el.isLoading) {\n      return;\n    }\n\n    if (this.initialized) {\n      this.callUpdateHandler();\n    } else {\n      this.initComponent();\n    }\n  },\n\n  initComponent: function () {\n    var el = this.el;\n    var initialOldData;\n\n    // Component is already being initialized.\n    if (el.initializingComponents[this.name]) { return; }\n\n    // Prevent infinite loop in case of init method setting same component on the entity.\n    el.initializingComponents[this.name] = true;\n    // Initialize component.\n    this.init();\n    this.initialized = true;\n    delete el.initializingComponents[this.name];\n\n    // For oldData, pass empty object to multiple-prop schemas or object single-prop schema.\n    // Pass undefined to rest of types.\n    initialOldData = this.isObjectBased ? emptyInitialOldData : undefined;\n    // Unset dataChanged before calling update, as update might (indirectly) trigger a change\n    this.dataChanged = false;\n    this.storeOldData();\n    this.update(initialOldData);\n\n    // Play the component if the entity is playing.\n    if (el.isPlaying) { this.play(); }\n    el.emit('componentinitialized', this.evtDetail, false);\n  },\n\n  /**\n   * @param {string|object} attrValue - Passed argument from setAttribute.\n   * @param {boolean} clobber - Whether or not to overwrite previous data by the attrValue.\n   */\n  updateData: function (attrValue, clobber) {\n    // Single property (including object based single property)\n    if (this.isSingleProperty) {\n      this.recomputeProperty(undefined, attrValue);\n      return;\n    }\n\n    // Multi-property\n    if (clobber) {\n      // Clobber. Rebuild.\n      utils.objectPool.clearObject(this.attrValue);\n      this.recomputeData(attrValue);\n      // Quirk: always update schema when clobbering, even if there are no schemaChange properties in schema.\n      this.schemaChangeRequired = !!this.updateSchema;\n    } else if (typeof attrValue === 'string') {\n      // AttrValue is a style string, parse it into the attrValueProxy object\n      styleParser.parse(attrValue, this.attrValueProxy);\n    } else {\n      // AttrValue is an object, apply it to the attrValueProxy object\n      utils.extend(this.attrValueProxy, attrValue);\n    }\n\n    // Update schema if needed\n    this.updateSchemaIfNeeded(attrValue);\n  },\n\n  updateSchemaIfNeeded: function (attrValue) {\n    if (this.schemaChangeRequired && this.updateSchema) {\n      encounteredUnknownProperties.length = 0;\n\n      this.updateSchema(this.data);\n      utils.objectPool.removeUnusedKeys(this.data, this.schema);\n      this.recomputeData(attrValue);\n      this.schemaChangeRequired = false;\n\n      // Report any excess properties not valid in the updated schema\n      for (var key in this.attrValue) {\n        if (this.attrValue[key] === undefined) { continue; }\n        if (encounteredUnknownProperties.indexOf(key) !== -1) { continue; }\n        if (!(key in this.schema)) {\n          warn('Unknown property `' + key + '` for component `' + this.name + '`.');\n        }\n      }\n    }\n\n    // Log any pending unknown property warning\n    for (var i = 0; i < encounteredUnknownProperties.length; i++) {\n      warn('Unknown property `' + encounteredUnknownProperties[i] +\n            '` for component `' + this.name + '`.');\n    }\n    encounteredUnknownProperties.length = 0;\n  },\n\n  /**\n   * Check if component should fire update and fire update lifecycle handler.\n   */\n  callUpdateHandler: function () {\n    // Don't update if properties haven't changed.\n    // Always update rotation, position, scale.\n    if (!this.isPositionRotationScale && !this.dataChanged) { return; }\n\n    // Unset dataChanged before calling update, as update might (indirectly) trigger a change\n    this.dataChanged = false;\n\n    // Flag oldData in use while inside `update()`\n    var oldData = this.oldData;\n    this.oldDataInUse = true;\n    this.update(oldData);\n    if (oldData !== this.oldData) {\n      // Recursive update replaced oldData, so clean up our copy.\n      this.objectPool.recycle(oldData);\n    }\n    this.oldDataInUse = false;\n\n    // Update oldData to match current data state for next update\n    this.storeOldData();\n\n    this.throttledEmitComponentChanged();\n  },\n\n  handleMixinUpdate: function () {\n    this.recomputeData();\n    this.updateSchemaIfNeeded();\n    this.callUpdateHandler();\n  },\n\n  /**\n   * Reset value of a property to the property's default value.\n   * If single property component, reset value to component's default value.\n   *\n   * @param {string} propertyName - Name of property to reset.\n   */\n  resetProperty: function (propertyName) {\n    if (!this.isSingleProperty && !(propertyName in this.schema)) { return; }\n\n    // Reset attrValue for single- and multi-property components\n    if (propertyName) {\n      this.attrValue[propertyName] = undefined;\n    } else {\n      // Return attrValue for object based single property components\n      if (this.isObjectBased) {\n        this.objectPool.recycle(this.attrValue);\n      }\n      this.attrValue = undefined;\n    }\n    this.recomputeProperty(propertyName, undefined);\n    this.updateSchemaIfNeeded();\n    this.callUpdateHandler();\n  },\n\n  /**\n   * Extend schema of component given a partial schema.\n   *\n   * Some components might want to mutate their schema based on certain properties.\n   * e.g., Material component changes its schema based on `shader` to account for different\n   * uniforms.\n   *\n   * @param {object} schemaAddon - Schema chunk that extend base schema.\n   */\n  extendSchema: function (schemaAddon) {\n    var extendedSchema;\n    // Clone base schema.\n    extendedSchema = utils.extend({}, components[this.name].schema);\n    // Extend base schema with new schema chunk.\n    utils.extend(extendedSchema, schemaAddon);\n    this.schema = processSchema(extendedSchema);\n    this.el.emit('schemachanged', this.evtDetail);\n  },\n\n  getComputedPropertyValue: function (key) {\n    var mixinEls = this.el.mixinEls;\n\n    // Defined as attribute on entity\n    var attrValue = (this.attrValue && key) ? this.attrValue[key] : this.attrValue;\n    if (attrValue !== undefined) {\n      return attrValue;\n    }\n\n    // Inherited from mixin\n    for (var i = mixinEls.length - 1; i >= 0; i--) {\n      var mixinData = mixinEls[i].getAttribute(this.attrName);\n      if ((mixinData === null) || (key && !(key in mixinData))) { continue; }\n      return key ? mixinData[key] : mixinData;\n    }\n\n    // Schema default\n    var schemaDefault = key ? this.schema[key].default : this.schema.default;\n    return schemaDefault;\n  },\n\n  recomputeProperty: function (key, newValue) {\n    var propertySchema = key ? this.schema[key] : this.schema;\n\n    if (newValue !== undefined && newValue !== null) {\n      // Initialize attrValue ad-hoc as it's the return value of getDOMAttribute\n      // and is expected to be undefined until a property has been set.\n      if (this.attrValue === undefined && this.isObjectBased) {\n        this.attrValue = this.objectPool.use();\n      }\n\n      // Parse the new value into attrValue (re-using objects where possible)\n      var newAttrValue = key ? this.attrValue[key] : this.attrValue;\n      // Some property types (like selectors) depend on external state (e.g. DOM) during parsing and can't be cached.\n      newAttrValue = propertySchema.isCacheable ? parseProperty(newValue, propertySchema, newAttrValue) : newValue;\n      // In case the output is a string, store the unparsed value (no double parsing and helps inspector)\n      if (typeof newAttrValue === 'string') {\n        // Quirk: empty strings aren't considered values for single-property schemas\n        newAttrValue = newValue === '' ? undefined : newValue;\n      }\n      // Update attrValue with new, possibly parsed, value.\n      if (key) {\n        this.attrValue[key] = newAttrValue;\n      } else {\n        this.attrValue = newAttrValue;\n      }\n    }\n\n    // Quirk: recursive updates keep this.oldData in use, meaning oldData isn't up-to-date yet.\n    // Before the first change to data is made, provision a new oldData and update it.\n    // Cleanup of orphaned oldData objects is handled in callUpdateHandler.\n    if (this.oldDataInUse) {\n      this.oldData = this.objectPool.use();\n      utils.objectPool.removeUnusedKeys(this.oldData, this.schema);\n      this.storeOldData();\n      this.oldDataInUse = false;\n    }\n\n    var oldComputedValue = key ? this.oldData[key] : this.oldData;\n    var targetValue = key ? this.data[key] : this.data;\n\n    var newComputedValue = parseProperty(this.getComputedPropertyValue(key), propertySchema, targetValue);\n    // Quirk: Single-property arrays DO NOT share references, while arrays in multi-property components do.\n    if (propertySchema.type === 'array' && !key) {\n      newComputedValue = utils.clone(newComputedValue);\n    }\n\n    // Check if the resulting (parsed) value differs from before\n    if (!propertySchema.equals(newComputedValue, oldComputedValue)) {\n      this.dataChanged = true;\n\n      // Mark schema change required\n      if (propertySchema.schemaChange) {\n        this.schemaChangeRequired = true;\n      }\n    }\n\n    // Update data with the newly computed value.\n    if (key) {\n      this.data[key] = newComputedValue;\n    } else {\n      this.data = newComputedValue;\n    }\n\n    return newComputedValue;\n  },\n\n  handleUnknownProperty: function (key, newValue) {\n    // Persist the raw value on attrValue\n    if (this.attrValue === undefined) {\n      this.attrValue = this.objectPool.use();\n    }\n    this.attrValue[key] = newValue;\n\n    // Handle warning the user about the unknown property.\n    // Since a component might have a dynamic schema, the warning might be\n    // silenced or deferred to avoid false-positives.\n    if (this.deferUnknownPropertyWarnings) {\n      encounteredUnknownProperties.push(key);\n    } else if (!this.silenceUnknownPropertyWarnings) {\n      warn('Unknown property `' + key + '` for component `' + this.name + '`.');\n    }\n  },\n\n  /**\n   * Updates oldData to the current state of data taking care to\n   * copy and clone objects where necessary.\n   */\n  storeOldData: function () {\n    // Non object based single properties\n    if (!this.isObjectBased) {\n      this.oldData = this.data;\n      return;\n    }\n\n    // Object based single property\n    if (this.isSingleProperty) {\n      this.oldData = parseProperty(this.data, this.schema, this.oldData);\n      return;\n    }\n\n    // Object based\n    var key;\n    for (key in this.schema) {\n      if (this.data[key] === undefined) { continue; }\n      if (this.data[key] && typeof this.data[key] === 'object') {\n        this.oldData[key] = parseProperty(this.data[key], this.schema[key], this.oldData[key]);\n      } else {\n        this.oldData[key] = this.data[key];\n      }\n    }\n  },\n\n  /**\n   * Triggers a recompute of the data object.\n   *\n   * @param {string|object} attrValue - Optional additional data updates\n   */\n  recomputeData: function (attrValue) {\n    var key;\n\n    if (this.isSingleProperty) {\n      this.recomputeProperty(undefined, attrValue);\n      return;\n    }\n\n    for (key in this.schema) {\n      this.attrValueProxy[key] = undefined;\n    }\n\n    if (attrValue && typeof attrValue === 'object') {\n      utils.extend(this.attrValueProxy, attrValue);\n    } else if (typeof attrValue === 'string') {\n      // AttrValue is a style string, parse it into the attrValueProxy object\n      styleParser.parse(attrValue, this.attrValueProxy);\n    }\n  },\n\n  /**\n   * Attach events from component-defined events map.\n   */\n  eventsAttach: function () {\n    var eventName;\n    // Safety detach to prevent double-registration.\n    this.eventsDetach();\n    for (eventName in this.events) {\n      this.el.addEventListener(eventName, this.events[eventName]);\n    }\n  },\n\n  /**\n   * Detach events from component-defined events map.\n   */\n  eventsDetach: function () {\n    var eventName;\n    for (eventName in this.events) {\n      this.el.removeEventListener(eventName, this.events[eventName]);\n    }\n  },\n\n  /**\n   * Release and free memory.\n   */\n  destroy: function () {\n    this.objectPool.recycle(this.attrValue);\n    this.objectPool.recycle(this.data);\n    this.objectPool.recycle(this.oldData);\n    this.attrValue = this.data = this.oldData = this.attrValueProxy = undefined;\n  }\n};\n\nfunction eventsBind (component, events) {\n  var eventName;\n  for (eventName in events) {\n    component.events[eventName] = events[eventName].bind(component);\n  }\n}\n\n// For testing.\nexport var registrationOrderWarnings = {};\n\n/**\n * Register a component to A-Frame.\n *\n * @param {string} name - Component name.\n * @param {object} definition - Component schema and lifecycle method handlers.\n * @returns {object} Component.\n */\nexport function registerComponent (name, definition) {\n  var NewComponent;\n  var proto = {};\n  var schema;\n  var schemaIsSingleProp;\n\n  // Warning if component is statically registered after the scene.\n  if (document.currentScript && document.currentScript !== aframeScript) {\n    scenes.forEach(function checkPosition (sceneEl) {\n      // Okay to register component after the scene at runtime.\n      if (sceneEl.hasLoaded) { return; }\n\n      // Check that component is declared before the scene.\n      if (document.currentScript.compareDocumentPosition(sceneEl) ===\n          Node.DOCUMENT_POSITION_FOLLOWING) { return; }\n\n      warn('The component `' + name + '` was registered in a <script> tag after the scene. ' +\n           'Component <script> tags in an HTML file should be declared *before* the scene ' +\n           'such that the component is available to entities during scene initialization.');\n\n      // For testing.\n      if (window.debug) { registrationOrderWarnings[name] = true; }\n    });\n  }\n\n  if (upperCaseRegExp.test(name) === true) {\n    warn('The component name `' + name + '` contains uppercase characters, but ' +\n         'HTML will ignore the capitalization of attribute names. ' +\n         'Change the name to be lowercase: `' + name.toLowerCase() + '`');\n  }\n\n  if (name.indexOf('__') !== -1) {\n    throw new Error('The component name `' + name + '` is not allowed. ' +\n                    'The sequence __ (double underscore) is reserved to specify an id' +\n                    ' for multiple components of the same type');\n  }\n\n  // Format definition object to prototype object.\n  Object.keys(definition).forEach(function (key) {\n    proto[key] = {\n      value: definition[key],\n      writable: true\n    };\n  });\n\n  if (components[name]) {\n    throw new Error('The component `' + name + '` has been already registered. ' +\n                    'Check that you are not loading two versions of the same component ' +\n                    'or two different components of the same name.');\n  }\n\n  NewComponent = function (el, attr, id) {\n    Component.call(this, el, attr, id);\n  };\n\n  NewComponent.prototype = Object.create(Component.prototype, proto);\n  NewComponent.prototype.name = name;\n  NewComponent.prototype.isPositionRotationScale =\n    name === 'position' || name === 'rotation' || name === 'scale';\n  NewComponent.prototype.constructor = NewComponent;\n  NewComponent.prototype.system = systems && systems.systems[name];\n  NewComponent.prototype.play = wrapPlay(NewComponent.prototype.play);\n  NewComponent.prototype.pause = wrapPause(NewComponent.prototype.pause);\n\n  schema = utils.extend(processSchema(NewComponent.prototype.schema,\n                                      NewComponent.prototype.name));\n  NewComponent.prototype.isSingleProperty = schemaIsSingleProp = isSingleProp(NewComponent.prototype.schema);\n  NewComponent.prototype.isObjectBased = !schemaIsSingleProp ||\n              (schemaIsSingleProp && (isObject(schema.default) || isObject(parseProperty(undefined, schema))));\n\n  // Create object pool for class of components.\n  objectPools[name] = utils.objectPool.createPool();\n\n  components[name] = {\n    Component: NewComponent,\n    dependencies: NewComponent.prototype.dependencies,\n    before: NewComponent.prototype.before,\n    after: NewComponent.prototype.after,\n    isSingleProperty: NewComponent.prototype.isSingleProperty,\n    isObjectBased: NewComponent.prototype.isObjectBased,\n    multiple: NewComponent.prototype.multiple,\n    sceneOnly: NewComponent.prototype.sceneOnly,\n    name: name,\n    schema: schema,\n    stringify: NewComponent.prototype.stringify\n  };\n\n  // Notify all scenes\n  for (var i = 0; i < scenes.length; i++) {\n    scenes[i].emit('componentregistered', {name: name}, false);\n  }\n\n  return NewComponent;\n}\n\n/**\n * Checks if a component has defined a method that needs to run every frame.\n */\nfunction hasBehavior (component) {\n  return component.tick || component.tock;\n}\n\n/**\n * Wrapper for defined pause method.\n * Pause component by removing tick behavior and calling user's pause method.\n *\n * @param {function} pauseMethod\n * @returns {function}\n */\nfunction wrapPause (pauseMethod) {\n  return function pause () {\n    var sceneEl = this.el.sceneEl;\n    if (!this.isPlaying) { return; }\n    pauseMethod.call(this);\n    this.isPlaying = false;\n    this.eventsDetach();\n    // Remove tick behavior.\n    if (!hasBehavior(this)) { return; }\n    sceneEl.removeBehavior(this);\n  };\n}\n\n/**\n * Wrapper for defined play method.\n * Play component by adding tick behavior and calling user's play method.\n *\n * @param {function} playMethod\n * @returns {function}\n */\nfunction wrapPlay (playMethod) {\n  return function play () {\n    var sceneEl = this.el.sceneEl;\n    var shouldPlay = this.el.isPlaying && !this.isPlaying;\n    if (!this.initialized || !shouldPlay) { return; }\n    playMethod.call(this);\n    this.isPlaying = true;\n    this.eventsAttach();\n    // Add tick behavior.\n    if (!hasBehavior(this)) { return; }\n    sceneEl.addBehavior(this);\n  };\n}\n\nfunction isObject (value) {\n  return value && value.constructor === Object && !(value instanceof window.HTMLElement);\n}\n","/* global CustomEvent */\n\n/**\n * Flag indicating if A-Frame can initialize the scene or should wait.\n */\nexport var canInitializeElements = false;\n\n/**\n * Waits for the document to be ready.\n */\nexport function waitForDocumentReadyState () {\n  if (document.readyState === 'complete') {\n    emitReady();\n    return;\n  }\n\n  document.addEventListener('readystatechange', function onReadyStateChange () {\n    if (document.readyState !== 'complete') { return; }\n    document.removeEventListener('readystatechange', onReadyStateChange);\n    emitReady();\n  });\n}\n\n/**\n * Signals A-Frame that everything is ready to initialize.\n */\nexport function emitReady () {\n  if (canInitializeElements) { return; }\n  canInitializeElements = true;\n  setTimeout(function () {\n    document.dispatchEvent(new CustomEvent('aframeready'));\n  });\n}\n\n/** Resets the canInitializeElements flag, used for testing */\nexport function reset () {\n  canInitializeElements = false;\n}\n","import { parseProperties, parseProperty, process as processSchema, isSingleProperty as isSingleProp } from './schema.js';\nimport * as components from './component.js';\nimport * as utils from '../utils/index.js';\nimport * as ready from './readyState.js';\n\nvar styleParser = utils.styleParser;\n\nexport var systems = {};  // Keep track of registered systems.\n\n/**\n * System class definition.\n *\n * Systems provide global scope and services to a group of instantiated components of the\n * same class. They can also help abstract logic away from components such that components\n * only have to worry about data.\n *\n * For example, a physics component that creates a physics world that oversees\n * all entities with a physics or rigid body component.\n *\n * TODO: Have the System prototype reuse the Component prototype. Most code is copied\n * and some pieces are missing from the Component facilities (e.g., attribute caching,\n * setAttribute behavior).\n *\n * @constructor\n * @param {Element} sceneEl - Handle to the scene element where system applies to.\n * @property {string} name - Name that system is registered under.\n */\nexport var System = function (sceneEl) {\n  var component = components && components.components[this.name];\n\n  // Set reference to scene.\n  this.el = sceneEl;\n  this.sceneEl = sceneEl;\n\n  // Set reference to matching component (if exists).\n  if (component) { component.Component.prototype.system = this; }\n\n  // Process system configuration.\n  this.buildData();\n  this.init();\n  this.update({});\n};\n\nSystem.prototype = {\n  /**\n   * Schema to configure system.\n   */\n  schema: {},\n\n  /**\n   * Init handler. Called during scene initialization and is only run once.\n   * Systems can use this to set initial state.\n   */\n  init: function () { /* no-op */ },\n\n  /**\n   * Update handler. Called during scene attribute updates.\n   * Systems can use this to dynamically update their state.\n   */\n  update: function (oldData) { /* no-op */ },\n\n  /**\n   * Build data and call update handler.\n   *\n   * @private\n   */\n  updateProperties: function (rawData) {\n    var oldData = this.data;\n    if (Object.keys(this.schema).length === 0) { return; }\n    this.buildData(rawData);\n    this.update(oldData);\n  },\n\n  /**\n   * Parse data.\n   */\n  buildData: function (rawData) {\n    var schema = this.schema;\n    if (Object.keys(schema).length === 0) { return; }\n    rawData = rawData || window.HTMLElement.prototype.getAttribute.call(this.sceneEl, this.name);\n    if (isSingleProp(schema)) {\n      this.data = parseProperty(rawData, schema);\n    } else {\n      this.data = parseProperties(styleParser.parse(rawData) || {}, schema, false, this.name);\n    }\n  },\n\n  /**\n   * Tick handler.\n   * Called on each tick of the scene render loop.\n   * Affected by play and pause.\n   *\n   * @param {number} time - Scene tick time.\n   * @param {number} timeDelta - Difference in current render time and previous render time.\n   */\n  tick: undefined,\n\n  /**\n   * Tock handler.\n   * Called on each tock of the scene render loop.\n   * Affected by play and pause.\n   *\n   * @param {number} time - Scene tick time.\n   * @param {number} timeDelta - Difference in current render time and previous render time.\n   */\n  tock: undefined,\n\n  /**\n   * Called to start any dynamic behavior (e.g., animation, AI, events, physics).\n   */\n  play: function () { /* no-op */ },\n\n  /**\n   * Called to stop any dynamic behavior (e.g., animation, AI, events, physics).\n   */\n  pause: function () { /* no-op */ }\n};\n\n/**\n * Registers a system to A-Frame.\n *\n * @param {string} name - Component name.\n * @param {object} definition - Component property and methods.\n */\nexport function registerSystem (name, definition) {\n  var i;\n  var NewSystem;\n  var proto = {};\n  var scenes = utils.findAllScenes(document);\n\n  // Format definition object to prototype object.\n  Object.keys(definition).forEach(function (key) {\n    proto[key] = {\n      value: definition[key],\n      writable: true\n    };\n  });\n\n  if (systems[name]) {\n    throw new Error('The system `' + name + '` has been already registered. ' +\n                    'Check that you are not loading two versions of the same system ' +\n                    'or two different systems of the same name.');\n  }\n  NewSystem = function (sceneEl) { System.call(this, sceneEl); };\n  NewSystem.prototype = Object.create(System.prototype, proto);\n  NewSystem.prototype.name = name;\n  NewSystem.prototype.constructor = NewSystem;\n  NewSystem.prototype.schema = utils.extend(processSchema(NewSystem.prototype.schema));\n  systems[name] = NewSystem;\n\n  // Initialize systems for existing scenes\n  if (ready.canInitializeElements) {\n    for (i = 0; i < scenes.length; i++) { scenes[i].initSystem(name); }\n  }\n}\n","/* global customElements, CustomEvent, HTMLElement, MutationObserver */\nimport * as utils from '../utils/index.js';\nimport * as readyState from './readyState.js';\n\nvar warn = utils.debug('core:a-node:warn');\n\nexport var knownTags = {\n  'a-scene': true,\n  'a-assets': true,\n  'a-assets-items': true,\n  'a-cubemap': true,\n  'a-mixin': true,\n  'a-node': true,\n  'a-entity': true\n};\n\nfunction isANode (node) {\n  return node.tagName.toLowerCase() in knownTags || node.isANode;\n}\n\n/**\n * Base class for A-Frame that manages loading of objects.\n *\n * Nodes can be modified using mixins.\n * Nodes emit a `loaded` event when they and their children have initialized.\n */\nexport class ANode extends HTMLElement {\n  constructor () {\n    super();\n    this.computedMixinStr = '';\n    this.hasLoaded = false;\n    this.isANode = true;\n    this.mixinEls = [];\n  }\n\n  connectedCallback () {\n    // Defer if not ready to initialize.\n    if (!readyState.canInitializeElements) {\n      document.addEventListener('aframeready', this.connectedCallback.bind(this));\n      return;\n    }\n    this.doConnectedCallback();\n  }\n\n  doConnectedCallback () {\n    var mixins;\n\n    this.sceneEl = this.closestScene();\n\n    if (!this.sceneEl) {\n      warn('You are attempting to attach <' + this.tagName + '> outside of an A-Frame ' +\n           'scene. Append this element to `<a-scene>` instead.');\n    }\n\n    this.hasLoaded = false;\n    this.emit('nodeready', undefined, false);\n\n    if (!this.isMixin) {\n      mixins = this.getAttribute('mixin');\n      if (mixins) { this.updateMixins(mixins); }\n    }\n  }\n\n  /**\n   * Handle mixin.\n   */\n  attributeChangedCallback (attr, oldVal, newVal) {\n    // Ignore if `<a-node>` code is just updating computed mixin in the DOM.\n    if (newVal === this.computedMixinStr) { return; }\n\n    if (attr === 'mixin' && !this.isMixin) {\n      this.updateMixins(newVal, oldVal);\n    }\n  }\n\n /**\n  * Returns the first scene by traversing up the tree starting from and\n  * including receiver element.\n  */\n  closestScene () {\n    var element = this;\n    while (element) {\n      if (element.isScene) { break; }\n      element = element.parentElement;\n    }\n    return element;\n  }\n\n  /**\n   * Returns first element matching a selector by traversing up the tree starting\n   * from and including receiver element.\n   *\n   * @param {string} selector - Selector of element to find.\n   */\n  closest (selector) {\n    var matches = this.matches || this.mozMatchesSelector ||\n      this.msMatchesSelector || this.oMatchesSelector || this.webkitMatchesSelector;\n    var element = this;\n    while (element) {\n      if (matches.call(element, selector)) { break; }\n      element = element.parentElement;\n    }\n    return element;\n  }\n\n  disconnectedCallback () {\n    this.hasLoaded = false;\n  }\n\n  /**\n   * Wait for children to load, if any.\n   * Then emit `loaded` event and set `hasLoaded`.\n   */\n  load (cb, childFilter) {\n    var children;\n    var childrenLoaded;\n    var self = this;\n\n    if (this.hasLoaded) { return; }\n\n    // Default to waiting for all nodes.\n    childFilter = childFilter || isANode;\n    // Wait for children to load (if any), then load.\n    children = this.getChildren();\n    childrenLoaded = children.filter(childFilter).map(function (child) {\n      return new Promise(function waitForLoaded (resolve, reject) {\n        if (child.hasLoaded) { return resolve(); }\n        child.addEventListener('loaded', resolve);\n        child.addEventListener('error', reject);\n      });\n    });\n\n    Promise.allSettled(childrenLoaded).then(function emitLoaded (results) {\n      results.forEach(function checkResultForError (result) {\n        if (result.status === 'rejected') {\n          // An \"error\" event has already been fired by THREE.js loader,\n          // so we don't need to fire another one.\n          // A warning explaining the consequences of the error is sufficient.\n          warn('Rendering scene with errors on node: ', result.reason.target);\n        }\n      });\n\n      self.isLoading = true;\n      self.setupMutationObserver();\n      if (cb) { cb(); }\n      self.isLoading = false;\n      self.hasLoaded = true;\n      // loaded-private is an event analog to loaded that gives A-Frame an opportunity to manage internal\n      // affairs before the publicly loaded event fires and corresponding handlers executed.\n      self.emit('loaded-private', undefined, false);\n      self.emit('loaded', undefined, false);\n    });\n  }\n\n  /**\n   * With custom elements V1 attributeChangedCallback only fires\n   * for attributes defined statically via observedAttributes.\n   * One can assign any arbitrary components to an A-Frame entity\n   * hence we can't know the list of attributes beforehand.\n   * This function setup a mutation observer to keep track of the entity attribute changes\n   * in the DOM and update components accordingly.\n   */\n  setupMutationObserver () {\n    var self = this;\n    var observerConfig = {attributes: true, attributeOldValue: true};\n    var observer = new MutationObserver(function callAttributeChangedCallback (mutationList) {\n      var i;\n      for (i = 0; i < mutationList.length; i++) {\n        if (mutationList[i].type === 'attributes') {\n          var attributeName = mutationList[i].attributeName;\n          var newValue = window.HTMLElement.prototype.getAttribute.call(self, attributeName);\n          var oldValue = mutationList[i].oldValue;\n          self.attributeChangedCallback(attributeName, oldValue, newValue);\n        }\n      }\n    });\n    observer.observe(this, observerConfig);\n  }\n\n  getChildren () {\n    return Array.prototype.slice.call(this.children, 0);\n  }\n\n  /**\n   * Unregister old mixins and listeners.\n   * Register new mixins and listeners.\n   * Registering means to update `this.mixinEls` with listeners.\n   */\n  updateMixins (newMixins, oldMixins) {\n    var newMixinIdArray = ANode.newMixinIdArray;\n    var oldMixinIdArray = ANode.oldMixinIdArray;\n    var mixinIds = ANode.mixinIds;\n\n    var i;\n    var newMixinIds;\n    var oldMixinIds;\n\n    newMixinIdArray.length = 0;\n    oldMixinIdArray.length = 0;\n    newMixinIds = newMixins ? utils.split(newMixins.trim(), /\\s+/) : newMixinIdArray;\n    oldMixinIds = oldMixins ? utils.split(oldMixins.trim(), /\\s+/) : oldMixinIdArray;\n\n    mixinIds.newMixinIds = newMixinIds;\n    mixinIds.oldMixinIds = oldMixinIds;\n\n    // Unregister old mixins.\n    for (i = 0; i < oldMixinIds.length; i++) {\n      if (newMixinIds.indexOf(oldMixinIds[i]) === -1) {\n        this.unregisterMixin(oldMixinIds[i]);\n      }\n    }\n\n    // Register new mixins.\n    this.computedMixinStr = '';\n    this.mixinEls.length = 0;\n    for (i = 0; i < newMixinIds.length; i++) {\n      this.registerMixin(newMixinIds[i]);\n    }\n\n    // Update DOM. Keep track of `computedMixinStr` to not recurse back here after\n    // update.\n    if (this.computedMixinStr) {\n      this.computedMixinStr = this.computedMixinStr.trim();\n      window.HTMLElement.prototype.setAttribute.call(this, 'mixin',\n                                                     this.computedMixinStr);\n    }\n\n    if (newMixinIds.length === 0) {\n      window.HTMLElement.prototype.removeAttribute.call(this, 'mixin');\n    }\n\n    return mixinIds;\n  }\n\n  /**\n   * From mixin ID, add mixin element to `mixinEls`.\n   *\n   * @param {string} mixinId - ID of the mixin to register.\n   */\n  registerMixin (mixinId) {\n    var compositedMixinIds;\n    var i;\n    var mixin;\n    var mixinEl = document.getElementById(mixinId);\n\n    if (!mixinEl) {\n      warn('No mixin was found with id `%s`', mixinId);\n      return;\n    }\n\n    // Register composited mixins (if mixin has mixins).\n    mixin = mixinEl.getAttribute('mixin');\n    if (mixin) {\n      compositedMixinIds = utils.split(mixin.trim(), /\\s+/);\n      for (i = 0; i < compositedMixinIds.length; i++) {\n        this.registerMixin(compositedMixinIds[i]);\n      }\n    }\n\n    // Register mixin.\n    this.computedMixinStr = this.computedMixinStr + ' ' + mixinEl.id;\n    this.mixinEls.push(mixinEl);\n  }\n\n  setAttribute (attr, newValue) {\n    if (attr === 'mixin') { this.updateMixins(newValue); }\n    window.HTMLElement.prototype.setAttribute.call(this, attr, newValue);\n  }\n\n  /**\n   * Removes the mixin element from `mixinEls`.\n   *\n   * @param {string} mixinId - ID of the mixin to remove.\n   */\n  unregisterMixin (mixinId) {\n    var i;\n    var mixinEls = this.mixinEls;\n    var mixinEl;\n    for (i = 0; i < mixinEls.length; ++i) {\n      mixinEl = mixinEls[i];\n      if (mixinId === mixinEl.id) {\n        mixinEls.splice(i, 1);\n        break;\n      }\n    }\n  }\n\n  /**\n   * Emit a DOM event.\n   *\n   * @param {string} name - Name of event.\n   * @param {object} [detail={}] - Custom data to pass as `detail` to the event.\n   * @param {boolean} [bubbles=true] - Whether the event should bubble.\n   * @param {object} [extraData] - Extra data to pass to the event, if any.\n   */\n  emit (name, detail, bubbles, extraData) {\n    var data = ANode.evtData;\n\n    if (bubbles === undefined) { bubbles = true; }\n    data.bubbles = !!bubbles;\n    data.detail = detail;\n\n    // If extra data is present, we need to create a new object.\n    if (extraData) { data = utils.extend({}, extraData, data); }\n\n    this.dispatchEvent(new CustomEvent(name, data));\n  }\n}\n\nANode.evtData = {};\nANode.newMixinIdArray = [];\nANode.oldMixinIdArray = [];\nANode.mixinIds = {};\n\ncustomElements.define('a-node', ANode);\n","/* global customElements */\nimport * as THREE from 'three';\nimport { ANode } from './a-node.js';\nimport { components as COMPONENTS } from './component.js';\nimport * as utils from '../utils/index.js';\n\nvar debug = utils.debug('core:a-entity:debug');\nvar warn = utils.debug('core:a-entity:warn');\n\nvar MULTIPLE_COMPONENT_DELIMITER = '__';\nvar OBJECT3D_COMPONENTS = ['position', 'rotation', 'scale', 'visible'];\nvar ONCE = {once: true};\n\n/**\n * Entity is a container object that components are plugged into to comprise everything in\n * the scene. In A-Frame, they inherently have position, rotation, and scale.\n *\n * To be able to take components, the scene element inherits from the entity definition.\n *\n * @property {object} components - entity's currently initialized components.\n * @property {THREE.Object3D} object3D - three.js object.\n * @property {string[]} states\n * @property {boolean} isPlaying - false if dynamic behavior of the entity is paused.\n */\nexport class AEntity extends ANode {\n  constructor () {\n    super();\n    this.components = {};\n    // To avoid double initializations and infinite loops.\n    this.initializingComponents = {};\n    this.componentsToUpdate = {};\n    this.isEntity = true;\n    this.isPlaying = false;\n    this.object3D = new THREE.Group();\n    this.object3D.rotation.order = 'YXZ';\n    this.object3D.el = this;\n    this.object3DMap = {};\n    this.parentEl = null;\n    this.rotationObj = {};\n    this.states = [];\n  }\n\n  /**\n   * Handle changes coming from the browser DOM inspector.\n   */\n  attributeChangedCallback (attr, oldVal, newVal) {\n    var component = this.components[attr];\n\n    super.attributeChangedCallback();\n    // If the empty string is passed by the component initialization\n    // logic we ignore the component update.\n    if (component && component.justInitialized && newVal === '') {\n      delete component.justInitialized;\n      return;\n    }\n    // When a component is removed after calling el.removeAttribute('material')\n    if (!component && newVal === null) { return; }\n    this.setEntityAttribute(attr, oldVal, newVal);\n  }\n\n  doConnectedCallback () {\n    var self = this;  // Component.\n    var assetsEl;  // Asset management system element.\n    var sceneEl;\n\n    // ANode method.\n    super.doConnectedCallback();\n\n    sceneEl = this.sceneEl;\n\n    this.addToParent();\n\n    // Don't .load() scene on attachedCallback.\n    if (this.isScene) { return; }\n\n    // Gracefully not error when outside of <a-scene> (e.g., tests).\n    if (!sceneEl) {\n      this.load();\n      return;\n    }\n\n    // Wait for asset management system to finish before loading.\n    assetsEl = sceneEl.querySelector('a-assets');\n    if (assetsEl && !assetsEl.hasLoaded) {\n      assetsEl.addEventListener('loaded', function () { self.load(); });\n      return;\n    }\n    this.load();\n  }\n\n  /**\n   * Tell parent to remove this element's object3D from its object3D.\n   * Do not call on scene element because that will cause a call to document.body.remove().\n   */\n  disconnectedCallback () {\n    var componentName;\n\n    if (!this.parentEl) { return; }\n\n    // Remove components.\n    for (componentName in this.components) {\n      this.removeComponent(componentName, false);\n    }\n\n    if (this.isScene) { return; }\n\n    this.removeFromParent();\n    super.disconnectedCallback();\n\n    // Remove cyclic reference.\n    this.object3D.el = null;\n  }\n\n  getObject3D (type) {\n    return this.object3DMap[type];\n  }\n\n  /**\n   * Set a THREE.Object3D into the map.\n   *\n   * @param {string} type - Developer-set name of the type of object, will be unique per type.\n   * @param {THREE.Object3D} obj - A THREE.Object3D.\n   */\n  setObject3D (type, obj) {\n    var oldObj;\n    var self = this;\n\n    if (!(obj instanceof THREE.Object3D)) {\n      throw new Error(\n        '`Entity.setObject3D` was called with an object that was not an instance of ' +\n        'THREE.Object3D.'\n      );\n    }\n\n    // Remove existing object of the type.\n    oldObj = this.getObject3D(type);\n    if (oldObj) { this.object3D.remove(oldObj); }\n\n    // Set references to A-Frame entity.\n    obj.el = this;\n    if (obj.children.length) {\n      obj.traverse(function bindEl (child) {\n        child.el = self;\n      });\n    }\n\n    // Add.\n    this.object3D.add(obj);\n    this.object3DMap[type] = obj;\n    this.emit('object3dset', {object: obj, type: type});\n  }\n\n  /**\n   * Remove object from scene and entity object3D map.\n   */\n  removeObject3D (type) {\n    var obj = this.getObject3D(type);\n    if (!obj) {\n      warn('Tried to remove `Object3D` of type:', type, 'which was not defined.');\n      return;\n    }\n    this.object3D.remove(obj);\n    delete this.object3DMap[type];\n    this.emit('object3dremove', {type: type});\n  }\n\n  /**\n   * Gets or creates an object3D of a given type.\n   *\n   * @param {string} type - Type of the object3D.\n   * @param {string} Constructor - Constructor to use to create the object3D if needed.\n   * @returns {object}\n   */\n  getOrCreateObject3D (type, Constructor) {\n    var object3D = this.getObject3D(type);\n    if (!object3D && Constructor) {\n      object3D = new Constructor();\n      this.setObject3D(type, object3D);\n    }\n    warn('`getOrCreateObject3D` has been deprecated. Use `setObject3D()` ' +\n         'and `object3dset` event instead.');\n    return object3D;\n  }\n\n  /**\n   * Add child entity.\n   *\n   * @param {Element} el - Child entity.\n   */\n  add (el) {\n    if (!el.object3D) {\n      throw new Error(\"Trying to add an element that doesn't have an `object3D`\");\n    }\n    this.object3D.add(el.object3D);\n    this.emit('child-attached', {el: el});\n  }\n\n  /**\n   * Tell parentNode to add this entity to itself.\n   */\n  addToParent () {\n    var parentNode = this.parentEl = this.parentNode;\n\n    // `!parentNode` check primarily for unit tests.\n    if (!parentNode || !parentNode.add || this.attachedToParent) { return; }\n\n    parentNode.add(this);\n    this.attachedToParent = true;  // To prevent multiple attachments to same parent.\n  }\n\n  /**\n   * Tell parentNode to remove this entity from itself.\n   */\n  removeFromParent () {\n    var parentEl = this.parentEl;\n    this.parentEl.remove(this);\n    this.attachedToParent = false;\n    this.parentEl = null;\n    parentEl.emit('child-detached', {el: this});\n  }\n\n  load () {\n    var self = this;\n\n    if (this.hasLoaded || !this.parentEl) { return; }\n\n    super.load.call(this, function entityLoadCallback () {\n      // Check if entity was detached while it was waiting to load.\n      if (!self.parentEl) { return; }\n\n      self.updateComponents();\n      if (self.isScene || self.parentEl.isPlaying) { self.play(); }\n    });\n  }\n\n  /**\n   * Remove child entity.\n   *\n   * @param {Element} el - Child entity.\n   */\n  remove (el) {\n    if (el) {\n      this.object3D.remove(el.object3D);\n    } else {\n      this.parentNode.removeChild(this);\n    }\n  }\n\n  /**\n   * @returns {Array<Element>} Direct children that are entities.\n   */\n  getChildEntities () {\n    var children = this.children;\n    var childEntities = [];\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n      if (child instanceof AEntity) {\n        childEntities.push(child);\n      }\n    }\n\n    return childEntities;\n  }\n\n  /**\n   * Initialize component.\n   *\n   * @param {string} attrName - Attribute name associated to the component.\n   * @param {object} data - Component data\n   * @param {boolean} isDependency - True if the component is a dependency.\n   */\n  initComponent (attrName, data, isDependency) {\n    var component;\n    var componentId;\n    var componentInfo;\n    var componentName;\n    var isComponentDefined;\n\n    componentInfo = utils.split(attrName, MULTIPLE_COMPONENT_DELIMITER);\n    componentName = componentInfo[0];\n    componentId = componentInfo.length > 2\n      ? componentInfo.slice(1).join('__')\n      : componentInfo[1];\n\n    // Not a registered component.\n    if (!COMPONENTS[componentName]) { return; }\n\n    // Component is not a dependency and is undefined.\n    // If a component is a dependency, then it is okay to have no data.\n    isComponentDefined = checkComponentDefined(this, attrName) ||\n                         data !== undefined;\n    if (!isComponentDefined && !isDependency) { return; }\n\n    // Component already initialized.\n    if (attrName in this.components) { return; }\n\n    // Initialize dependencies first\n    this.initComponentDependencies(componentName);\n\n    // Initialize component\n    component = new COMPONENTS[componentName].Component(this, data, componentId);\n    if (this.isPlaying) { component.play(); }\n\n    // Components are reflected in the DOM as attributes but the state is not shown\n    // hence we set the attribute to empty string.\n    // The flag justInitialized is for attributeChangedCallback to not overwrite\n    // the component with the empty string.\n    if (!this.hasAttribute(attrName)) {\n      component.justInitialized = true;\n      window.HTMLElement.prototype.setAttribute.call(this, attrName, '');\n    }\n\n    debug('Component initialized: %s', attrName);\n  }\n\n  /**\n   * Initialize dependencies of a component.\n   *\n   * @param {string} name - Root component name.\n   */\n  initComponentDependencies (name) {\n    var self = this;\n    var component = COMPONENTS[name];\n    var dependencies;\n    var i;\n\n    // Not a component.\n    if (!component) { return; }\n\n    // No dependencies.\n    dependencies = COMPONENTS[name].dependencies;\n\n    if (!dependencies) { return; }\n\n    // Initialize dependencies.\n    for (i = 0; i < dependencies.length; i++) {\n      // Call getAttribute to initialize the data from the DOM.\n      self.initComponent(\n        dependencies[i],\n        window.HTMLElement.prototype.getAttribute.call(self, dependencies[i]) || undefined,\n        true\n      );\n    }\n  }\n\n  removeComponent (name, destroy) {\n    var component;\n\n    component = this.components[name];\n    if (!component) { return; }\n\n    // Wait for component to initialize.\n    if (!component.initialized) {\n      this.addEventListener('componentinitialized', function tryRemoveLater (evt) {\n        if (evt.detail.name !== name) { return; }\n        this.removeComponent(name, destroy);\n        this.removeEventListener('componentinitialized', tryRemoveLater);\n      });\n      return;\n    }\n\n    component.pause();\n    component.remove();\n\n    // Keep component attached to entity in case of just full entity detach.\n    if (destroy) {\n      component.destroy();\n      delete this.components[name];\n      // Remove attribute from DOM, if still present\n      if (this.hasAttribute(name)) {\n        window.HTMLElement.prototype.removeAttribute.call(this, name);\n      }\n    }\n\n    this.emit('componentremoved', component.evtDetail, false);\n  }\n\n  /**\n   * Initialize or update all components.\n   * Build data using initial components, defined attributes, mixins, and defaults.\n   * Update default components before the rest.\n   *\n   * @property {function} getExtraComponents - Can be implemented to include component data\n   *   from other sources (e.g., implemented by primitives).\n   */\n  updateComponents () {\n    var data;\n    var extraComponents;\n    var i;\n    var name;\n    var componentsToUpdate = this.componentsToUpdate;\n\n    if (!this.hasLoaded && !this.isLoading) { return; }\n\n    // Gather mixin-defined components.\n    for (i = 0; i < this.mixinEls.length; i++) {\n      for (name in this.mixinEls[i].componentCache) {\n        if (isComponent(name)) { componentsToUpdate[name] = true; }\n      }\n    }\n\n    // Gather from extra initial component data if defined (e.g., primitives).\n    if (this.getExtraComponents) {\n      extraComponents = this.getExtraComponents();\n      for (name in extraComponents) {\n        if (isComponent(name)) { componentsToUpdate[name] = true; }\n      }\n    }\n\n    // Gather entity-defined components.\n    for (i = 0; i < this.attributes.length; ++i) {\n      name = this.attributes[i].name;\n      if (OBJECT3D_COMPONENTS.indexOf(name) !== -1) { continue; }\n      if (isComponent(name)) { componentsToUpdate[name] = true; }\n    }\n\n    // object3D components first (position, rotation, scale, visible).\n    for (i = 0; i < OBJECT3D_COMPONENTS.length; i++) {\n      name = OBJECT3D_COMPONENTS[i];\n      if (!this.hasAttribute(name)) { continue; }\n      this.updateComponent(name, this.getDOMAttribute(name));\n    }\n\n    // Initialize or update rest of components.\n    for (name in componentsToUpdate) {\n      data = mergeComponentData(this.getDOMAttribute(name),\n                                extraComponents && extraComponents[name]);\n      this.updateComponent(name, data);\n      delete componentsToUpdate[name];\n    }\n  }\n\n  /**\n   * Initialize, update, or remove a single component.\n   *\n   * When initializing, we set the component on `this.components`.\n   *\n   * @param {string} attr - Component name.\n   * @param {object} attrValue - Value of the DOM attribute.\n   * @param {boolean} clobber - If new attrValue completely replaces previous properties.\n   */\n  updateComponent (attr, attrValue, clobber) {\n    var component = this.components[attr];\n\n    if (component) {\n      // Remove component.\n      if (attrValue === null && !checkComponentDefined(this, attr)) {\n        this.removeComponent(attr, true);\n        return;\n      }\n      // Component already initialized. Update component.\n      component.updateProperties(attrValue, clobber);\n      return;\n    }\n\n    // Component not yet initialized. Initialize component.\n    this.initComponent(attr, attrValue, false);\n  }\n\n  /**\n   * If `attr` is a component name, detach the component from the entity.\n   *\n   * If `propertyName` is given, reset the component property value to its default.\n   *\n   * @param {string} attr - Attribute name, which could also be a component name.\n   * @param {string} propertyName - Component prop name, if resetting an individual prop.\n   */\n  removeAttribute (attr, propertyName) {\n    var component = this.components[attr];\n\n    // Remove component.\n    if (component && propertyName === undefined) {\n      this.removeComponent(attr, true);\n    }\n\n    // Reset component property value.\n    if (component && propertyName !== undefined) {\n      component.resetProperty(propertyName);\n      return;\n    }\n\n    // Remove mixins.\n    if (attr === 'mixin') {\n      this.mixinUpdate('');\n    }\n\n    window.HTMLElement.prototype.removeAttribute.call(this, attr);\n  }\n\n  /**\n   * Start dynamic behavior associated with entity such as dynamic components and animations.\n   * Tell all children entities to also play.\n   */\n  play () {\n    var entities;\n    var i;\n    var key;\n\n    // Already playing.\n    if (this.isPlaying || (!this.hasLoaded && !this.isLoading)) { return; }\n    this.isPlaying = true;\n\n    // Wake up all components.\n    for (key in this.components) { this.components[key].play(); }\n\n    // Tell all child entities to play.\n    entities = this.getChildEntities();\n    for (i = 0; i < entities.length; i++) { entities[i].play(); }\n\n    this.emit('play');\n  }\n\n  /**\n   * Pause dynamic behavior associated with entity such as dynamic components and animations.\n   * Tell all children entities to also pause.\n   */\n  pause () {\n    var entities;\n    var i;\n    var key;\n\n    if (!this.isPlaying) { return; }\n    this.isPlaying = false;\n\n    // Sleep all components.\n    for (key in this.components) { this.components[key].pause(); }\n\n    // Tell all child entities to pause.\n    entities = this.getChildEntities();\n    for (i = 0; i < entities.length; i++) { entities[i].pause(); }\n\n    this.emit('pause');\n  }\n\n  /**\n   * Deals with updates on entity-specific attributes (i.e., components and mixins).\n   *\n   * @param {string} attr\n   * @param {string} oldVal\n   * @param {string|object} newVal\n   */\n  setEntityAttribute (attr, oldVal, newVal) {\n    if (COMPONENTS[attr] || this.components[attr]) {\n      this.updateComponent(attr, newVal);\n      return;\n    }\n    if (attr === 'mixin') {\n      // Ignore if `<a-node>` code is just updating computed mixin in the DOM.\n      if (newVal === this.computedMixinStr) { return; }\n      this.mixinUpdate(newVal, oldVal);\n    }\n  }\n\n  /**\n   * When mixins updated, trigger init or optimized-update of relevant components.\n   */\n  mixinUpdate (newMixins, oldMixins, deferred) {\n    var componentsUpdated = AEntity.componentsUpdated;\n\n    var component;\n    var mixinEl;\n    var mixinIds;\n    var i;\n    var self = this;\n\n    if (!deferred) { oldMixins = oldMixins || this.getAttribute('mixin'); }\n\n    if (!this.hasLoaded) {\n      this.addEventListener('loaded-private', function () {\n        self.mixinUpdate(newMixins, oldMixins, true);\n      }, ONCE);\n      return;\n    }\n\n    mixinIds = this.updateMixins(newMixins, oldMixins);\n\n    // Loop over current mixins.\n    componentsUpdated.length = 0;\n    for (i = 0; i < this.mixinEls.length; i++) {\n      for (component in this.mixinEls[i].componentCache) {\n        if (componentsUpdated.indexOf(component) === -1) {\n          if (this.components[component]) {\n            // Update. Just rebuild data.\n            this.components[component].handleMixinUpdate();\n          } else {\n            // Init. buildData will gather mixin values.\n            this.initComponent(component, null);\n          }\n          componentsUpdated.push(component);\n        }\n      }\n    }\n\n    // Loop over old mixins to call for data rebuild.\n    for (i = 0; i < mixinIds.oldMixinIds.length; i++) {\n      mixinEl = document.getElementById(mixinIds.oldMixinIds[i]);\n      if (!mixinEl) { continue; }\n      for (component in mixinEl.componentCache) {\n        if (componentsUpdated.indexOf(component) === -1) {\n          if (this.components[component]) {\n            if (this.getDOMAttribute(component)) {\n              // Update component if explicitly defined.\n              this.components[component].handleMixinUpdate();\n            } else {\n              // Remove component if not explicitly defined.\n              this.removeComponent(component, true);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * setAttribute can:\n   *\n   * 1. Set a single property of a multi-property component.\n   * 2. Set multiple properties of a multi-property component.\n   * 3. Replace properties of a multi-property component.\n   * 4. Set a value for a single-property component, mixin, or normal HTML attribute.\n   *\n   * @param {string} attrName - Component or attribute name.\n   * @param {any} arg1 - Can be a value, property name, CSS-style property string, or\n   *   object of properties.\n   * @param {any} arg2 - If arg1 is a property name, this should be a value. Otherwise,\n   *   it is a boolean indicating whether to clobber previous values (defaults to false).\n   */\n  setAttribute (attrName, arg1, arg2) {\n    var singlePropUpdate = AEntity.singlePropUpdate;\n\n    var newAttrValue;\n    var clobber;\n    var componentName;\n    var delimiterIndex;\n    var isDebugMode;\n    var key;\n\n    delimiterIndex = attrName.indexOf(MULTIPLE_COMPONENT_DELIMITER);\n    componentName = delimiterIndex > 0 ? attrName.substring(0, delimiterIndex) : attrName;\n\n    // Not a component. Normal set attribute.\n    if (!COMPONENTS[componentName]) {\n      if (attrName === 'mixin') { this.mixinUpdate(arg1); }\n      super.setAttribute.call(this, attrName, arg1);\n      return;\n    }\n\n    // Initialize component first if not yet initialized.\n    if (!this.components[attrName] && this.hasAttribute(attrName)) {\n      this.updateComponent(\n        attrName,\n        window.HTMLElement.prototype.getAttribute.call(this, attrName));\n    }\n\n    // Determine new attributes from the arguments\n    if (typeof arg2 !== 'undefined' &&\n        typeof arg1 === 'string' &&\n        arg1.length > 0 &&\n        typeof utils.styleParser.parse(arg1) === 'string') {\n      // Update a single property of a multi-property component\n      for (key in singlePropUpdate) { delete singlePropUpdate[key]; }\n      newAttrValue = singlePropUpdate;\n      newAttrValue[arg1] = arg2;\n      clobber = false;\n    } else {\n      // Update with a value, object, or CSS-style property string, with the possibility\n      // of clobbering previous values.\n      newAttrValue = arg1;\n      clobber = (arg2 === true);\n    }\n\n    // Update component\n    this.updateComponent(attrName, newAttrValue, clobber);\n\n    // In debug mode, write component data up to the DOM.\n    isDebugMode = this.sceneEl && this.sceneEl.getAttribute('debug');\n    if (isDebugMode) { this.components[attrName].flushToDOM(); }\n  }\n\n  /**\n   * Reflect component data in the DOM (as seen from the browser DOM Inspector).\n   *\n   * @param {boolean} recursive - Also flushToDOM on the children.\n   **/\n  flushToDOM (recursive) {\n    var components = this.components;\n    var child;\n    var children = this.children;\n    var i;\n    var key;\n\n    // Flush entity's components to DOM.\n    for (key in components) {\n      components[key].flushToDOM();\n    }\n\n    // Recurse.\n    if (!recursive) { return; }\n    for (i = 0; i < children.length; ++i) {\n      child = children[i];\n      if (!child.flushToDOM) { continue; }\n      child.flushToDOM(recursive);\n    }\n  }\n\n  /**\n   * If `attr` is a component, returns ALL component data including applied mixins and\n   * defaults.\n   *\n   * If `attr` is not a component, fall back to HTML getAttribute.\n   *\n   * @param {string} attr\n   * @returns {object|string} Object if component, else string.\n   */\n  getAttribute (attr) {\n    // If component, return component data.\n    var component;\n    if (attr === 'position') { return this.object3D.position; }\n    if (attr === 'rotation') { return getRotation(this); }\n    if (attr === 'scale') { return this.object3D.scale; }\n    if (attr === 'visible') { return this.object3D.visible; }\n    component = this.components[attr];\n    if (component) { return component.data; }\n    return window.HTMLElement.prototype.getAttribute.call(this, attr);\n  }\n\n  /**\n   * If `attr` is a component, returns JUST the component data defined on the entity.\n   * Like a partial version of `getComputedAttribute` as returned component data\n   * does not include applied mixins or defaults.\n   *\n   * If `attr` is not a component, fall back to HTML getAttribute.\n   *\n   * @param {string} attr\n   * @returns {object|string} Object if component, else string.\n   */\n  getDOMAttribute (attr) {\n    // If cached value exists, return partial component data.\n    var component = this.components[attr];\n    if (component) { return component.attrValue; }\n    return window.HTMLElement.prototype.getAttribute.call(this, attr);\n  }\n\n  addState (state) {\n    if (this.is(state)) { return; }\n    this.states.push(state);\n    this.emit('stateadded', state);\n  }\n\n  removeState (state) {\n    var stateIndex = this.states.indexOf(state);\n    if (stateIndex === -1) { return; }\n    this.states.splice(stateIndex, 1);\n    this.emit('stateremoved', state);\n  }\n\n  /**\n   * Checks if the element is in a given state. e.g. el.is('alive');\n   *\n   * @param {string} state - Name of the state we want to check\n   */\n  is (state) {\n    return this.states.indexOf(state) !== -1;\n  }\n\n  /**\n   * Open Inspector to this entity.\n   */\n  inspect () {\n    this.sceneEl.components.inspector.openInspector(this);\n  }\n\n  /**\n   * Clean up memory and return memory to object pools.\n   */\n  destroy () {\n    var key;\n    if (this.parentNode) {\n      warn('Entity can only be destroyed if detached from scenegraph.');\n      return;\n    }\n    for (key in this.components) {\n      this.components[key].destroy();\n    }\n  }\n}\n\n/**\n * Check if a component is *defined* for an entity, including defaults and mixins.\n * Does not check whether the component has been *initialized* for an entity.\n *\n * @param {string} el - Entity.\n * @param {string} name - Component name.\n * @returns {boolean}\n */\nfunction checkComponentDefined (el, name) {\n  // Check if element contains the component.\n  if (el.components[name] && el.components[name].attrValue) { return true; }\n\n  return isComponentMixedIn(name, el.mixinEls);\n}\n\n/**\n * Check if any mixins contains a component.\n *\n * @param {string} name - Component name.\n * @param {Array<Element>} mixinEls - Array of <a-mixin>s.\n */\nfunction isComponentMixedIn (name, mixinEls) {\n  var i;\n  var inMixin = false;\n  for (i = 0; i < mixinEls.length; ++i) {\n    inMixin = mixinEls[i].hasAttribute(name);\n    if (inMixin) { break; }\n  }\n  return inMixin;\n}\n\n/**\n * Given entity defined value, merge in extra data if necessary.\n * Handle both single and multi-property components.\n *\n * @param {string} attrValue - Entity data.\n * @param extraData - Entity data from another source to merge in.\n */\nfunction mergeComponentData (attrValue, extraData) {\n  // Extra data not defined, just return attrValue.\n  if (!extraData) { return attrValue; }\n\n  // Merge multi-property data.\n  if (extraData.constructor === Object) {\n    return utils.extend(extraData, utils.styleParser.parse(attrValue || {}));\n  }\n\n  // Return data, precedence to the defined value.\n  return attrValue || extraData;\n}\n\nfunction isComponent (componentName) {\n  if (componentName.indexOf(MULTIPLE_COMPONENT_DELIMITER) !== -1) {\n    componentName = utils.split(componentName, MULTIPLE_COMPONENT_DELIMITER)[0];\n  }\n  if (!COMPONENTS[componentName]) { return false; }\n  return true;\n}\n\nfunction getRotation (entityEl) {\n  var radToDeg = THREE.MathUtils.radToDeg;\n  var rotation = entityEl.object3D.rotation;\n  var rotationObj = entityEl.rotationObj;\n  rotationObj.x = radToDeg(rotation.x);\n  rotationObj.y = radToDeg(rotation.y);\n  rotationObj.z = radToDeg(rotation.z);\n  return rotationObj;\n}\n\nAEntity.componentsUpdated = [];\nAEntity.singlePropUpdate = {};\n\ncustomElements.define('a-entity', AEntity);\n","import { isIframed } from '../../utils/index.js';\n\n/**\n * Provides a post message API for scenes contained\n * in an iframe.\n */\nexport function initPostMessageAPI (scene) {\n  // Handles fullscreen behavior when inside an iframe.\n  if (!isIframed()) { return; }\n  // postMessage API handler\n  window.addEventListener('message', postMessageAPIHandler.bind(scene));\n}\n\nfunction postMessageAPIHandler (event) {\n  var scene = this;\n  if (!event.data) { return; }\n\n  switch (event.data.type) {\n    case 'vr': {\n      switch (event.data.data) {\n        case 'enter':\n          scene.enterVR();\n          break;\n        case 'exit':\n          scene.exitVR();\n          break;\n      }\n    }\n  }\n}\n","import { isIOS } from './device.js';\n\n// Safari regression introduced in iOS 12 and remains in iOS 13.\n// https://stackoverflow.com/questions/62717621/white-space-at-page-bottom-after-device-rotation-in-ios-safari\nif (isIOS()) {\n  window.addEventListener('orientationchange', function () {\n    document.documentElement.style.height = 'initial';\n    setTimeout(function () {\n      document.documentElement.style.height = '100%';\n      setTimeout(function () {\n        // this line prevents the content\n        // from hiding behind the address bar\n        window.scrollTo(0, 1);\n      }, 500);\n    }, 500);\n  });\n}\n","/* global Promise, customElements, screen */\nimport * as THREE from 'three';\nimport { inject as initMetaTags } from './metaTags.js';\nimport { initWakelock } from './wakelock.js';\nimport * as loadingScreen from './loadingScreen.js';\nimport scenes from './scenes.js';\nimport { systems } from '../system.js';\nimport { components } from '../component.js';\nimport * as utils from '../../utils/index.js';\n\n// Require after.\nimport { AEntity } from '../a-entity.js';\nimport { ANode } from '../a-node.js';\nimport { initPostMessageAPI } from './postMessage.js';\n\nimport '../../utils/ios-orientationchange-blank-bug.js';\n\nvar warn = utils.debug('core:a-scene:warn');\n\nvar isIOS = utils.device.isIOS();\nvar isMobile = utils.device.isMobile();\nvar isWebXRAvailable = utils.device.isWebXRAvailable;\n\n/**\n * Scene element, holds all entities.\n *\n * @member {Array} behaviors - Component instances that have registered themselves to be\n           updated on every tick.\n * @member {object} camera - three.js Camera object.\n * @member {object} canvas\n * @member {boolean} isScene - Differentiates as scene entity as opposed to other entities.\n * @member {boolean} isMobile - Whether browser is mobile (via UA detection).\n * @member {object} object3D - Root three.js Scene object.\n * @member {object} renderer\n * @member {boolean} renderStarted\n * @member {object} systems - Registered instantiated systems.\n * @member {number} time\n */\n\nexport class AScene extends AEntity {\n  constructor () {\n    var self;\n    super();\n    self = this;\n    self.clock = new THREE.Clock();\n    self.isIOS = isIOS;\n    self.isMobile = isMobile;\n    self.hasWebXR = isWebXRAvailable;\n    self.isAR = false;\n    self.isScene = true;\n    self.object3D = new THREE.Scene();\n    self.resize = self.resize.bind(self);\n    self.render = self.render.bind(self);\n    self.systems = {};\n    self.systemNames = [];\n    self.time = self.delta = 0;\n    self.usedOfferSession = false;\n\n    self.componentOrder = [];\n    self.behaviors = {};\n    self.hasLoaded = false;\n    self.isPlaying = false;\n    self.originalHTML = self.innerHTML;\n  }\n\n  addFullScreenStyles () {\n    document.documentElement.classList.add('a-fullscreen');\n  }\n\n  removeFullScreenStyles () {\n    document.documentElement.classList.remove('a-fullscreen');\n  }\n\n  doConnectedCallback () {\n    var self = this;\n    var embedded = this.hasAttribute('embedded');\n\n    // Default components.\n    this.setAttribute('inspector', '');\n    this.setAttribute('keyboard-shortcuts', '');\n    this.setAttribute('screenshot', '');\n    this.setAttribute('xr-mode-ui', '');\n    this.setAttribute('device-orientation-permission-ui', '');\n    super.doConnectedCallback();\n\n    // Renderer initialization\n    setupCanvas(this);\n    this.setupRenderer();\n    loadingScreen.setup(this, getCanvasSize);\n\n    this.resize();\n    if (!embedded) { this.addFullScreenStyles(); }\n    initPostMessageAPI(this);\n\n    initMetaTags(this);\n    initWakelock(this);\n\n    // Bind functions.\n    this.enterVRBound = function () { self.enterVR(); };\n    this.exitVRBound = function () { self.exitVR(); };\n\n    window.addEventListener('sessionend', this.resize);\n    // Camera set up by camera system.\n    this.addEventListener('cameraready', function () {\n      self.attachedCallbackPostCamera();\n    });\n\n    this.initSystems();\n    // Compute component order\n    this.componentOrder = determineComponentBehaviorOrder(components, this.componentOrder);\n    this.addEventListener('componentregistered', function () {\n      // Recompute order\n      self.componentOrder = determineComponentBehaviorOrder(components, self.componentOrder);\n    });\n\n    // WebXR Immersive navigation handler.\n    if (this.hasWebXR && navigator.xr && navigator.xr.addEventListener) {\n      navigator.xr.addEventListener('sessiongranted', function () { self.enterVR(); });\n    }\n  }\n\n  attachedCallbackPostCamera () {\n    var resize;\n    var self = this;\n\n    window.addEventListener('load', resize);\n    window.addEventListener('resize', function () {\n      // Workaround for a Webkit bug (https://bugs.webkit.org/show_bug.cgi?id=170595)\n      // where the window does not contain the correct viewport size\n      // after an orientation change. The window size is correct if the operation\n      // is postponed a few milliseconds.\n      // self.resize can be called directly once the bug above is fixed.\n      if (self.isIOS) {\n        setTimeout(self.resize, 100);\n      } else {\n        self.resize();\n      }\n    });\n    this.play();\n\n    // Add to scene index.\n    scenes.push(this);\n  }\n\n  /**\n   * Initialize all systems.\n   */\n  initSystems () {\n    var name;\n\n    // Initialize camera system first.\n    this.initSystem('camera');\n\n    for (name in systems) {\n      if (name === 'camera') { continue; }\n      this.initSystem(name);\n    }\n  }\n\n  /**\n   * Initialize a system.\n   */\n  initSystem (name) {\n    if (this.systems[name]) { return; }\n    this.systems[name] = new systems[name](this);\n    this.systemNames.push(name);\n  }\n\n  /**\n   * Shut down scene on detach.\n   */\n  disconnectedCallback () {\n    // Remove from scene index.\n    var sceneIndex = scenes.indexOf(this);\n    super.disconnectedCallback();\n\n    scenes.splice(sceneIndex, 1);\n\n    window.removeEventListener('sessionend', this.resize);\n    this.removeFullScreenStyles();\n    this.renderer.dispose();\n  }\n\n  /**\n   * Add ticks and tocks.\n   *\n   * @param {object} behavior - A component.\n   */\n  addBehavior (behavior) {\n    var behaviorSet;\n    var behaviors = this.behaviors[behavior.name];\n    var behaviorType;\n\n    if (!behaviors) {\n      behaviors = this.behaviors[behavior.name] = {\n        tick: { inUse: false, array: [], markedForRemoval: [] },\n        tock: { inUse: false, array: [], markedForRemoval: [] }\n      };\n    }\n\n    // Check if behavior has tick and/or tock and add the behavior to the appropriate list.\n    for (behaviorType in behaviors) {\n      if (!behavior[behaviorType]) { continue; }\n      behaviorSet = behaviors[behaviorType];\n\n      // In case the behaviorSet is in use, make sure this behavior isn't on the removal list.\n      if (behaviorSet.inUse) {\n        var index = behaviorSet.markedForRemoval.indexOf(behavior);\n        if (index !== -1) {\n          behaviorSet.markedForRemoval.splice(index, 1);\n        }\n      }\n      // Add behavior to the set\n      if (behaviorSet.array.indexOf(behavior) === -1) {\n        behaviorSet.array.push(behavior);\n      }\n    }\n  }\n\n  /**\n   * For tests.\n   */\n  getPointerLockElement () {\n    return document.pointerLockElement;\n  }\n\n  /**\n   * For tests.\n   */\n  checkHeadsetConnected () {\n    return utils.device.checkHeadsetConnected();\n  }\n\n  enterAR () {\n    var errorMessage;\n    if (!this.hasWebXR) {\n      errorMessage = 'Failed to enter AR mode, WebXR not supported.';\n      throw new Error(errorMessage);\n    }\n    if (!utils.device.checkARSupport()) {\n      errorMessage = 'Failed to enter AR, WebXR immersive-ar mode not supported in your browser or device.';\n      throw new Error(errorMessage);\n    }\n    return this.enterVR(true);\n  }\n\n  /**\n   * Call `requestPresent` if WebVR or WebVR polyfill.\n   * Call `requestFullscreen` on desktop.\n   * Handle events, states, fullscreen styles.\n   *\n   * @param {?boolean} useAR - if true, try immersive-ar mode\n   * @returns {Promise}\n   */\n  enterVR (useAR, useOfferSession) {\n    var self = this;\n    var vrManager = self.renderer.xr;\n    var xrInit;\n\n    // Don't enter VR if already in VR.\n    if (useOfferSession && (!navigator.xr || !navigator.xr.offerSession)) { return Promise.resolve('OfferSession is not supported.'); }\n    if (self.usedOfferSession && useOfferSession) { return Promise.resolve('OfferSession was already called.'); }\n    if (this.is('vr-mode')) { return Promise.resolve('Already in VR.'); }\n\n    // Has VR.\n    if (this.checkHeadsetConnected() || this.isMobile) {\n      var rendererSystem = self.getAttribute('renderer');\n      vrManager.enabled = true;\n\n      if (this.hasWebXR) {\n        // XR API.\n        if (this.xrSession) {\n          this.xrSession.removeEventListener('end', this.exitVRBound);\n        }\n        var refspace = this.sceneEl.systems.webxr.sessionReferenceSpaceType;\n        vrManager.setReferenceSpaceType(refspace);\n        var xrMode = useAR ? 'immersive-ar' : 'immersive-vr';\n        xrInit = this.sceneEl.systems.webxr.sessionConfiguration;\n        return new Promise(function (resolve, reject) {\n          var requestSession = useOfferSession ? navigator.xr.offerSession.bind(navigator.xr) : navigator.xr.requestSession.bind(navigator.xr);\n          self.usedOfferSession |= useOfferSession;\n          requestSession(xrMode, xrInit).then(\n            function requestSuccess (xrSession) {\n              if (useOfferSession) {\n                self.usedOfferSession = false;\n              }\n\n              vrManager.layersEnabled = xrInit.requiredFeatures.indexOf('layers') !== -1;\n              vrManager.setSession(xrSession).then(function () {\n                vrManager.setFoveation(rendererSystem.foveationLevel);\n                self.xrSession = xrSession;\n                self.systems.renderer.setWebXRFrameRate(xrSession);\n                xrSession.addEventListener('end', self.exitVRBound);\n                enterVRSuccess(resolve);\n              });\n            },\n            function requestFail (error) {\n              var useAR = xrMode === 'immersive-ar';\n              var mode = useAR ? 'AR' : 'VR';\n              reject(new Error('Failed to enter ' + mode + ' mode (`requestSession`)', { cause: error }));\n            }\n          );\n        });\n      } else {\n        var mode = useAR ? 'AR' : 'VR';\n        throw new Error('Failed to enter ' + mode + ' no WebXR');\n      }\n    }\n\n    // No VR.\n    enterVRSuccess();\n    return Promise.resolve();\n\n    // Callback that happens on enter VR success or enter fullscreen (any API).\n    function enterVRSuccess (resolve) {\n      if (useAR) {\n        self.addState('ar-mode');\n      } else {\n        self.addState('vr-mode');\n      }\n      self.emit('enter-vr', {target: self});\n      // Lock to landscape orientation on mobile.\n      if (!self.hasWebXR && self.isMobile && screen.orientation && screen.orientation.lock) {\n        screen.orientation.lock('landscape');\n      }\n      self.addFullScreenStyles();\n\n      // On mobile, the polyfill handles fullscreen.\n      // TODO: 07/16 Chromium builds break when `requestFullscreen`ing on a canvas\n      // that we are also `requestPresent`ing. Until then, don't fullscreen if headset\n      // connected.\n      if (!self.isMobile && !self.checkHeadsetConnected()) {\n        requestFullscreen(self.canvas);\n      }\n\n      self.resize();\n      if (resolve) { resolve(); }\n    }\n  }\n\n  /**\n   * Call `exitPresent` if WebVR / WebXR or WebVR polyfill.\n   * Handle events, states, fullscreen styles.\n   *\n   * @returns {Promise}\n   */\n  exitVR () {\n    var self = this;\n    var vrManager = this.renderer.xr;\n\n    // Don't exit VR if not in VR.\n    if (!this.is('vr-mode') && !this.is('ar-mode')) { return Promise.resolve('Not in immersive mode.'); }\n\n    // Handle exiting VR if not yet already and in a headset or polyfill.\n    if (this.checkHeadsetConnected() || this.isMobile) {\n      vrManager.enabled = false;\n      if (this.hasWebXR) {\n        this.xrSession.removeEventListener('end', this.exitVRBound);\n        // Capture promise to avoid errors.\n        this.xrSession.end().then(function () {}, function () {});\n        this.xrSession = undefined;\n      } else {\n        throw Error('Failed to exit VR - no WebXR');\n      }\n    } else {\n      exitFullscreen();\n    }\n\n    // Handle exiting VR in all other cases (2D fullscreen, external exit VR event).\n    exitVRSuccess();\n\n    return Promise.resolve();\n\n    function exitVRSuccess () {\n      self.removeState('vr-mode');\n      self.removeState('ar-mode');\n      // Lock to landscape orientation on mobile.\n      if (self.isMobile && screen.orientation && screen.orientation.unlock) {\n        screen.orientation.unlock();\n      }\n      // Exiting VR in embedded mode, no longer need fullscreen styles.\n      if (self.hasAttribute('embedded')) { self.removeFullScreenStyles(); }\n\n      self.resize();\n      if (self.isIOS) { utils.forceCanvasResizeSafariMobile(self.canvas); }\n      self.renderer.setPixelRatio(window.devicePixelRatio);\n      self.emit('exit-vr', {target: self});\n    }\n  }\n\n  /**\n   * Wraps Entity.getAttribute to take into account for systems.\n   * If system exists, then return system data rather than possible component data.\n   */\n  getAttribute (attr) {\n    var system = this.systems[attr];\n    if (system) { return system.data; }\n    return AEntity.prototype.getAttribute.call(this, attr);\n  }\n\n  /**\n   * Wraps Entity.getDOMAttribute to take into account for systems.\n   * If system exists, then return system data rather than possible component data.\n   */\n  getDOMAttribute (attr) {\n    var system = this.systems[attr];\n    if (system) { return system.data; }\n    return AEntity.prototype.getDOMAttribute.call(this, attr);\n  }\n\n  /**\n   * Wrap Entity.setAttribute to take into account for systems.\n   * If system exists, then skip component initialization checks and do a normal\n   * setAttribute.\n   */\n  setAttribute (attr, value, componentPropValue) {\n    // Check if system exists (i.e. is registered).\n    if (systems[attr]) {\n      ANode.prototype.setAttribute.call(this, attr, value);\n\n      // Update system instance, if initialized on the scene.\n      var system = this.systems[attr];\n      if (system) {\n        system.updateProperties(value);\n      }\n      return;\n    }\n    AEntity.prototype.setAttribute.call(this, attr, value, componentPropValue);\n  }\n\n  /**\n   * @param {object} behavior - A component.\n   */\n  removeBehavior (behavior) {\n    var behaviorSet;\n    var behaviorType;\n    var behaviors = this.behaviors[behavior.name];\n    var index;\n\n    // Check if behavior has tick and/or tock and remove the behavior from the appropriate\n    // array.\n    for (behaviorType in behaviors) {\n      if (!behavior[behaviorType]) { continue; }\n      behaviorSet = behaviors[behaviorType];\n      index = behaviorSet.array.indexOf(behavior);\n      if (index !== -1) {\n        // Check if the behavior can safely be removed.\n        if (behaviorSet.inUse) {\n          // Set is in use, so only mark for removal.\n          if (behaviorSet.markedForRemoval.indexOf(behavior) === -1) {\n            behaviorSet.markedForRemoval.push(behavior);\n          }\n        } else {\n          // Swap and remove from the end\n          behaviorSet.array[index] = behaviorSet.array[behaviorSet.array.length - 1];\n          behaviorSet.array.pop();\n        }\n      }\n    }\n  }\n\n  resize () {\n    var camera = this.camera;\n    var canvas = this.canvas;\n    var embedded;\n    var isVRPresenting;\n    var size;\n    var isPresenting = this.renderer.xr.isPresenting;\n    isVRPresenting = this.renderer.xr.enabled && isPresenting;\n\n    // Do not update renderer, if a camera or a canvas have not been injected.\n    // In VR mode, three handles canvas resize based on the dimensions returned by\n    // the getEyeParameters function of the WebVR API. These dimensions are independent of\n    // the window size, therefore should not be overwritten with the window's width and\n    // height, // except when in fullscreen mode.\n    if (!camera || !canvas || (this.is('vr-mode') && (this.isMobile || isVRPresenting))) {\n      return;\n    }\n\n    // Update camera.\n    embedded = this.getAttribute('embedded') && !this.is('vr-mode');\n    size = getCanvasSize(canvas, embedded, this.maxCanvasSize, this.is('vr-mode'));\n    camera.aspect = size.width / size.height;\n    camera.updateProjectionMatrix();\n\n    // Notify renderer of size change.\n    this.renderer.setSize(size.width, size.height, false);\n    this.emit('rendererresize', null, false);\n  }\n\n  setupRenderer () {\n    var self = this;\n    var renderer;\n    var rendererAttr;\n    var rendererAttrString;\n    var rendererConfig;\n\n    rendererConfig = {\n      alpha: true,\n      antialias: !isMobile,\n      canvas: this.canvas,\n      logarithmicDepthBuffer: false,\n      powerPreference: 'high-performance'\n    };\n\n    this.maxCanvasSize = {height: -1, width: -1};\n\n    if (this.hasAttribute('renderer')) {\n      rendererAttrString = this.getAttribute('renderer');\n      rendererAttr = utils.styleParser.parse(rendererAttrString);\n\n      if (rendererAttr.precision) {\n        rendererConfig.precision = rendererAttr.precision + 'p';\n      }\n\n      if (rendererAttr.antialias && rendererAttr.antialias !== 'auto') {\n        rendererConfig.antialias = rendererAttr.antialias === 'true';\n      }\n\n      if (rendererAttr.logarithmicDepthBuffer && rendererAttr.logarithmicDepthBuffer !== 'auto') {\n        rendererConfig.logarithmicDepthBuffer = rendererAttr.logarithmicDepthBuffer === 'true';\n      }\n\n      if (rendererAttr.alpha) {\n        rendererConfig.alpha = rendererAttr.alpha === 'true';\n      }\n\n      if (rendererAttr.stencil) {\n        rendererConfig.stencil = rendererAttr.stencil === 'true';\n      }\n\n      if (rendererAttr.multiviewStereo) {\n        rendererConfig.multiviewStereo = rendererAttr.multiviewStereo === 'true';\n      }\n\n      this.maxCanvasSize = {\n        width: rendererAttr.maxCanvasWidth\n          ? parseInt(rendererAttr.maxCanvasWidth)\n          : this.maxCanvasSize.width,\n        height: rendererAttr.maxCanvasHeight\n          ? parseInt(rendererAttr.maxCanvasHeight)\n          : this.maxCanvasSize.height\n      };\n    }\n\n    // Trick Webpack so that it can't statically determine the exact export used.\n    // Otherwise it will conclude that one of the two exports can't be found in THREE.\n    // Only one needs to exist, and this should be determined at runtime.\n    var rendererImpl = ['WebGLRenderer', 'WebGPURenderer'].find(function (x) { return THREE[x]; });\n    renderer = this.renderer = new THREE[rendererImpl](rendererConfig);\n    if (!renderer.xr.setPoseTarget) {\n      renderer.xr.setPoseTarget = function () {};\n    }\n    renderer.setPixelRatio(window.devicePixelRatio);\n\n    if (this.camera) { renderer.xr.setPoseTarget(this.camera.el.object3D); }\n    this.addEventListener('camera-set-active', function () {\n      renderer.xr.setPoseTarget(self.camera.el.object3D);\n    });\n  }\n\n  /**\n   * Handler attached to elements to help scene know when to kick off.\n   * Scene waits for all entities to load.\n   */\n  play () {\n    var self = this;\n    var sceneEl = this;\n\n    if (this.renderStarted) {\n      AEntity.prototype.play.call(this);\n      return;\n    }\n\n    this.addEventListener('loaded', function () {\n      var renderer = this.renderer;\n      AEntity.prototype.play.call(this);  // .play() *before* render.\n\n      if (sceneEl.renderStarted) { return; }\n      sceneEl.resize();\n\n      // Kick off render loop.\n      if (sceneEl.renderer) {\n        if (window.performance) { window.performance.mark('render-started'); }\n        loadingScreen.remove();\n        renderer.setAnimationLoop(this.render);\n        sceneEl.renderStarted = true;\n        sceneEl.emit('renderstart');\n      }\n    });\n\n    // setTimeout to wait for all nodes to attach and run their callbacks.\n    setTimeout(function () {\n      AEntity.prototype.load.call(self);\n    });\n  }\n\n  /**\n   * Wrap `updateComponent` to not initialize the component if the component has a system\n   * (aframevr/aframe#2365).\n   */\n  updateComponent (componentName) {\n    if (componentName in systems) { return; }\n    AEntity.prototype.updateComponent.apply(this, arguments);\n  }\n\n  /**\n   * Behavior-updater meant to be called from scene render.\n   * Abstracted to a different function to facilitate unit testing (`scene.tick()`) without\n   * needing to render.\n   */\n  tick (time, timeDelta) {\n    var i;\n    var systems = this.systems;\n\n    // Components.\n    this.callComponentBehaviors('tick', time, timeDelta);\n\n    // Systems.\n    for (i = 0; i < this.systemNames.length; i++) {\n      if (!systems[this.systemNames[i]].tick) { continue; }\n      systems[this.systemNames[i]].tick(time, timeDelta);\n    }\n  }\n\n  /**\n   * Behavior-updater meant to be called after scene render for post processing purposes.\n   * Abstracted to a different function to facilitate unit testing (`scene.tock()`) without\n   * needing to render.\n   */\n  tock (time, timeDelta, camera) {\n    var i;\n    var systems = this.systems;\n\n    // Components.\n    this.callComponentBehaviors('tock', time, timeDelta);\n\n    // Systems.\n    for (i = 0; i < this.systemNames.length; i++) {\n      if (!systems[this.systemNames[i]].tock) { continue; }\n      systems[this.systemNames[i]].tock(time, timeDelta, camera);\n    }\n  }\n\n  /**\n   * The render loop.\n   *\n   * Updates animations.\n   * Updates behaviors.\n   * Renders with request animation frame.\n   */\n  render (time, frame) {\n    var renderer = this.renderer;\n\n    this.frame = frame;\n    this.delta = this.clock.getDelta() * 1000;\n    this.time = this.clock.elapsedTime * 1000;\n\n    if (this.isPlaying) { this.tick(this.time, this.delta); }\n    var savedBackground = null;\n    if (this.is('ar-mode')) {\n      // In AR mode, don't render the default background. Hide it, then\n      // restore it again after rendering.\n      savedBackground = this.object3D.background;\n      this.object3D.background = null;\n    }\n    renderer.render(this.object3D, this.camera);\n    if (savedBackground) {\n      this.object3D.background = savedBackground;\n    }\n    if (this.isPlaying) {\n      var renderCamera = renderer.xr.isPresenting ? renderer.xr.getCamera() : this.camera;\n      this.tock(this.time, this.delta, renderCamera);\n    }\n  }\n\n  callComponentBehaviors (behavior, time, timeDelta) {\n    var i;\n\n    for (var c = 0; c < this.componentOrder.length; c++) {\n      var behaviors = this.behaviors[this.componentOrder[c]];\n      if (!behaviors) { continue; }\n      var behaviorSet = behaviors[behavior];\n\n      behaviorSet.inUse = true;\n      for (i = 0; i < behaviorSet.array.length; i++) {\n        if (!behaviorSet.array[i].isPlaying) { continue; }\n        behaviorSet.array[i][behavior](time, timeDelta);\n      }\n      behaviorSet.inUse = false;\n\n      // Clean up any behaviors marked for removal\n      for (i = 0; i < behaviorSet.markedForRemoval.length; i++) {\n        this.removeBehavior(behaviorSet.markedForRemoval[i]);\n      }\n      behaviorSet.markedForRemoval.length = 0;\n    }\n  }\n}\n\n/**\n * Derives an ordering from the components, taking any before and after\n * constraints into account.\n *\n * @param {object} components - The components to order\n * @param {Array} array - Optional array to use as output\n */\nexport function determineComponentBehaviorOrder (components, array) {\n  var graph = {};\n  var i;\n  var key;\n  var result = array || [];\n  result.length = 0;\n\n  // Construct graph nodes for each element\n  for (key in components) {\n    var element = components[key];\n    if (element === undefined) { continue; }\n    var before = element.before ? element.before.slice(0) : [];\n    var after = element.after ? element.after.slice(0) : [];\n    graph[key] = { before: before, after: after, visited: false, done: false };\n  }\n\n  // Normalize to after constraints, warn about missing nodes\n  for (key in graph) {\n    for (i = 0; i < graph[key].before.length; i++) {\n      var beforeName = graph[key].before[i];\n      if (!(beforeName in graph)) {\n        warn('Invalid ordering constraint, no component named `' + beforeName + '` referenced by `' + key + '`');\n        continue;\n      }\n\n      graph[beforeName].after.push(key);\n    }\n  }\n\n  // Perform topological depth-first search\n  // https://en.wikipedia.org/wiki/Topological_sorting#Depth-first_search\n  function visit (name) {\n    if (!(name in graph) || graph[name].done) {\n      return;\n    }\n\n    if (graph[name].visited) {\n      warn('Cycle detected, ignoring one or more before/after constraints. ' +\n        'The resulting order might be incorrect');\n      return;\n    }\n\n    graph[name].visited = true;\n\n    for (var i = 0; i < graph[name].after.length; i++) {\n      var afterName = graph[name].after[i];\n      if (!(afterName in graph)) {\n        warn('Invalid before/after constraint, no component named `' +\n            afterName + '` referenced in `' + name + '`');\n      }\n      visit(afterName);\n    }\n\n    graph[name].done = true;\n    result.push(name);\n  }\n\n  for (key in graph) {\n    if (graph[key].done) {\n      continue;\n    }\n    visit(key);\n  }\n  return result;\n}\n\n/**\n * Return size constrained to maxSize - maintaining aspect ratio.\n *\n * @param {object} size - size parameters (width and height).\n * @param {object} maxSize - Max size parameters (width and height).\n * @returns {object} Width and height.\n */\nfunction constrainSizeTo (size, maxSize) {\n  var aspectRatio;\n  var pixelRatio = window.devicePixelRatio;\n\n  if (!maxSize || (maxSize.width === -1 && maxSize.height === -1)) {\n    return size;\n  }\n\n  if (size.width * pixelRatio < maxSize.width &&\n    size.height * pixelRatio < maxSize.height) {\n    return size;\n  }\n\n  aspectRatio = size.width / size.height;\n\n  if ((size.width * pixelRatio) > maxSize.width && maxSize.width !== -1) {\n    size.width = Math.round(maxSize.width / pixelRatio);\n    size.height = Math.round(maxSize.width / aspectRatio / pixelRatio);\n  }\n\n  if ((size.height * pixelRatio) > maxSize.height && maxSize.height !== -1) {\n    size.height = Math.round(maxSize.height / pixelRatio);\n    size.width = Math.round(maxSize.height * aspectRatio / pixelRatio);\n  }\n\n  return size;\n}\n\ncustomElements.define('a-scene', AScene);\n\n/**\n * Return the canvas size where the scene will be rendered.\n * Will be always the window size except when the scene is embedded.\n * The parent size will be returned in that case.\n * the returned size will be constrained to the maxSize maintaining aspect ratio.\n *\n * @param {Element} canvasEl - the canvas element\n * @param {boolean} embedded - Is the scene embedded?\n * @param {object} maxSize - Max size parameters\n * @param {boolean} isVR - If in VR\n * @returns {number} Max size\n */\nfunction getCanvasSize (canvasEl, embedded, maxSize, isVR) {\n  if (!canvasEl.parentElement) { return {height: 0, width: 0}; }\n  if (embedded) {\n    var size;\n    size = {\n      height: canvasEl.parentElement.offsetHeight,\n      width: canvasEl.parentElement.offsetWidth\n    };\n    return constrainSizeTo(size, maxSize);\n  }\n  return getMaxSize(maxSize, isVR);\n}\n\n/**\n * Return the canvas size. Will be the window size unless that size is greater than the\n * maximum size (1920x1920 by default).  The constrained size will be returned in that case,\n * maintaining aspect ratio\n *\n * @param {object} maxSize - Max size parameters (width and height).\n * @param {boolean} isVR - If in VR.\n * @returns {object} Width and height.\n */\nfunction getMaxSize (maxSize, isVR) {\n  var size;\n  size = {height: document.body.offsetHeight, width: document.body.offsetWidth};\n  if (isVR) {\n    return size;\n  } else {\n    return constrainSizeTo(size, maxSize);\n  }\n}\n\nfunction requestFullscreen (canvas) {\n  var requestFullscreen =\n    canvas.requestFullscreen ||\n    canvas.webkitRequestFullscreen ||\n    canvas.mozRequestFullScreen ||  // The capitalized `S` is not a typo.\n    canvas.msRequestFullscreen;\n  // Hide navigation buttons on Android.\n  requestFullscreen.apply(canvas, [{navigationUI: 'hide'}]);\n}\n\nfunction exitFullscreen () {\n  var fullscreenEl =\n    document.fullscreenElement ||\n    document.webkitFullscreenElement ||\n    document.mozFullScreenElement;\n  if (!fullscreenEl) { return; }\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  }\n}\n\nexport function setupCanvas (sceneEl) {\n  var canvasEl;\n\n  canvasEl = document.createElement('canvas');\n  canvasEl.classList.add('a-canvas');\n  // Mark canvas as provided/injected by A-Frame.\n  canvasEl.dataset.aframeCanvas = true;\n  sceneEl.appendChild(canvasEl);\n\n  document.addEventListener('fullscreenchange', onFullScreenChange);\n  document.addEventListener('mozfullscreenchange', onFullScreenChange);\n  document.addEventListener('webkitfullscreenchange', onFullScreenChange);\n  document.addEventListener('MSFullscreenChange', onFullScreenChange);\n\n  // Prevent overscroll on mobile.\n  canvasEl.addEventListener('touchmove', function (event) { event.preventDefault(); }, {passive: false});\n\n  // Set canvas on scene.\n  sceneEl.canvas = canvasEl;\n  sceneEl.emit('render-target-loaded', {target: canvasEl});\n  // For unknown reasons a synchronous resize does not work on desktop when\n  // entering/exiting fullscreen.\n  setTimeout(sceneEl.resize.bind(sceneEl), 0);\n\n  function onFullScreenChange () {\n    var fullscreenEl =\n      document.fullscreenElement ||\n      document.mozFullScreenElement ||\n      document.webkitFullscreenElement;\n    // No fullscreen element === exit fullscreen\n    if (!fullscreenEl) { sceneEl.exitVR(); }\n    document.activeElement.blur();\n    document.body.focus();\n  }\n}\n","import Wakelock from '../../../vendor/wakelock/wakelock.js';\n\nexport function initWakelock (scene) {\n  if (!scene.isMobile) { return; }\n\n  var wakelock = scene.wakelock = new Wakelock();\n  scene.addEventListener('enter-vr', function () { wakelock.request(); });\n  scene.addEventListener('exit-vr', function () { wakelock.release(); });\n}\n","import * as schema from './schema.js';\nimport * as THREE from 'three';\n\nvar processSchema = schema.process;\nexport var geometries = {};  // Registered geometries.\nexport var geometryNames = [];  // Names of registered geometries.\n\n/**\n * Geometry class definition.\n *\n * Geometries extend the geometry component API to create and register geometry types.\n */\nexport var Geometry = function () {};\n\nGeometry.prototype = {\n  /**\n   * Contains the type schema and defaults for the data values.\n   * Data is coerced into the types of the values of the defaults.\n   */\n  schema: {},\n\n  /**\n   * Init handler. Similar to attachedCallback.\n   * Called during shader initialization and is only run once.\n   */\n  init: function (data) {\n    this.geometry = new THREE.BufferGeometry();\n    return this.geometry;\n  },\n\n  /**\n   * Update handler. Similar to attributeChangedCallback.\n   * Called whenever the associated geometry data changes.\n   *\n   * @param {object} data - New geometry data.\n   */\n  update: function (data) { /* no-op */ }\n};\n\n/**\n * Registers a geometry to A-Frame.\n *\n * @param {string} name - Geometry name.\n * @param {object} definition - Geometry property and methods.\n * @returns {object} Geometry.\n */\nexport function registerGeometry (name, definition) {\n  var NewGeometry;\n  var proto = {};\n\n  // Format definition object to prototype object.\n  Object.keys(definition).forEach(function expandDefinition (key) {\n    proto[key] = {\n      value: definition[key],\n      writable: true\n    };\n  });\n\n  if (geometries[name]) {\n    throw new Error('The geometry `' + name + '` has been already registered');\n  }\n  NewGeometry = function () { Geometry.call(this); };\n  NewGeometry.prototype = Object.create(Geometry.prototype, proto);\n  NewGeometry.prototype.name = name;\n  NewGeometry.prototype.constructor = NewGeometry;\n  geometries[name] = {\n    Geometry: NewGeometry,\n    schema: processSchema(NewGeometry.prototype.schema)\n  };\n  geometryNames.push(name);\n  return NewGeometry;\n}\n","/* global customElements */\nimport { knownTags } from '../../core/a-node.js';\nimport { AEntity } from '../../core/a-entity.js';\nimport { components } from '../../core/component.js';\nimport * as utils from '../../utils/index.js';\n\nvar debug = utils.debug;\nvar setComponentProperty = utils.entity.setComponentProperty;\nvar log = debug('extras:primitives:debug');\nvar warn = debug('extras:primitives:warn');\nvar error = debug('extras:primitives:error');\n\nexport var primitives = {};\n\nexport function registerPrimitive (name, definition) {\n  name = name.toLowerCase();\n\n  if (knownTags[name]) {\n    error('Trying to register primitive ' + name + ' that has been already previously registered');\n    return;\n  }\n\n  knownTags[name] = true;\n\n  log('Registering <%s>', name);\n\n  // Deprecation warning for defaultAttributes usage.\n  if (definition.defaultAttributes) {\n    warn(\"The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.\");\n  }\n\n  var mappings = definition.mappings || {};\n  var primitiveClass = class extends AEntity {\n    constructor () {\n      super();\n      this.defaultComponentsFromPrimitive = definition.defaultComponents || definition.defaultAttributes || {};\n      this.deprecated = definition.deprecated || null;\n      this.deprecatedMappings = definition.deprecatedMappings || {};\n      this.mappings = mappings;\n\n      if (definition.deprecated) { console.warn(definition.deprecated); }\n      this.resolveMappingCollisions();\n    }\n\n    /**\n     * If a mapping collides with a registered component name\n     * it renames the mapping to componentname-property\n     */\n    resolveMappingCollisions () {\n      var mappings = this.mappings;\n      var self = this;\n      Object.keys(mappings).forEach(function resolveCollision (key) {\n        var newAttribute;\n        if (key !== key.toLowerCase()) { warn('Mapping keys should be specified in lower case. The mapping key ' + key + ' may not be recognized'); }\n        if (components[key]) {\n          newAttribute = mappings[key].replace('.', '-');\n          mappings[newAttribute] = mappings[key];\n          delete mappings[key];\n          console.warn('The primitive ' + self.tagName.toLowerCase() + ' has a mapping collision. ' +\n                       'The attribute ' + key + ' has the same name as a registered component and' +\n                       ' has been renamed to ' + newAttribute);\n        }\n      });\n    }\n\n    getExtraComponents () {\n      var attr;\n      var data;\n      var i;\n      var mapping;\n      var mixins;\n      var self = this;\n\n      // Gather component data from default components.\n      data = utils.clone(this.defaultComponentsFromPrimitive);\n\n      // Factor in mixins to overwrite default components.\n      mixins = this.getAttribute('mixin');\n      if (mixins) {\n        mixins = utils.split(mixins.trim(), /\\s+/);\n        mixins.forEach(function applyMixin (mixinId) {\n          var mixinEl = document.getElementById(mixinId);\n          if (!mixinEl) { return; }\n          var rawAttributeCache = mixinEl.rawAttributeCache;\n          var mixinComponents = mixinEl.componentCache;\n          for (var name in rawAttributeCache) {\n            // Check if the attribute matches a mapping.\n            mapping = self.mappings[name];\n            if (mapping) {\n              applyMapping(mapping, rawAttributeCache[name], data);\n              return;\n            }\n\n            // Check if the attribute belongs to a component.\n            if (name in mixinComponents) {\n              data[name] = extend(data[name], mixinComponents[name]);\n            }\n          }\n        });\n      }\n\n      // Gather component data from mappings.\n      for (i = 0; i < this.attributes.length; i++) {\n        attr = this.attributes[i];\n        mapping = this.mappings[attr.name];\n        if (mapping) {\n          applyMapping(mapping, attr.value, data);\n        }\n      }\n\n      return data;\n\n      /**\n       * For the base to be extensible, both objects must be pure JavaScript objects.\n       * The function assumes that base is undefined, or null or a pure object.\n       */\n      function extend (base, extension) {\n        if (isUndefined(base)) {\n          return copy(extension);\n        }\n        if (isUndefined(extension)) {\n          return copy(base);\n        }\n        if (isPureObject(base) && isPureObject(extension)) {\n          return utils.extendDeep(base, extension);\n        }\n        return copy(extension);\n      }\n\n      function isUndefined (value) {\n        return typeof value === 'undefined';\n      }\n\n      function copy (value) {\n        if (isPureObject(value)) {\n          return utils.extendDeep({}, value);\n        }\n        return value;\n      }\n\n      function isPureObject (value) {\n        return value !== null && value.constructor === Object;\n      }\n    }\n\n    /**\n     * Sync to attribute to component property whenever mapped attribute changes.\n     * If attribute is mapped to a component property, set the component property using\n     * the attribute value.\n     */\n    attributeChangedCallback (attr, oldVal, value) {\n      var componentName = this.mappings[attr];\n\n      if (attr in this.deprecatedMappings) {\n        console.warn(this.deprecatedMappings[attr]);\n      }\n\n      if (!attr || !componentName) {\n        super.attributeChangedCallback(attr, oldVal, value);\n        return;\n      }\n\n      // Set value.\n      setComponentProperty(this, componentName, value);\n    }\n  };\n\n  customElements.define(name, primitiveClass);\n  primitiveClass.mappings = mappings;\n\n  // Store.\n  primitives[name] = primitiveClass;\n  return primitiveClass;\n}\n\n/**\n * Sets the relevant property based on the mapping property path.\n *\n * @param {string} mapping - The mapped property path.\n * @param {string} attrValue - The (raw) attribute value.\n * @param {object} data - The data object to apply the mapping to.\n */\nfunction applyMapping (mapping, attrValue, data) {\n  var path = utils.entity.getComponentPropertyPath(mapping);\n  if (path.constructor === Array) {\n    data[path[0]] = data[path[0]] || {};\n    data[path[0]][path[1]] = attrValue.trim();\n  } else {\n    data[path] = attrValue.trim();\n  }\n}\n\n/**\n * Add component mappings using schema.\n */\nfunction addComponentMapping (componentName, mappings) {\n  var schema = components[componentName].schema;\n  Object.keys(schema).forEach(function (prop) {\n    // Hyphenate where there is camelCase.\n    var attrName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    // If there is a mapping collision, prefix with component name and hyphen.\n    if (mappings[attrName] !== undefined) { attrName = componentName + '-' + prop; }\n    mappings[attrName] = componentName + '.' + prop;\n  });\n}\n\n/**\n * Helper to define a primitive, building mappings using a component schema.\n */\nexport function definePrimitive (tagName, defaultComponents, mappings) {\n  // If no initial mappings provided, start from empty map.\n  mappings = mappings || {};\n\n  // From the default components, add mapping automagically.\n  Object.keys(defaultComponents).forEach(function buildMappings (componentName) {\n    addComponentMapping(componentName, mappings);\n  });\n\n  // Register the primitive.\n  registerPrimitive(tagName, utils.extendDeep({}, null, {\n    defaultComponents: defaultComponents,\n    mappings: mappings\n  }));\n}\n","import * as THREE from 'three';\nimport { process as processSchema } from './schema.js';\nimport * as utils from '../utils/index.js';\n\nexport var shaders = {};  // Keep track of registered shaders.\nexport var shaderNames = [];  // Keep track of the names of registered shaders.\n\n// A-Frame properties to three.js uniform types.\nvar propertyToThreeMapping = {\n  array: 'v3',\n  color: 'v3',\n  int: 'i',\n  number: 'f',\n  map: 't',\n  time: 'f',\n  vec2: 'v2',\n  vec3: 'v3',\n  vec4: 'v4'\n};\n\n/**\n * Shader class definition.\n *\n * Shaders extend the material component API so you can create your own library\n * of customized materials.\n *\n */\nexport var Shader = function () {};\n\nShader.prototype = {\n  /**\n   * Contains the type schema and defaults for the data values.\n   * Data is coerced into the types of the values of the defaults.\n   */\n  schema: {},\n\n  vertexShader:\n    'void main() {' +\n      'gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);' +\n    '}',\n\n  fragmentShader:\n    'void main() {' +\n      'gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);' +\n    '}',\n\n  /**\n   * Init handler. Similar to attachedCallback.\n   * Called during shader initialization and is only run once.\n   */\n  init: function (data) {\n    this.uniforms = this.initUniforms();\n    this.material = new (this.raw ? THREE.RawShaderMaterial : THREE.ShaderMaterial)({\n      uniforms: this.uniforms,\n      glslVersion: this.raw || this.glsl3 ? THREE.GLSL3 : null,\n      vertexShader: this.vertexShader,\n      fragmentShader: this.fragmentShader\n    });\n    return this.material;\n  },\n\n  initUniforms: function () {\n    var key;\n    var schema = this.schema;\n    var variables = {};\n    var varType;\n\n    for (key in schema) {\n      if (schema[key].is !== 'uniform') { continue; }\n      varType = propertyToThreeMapping[schema[key].type];\n      variables[key] = {\n        type: varType,\n        value: undefined  // Let update handle setting these.\n      };\n    }\n    return variables;\n  },\n\n  /**\n   * Update handler. Similar to attributeChangedCallback.\n   * Called whenever the associated material data changes.\n   *\n   * @param {object} data - New material data.\n   */\n  update: function (data) {\n    var key;\n    var materialKey;\n    var schema = this.schema;\n    var uniforms = this.uniforms;\n\n    for (key in data) {\n      if (!schema[key] || schema[key].is !== 'uniform') { continue; }\n\n      if (schema[key].type === 'map') {\n        // If data unchanged, get out early.\n        if (!uniforms[key] || uniforms[key].value === data[key]) { continue; }\n\n        // Special handling is needed for textures.\n        materialKey = '_texture_' + key;\n\n        // We can't actually set the variable correctly until we've loaded the texture.\n        this.setMapOnTextureLoad(uniforms, key, materialKey);\n\n        // Kick off the texture update now that handler is added.\n        utils.material.updateMapMaterialFromData(materialKey, key, this, data);\n        continue;\n      }\n      uniforms[key].value = this.parseValue(schema[key].type, data[key]);\n      uniforms[key].needsUpdate = true;\n    }\n  },\n\n  parseValue: function (type, value) {\n    var color;\n    switch (type) {\n      case 'vec2': {\n        return new THREE.Vector2(value.x, value.y);\n      }\n      case 'vec3': {\n        return new THREE.Vector3(value.x, value.y, value.z);\n      }\n      case 'vec4': {\n        return new THREE.Vector4(value.x, value.y, value.z, value.w);\n      }\n      case 'color': {\n        color = new THREE.Color(value);\n        return new THREE.Vector3(color.r, color.g, color.b);\n      }\n      default: {\n        return value;\n      }\n    }\n  },\n\n  setMapOnTextureLoad: function (uniforms, key, materialKey) {\n    var self = this;\n    this.el.addEventListener('materialtextureloaded', function () {\n      uniforms[key].value = self.material[materialKey];\n      uniforms[key].needsUpdate = true;\n    });\n  }\n};\n\n/**\n * Registers a shader to A-Frame.\n *\n * @param {string} name - shader name.\n * @param {object} definition - shader property and methods.\n * @returns {object} Shader.\n */\nexport function registerShader (name, definition) {\n  var NewShader;\n  var proto = {};\n\n  // Format definition object to prototype object.\n  Object.keys(definition).forEach(function (key) {\n    proto[key] = {\n      value: definition[key],\n      writable: true\n    };\n  });\n\n  if (shaders[name]) {\n    throw new Error('The shader ' + name + ' has already been registered');\n  }\n  NewShader = function () { Shader.call(this); };\n  NewShader.prototype = Object.create(Shader.prototype, proto);\n  NewShader.prototype.name = name;\n  NewShader.prototype.constructor = NewShader;\n  shaders[name] = {\n    Shader: NewShader,\n    schema: processSchema(NewShader.prototype.schema)\n  };\n  shaderNames.push(name);\n  return NewShader;\n}\n","/* global customElements */\nimport * as THREE from 'three';\nimport { ANode } from './a-node.js';\nimport { debug } from '../utils/index.js';\n\nvar fileLoader = new THREE.FileLoader();\nvar warn = debug('core:a-assets:warn');\n\n/**\n * Asset management system. Handles blocking on asset loading.\n */\nclass AAssets extends ANode {\n  constructor () {\n    super();\n    this.isAssets = true;\n    this.fileLoader = fileLoader;\n    this.timeout = null;\n  }\n\n  doConnectedCallback () {\n    var self = this;\n    var i;\n    var loaded = [];\n    var mediaEl;\n    var mediaEls;\n    var imgEl;\n    var imgEls;\n    var timeout;\n    var children;\n\n    super.doConnectedCallback();\n\n    if (!this.parentNode.isScene) {\n      throw new Error('<a-assets> must be a child of a <a-scene>.');\n    }\n\n    // Wait for <img>s.\n    imgEls = this.querySelectorAll('img');\n    for (i = 0; i < imgEls.length; i++) {\n      imgEl = fixUpMediaElement(imgEls[i]);\n      loaded.push(new Promise(function (resolve, reject) {\n        // Set in cache because we won't be needing to call three.js loader if we have.\n        // a loaded media element.\n        THREE.Cache.add(imgEls[i].getAttribute('src'), imgEl);\n        if (imgEl.complete) {\n          resolve();\n          return;\n        }\n        imgEl.onload = resolve;\n        imgEl.onerror = reject;\n      }));\n    }\n\n    // Wait for <audio>s and <video>s.\n    mediaEls = this.querySelectorAll('audio, video');\n    for (i = 0; i < mediaEls.length; i++) {\n      mediaEl = fixUpMediaElement(mediaEls[i]);\n      if (!mediaEl.src && !mediaEl.srcObject) {\n        warn('Audio/video asset has neither `src` nor `srcObject` attributes.');\n      }\n      loaded.push(mediaElementLoaded(mediaEl));\n    }\n\n    // Wait for <a-asset-item>s\n    children = this.getChildren();\n    children.forEach(function (child) {\n      if (!child.isAssetItem || !child.hasAttribute('src')) { return; }\n\n      loaded.push(new Promise(function waitForLoaded (resolve, reject) {\n        if (child.hasLoaded) { return resolve(); }\n        child.addEventListener('loaded', resolve);\n        child.addEventListener('error', reject);\n      }));\n    });\n\n    // Trigger loaded for scene to start rendering.\n    Promise.allSettled(loaded).then(function () {\n      // Make sure the timeout didn't occur.\n      if (self.timeout === null) { return; }\n      self.load();\n    });\n\n    // Timeout to start loading anyways.\n    timeout = parseInt(this.getAttribute('timeout'), 10) || 3000;\n    this.timeout = setTimeout(function () {\n      // Make sure the loading didn't complete.\n      if (self.hasLoaded) { return; }\n      warn('Asset loading timed out in', timeout, 'ms');\n      self.timeout = null;\n      self.emit('timeout');\n      self.load();\n    }, timeout);\n  }\n\n  disconnectedCallback () {\n    super.disconnectedCallback();\n    if (this.timeout) { clearTimeout(this.timeout); }\n  }\n\n  load () {\n    // Filter out all children, as waiting already took place in doConnectedCallback.\n    super.load.call(this, null, function () { return false; });\n  }\n}\n\ncustomElements.define('a-assets', AAssets);\n\n/**\n * Preload using XHRLoader for any type of asset.\n */\nclass AAssetItem extends ANode {\n  constructor () {\n    super();\n    this.data = null;\n    this.isAssetItem = true;\n  }\n\n  connectedCallback () {\n    var self = this;\n    var src = this.getAttribute('src');\n    fileLoader.setResponseType(\n      this.getAttribute('response-type') || inferResponseType(src));\n    fileLoader.load(src, function handleOnLoad (response) {\n      self.data = response;\n      ANode.prototype.load.call(self);\n    }, function handleOnProgress (xhr) {\n      self.emit('progress', {\n        loadedBytes: xhr.loaded,\n        totalBytes: xhr.total,\n        xhr: xhr\n      });\n    }, function handleOnError (xhr) {\n      self.emit('error', {xhr: xhr}, false);\n    });\n  }\n}\n\ncustomElements.define('a-asset-item', AAssetItem);\n\n/**\n * Create a Promise that resolves once the media element has finished buffering.\n *\n * @param {Element} el - HTMLMediaElement.\n * @returns {Promise}\n */\nfunction mediaElementLoaded (el) {\n  if (!el.hasAttribute('autoplay') && el.getAttribute('preload') !== 'auto') {\n    return;\n  }\n\n  // If media specifies autoplay or preload, wait until media is completely buffered.\n  return new Promise(function (resolve, reject) {\n    if (el.readyState === 4) { return resolve(); }  // Already loaded.\n    if (el.error) { return reject(); }  // Error.\n\n    el.addEventListener('loadeddata', checkProgress, false);\n    el.addEventListener('progress', checkProgress, false);\n    el.addEventListener('error', reject, false);\n\n    function checkProgress () {\n      // Add up the seconds buffered.\n      var secondsBuffered = 0;\n      for (var i = 0; i < el.buffered.length; i++) {\n        secondsBuffered += el.buffered.end(i) - el.buffered.start(i);\n      }\n\n      // Compare seconds buffered to media duration.\n      if (secondsBuffered >= el.duration) {\n        // Set in cache because we won't be needing to call three.js loader if we have.\n        // a loaded media element.\n        // Store video elements only. three.js loader is used for audio elements.\n        // See assetParse too.\n        if (el.tagName === 'VIDEO') {\n          THREE.Cache.add(el.getAttribute('src'), el);\n        }\n        resolve();\n      }\n    }\n  });\n}\n\n/**\n * Automatically add attributes to media elements where convenient.\n * crossorigin, playsinline.\n */\nfunction fixUpMediaElement (mediaEl) {\n  // Cross-origin.\n  var newMediaEl = setCrossOrigin(mediaEl);\n\n  // Plays inline for mobile.\n  if (newMediaEl.tagName && newMediaEl.tagName.toLowerCase() === 'video') {\n    newMediaEl.setAttribute('playsinline', '');\n    newMediaEl.setAttribute('webkit-playsinline', '');\n  }\n\n  if (newMediaEl !== mediaEl) {\n    mediaEl.parentNode.appendChild(newMediaEl);\n    mediaEl.parentNode.removeChild(mediaEl);\n  }\n  return newMediaEl;\n}\n\n/**\n * Automatically set `crossorigin` if not defined on the media element.\n * If it is not defined, we must create and re-append a new media element <img> and\n * have the browser re-request it with `crossorigin` set.\n *\n * @param {Element} mediaEl - Media element (e.g., <img>, <audio>, <video>).\n * @returns {Element} Media element to be used to listen to for loaded events.\n */\nfunction setCrossOrigin (mediaEl) {\n  var newMediaEl;\n  var src;\n\n  // Already has crossorigin set.\n  if (mediaEl.hasAttribute('crossorigin')) { return mediaEl; }\n\n  src = mediaEl.getAttribute('src');\n\n  if (src !== null) {\n    // Does not have protocol.\n    if (src.indexOf('://') === -1) { return mediaEl; }\n\n    // Determine if cross origin is actually needed.\n    if (extractDomain(src) === window.location.host) { return mediaEl; }\n  }\n\n  warn('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. ' +\n       'A-Frame will re-request the asset with `crossorigin` attribute set. ' +\n       'Please set `crossorigin` on the element (e.g., <img crossorigin=\"anonymous\">)', src);\n  mediaEl.crossOrigin = 'anonymous';\n  newMediaEl = mediaEl.cloneNode(true);\n  return newMediaEl;\n}\n\n/**\n * Extract domain out of URL.\n *\n * @param {string} url\n * @returns {string}\n */\nfunction extractDomain (url) {\n  // Find and remove protocol (e.g., http, ftp, etc.) to get domain.\n  var domain = url.indexOf('://') > -1 ? url.split('/')[2] : url.split('/')[0];\n\n  // Find and remove port number.\n  return domain.substring(0, domain.indexOf(':'));\n}\n\n/**\n * Infer response-type attribute from src.\n * Default is text (default XMLHttpRequest.responseType)\n * and arraybuffer for .glb files.\n *\n * @param {string} src\n * @returns {string}\n */\nexport function inferResponseType (src) {\n  var fileName = getFileNameFromURL(src);\n  var dotLastIndex = fileName.lastIndexOf('.');\n  if (dotLastIndex >= 0) {\n    var extension = fileName.slice(dotLastIndex, src.search(/\\?|#|$/));\n    if (extension === '.glb') {\n      return 'arraybuffer';\n    }\n  }\n  return 'text';\n}\n\n/**\n * Extract filename from URL\n *\n * @param {string} url\n * @returns {string}\n */\nexport function getFileNameFromURL (url) {\n  var parser = document.createElement('a');\n  parser.href = url;\n  var query = parser.search.replace(/^\\?/, '');\n  var filePath = url.replace(query, '').replace('?', '');\n  return filePath.substring(filePath.lastIndexOf('/') + 1);\n}\n","/* global customElements, HTMLElement */\nimport { debug } from '../utils/index.js';\n\nvar warn = debug('core:cubemap:warn');\n\n/**\n * Cubemap element that handles validation and exposes list of six image sources (URL or <img>).\n * Does not listen to updates.\n */\nclass ACubeMap extends HTMLElement {\n  /**\n   * Calculates this.srcs.\n   */\n\n  constructor (self) {\n    self = super(self);\n    return self;\n  }\n\n  onReadyStateChange () {\n    if (document.readyState === 'complete') {\n      this.doConnectedCallback();\n    }\n  }\n\n  connectedCallback () {\n    // Defer if DOM is not ready.\n    if (document.readyState !== 'complete') {\n      document.addEventListener('readystatechange', this.onReadyStateChange.bind(this));\n      return;\n    }\n    ACubeMap.prototype.doConnectedCallback.call(this);\n  }\n\n  doConnectedCallback () {\n    this.srcs = this.validate();\n  }\n\n  /**\n   * Checks for exactly six elements with [src].\n   * When <img>s are used they will be prefetched.\n   *\n   * @returns {Array<string|Element>|undefined} six URLs or <img> elements if valid, else undefined.\n   */\n  validate () {\n    var elements = this.querySelectorAll('[src]');\n    var i;\n    var srcs = [];\n    if (elements.length === 6) {\n      for (i = 0; i < elements.length; i++) {\n        if (elements[i].tagName === 'IMG') {\n          srcs.push(elements[i]);\n        } else {\n          srcs.push(elements[i].getAttribute('src'));\n        }\n      }\n      return srcs;\n    }\n    // Else if there are not six elements, throw a warning.\n    warn(\n      '<a-cubemap> did not contain exactly six elements each with a ' +\n      '`src` attribute.');\n  }\n}\n\ncustomElements.define('a-cubemap', ACubeMap);\n","/* global customElements */\nimport { ANode } from './a-node.js';\nimport { components } from './component.js';\nimport * as utils from '../utils/index.js';\nimport * as styleParser from '../utils/styleParser.js';\n\nvar MULTIPLE_COMPONENT_DELIMITER = '__';\n\n/**\n * @property {object} componentCache - Cache of pre-parsed values. An object where the keys\n *         are component names and the values are already parsed by the component.\n * @property {object} rawAttributeCache - Cache of the raw attribute values.\n */\nclass AMixin extends ANode {\n  constructor () {\n    super();\n    this.componentCache = {};\n    this.rawAttributeCache = {};\n    this.isMixin = true;\n  }\n\n  doConnectedCallback () {\n    super.doConnectedCallback();\n\n    this.sceneEl = this.closestScene();\n    this.id = this.getAttribute('id');\n    this.cacheAttributes();\n    this.updateEntities();\n    this.load();\n  }\n\n  attributeChangedCallback (attr, oldVal, newVal) {\n    super.attributeChangedCallback();\n    this.cacheAttribute(attr, newVal);\n    this.updateEntities();\n  }\n\n  /**\n   * setAttribute that parses and caches component values.\n   */\n  setAttribute (attr, value) {\n    window.HTMLElement.prototype.setAttribute.call(this, attr, value);\n    this.cacheAttribute(attr, value);\n  }\n\n  /**\n   * If `attr` is a component, then parse the value using the schema and store it.\n   */\n  cacheAttribute (attr, value) {\n    var component;\n    var componentName;\n\n    // Get component data.\n    componentName = utils.split(attr, MULTIPLE_COMPONENT_DELIMITER)[0];\n    component = components[componentName];\n    if (value === undefined) {\n      value = window.HTMLElement.prototype.getAttribute.call(this, attr);\n    }\n\n    this.rawAttributeCache[attr] = value;\n    if (!component) { return; }\n    this.componentCache[attr] = this.parseComponentAttrValue(component, value);\n  }\n\n  /**\n   * Given an HTML attribute value parses the string based on the component schema.\n   * To avoid double parsing of strings when mixed into the actual component,\n   * we store the original instead of the parsed one.\n   *\n   * @param {object} component - The component to parse for.\n   * @param {string} attrValue - HTML attribute value.\n   */\n  parseComponentAttrValue (component, attrValue) {\n    var parsedValue;\n    if (typeof attrValue !== 'string') { return attrValue; }\n    if (component.isSingleProperty) {\n      parsedValue = component.schema.parse(attrValue);\n      if (typeof parsedValue === 'string') { parsedValue = attrValue; }\n    } else {\n      // Use style parser as the values will be parsed once mixed in.\n      // Furthermore parsing might fail with dynamic schema's.\n      parsedValue = styleParser.parse(attrValue);\n    }\n    return parsedValue;\n  }\n\n  /**\n   * If `attr` is a component, then grab pre-parsed value from the cache.\n   * Else do a normal getAttribute.\n   */\n  getAttribute (attr) {\n    return this.componentCache[attr] ||\n      window.HTMLElement.prototype.getAttribute.call(this, attr);\n  }\n\n  /**\n   * Parse and cache every component defined on the mixin.\n   */\n  cacheAttributes () {\n    var attributes = this.attributes;\n    var attrName;\n    var i;\n    for (i = 0; i < attributes.length; i++) {\n      attrName = attributes[i].name;\n      this.cacheAttribute(attrName);\n    }\n  }\n\n  /**\n   * For entities that already have been loaded by the time the mixin was attached, tell\n   * those entities to register the mixin and refresh their component data.\n   */\n  updateEntities () {\n    var entity;\n    var entities;\n    var i;\n\n    if (!this.sceneEl) { return; }\n\n    entities = this.sceneEl.querySelectorAll('[mixin~=' + this.id + ']');\n    for (i = 0; i < entities.length; i++) {\n      entity = entities[i];\n      if (!entity.hasLoaded || entity.isMixin) { continue; }\n      entity.mixinUpdate(this.id);\n    }\n  }\n}\n\ncustomElements.define('a-mixin', AMixin);\n","import * as THREE from 'three';\nimport anime from 'super-animejs';\nimport { registerComponent, components } from '../core/component.js';\nimport * as utils from '../utils/index.js';\n\nvar colorHelperFrom = new THREE.Color();\nvar colorHelperTo = new THREE.Color();\n\nvar getComponentProperty = utils.entity.getComponentProperty;\nvar setComponentProperty = utils.entity.setComponentProperty;\nvar splitCache = {};\n\nvar TYPE_COLOR = 'color';\nvar PROP_POSITION = 'position';\nvar PROP_ROTATION = 'rotation';\nvar PROP_SCALE = 'scale';\nvar STRING_COMPONENTS = 'components';\nvar STRING_OBJECT3D = 'object3D';\n\n/**\n * Animation component for A-Frame using anime.js.\n *\n * The component manually controls the tick by setting `autoplay: false` on anime.js and\n * manually * calling `animation.tick()` in the tick handler. To pause or resume, we toggle a\n * boolean * flag * `isAnimationPlaying`.\n *\n * anime.js animation config for tweenining Javascript objects and values works as:\n *\n *  config = {\n *    targets: {foo: 0.0, bar: '#000'},\n *    foo: 1.0,\n *    bar: '#FFF'\n *  }\n *\n * The above will tween each property in `targets`. The `to` values are set in the root of\n * the config.\n *\n * @member {object} animation - anime.js instance.\n * @member {boolean} animationIsPlaying - Control if animation is playing.\n */\nexport var Component = registerComponent('animation', {\n  schema: {\n    autoplay: {default: true},\n    delay: {default: 0},\n    dir: {default: ''},\n    dur: {default: 1000},\n    easing: {default: 'easeInQuad'},\n    elasticity: {default: 400},\n    enabled: {default: true},\n    from: {default: ''},\n    loop: {\n      default: 0,\n      parse: function (value) {\n        // Boolean or integer.\n        if (value === true || value === 'true') { return true; }\n        if (value === false || value === 'false') { return false; }\n        return parseInt(value, 10);\n      }\n    },\n    property: {default: ''},\n    startEvents: {type: 'array'},\n    pauseEvents: {type: 'array'},\n    resumeEvents: {type: 'array'},\n    round: {default: false},\n    to: {default: ''},\n    type: {default: ''},\n    isRawProperty: {default: false}\n  },\n\n  multiple: true,\n\n  init: function () {\n    var self = this;\n\n    this.eventDetail = {name: this.attrName};\n    this.time = 0;\n\n    this.animation = null;\n    this.animationIsPlaying = false;\n    this.onStartEvent = this.onStartEvent.bind(this);\n    this.beginAnimation = this.beginAnimation.bind(this);\n    this.pauseAnimation = this.pauseAnimation.bind(this);\n    this.resumeAnimation = this.resumeAnimation.bind(this);\n\n    this.fromColor = {};\n    this.toColor = {};\n    this.targets = {};\n    this.targetsArray = [];\n\n    this.updateConfigForDefault = this.updateConfigForDefault.bind(this);\n    this.updateConfigForRawColor = this.updateConfigForRawColor.bind(this);\n\n    this.config = {\n      complete: function () {\n        self.animationIsPlaying = false;\n        self.el.emit('animationcomplete', self.eventDetail, false);\n        if (self.id) {\n          self.el.emit('animationcomplete__' + self.id, self.eventDetail, false);\n        }\n      }\n    };\n  },\n\n  update: function (oldData) {\n    var config = this.config;\n    var data = this.data;\n\n    this.animationIsPlaying = false;\n\n    if (!this.data.enabled) { return; }\n\n    if (!data.property) { return; }\n\n    // Base config.\n    config.autoplay = false;\n    config.direction = data.dir;\n    config.duration = data.dur;\n    config.easing = data.easing;\n    config.elasticity = data.elasticity;\n    config.loop = data.loop;\n    config.round = data.round;\n\n    // Start new animation.\n    this.createAndStartAnimation();\n  },\n\n  tick: function (t, dt) {\n    if (!this.animationIsPlaying) { return; }\n    this.time += dt;\n    this.animation.tick(this.time);\n  },\n\n  remove: function () {\n    this.pauseAnimation();\n    this.removeEventListeners();\n  },\n\n  pause: function () {\n    this.paused = true;\n    this.pausedWasPlaying = this.animationIsPlaying;\n    this.pauseAnimation();\n    this.removeEventListeners();\n  },\n\n  /**\n   * `play` handler only for resuming scene.\n   */\n  play: function () {\n    if (!this.paused) { return; }\n    this.paused = false;\n    this.addEventListeners();\n    if (this.pausedWasPlaying) {\n      this.resumeAnimation();\n      this.pausedWasPlaying = false;\n    }\n  },\n\n  /**\n   * Start animation from scratch.\n   */\n  createAndStartAnimation: function () {\n    var data = this.data;\n\n    this.updateConfig();\n    this.animationIsPlaying = false;\n    this.animation = anime(this.config);\n    this.animation.began = true;\n\n    this.removeEventListeners();\n    this.addEventListeners();\n\n    // Wait for start events for animation.\n    if (!data.autoplay || data.startEvents && data.startEvents.length) { return; }\n\n    // Delay animation.\n    if (data.delay) {\n      setTimeout(this.beginAnimation, data.delay);\n      return;\n    }\n\n    // Play animation.\n    this.beginAnimation();\n  },\n\n  /**\n   * This is before animation start (including from startEvents).\n   * Set to initial state (config.from, time = 0, seekTime = 0).\n   */\n  beginAnimation: function () {\n    this.updateConfig();\n    this.animation.began = true;\n    this.time = 0;\n    this.animationIsPlaying = true;\n    this.stopRelatedAnimations();\n    this.el.emit('animationbegin', this.eventDetail, false);\n  },\n\n  pauseAnimation: function () {\n    this.animationIsPlaying = false;\n  },\n\n  resumeAnimation: function () {\n    this.animationIsPlaying = true;\n  },\n\n  /**\n   * startEvents callback.\n   */\n  onStartEvent: function () {\n    if (!this.data.enabled) { return; }\n\n    this.updateConfig();\n    if (this.animation) {\n      this.animation.pause();\n    }\n    this.animation = anime(this.config);\n\n    // Include the delay before each start event.\n    if (this.data.delay) {\n      setTimeout(this.beginAnimation, this.data.delay);\n      return;\n    }\n    this.beginAnimation();\n  },\n\n  /**\n   * rawProperty: true and type: color;\n   */\n  updateConfigForRawColor: function () {\n    var config = this.config;\n    var data = this.data;\n    var el = this.el;\n    var from;\n    var key;\n    var to;\n\n    if (this.waitComponentInitRawProperty(this.updateConfigForRawColor)) {\n      return;\n    }\n\n    from = data.from === '' ? getRawProperty(el, data.property) : data.from;\n    to = data.to;\n\n    // Use r/g/b vector for color type.\n    this.setColorConfig(from, to);\n    from = this.fromColor;\n    to = this.toColor;\n\n    this.targetsArray.length = 0;\n    this.targetsArray.push(from);\n    config.targets = this.targetsArray;\n    for (key in to) { config[key] = to[key]; }\n\n    config.update = (function () {\n      var lastValue = {};\n      return function (anim) {\n        var value;\n        value = anim.animatables[0].target;\n        // For animation timeline.\n        if (value.r === lastValue.r &&\n            value.g === lastValue.g &&\n            value.b === lastValue.b) { return; }\n\n        setRawProperty(el, data.property, value, data.type);\n      };\n    })();\n  },\n\n  /**\n   * Stuff property into generic `property` key.\n   */\n  updateConfigForDefault: function () {\n    var config = this.config;\n    var data = this.data;\n    var el = this.el;\n    var from;\n    var isBoolean;\n    var isNumber;\n    var to;\n\n    if (this.waitComponentInitRawProperty(this.updateConfigForDefault)) {\n      return;\n    }\n\n    if (data.from === '') {\n      // Infer from.\n      from = isRawProperty(data)\n        ? getRawProperty(el, data.property)\n        : getComponentProperty(el, data.property);\n    } else {\n      // Explicit from.\n      from = data.from;\n    }\n\n    to = data.to;\n\n    isNumber = !isNaN(from || to);\n    if (isNumber) {\n      from = parseFloat(from);\n      to = parseFloat(to);\n    } else {\n      from = from ? from.toString() : from;\n      to = to ? to.toString() : to;\n    }\n\n    // Convert booleans to integer to allow boolean flipping.\n    isBoolean = data.to === 'true' || data.to === 'false' ||\n                data.to === true || data.to === false;\n    if (isBoolean) {\n      from = data.from === 'true' || data.from === true ? 1 : 0;\n      to = data.to === 'true' || data.to === true ? 1 : 0;\n    }\n\n    this.targets.aframeProperty = from;\n    config.targets = this.targets;\n    config.aframeProperty = to;\n    config.update = (function () {\n      var lastValue;\n\n      return function (anim) {\n        var value;\n        value = anim.animatables[0].target.aframeProperty;\n\n        // Need to do a last value check for animation timeline since all the tweening\n        // begins simultaneously even if the value has not changed. Also better for perf\n        // anyway.\n        if (value === lastValue) { return; }\n        lastValue = value;\n\n        if (isBoolean) { value = value >= 1; }\n\n        if (isRawProperty(data)) {\n          setRawProperty(el, data.property, value, data.type);\n        } else {\n          setComponentProperty(el, data.property, value);\n        }\n      };\n    })();\n  },\n\n  /**\n   * Extend x/y/z/w onto the config.\n   * Update vector by modifying object3D.\n   */\n  updateConfigForVector: function () {\n    var config = this.config;\n    var data = this.data;\n    var el = this.el;\n    var key;\n    var from;\n    var to;\n    var split = splitDot(data.property);\n    var property = split[0] === 'object3D' ? split[1] : split[0];\n\n    // Parse coordinates.\n    from = data.from !== ''\n      ? utils.coordinates.parse(data.from)  // If data.from defined, use that.\n      : getComponentProperty(el, property);  // If data.from not defined, get on the fly.\n    to = utils.coordinates.parse(data.to);\n\n    if (property === PROP_ROTATION) {\n      toRadians(from);\n      toRadians(to);\n    }\n\n    // Set to and from.\n    this.targetsArray.length = 0;\n    this.targetsArray.push(from);\n    config.targets = this.targetsArray;\n    for (key in to) { config[key] = to[key]; }\n\n    // If animating object3D transformation, run more optimized updater.\n    if (property === PROP_POSITION || property === PROP_ROTATION ||\n        property === PROP_SCALE) {\n      config.update = (function () {\n        var lastValue = {};\n        return function (anim) {\n          var value = anim.animatables[0].target;\n\n          // For animation timeline.\n          if (value.x === lastValue.x &&\n              value.y === lastValue.y &&\n              value.z === lastValue.z) { return; }\n\n          lastValue.x = value.x;\n          lastValue.y = value.y;\n          lastValue.z = value.z;\n\n          el.object3D[property].set(value.x, value.y, value.z);\n        };\n      })();\n      return;\n    }\n\n    // Animating some vector.\n    config.update = (function () {\n      var lastValue = {};\n      return function (anim) {\n        var value = anim.animatables[0].target;\n\n        // Animate rotation through radians.\n        // For animation timeline.\n        if (value.x === lastValue.x &&\n            value.y === lastValue.y &&\n            value.z === lastValue.z) { return; }\n        lastValue.x = value.x;\n        lastValue.y = value.y;\n        lastValue.z = value.z;\n        setComponentProperty(el, data.property, value);\n      };\n    })();\n  },\n\n  /**\n   * Update the config before each run.\n   */\n  updateConfig: function () {\n    var propType;\n    // Route config type.\n    propType = getPropertyType(this.el, this.data.property);\n    if (isRawProperty(this.data) && this.data.type === TYPE_COLOR) {\n      this.updateConfigForRawColor();\n    } else if (propType === 'vec2' || propType === 'vec3' || propType === 'vec4') {\n      this.updateConfigForVector();\n    } else {\n      this.updateConfigForDefault();\n    }\n  },\n\n  /**\n   * Wait for component to initialize.\n   */\n  waitComponentInitRawProperty: function (cb) {\n    var componentName;\n    var data = this.data;\n    var el = this.el;\n    var self = this;\n\n    if (data.from !== '') { return false; }\n\n    if (!data.property.startsWith(STRING_COMPONENTS)) { return false; }\n\n    componentName = splitDot(data.property)[1];\n    if (el.components[componentName]) { return false; }\n\n    el.addEventListener('componentinitialized', function wait (evt) {\n      if (evt.detail.name !== componentName) { return; }\n      cb();\n      // Since the config was created async, create the animation now since we missed it\n      // earlier.\n      self.animation = anime(self.config);\n      el.removeEventListener('componentinitialized', wait);\n    });\n    return true;\n  },\n\n  /**\n   * Make sure two animations on the same property don't fight each other.\n   * e.g., animation__mouseenter=\"property: material.opacity\"\n   *       animation__mouseleave=\"property: material.opacity\"\n   */\n  stopRelatedAnimations: function () {\n    var component;\n    var componentName;\n    for (componentName in this.el.components) {\n      component = this.el.components[componentName];\n      if (componentName === this.attrName) { continue; }\n      if (component.name !== 'animation') { continue; }\n      if (!component.animationIsPlaying) { continue; }\n      if (component.data.property !== this.data.property) { continue; }\n      component.animationIsPlaying = false;\n    }\n  },\n\n  addEventListeners: function () {\n    var data = this.data;\n    var el = this.el;\n    addEventListeners(el, data.startEvents, this.onStartEvent);\n    addEventListeners(el, data.pauseEvents, this.pauseAnimation);\n    addEventListeners(el, data.resumeEvents, this.resumeAnimation);\n  },\n\n  removeEventListeners: function () {\n    var data = this.data;\n    var el = this.el;\n    removeEventListeners(el, data.startEvents, this.onStartEvent);\n    removeEventListeners(el, data.pauseEvents, this.pauseAnimation);\n    removeEventListeners(el, data.resumeEvents, this.resumeAnimation);\n  },\n\n  setColorConfig: function (from, to) {\n    colorHelperFrom.set(from);\n    colorHelperTo.set(to);\n    from = this.fromColor;\n    to = this.toColor;\n    from.r = colorHelperFrom.r;\n    from.g = colorHelperFrom.g;\n    from.b = colorHelperFrom.b;\n    to.r = colorHelperTo.r;\n    to.g = colorHelperTo.g;\n    to.b = colorHelperTo.b;\n  }\n});\n\n/**\n * Given property name, check schema to see what type we are animating.\n * We just care whether the property is a vector.\n */\nfunction getPropertyType (el, property) {\n  var component;\n  var componentName;\n  var split;\n  var propertyName;\n\n  split = property.split('.');\n  // Object3D.\n  if (split[0] === 'object3D' && !split[2]) {\n    if (split[1] === 'position' ||\n        split[1] === 'rotation' ||\n        split[1] === 'scale') {\n      return 'vec3';\n    }\n  }\n\n  componentName = split[0];\n  propertyName = split[1];\n  component = el.components[componentName] || components[componentName];\n\n  // Primitives.\n  if (!component) { return null; }\n\n  // Dynamic schema. We only care about vectors anyways.\n  if (propertyName && !component.schema[propertyName]) { return null; }\n\n  // Multi-prop.\n  if (propertyName) { return component.schema[propertyName].type; }\n\n  // Single-prop.\n  return component.schema.type;\n}\n\n/**\n * Convert object to radians.\n */\nfunction toRadians (obj) {\n  obj.x = THREE.MathUtils.degToRad(obj.x);\n  obj.y = THREE.MathUtils.degToRad(obj.y);\n  obj.z = THREE.MathUtils.degToRad(obj.z);\n}\n\nfunction addEventListeners (el, eventNames, handler) {\n  var i;\n  for (i = 0; i < eventNames.length; i++) {\n    el.addEventListener(eventNames[i], handler);\n  }\n}\n\nfunction removeEventListeners (el, eventNames, handler) {\n  var i;\n  for (i = 0; i < eventNames.length; i++) {\n    el.removeEventListener(eventNames[i], handler);\n  }\n}\n\nfunction getRawProperty (el, path) {\n  var i;\n  var split;\n  var value;\n  split = splitDot(path);\n  value = el;\n  for (i = 0; i < split.length; i++) {\n    value = value[split[i]];\n  }\n  if (value === undefined) {\n    console.log(el);\n    throw new Error('[animation] property (' + path + ') could not be found');\n  }\n  return value;\n}\n\nfunction setRawProperty (el, path, value, type) {\n  var i;\n  var split;\n  var propertyName;\n  var targetValue;\n\n  if (path.startsWith('object3D.rotation')) {\n    value = THREE.MathUtils.degToRad(value);\n  }\n\n  // Walk.\n  split = splitDot(path);\n  targetValue = el;\n  for (i = 0; i < split.length - 1; i++) { targetValue = targetValue[split[i]]; }\n  propertyName = split[split.length - 1];\n\n  // Raw color.\n  if (type === TYPE_COLOR) {\n    if ('r' in targetValue[propertyName]) {\n      targetValue[propertyName].r = value.r;\n      targetValue[propertyName].g = value.g;\n      targetValue[propertyName].b = value.b;\n    } else {\n      targetValue[propertyName].x = value.r;\n      targetValue[propertyName].y = value.g;\n      targetValue[propertyName].z = value.b;\n    }\n    return;\n  }\n\n  targetValue[propertyName] = value;\n}\n\nfunction splitDot (path) {\n  if (path in splitCache) { return splitCache[path]; }\n  splitCache[path] = path.split('.');\n  return splitCache[path];\n}\n\nfunction isRawProperty (data) {\n  return data.isRawProperty || data.property.startsWith(STRING_COMPONENTS) ||\n         data.property.startsWith(STRING_OBJECT3D);\n}\n","/* global XRRigidTransform, localStorage */\nimport * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\nimport * as utils from '../utils/index.js';\nvar warn = utils.debug('components:anchored:warn');\n\n/**\n * Anchored component.\n * Feature only available in browsers that implement the WebXR anchors module.\n * Once anchored the entity remains to a fixed position in real-world space.\n * If the anchor is persistent, the anchor positioned remains across sessions or until the browser data is cleared.\n */\nexport var Component = registerComponent('anchored', {\n  schema: {\n    persistent: {default: false}\n  },\n\n  init: function () {\n    var sceneEl = this.el.sceneEl;\n    var webxrData = sceneEl.getAttribute('webxr');\n    var optionalFeaturesArray = webxrData.optionalFeatures;\n    if (optionalFeaturesArray.indexOf('anchors') === -1) {\n      optionalFeaturesArray.push('anchors');\n      this.el.sceneEl.setAttribute('webxr', webxrData);\n    }\n\n    this.auxQuaternion = new THREE.Quaternion();\n\n    this.onEnterVR = this.onEnterVR.bind(this);\n    this.el.sceneEl.addEventListener('enter-vr', this.onEnterVR);\n  },\n\n  onEnterVR: function () {\n    this.anchor = undefined;\n    this.requestPersistentAnchorPending = this.data.persistent;\n    this.requestAnchorPending = !this.data.persistent;\n  },\n\n  tick: function () {\n    var sceneEl = this.el.sceneEl;\n    var xrManager = sceneEl.renderer.xr;\n    var frame;\n    var refSpace;\n    var pose;\n    var object3D = this.el.object3D;\n\n    if ((!sceneEl.is('ar-mode') && !sceneEl.is('vr-mode'))) { return; }\n    if (!this.anchor && this.requestPersistentAnchorPending) { this.restorePersistentAnchor(); }\n    if (!this.anchor && this.requestAnchorPending) { this.createAnchor(); }\n    if (!this.anchor) { return; }\n\n    frame = sceneEl.frame;\n    refSpace = xrManager.getReferenceSpace();\n\n    pose = frame.getPose(this.anchor.anchorSpace, refSpace);\n    // Apply position and orientation, leave scale as-is (see aframevr/aframe#5630)\n    object3D.position.copy(pose.transform.position);\n    object3D.quaternion.copy(pose.transform.orientation);\n  },\n\n  createAnchor: async function createAnchor (position, quaternion) {\n    var sceneEl = this.el.sceneEl;\n    var xrManager = sceneEl.renderer.xr;\n    var frame;\n    var referenceSpace;\n    var anchorPose;\n    var anchor;\n    var object3D = this.el.object3D;\n\n    position = position || object3D.position;\n    quaternion = quaternion || this.auxQuaternion.setFromEuler(object3D.rotation);\n\n    if (!anchorsSupported(sceneEl)) {\n      warn('This browser doesn\\'t support the WebXR anchors module');\n      return;\n    }\n\n    if (this.anchor) { this.deleteAnchor(); }\n\n    frame = sceneEl.frame;\n    referenceSpace = xrManager.getReferenceSpace();\n    anchorPose = new XRRigidTransform(\n      {\n        x: position.x,\n        y: position.y,\n        z: position.z\n      },\n      {\n        x: quaternion.x,\n        y: quaternion.y,\n        z: quaternion.z,\n        w: quaternion.w\n      });\n\n    this.requestAnchorPending = false;\n    anchor = await frame.createAnchor(anchorPose, referenceSpace);\n    if (this.data.persistent) {\n      if (this.el.id) {\n        this.persistentHandle = await anchor.requestPersistentHandle();\n        localStorage.setItem(this.el.id, this.persistentHandle);\n      } else {\n        warn('The anchor won\\'t be persisted because the entity has no assigned id.');\n      }\n    }\n    sceneEl.object3D.attach(this.el.object3D);\n    this.anchor = anchor;\n  },\n\n  restorePersistentAnchor: async function restorePersistentAnchor () {\n    var xrManager = this.el.sceneEl.renderer.xr;\n    var session = xrManager.getSession();\n    var persistentAnchors = session.persistentAnchors;\n    var storedPersistentHandle;\n    this.requestPersistentAnchorPending = false;\n    if (!this.el.id) {\n      warn('The entity associated to the persistent anchor cannot be retrieved because it doesn\\'t have an assigned id.');\n      this.requestAnchorPending = true;\n      return;\n    }\n    if (persistentAnchors) {\n      storedPersistentHandle = localStorage.getItem(this.el.id);\n      for (var i = 0; i < persistentAnchors.length; ++i) {\n        if (storedPersistentHandle !== persistentAnchors[i]) { continue; }\n        this.anchor = await session.restorePersistentAnchor(persistentAnchors[i]);\n        if (this.anchor) { this.persistentHandle = persistentAnchors[i]; }\n        break;\n      }\n      if (!this.anchor) { this.requestAnchorPending = true; }\n    } else {\n      this.requestPersistentAnchorPending = true;\n    }\n  },\n\n  deleteAnchor: function () {\n    var xrManager;\n    var session;\n    var anchor = this.anchor;\n\n    if (!anchor) { return; }\n    xrManager = this.el.sceneEl.renderer.xr;\n    session = xrManager.getSession();\n\n    anchor.delete();\n    this.el.sceneEl.object3D.add(this.el.object3D);\n    if (this.persistentHandle) { session.deletePersistentAnchor(this.persistentHandle); }\n    this.anchor = undefined;\n  }\n});\n\nfunction anchorsSupported (sceneEl) {\n  var xrManager = sceneEl.renderer.xr;\n  var session = xrManager.getSession();\n  return (session && session.restorePersistentAnchor);\n}\n","import * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\n\n/**\n * Camera component.\n * Pairs along with camera system to handle tracking the active camera.\n */\nexport var Component = registerComponent('camera', {\n  schema: {\n    active: {default: true},\n    far: {default: 10000},\n    fov: {default: 80, min: 0},\n    near: {default: 0.005, min: 0},\n    spectator: {default: false},\n    zoom: {default: 1, min: 0}\n  },\n\n  /**\n   * Initialize three.js camera and add it to the entity.\n   * Add reference from scene to this entity as the camera.\n   */\n  init: function () {\n    var camera;\n    var el = this.el;\n\n    // Create camera.\n    camera = this.camera = new THREE.PerspectiveCamera();\n    el.setObject3D('camera', camera);\n  },\n\n  /**\n   * Update three.js camera.\n   */\n  update: function (oldData) {\n    var data = this.data;\n    var camera = this.camera;\n\n    // Update properties.\n    camera.aspect = data.aspect || (window.innerWidth / window.innerHeight);\n    camera.far = data.far;\n    camera.fov = data.fov;\n    camera.near = data.near;\n    camera.zoom = data.zoom;\n    camera.updateProjectionMatrix();\n\n    this.updateActiveCamera(oldData);\n    this.updateSpectatorCamera(oldData);\n  },\n\n  updateActiveCamera: function (oldData) {\n    var data = this.data;\n    var el = this.el;\n    var system = this.system;\n    // Active property did not change.\n    if (oldData && oldData.active === data.active || data.spectator) { return; }\n\n    // If `active` property changes, or first update, handle active camera with system.\n    if (data.active && system.activeCameraEl !== el) {\n      // Camera enabled. Set camera to this camera.\n      system.setActiveCamera(el);\n    } else if (!data.active && system.activeCameraEl === el) {\n      // Camera disabled. Set camera to another camera.\n      system.disableActiveCamera();\n    }\n  },\n\n  updateSpectatorCamera: function (oldData) {\n    var data = this.data;\n    var el = this.el;\n    var system = this.system;\n    // spectator property did not change.\n    if (oldData && oldData.spectator === data.spectator) { return; }\n\n    // If `spectator` property changes, or first update, handle spectator camera with system.\n    if (data.spectator && system.spectatorCameraEl !== el) {\n      // Camera enabled. Set camera to this camera.\n      system.setSpectatorCamera(el);\n    } else if (!data.spectator && system.spectatorCameraEl === el) {\n      // Camera disabled. Set camera to another camera.\n      system.disableSpectatorCamera();\n    }\n  },\n\n  /**\n   * Remove camera on remove (callback).\n   */\n  remove: function () {\n    this.el.removeObject3D('camera');\n  }\n});\n","/* global MouseEvent, TouchEvent */\nimport * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\nimport * as utils from '../utils/index.js';\n\nvar EVENTS = {\n  CLICK: 'click',\n  FUSING: 'fusing',\n  MOUSEENTER: 'mouseenter',\n  MOUSEDOWN: 'mousedown',\n  MOUSELEAVE: 'mouseleave',\n  MOUSEUP: 'mouseup'\n};\n\nvar STATES = {\n  FUSING: 'cursor-fusing',\n  HOVERING: 'cursor-hovering',\n  HOVERED: 'cursor-hovered'\n};\n\nvar CANVAS_EVENTS = {\n  DOWN: ['mousedown', 'touchstart'],\n  UP: ['mouseup', 'touchend']\n};\n\nvar WEBXR_EVENTS = {\n  DOWN: ['selectstart'],\n  UP: ['selectend']\n};\n\nvar CANVAS_HOVER_CLASS = 'a-mouse-cursor-hover';\n\n/**\n * Cursor component. Applies the raycaster component specifically for starting the raycaster\n * from the camera and pointing from camera's facing direction, and then only returning the\n * closest intersection. Cursor can be fine-tuned by setting raycaster properties.\n *\n * @member {object} fuseTimeout - Timeout to trigger fuse-click.\n * @member {Element} cursorDownEl - Entity that was last mousedowned during current click.\n * @member {object} intersection - Attributes of the current intersection event, including\n *         3D- and 2D-space coordinates. See: http://threejs.org/docs/api/core/Raycaster.html\n * @member {Element} intersectedEl - Currently-intersected entity. Used to keep track to\n *         emit events when unintersecting.\n */\nexport var Component = registerComponent('cursor', {\n  dependencies: ['raycaster'],\n\n  schema: {\n    downEvents: {default: []},\n    fuse: {default: utils.device.isMobile()},\n    fuseTimeout: {default: 1500, min: 0},\n    mouseCursorStylesEnabled: {default: true},\n    upEvents: {default: []},\n    rayOrigin: {default: 'entity', oneOf: ['mouse', 'entity', 'xrselect']}\n  },\n\n  after: ['tracked-controls'],\n\n  multiple: true,\n\n  init: function () {\n    var self = this;\n\n    this.fuseTimeout = undefined;\n    this.cursorDownEl = null;\n    this.intersectedEl = null;\n    this.canvasBounds = document.body.getBoundingClientRect();\n    this.isCursorDown = false;\n    this.activeXRInput = null;\n\n    // Debounce.\n    this.updateCanvasBounds = utils.debounce(function updateCanvasBounds () {\n      self.canvasBounds = self.el.sceneEl.canvas.getBoundingClientRect();\n    }, 500);\n\n    this.eventDetail = {};\n    this.intersectedEventDetail = {cursorEl: this.el};\n\n    // Bind methods.\n    this.onCursorDown = this.onCursorDown.bind(this);\n    this.onCursorUp = this.onCursorUp.bind(this);\n    this.onIntersection = this.onIntersection.bind(this);\n    this.onIntersectionCleared = this.onIntersectionCleared.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onEnterVR = this.onEnterVR.bind(this);\n  },\n\n  update: function (oldData) {\n    var rayOrigin = this.data.rayOrigin;\n    if (rayOrigin === oldData.rayOrigin) { return; }\n    if (rayOrigin === 'entity') { this.resetRaycaster(); }\n    this.updateMouseEventListeners();\n    // Update the WebXR event listeners if needed.\n    // This handles the cases a cursor is created or has its rayOrigin changed during an XR session.\n    // In the case the cursor is created before we have an active XR session, it does not add the WebXR event listeners here (addWebXREventListeners is a no-op without xrSession), upon onEnterVR they are added.\n    if (rayOrigin === 'xrselect' || rayOrigin === 'entity') {\n      this.addWebXREventListeners();\n    }\n    if (oldData.rayOrigin === 'xrselect' || oldData.rayOrigin === 'entity') {\n      this.removeWebXREventListeners();\n    }\n  },\n\n  tick: function () {\n    // Update on frame to allow someone to select and mousemove\n    var frame = this.el.sceneEl.frame;\n    var inputSource = this.activeXRInput;\n    if (this.data.rayOrigin === 'xrselect' && frame && inputSource) {\n      this.onMouseMove({\n        frame: frame,\n        inputSource: inputSource,\n        type: 'fakeselectevent'\n      });\n    }\n  },\n\n  play: function () {\n    this.addEventListeners();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n  },\n\n  remove: function () {\n    var el = this.el;\n    el.removeState(STATES.HOVERING);\n    el.removeState(STATES.FUSING);\n    clearTimeout(this.fuseTimeout);\n    if (this.intersectedEl) { this.intersectedEl.removeState(STATES.HOVERED); }\n    this.removeEventListeners();\n  },\n\n  addEventListeners: function () {\n    var canvas;\n    var data = this.data;\n    var el = this.el;\n    var self = this;\n\n    function addCanvasListeners () {\n      canvas = el.sceneEl.canvas;\n      if (data.downEvents.length || data.upEvents.length) { return; }\n      CANVAS_EVENTS.DOWN.forEach(function (downEvent) {\n        canvas.addEventListener(downEvent, self.onCursorDown, {passive: false});\n      });\n      CANVAS_EVENTS.UP.forEach(function (upEvent) {\n        canvas.addEventListener(upEvent, self.onCursorUp, {passive: false});\n      });\n    }\n\n    canvas = el.sceneEl.canvas;\n    if (canvas) {\n      addCanvasListeners();\n    } else {\n      el.sceneEl.addEventListener('render-target-loaded', addCanvasListeners);\n    }\n\n    data.downEvents.forEach(function (downEvent) {\n      el.addEventListener(downEvent, self.onCursorDown);\n    });\n    data.upEvents.forEach(function (upEvent) {\n      el.addEventListener(upEvent, self.onCursorUp);\n    });\n    el.addEventListener('raycaster-intersection', this.onIntersection);\n    el.addEventListener('raycaster-closest-entity-changed', this.onIntersection);\n\n    el.addEventListener('raycaster-intersection-cleared', this.onIntersectionCleared);\n\n    el.sceneEl.addEventListener('rendererresize', this.updateCanvasBounds);\n    el.sceneEl.addEventListener('enter-vr', this.onEnterVR);\n    window.addEventListener('resize', this.updateCanvasBounds);\n    window.addEventListener('scroll', this.updateCanvasBounds);\n\n    this.updateMouseEventListeners();\n  },\n\n  removeEventListeners: function () {\n    var canvas;\n    var data = this.data;\n    var el = this.el;\n    var self = this;\n\n    canvas = el.sceneEl.canvas;\n    if (canvas && !data.downEvents.length && !data.upEvents.length) {\n      CANVAS_EVENTS.DOWN.forEach(function (downEvent) {\n        canvas.removeEventListener(downEvent, self.onCursorDown);\n      });\n      CANVAS_EVENTS.UP.forEach(function (upEvent) {\n        canvas.removeEventListener(upEvent, self.onCursorUp);\n      });\n    }\n\n    data.downEvents.forEach(function (downEvent) {\n      el.removeEventListener(downEvent, self.onCursorDown);\n    });\n    data.upEvents.forEach(function (upEvent) {\n      el.removeEventListener(upEvent, self.onCursorUp);\n    });\n    el.removeEventListener('raycaster-intersection', this.onIntersection);\n    el.removeEventListener('raycaster-closest-entity-changed', this.onIntersection);\n    el.removeEventListener('raycaster-intersection-cleared', this.onIntersectionCleared);\n    canvas.removeEventListener('mousemove', this.onMouseMove);\n    canvas.removeEventListener('touchstart', this.onMouseMove);\n    canvas.removeEventListener('touchmove', this.onMouseMove);\n\n    el.sceneEl.removeEventListener('rendererresize', this.updateCanvasBounds);\n    el.sceneEl.removeEventListener('enter-vr', this.onEnterVR);\n    window.removeEventListener('resize', this.updateCanvasBounds);\n    window.removeEventListener('scroll', this.updateCanvasBounds);\n\n    this.removeWebXREventListeners();\n  },\n\n  updateMouseEventListeners: function () {\n    var canvas;\n    var el = this.el;\n\n    canvas = el.sceneEl.canvas;\n    canvas.removeEventListener('mousemove', this.onMouseMove);\n    canvas.removeEventListener('touchmove', this.onMouseMove);\n    el.setAttribute('raycaster', 'useWorldCoordinates', false);\n    if (this.data.rayOrigin !== 'mouse') { return; }\n    canvas.addEventListener('mousemove', this.onMouseMove);\n    canvas.addEventListener('touchmove', this.onMouseMove, {passive: false});\n    el.setAttribute('raycaster', 'useWorldCoordinates', true);\n    this.updateCanvasBounds();\n  },\n\n  resetRaycaster: function () {\n    this.el.setAttribute('raycaster', {\n      direction: new THREE.Vector3().set(0, 0, -1),\n      origin: new THREE.Vector3()\n    });\n  },\n\n  addWebXREventListeners: function () {\n    var self = this;\n    var xrSession = this.el.sceneEl.xrSession;\n    if (xrSession) {\n      WEBXR_EVENTS.DOWN.forEach(function (downEvent) {\n        xrSession.addEventListener(downEvent, self.onCursorDown);\n      });\n      WEBXR_EVENTS.UP.forEach(function (upEvent) {\n        xrSession.addEventListener(upEvent, self.onCursorUp);\n      });\n    }\n  },\n\n  removeWebXREventListeners: function () {\n    var self = this;\n    var xrSession = this.el.sceneEl.xrSession;\n    if (xrSession) {\n      WEBXR_EVENTS.DOWN.forEach(function (downEvent) {\n        xrSession.removeEventListener(downEvent, self.onCursorDown);\n      });\n      WEBXR_EVENTS.UP.forEach(function (upEvent) {\n        xrSession.removeEventListener(upEvent, self.onCursorUp);\n      });\n    }\n  },\n\n  onMouseMove: (function () {\n    var direction = new THREE.Vector3();\n    var mouse = new THREE.Vector2();\n    var origin = new THREE.Vector3();\n    var rayCasterConfig = {origin: origin, direction: direction};\n\n    return function (evt) {\n      var bounds = this.canvasBounds;\n      var camera = this.el.sceneEl.camera;\n      var cameraElParent;\n      var left;\n      var point;\n      var top;\n\n      var frame;\n      var inputSource;\n      var referenceSpace;\n      var pose;\n      var transform;\n\n      camera.parent.updateMatrixWorld();\n\n      // Calculate mouse position based on the canvas element\n      if (evt.type === 'touchmove' || evt.type === 'touchstart') {\n        // Track the first touch for simplicity.\n        point = evt.touches.item(0);\n      } else {\n        point = evt;\n      }\n\n      left = point.clientX - bounds.left;\n      top = point.clientY - bounds.top;\n      mouse.x = (left / bounds.width) * 2 - 1;\n      mouse.y = -(top / bounds.height) * 2 + 1;\n\n      if (this.data.rayOrigin === 'xrselect' && (evt.type === 'selectstart' || evt.type === 'fakeselectevent')) {\n        frame = evt.frame;\n        inputSource = evt.inputSource;\n        referenceSpace = this.el.sceneEl.renderer.xr.getReferenceSpace();\n        pose = frame.getPose(inputSource.targetRaySpace, referenceSpace);\n        if (pose) {\n          transform = pose.transform;\n          direction.set(0, 0, -1);\n          direction.applyQuaternion(transform.orientation);\n          origin.copy(transform.position);\n\n          // Transform XRPose into world space\n          cameraElParent = camera.el.object3D.parent;\n          cameraElParent.localToWorld(origin);\n          direction.transformDirection(cameraElParent.matrixWorld);\n        }\n      } else if (evt.type === 'fakeselectout') {\n        direction.set(0, 1, 0);\n        origin.set(0, 9999, 0);\n      } else if (camera && camera.isPerspectiveCamera) {\n        origin.setFromMatrixPosition(camera.matrixWorld);\n        direction.set(mouse.x, mouse.y, 0.5).unproject(camera).sub(origin).normalize();\n      } else if (camera && camera.isOrthographicCamera) {\n        origin.set(mouse.x, mouse.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera); // set origin in plane of camera\n        direction.set(0, 0, -1).transformDirection(camera.matrixWorld);\n      } else {\n        console.error('AFRAME.Raycaster: Unsupported camera type: ' + camera.type);\n      }\n\n      this.el.setAttribute('raycaster', rayCasterConfig);\n      if (evt.type === 'touchmove') { evt.preventDefault(); }\n    };\n  })(),\n\n  /**\n   * Trigger mousedown and keep track of the mousedowned entity.\n   */\n  onCursorDown: function (evt) {\n    this.isCursorDown = true;\n    // Raycast again for touch.\n    if (this.data.rayOrigin === 'mouse' && evt.type === 'touchstart') {\n      this.onMouseMove(evt);\n      this.el.components.raycaster.checkIntersections();\n      evt.preventDefault();\n    }\n\n    if (this.data.rayOrigin === 'xrselect' && evt.type === 'selectstart') {\n      this.activeXRInput = evt.inputSource;\n      this.onMouseMove(evt);\n      this.el.components.raycaster.checkIntersections();\n\n      // if something was tapped on don't do ar-hit-test things\n      if (\n        this.el.components.raycaster.intersectedEls.length &&\n        this.el.sceneEl.components['ar-hit-test'] !== undefined &&\n        this.el.sceneEl.getAttribute('ar-hit-test').enabled\n      ) {\n        // Cancel the ar-hit-test behaviours and disable the ar-hit-test\n        this.el.sceneEl.setAttribute('ar-hit-test', 'enabled', false);\n        this.reenableARHitTest = true;\n      }\n    }\n\n    this.twoWayEmit(EVENTS.MOUSEDOWN, evt);\n    this.cursorDownEl = this.intersectedEl;\n  },\n\n  /**\n   * Trigger mouseup if:\n   * - Not fusing (mobile has no mouse).\n   * - Currently intersecting an entity.\n   * - Currently-intersected entity is the same as the one when mousedown was triggered,\n   *   in case user mousedowned one entity, dragged to another, and mouseupped.\n   */\n  onCursorUp: function (evt) {\n    if (!this.isCursorDown) { return; }\n    if (this.data.rayOrigin === 'xrselect' && this.activeXRInput !== evt.inputSource) { return; }\n\n    this.isCursorDown = false;\n\n    var data = this.data;\n    this.twoWayEmit(EVENTS.MOUSEUP, evt);\n\n    if (this.reenableARHitTest === true) {\n      this.el.sceneEl.setAttribute('ar-hit-test', 'enabled', true);\n      this.reenableARHitTest = undefined;\n    }\n\n    // If intersected entity has changed since the cursorDown, still emit mouseUp on the\n    // previously cursorUp entity.\n    if (this.cursorDownEl && this.cursorDownEl !== this.intersectedEl) {\n      this.intersectedEventDetail.intersection = null;\n      this.cursorDownEl.emit(EVENTS.MOUSEUP, this.intersectedEventDetail);\n    }\n\n    if ((!data.fuse || data.rayOrigin === 'mouse' || data.rayOrigin === 'xrselect') &&\n        this.intersectedEl && this.cursorDownEl === this.intersectedEl) {\n      this.twoWayEmit(EVENTS.CLICK, evt);\n    }\n\n    // if the current xr input stops selecting then make the ray caster point somewhere else\n    if (data.rayOrigin === 'xrselect') {\n      this.onMouseMove({\n        type: 'fakeselectout'\n      });\n    }\n\n    this.activeXRInput = null;\n    this.cursorDownEl = null;\n    if (evt.type === 'touchend') { evt.preventDefault(); }\n  },\n\n  /**\n   * Handle intersection.\n   */\n  onIntersection: function (evt) {\n    var currentIntersection;\n    var cursorEl = this.el;\n    var index;\n    var intersectedEl;\n    var intersection;\n\n    // Select closest object, excluding the cursor.\n    index = evt.detail.els[0] === cursorEl ? 1 : 0;\n    intersection = evt.detail.intersections[index];\n    intersectedEl = evt.detail.els[index];\n\n    // If cursor is the only intersected object, ignore the event.\n    if (!intersectedEl) { return; }\n\n    // Already intersecting this entity.\n    if (this.intersectedEl === intersectedEl) { return; }\n\n    // Ignore events further away than active intersection.\n    if (this.intersectedEl) {\n      currentIntersection = this.el.components.raycaster.getIntersection(this.intersectedEl);\n      if (currentIntersection && currentIntersection.distance <= intersection.distance) { return; }\n    }\n\n    // Unset current intersection.\n    this.clearCurrentIntersection(true);\n\n    this.setIntersection(intersectedEl, intersection);\n  },\n\n  /**\n   * Handle intersection cleared.\n   */\n  onIntersectionCleared: function (evt) {\n    var clearedEls = evt.detail.clearedEls;\n    // Check if the current intersection has ended\n    if (clearedEls.indexOf(this.intersectedEl) === -1) { return; }\n    this.clearCurrentIntersection();\n  },\n\n  onEnterVR: function () {\n    var rayOrigin = this.data.rayOrigin;\n    this.clearCurrentIntersection(true);\n    if (rayOrigin === 'xrselect' || rayOrigin === 'entity') {\n      this.addWebXREventListeners();\n    }\n  },\n\n  setIntersection: function (intersectedEl, intersection) {\n    var cursorEl = this.el;\n    var data = this.data;\n    var self = this;\n\n    // Already intersecting.\n    if (this.intersectedEl === intersectedEl) { return; }\n\n    // Set new intersection.\n    this.intersectedEl = intersectedEl;\n\n    // Hovering.\n    cursorEl.addState(STATES.HOVERING);\n    intersectedEl.addState(STATES.HOVERED);\n    this.twoWayEmit(EVENTS.MOUSEENTER);\n\n    if (this.data.mouseCursorStylesEnabled && this.data.rayOrigin === 'mouse') {\n      this.el.sceneEl.canvas.classList.add(CANVAS_HOVER_CLASS);\n    }\n\n    // Begin fuse if necessary.\n    if (data.fuseTimeout === 0 || !data.fuse || data.rayOrigin === 'xrselect' || data.rayOrigin === 'mouse') { return; }\n    cursorEl.addState(STATES.FUSING);\n    this.twoWayEmit(EVENTS.FUSING);\n    this.fuseTimeout = setTimeout(function fuse () {\n      cursorEl.removeState(STATES.FUSING);\n      self.twoWayEmit(EVENTS.CLICK);\n    }, data.fuseTimeout);\n  },\n\n  clearCurrentIntersection: function (ignoreRemaining) {\n    var index;\n    var intersection;\n    var intersections;\n    var cursorEl = this.el;\n\n    // Nothing to be cleared.\n    if (!this.intersectedEl) { return; }\n\n    // No longer hovering (or fusing).\n    this.intersectedEl.removeState(STATES.HOVERED);\n    cursorEl.removeState(STATES.HOVERING);\n    cursorEl.removeState(STATES.FUSING);\n    this.twoWayEmit(EVENTS.MOUSELEAVE);\n\n    if (this.data.mouseCursorStylesEnabled && this.data.rayOrigin === 'mouse') {\n      this.el.sceneEl.canvas.classList.remove(CANVAS_HOVER_CLASS);\n    }\n\n    // Unset intersected entity (after emitting the event).\n    this.intersectedEl = null;\n\n    // Clear fuseTimeout.\n    clearTimeout(this.fuseTimeout);\n\n    // Set intersection to another raycast element if any.\n    if (ignoreRemaining === true) { return; }\n    intersections = this.el.components.raycaster.intersections;\n    if (intersections.length === 0) { return; }\n    // Exclude the cursor.\n    index = intersections[0].object.el === cursorEl ? 1 : 0;\n    intersection = intersections[index];\n    if (!intersection) { return; }\n    this.setIntersection(intersection.object.el, intersection);\n  },\n\n  /**\n   * Helper to emit on both the cursor and the intersected entity (if exists).\n   */\n  twoWayEmit: function (evtName, originalEvent) {\n    var el = this.el;\n    var intersectedEl = this.intersectedEl;\n    var intersection;\n\n    function addOriginalEvent (detail, evt) {\n      if (originalEvent instanceof MouseEvent) {\n        detail.mouseEvent = originalEvent;\n      } else if (typeof TouchEvent !== 'undefined' &&\n                 originalEvent instanceof TouchEvent) {\n        detail.touchEvent = originalEvent;\n      }\n    }\n\n    intersection = this.el.components.raycaster.getIntersection(intersectedEl);\n    this.eventDetail.intersectedEl = intersectedEl;\n    this.eventDetail.intersection = intersection;\n    addOriginalEvent(this.eventDetail, originalEvent);\n    el.emit(evtName, this.eventDetail);\n\n    if (!intersectedEl) { return; }\n\n    this.intersectedEventDetail.intersection = intersection;\n    addOriginalEvent(this.intersectedEventDetail, originalEvent);\n    intersectedEl.emit(evtName, this.intersectedEventDetail);\n  }\n});\n","import * as THREE from 'three';\nimport { geometries, geometryNames } from '../core/geometry.js';\nimport { registerComponent } from '../core/component.js';\n\nvar dummyGeometry = new THREE.BufferGeometry();\n\n/**\n * Geometry component. Combined with material component to make a mesh in 3D object.\n * Extended with registered geometries.\n */\nexport var Component = registerComponent('geometry', {\n  schema: {\n    buffer: {default: true},\n    primitive: {default: 'box', oneOf: geometryNames, schemaChange: true},\n    skipCache: {default: false}\n  },\n\n  init: function () {\n    this.geometry = null;\n  },\n\n  /**\n   * Talk to geometry system to get or create geometry.\n   */\n  update: function (previousData) {\n    var data = this.data;\n    var el = this.el;\n    var mesh;\n    var system = this.system;\n\n    // Dispose old geometry if we created one.\n    if (this.geometry) {\n      system.unuseGeometry(previousData);\n      this.geometry = null;\n    }\n\n    // Create new geometry.\n    this.geometry = system.getOrCreateGeometry(data);\n\n    // Set on mesh. If mesh does not exist, create it.\n    mesh = el.getObject3D('mesh');\n    if (mesh) {\n      mesh.geometry = this.geometry;\n    } else {\n      mesh = new THREE.Mesh();\n      mesh.geometry = this.geometry;\n      // Default material if not defined on the entity.\n      if (!this.el.getAttribute('material')) {\n        mesh.material = new THREE.MeshStandardMaterial({\n          color: Math.random() * 0xFFFFFF,\n          metalness: 0,\n          roughness: 0.5\n        });\n      }\n      el.setObject3D('mesh', mesh);\n    }\n  },\n\n  /**\n   * Tell geometry system that entity is no longer using the geometry.\n   * Unset the geometry on the mesh\n   */\n  remove: function () {\n    this.system.unuseGeometry(this.data);\n    this.el.getObject3D('mesh').geometry = dummyGeometry;\n    this.geometry = null;\n  },\n\n  /**\n   * Update geometry component schema based on geometry type.\n   */\n  updateSchema: function (data) {\n    var currentGeometryType = this.oldData && this.oldData.primitive;\n    var newGeometryType = data.primitive;\n    var schema = geometries[newGeometryType] && geometries[newGeometryType].schema;\n\n    // Geometry has no schema.\n    if (!schema) { throw new Error('Unknown geometry schema `' + newGeometryType + '`'); }\n    // Nothing has changed.\n    if (currentGeometryType && currentGeometryType === newGeometryType) { return; }\n\n    this.extendSchema(schema);\n  }\n});\n","import { registerComponent } from '../core/component.js';\nimport { checkControllerPresentAndSetup, emitIfAxesChanged, onButtonEvent } from '../utils/tracked-controls.js';\n\nvar GAMEPAD_ID_PREFIX = 'generic';\n\n/**\n * Button indices:\n * 0 - trigger\n * 1 - squeeze\n * 2 - touchpad\n * 3 - thumbstick\n *\n * Axis:\n * 0 - touchpad\n * 1 - thumbstick\n *\n */\nvar INPUT_MAPPING = {\n  axes: {\n    touchpad: [0, 1],\n    thumbstick: [2, 3]\n  },\n  buttons: ['trigger', 'squeeze', 'touchpad', 'thumbstick']\n};\n\n/**\n * Oculus Go controls.\n * Interface with Oculus Go controller and map Gamepad events to\n * controller buttons: trackpad, trigger\n * Load a controller model and highlight the pressed buttons.\n */\nexport var Component = registerComponent('generic-tracked-controller-controls', {\n  schema: {\n    hand: {default: ''},  // This informs the degenerate arm model.\n    defaultModel: {default: true},\n    defaultModelColor: {default: 'gray'},\n    disabled: {default: false}\n  },\n\n  after: ['tracked-controls'],\n\n  /**\n   * Button IDs:\n   * 0 - trackpad\n   * 1 - trigger\n   */\n  mapping: INPUT_MAPPING,\n\n  bindMethods: function () {\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this);\n    this.onAxisMoved = this.onAxisMoved.bind(this);\n  },\n\n  init: function () {\n    var self = this;\n    this.onButtonChanged = this.onButtonChanged.bind(this);\n    this.onButtonDown = function (evt) { onButtonEvent(evt.detail.id, 'down', self); };\n    this.onButtonUp = function (evt) { onButtonEvent(evt.detail.id, 'up', self); };\n    this.onButtonTouchStart = function (evt) { onButtonEvent(evt.detail.id, 'touchstart', self); };\n    this.onButtonTouchEnd = function (evt) { onButtonEvent(evt.detail.id, 'touchend', self); };\n    this.controllerPresent = false;\n    this.wasControllerConnected = false;\n    this.bindMethods();\n\n    // generic-tracked-controller-controls has the lowest precedence.\n    // Disable this component if there are more specialized controls components.\n    this.el.addEventListener('controllerconnected', function (evt) {\n      if (evt.detail.name === self.name) { return; }\n      self.wasControllerConnected = true;\n      self.removeEventListeners();\n      self.removeControllersUpdateListener();\n    });\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('buttonchanged', this.onButtonChanged);\n    el.addEventListener('buttondown', this.onButtonDown);\n    el.addEventListener('buttonup', this.onButtonUp);\n    el.addEventListener('touchstart', this.onButtonTouchStart);\n    el.addEventListener('touchend', this.onButtonTouchEnd);\n    el.addEventListener('axismove', this.onAxisMoved);\n    this.controllerEventsActive = true;\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('buttonchanged', this.onButtonChanged);\n    el.removeEventListener('buttondown', this.onButtonDown);\n    el.removeEventListener('buttonup', this.onButtonUp);\n    el.removeEventListener('touchstart', this.onButtonTouchStart);\n    el.removeEventListener('touchend', this.onButtonTouchEnd);\n    el.removeEventListener('axismove', this.onAxisMoved);\n    this.controllerEventsActive = false;\n  },\n\n  checkIfControllerPresent: function () {\n    var data = this.data;\n    var hand = data.hand ? data.hand : undefined;\n    checkControllerPresentAndSetup(\n      this, GAMEPAD_ID_PREFIX,\n      {hand: hand, iterateControllerProfiles: true});\n  },\n\n  play: function () {\n    if (this.wasControllerConnected) { return; }\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  injectTrackedControls: function () {\n    var el = this.el;\n    var data = this.data;\n\n    // Do nothing if tracked-controls already set.\n    // Generic controls have the lowest precedence.\n    if (this.el.components['tracked-controls']) {\n      this.removeEventListeners();\n      return;\n    }\n    el.setAttribute('tracked-controls', {\n      hand: data.hand,\n      idPrefix: GAMEPAD_ID_PREFIX,\n      iterateControllerProfiles: true\n    });\n    if (!this.data.defaultModel) { return; }\n    this.initDefaultModel();\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    if (!this.wasControllerConnected) { return; }\n    this.checkIfControllerPresent();\n  },\n\n  onButtonChanged: function (evt) {\n    var button = this.mapping.buttons[evt.detail.id];\n    if (!button) return;\n    // Pass along changed event with button state, using button mapping for convenience.\n    this.el.emit(button + 'changed', evt.detail.state);\n  },\n\n  onAxisMoved: function (evt) {\n    emitIfAxesChanged(this, this.mapping.axes, evt);\n  },\n\n  initDefaultModel: function () {\n    var modelEl = this.modelEl = document.createElement('a-entity');\n    modelEl.setAttribute('geometry', {\n      primitive: 'sphere',\n      radius: 0.03\n    });\n    modelEl.setAttribute('material', {color: this.data.color});\n    this.el.appendChild(modelEl);\n    this.el.emit('controllermodelready', {\n      name: 'generic-tracked-controller-controls',\n      model: this.modelEl,\n      rayOrigin: {origin: {x: 0, y: 0, z: -0.01}, direction: {x: 0, y: 0, z: -1}}\n    });\n  }\n});\n","import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';\nimport { registerComponent } from '../core/component.js';\nimport * as utils from '../utils/index.js';\nvar warn = utils.debug('components:gltf-model:warn');\n\n/**\n * glTF model loader.\n */\nexport var Component = registerComponent('gltf-model', {\n  schema: {type: 'model'},\n\n  init: function () {\n    var self = this;\n    var dracoLoader = this.system.getDRACOLoader();\n    var meshoptDecoder = this.system.getMeshoptDecoder();\n    var ktxLoader = this.system.getKTX2Loader();\n    this.model = null;\n    this.loader = new GLTFLoader();\n    if (dracoLoader) {\n      this.loader.setDRACOLoader(dracoLoader);\n    }\n    if (meshoptDecoder) {\n      this.ready = meshoptDecoder.then(function (meshoptDecoder) {\n        self.loader.setMeshoptDecoder(meshoptDecoder);\n      });\n    } else {\n      this.ready = Promise.resolve();\n    }\n    if (ktxLoader) {\n      this.loader.setKTX2Loader(ktxLoader);\n    }\n  },\n\n  update: function () {\n    var self = this;\n    var el = this.el;\n    var src = this.data;\n\n    if (!src) { return; }\n\n    this.remove();\n\n    this.ready.then(function () {\n      self.loader.load(src, function gltfLoaded (gltfModel) {\n        self.model = gltfModel.scene || gltfModel.scenes[0];\n        self.model.animations = gltfModel.animations;\n\n        el.setObject3D('mesh', self.model);\n        el.emit('model-loaded', {format: 'gltf', model: self.model});\n      }, undefined /* onProgress */, function gltfFailed (error) {\n        var message = (error && error.message) ? error.message : 'Failed to load glTF model';\n        warn(message);\n        el.emit('model-error', {format: 'gltf', src: src});\n      });\n    });\n  },\n\n  remove: function () {\n    if (!this.model) { return; }\n    this.el.removeObject3D('mesh');\n  }\n});\n","import { registerComponent } from '../core/component.js';\n\nregisterComponent('grabbable', {\n  init: function () {\n    this.el.setAttribute('obb-collider', 'centerModel: true');\n  }\n});\n","/* global XRHand */\nimport * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\nimport { AEntity } from '../core/a-entity.js';\nimport { checkControllerPresentAndSetup } from '../utils/tracked-controls.js';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\n\nvar LEFT_HAND_MODEL_URL = AFRAME_CDN_ROOT + 'controllers/oculus-hands/v4/left.glb';\nvar RIGHT_HAND_MODEL_URL = AFRAME_CDN_ROOT + 'controllers/oculus-hands/v4/right.glb';\n\nvar JOINTS = [\n  'wrist',\n  'thumb-metacarpal',\n  'thumb-phalanx-proximal',\n  'thumb-phalanx-distal',\n  'thumb-tip',\n  'index-finger-metacarpal',\n  'index-finger-phalanx-proximal',\n  'index-finger-phalanx-intermediate',\n  'index-finger-phalanx-distal',\n  'index-finger-tip',\n  'middle-finger-metacarpal',\n  'middle-finger-phalanx-proximal',\n  'middle-finger-phalanx-intermediate',\n  'middle-finger-phalanx-distal',\n  'middle-finger-tip',\n  'ring-finger-metacarpal',\n  'ring-finger-phalanx-proximal',\n  'ring-finger-phalanx-intermediate',\n  'ring-finger-phalanx-distal',\n  'ring-finger-tip',\n  'pinky-finger-metacarpal',\n  'pinky-finger-phalanx-proximal',\n  'pinky-finger-phalanx-intermediate',\n  'pinky-finger-phalanx-distal',\n  'pinky-finger-tip'\n];\n\nvar WRIST_INDEX = 0;\nvar THUMB_TIP_INDEX = 4;\nvar INDEX_TIP_INDEX = 9;\n\nvar PINCH_START_DISTANCE = 0.015;\nvar PINCH_END_DISTANCE = 0.02;\n\n/**\n * Controls for hand tracking\n */\nexport var Component = registerComponent('hand-tracking-controls', {\n  schema: {\n    hand: {default: 'right', oneOf: ['left', 'right']},\n    modelStyle: {default: 'mesh', oneOf: ['dots', 'mesh']},\n    modelColor: {default: 'white'},\n    modelOpacity: {default: 1.0}\n  },\n\n  after: ['tracked-controls'],\n\n  bindMethods: function () {\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this);\n  },\n\n  addEventListeners: function () {\n    this.el.addEventListener('model-loaded', this.onModelLoaded);\n    for (var i = 0; i < this.jointEls.length; ++i) {\n      this.jointEls[i].object3D.visible = true;\n    }\n  },\n\n  removeEventListeners: function () {\n    this.el.removeEventListener('model-loaded', this.onModelLoaded);\n    for (var i = 0; i < this.jointEls.length; ++i) {\n      this.jointEls[i].object3D.visible = false;\n    }\n  },\n\n  init: function () {\n    var sceneEl = this.el.sceneEl;\n    var webxrData = sceneEl.getAttribute('webxr');\n    var optionalFeaturesArray = webxrData.optionalFeatures;\n    if (optionalFeaturesArray.indexOf('hand-tracking') === -1) {\n      optionalFeaturesArray.push('hand-tracking');\n      sceneEl.setAttribute('webxr', webxrData);\n    }\n\n    this.wristObject3D = new THREE.Object3D();\n    this.el.sceneEl.object3D.add(this.wristObject3D);\n\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.onChildAttached = this.onChildAttached.bind(this);\n    this.jointEls = [];\n    this.controllerPresent = false;\n    this.isPinched = false;\n    this.pinchEventDetail = {\n      position: new THREE.Vector3(),\n      wristRotation: new THREE.Quaternion()\n    };\n    this.indexTipPosition = new THREE.Vector3();\n\n    this.hasPoses = false;\n    this.jointPoses = new Float32Array(16 * JOINTS.length);\n    this.jointRadii = new Float32Array(JOINTS.length);\n\n    this.bindMethods();\n\n    this.updateReferenceSpace = this.updateReferenceSpace.bind(this);\n    this.el.sceneEl.addEventListener('enter-vr', this.updateReferenceSpace);\n    this.el.sceneEl.addEventListener('exit-vr', this.updateReferenceSpace);\n    this.el.addEventListener('child-attached', this.onChildAttached);\n\n    this.wristObject3D.visible = false;\n  },\n\n  onChildAttached: function (evt) {\n    this.addChildEntity(evt.detail.el);\n  },\n\n  update: function () {\n    this.updateModelMaterial();\n  },\n\n  updateModelMaterial: function () {\n    var jointEls = this.jointEls;\n    var skinnedMesh = this.skinnedMesh;\n    var transparent = !(this.data.modelOpacity === 1.0);\n    if (skinnedMesh) {\n      this.skinnedMesh.material.color.set(this.data.modelColor);\n      this.skinnedMesh.material.transparent = transparent;\n      this.skinnedMesh.material.opacity = this.data.modelOpacity;\n    }\n\n    for (var i = 0; i < jointEls.length; i++) {\n      jointEls[i].setAttribute('material', {\n        color: this.data.modelColor,\n        transparent: transparent,\n        opacity: this.data.modelOpacity\n      });\n    }\n  },\n\n  updateReferenceSpace: function () {\n    var self = this;\n    var xrSession = this.el.sceneEl.xrSession;\n    this.referenceSpace = undefined;\n    if (!xrSession) { return; }\n    var referenceSpaceType = self.el.sceneEl.systems.webxr.sessionReferenceSpaceType;\n    xrSession.requestReferenceSpace(referenceSpaceType).then(function (referenceSpace) {\n      self.referenceSpace = referenceSpace;\n    }).catch(function (error) {\n      self.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(referenceSpaceType, 'tracked-controls-webxr uses reference space ' + referenceSpaceType);\n      throw error;\n    });\n  },\n\n  checkIfControllerPresent: function () {\n    var data = this.data;\n    var hand = data.hand ? data.hand : undefined;\n    checkControllerPresentAndSetup(\n      this, '',\n      {hand: hand, iterateControllerProfiles: true, handTracking: true});\n  },\n\n  play: function () {\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  tick: function () {\n    var sceneEl = this.el.sceneEl;\n    var controller = this.el.components['tracked-controls'] && this.el.components['tracked-controls'].controller;\n    var frame = sceneEl.frame;\n    var trackedControlsWebXR = this.el.components['tracked-controls'];\n    var referenceSpace = this.referenceSpace;\n    if (!controller || !frame || !referenceSpace || !trackedControlsWebXR) { return; }\n    this.hasPoses = false;\n    if (controller.hand) {\n      this.el.object3D.position.set(0, 0, 0);\n      this.el.object3D.rotation.set(0, 0, 0);\n\n      this.hasPoses = frame.fillPoses(controller.hand.values(), referenceSpace, this.jointPoses) &&\n        frame.fillJointRadii(controller.hand.values(), this.jointRadii);\n\n      this.updateHandModel();\n      this.detectGesture();\n      this.updateWristObject();\n    }\n  },\n\n  updateWristObject: (function () {\n    var jointPose = new THREE.Matrix4();\n    return function () {\n      var wristObject3D = this.wristObject3D;\n      if (!wristObject3D || !this.hasPoses) { return; }\n      jointPose.fromArray(this.jointPoses, WRIST_INDEX * 16);\n      wristObject3D.position.setFromMatrixPosition(jointPose);\n      wristObject3D.quaternion.setFromRotationMatrix(jointPose);\n    };\n  })(),\n\n  updateHandModel: function () {\n    this.wristObject3D.visible = true;\n    this.el.object3D.visible = true;\n\n    if (this.data.modelStyle === 'dots') {\n      this.updateHandDotsModel();\n    }\n\n    if (this.data.modelStyle === 'mesh') {\n      this.updateHandMeshModel();\n    }\n  },\n\n  getBone: function (name) {\n    var bones = this.bones;\n    for (var i = 0; i < bones.length; i++) {\n      if (bones[i].name === name) { return bones[i]; }\n    }\n    return null;\n  },\n\n  updateHandMeshModel: (function () {\n    var jointPose = new THREE.Matrix4();\n    return function () {\n      var i = 0;\n      var jointPoses = this.jointPoses;\n      var controller = this.el.components['tracked-controls'] && this.el.components['tracked-controls'].controller;\n      if (!controller || !this.mesh) { return; }\n      this.mesh.visible = false;\n      if (!this.hasPoses) { return; }\n      for (var inputjoint of controller.hand.values()) {\n        var bone = this.getBone(inputjoint.jointName);\n        if (bone != null) {\n          this.mesh.visible = true;\n          jointPose.fromArray(jointPoses, i * 16);\n          bone.position.setFromMatrixPosition(jointPose);\n          bone.quaternion.setFromRotationMatrix(jointPose);\n        }\n        i++;\n      }\n    };\n  })(),\n\n  updateHandDotsModel: function () {\n    var jointPoses = this.jointPoses;\n    var jointRadii = this.jointRadii;\n    var controller = this.el.components['tracked-controls'] && this.el.components['tracked-controls'].controller;\n    var jointEl;\n    var object3D;\n\n    for (var i = 0; i < controller.hand.size; i++) {\n      jointEl = this.jointEls[i];\n      object3D = jointEl.object3D;\n      jointEl.object3D.visible = this.hasPoses;\n      if (!this.hasPoses) { continue; }\n      object3D.matrix.fromArray(jointPoses, i * 16);\n      object3D.matrix.decompose(object3D.position, object3D.rotation, object3D.scale);\n      jointEl.setAttribute('scale', {x: jointRadii[i], y: jointRadii[i], z: jointRadii[i]});\n    }\n  },\n\n  detectGesture: function () {\n    this.detectPinch();\n  },\n\n  detectPinch: (function () {\n    var thumbTipPosition = new THREE.Vector3();\n    var jointPose = new THREE.Matrix4();\n    return function () {\n      var indexTipPosition = this.indexTipPosition;\n      var pinchEventDetail = this.pinchEventDetail;\n      if (!this.hasPoses) { return; }\n\n      thumbTipPosition.setFromMatrixPosition(jointPose.fromArray(this.jointPoses, THUMB_TIP_INDEX * 16));\n      indexTipPosition.setFromMatrixPosition(jointPose.fromArray(this.jointPoses, INDEX_TIP_INDEX * 16));\n      pinchEventDetail.wristRotation.setFromRotationMatrix(jointPose.fromArray(this.jointPoses, WRIST_INDEX * 16));\n\n      var distance = indexTipPosition.distanceTo(thumbTipPosition);\n\n      if (distance < PINCH_START_DISTANCE && this.isPinched === false) {\n        this.isPinched = true;\n        pinchEventDetail.position.copy(indexTipPosition).add(thumbTipPosition).multiplyScalar(0.5);\n        this.el.emit('pinchstarted', pinchEventDetail);\n      }\n\n      if (distance > PINCH_END_DISTANCE && this.isPinched === true) {\n        this.isPinched = false;\n        pinchEventDetail.position.copy(indexTipPosition).add(thumbTipPosition).multiplyScalar(0.5);\n        this.el.emit('pinchended', pinchEventDetail);\n      }\n\n      if (this.isPinched) {\n        pinchEventDetail.position.copy(indexTipPosition).add(thumbTipPosition).multiplyScalar(0.5);\n        this.el.emit('pinchmoved', pinchEventDetail);\n      }\n    };\n  })(),\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  injectTrackedControls: function () {\n    var el = this.el;\n    var data = this.data;\n    el.setAttribute('tracked-controls', {\n      id: '',\n      hand: data.hand,\n      iterateControllerProfiles: true,\n      handTrackingEnabled: true\n    });\n\n    if (this.mesh) {\n      if (this.mesh !== el.getObject3D('mesh')) {\n        el.setObject3D('mesh', this.mesh);\n      }\n      return;\n    }\n    this.initDefaultModel();\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    var el = this.el;\n    var controller;\n    this.checkIfControllerPresent();\n    controller = el.components['tracked-controls'] && el.components['tracked-controls'].controller;\n    if (!this.mesh) { return; }\n    if (controller && controller.hand && (controller.hand instanceof XRHand)) {\n      el.setObject3D('mesh', this.mesh);\n    }\n  },\n\n  initDefaultModel: function () {\n    var data = this.data;\n    if (data.modelStyle === 'dots') {\n      this.initDotsModel();\n    }\n\n    if (data.modelStyle === 'mesh') {\n      this.initMeshHandModel();\n    }\n\n    this.el.object3D.visible = true;\n    this.wristObject3D.visible = true;\n  },\n\n  initDotsModel: function () {\n    // Add models just once.\n    if (this.jointEls.length !== 0) { return; }\n    for (var i = 0; i < JOINTS.length; ++i) {\n      var jointEl = this.jointEl = document.createElement('a-entity');\n      jointEl.setAttribute('geometry', {\n        primitive: 'sphere',\n        radius: 1.0\n      });\n      jointEl.object3D.visible = false;\n      this.el.appendChild(jointEl);\n      this.jointEls.push(jointEl);\n    }\n    this.updateModelMaterial();\n  },\n\n  initMeshHandModel: function () {\n    var modelURL = this.data.hand === 'left' ? LEFT_HAND_MODEL_URL : RIGHT_HAND_MODEL_URL;\n    this.el.setAttribute('gltf-model', modelURL);\n  },\n\n  onModelLoaded: function () {\n    var mesh = this.mesh = this.el.getObject3D('mesh').children[0];\n    var skinnedMesh = this.skinnedMesh = mesh.getObjectByProperty('type', 'SkinnedMesh');\n    if (!this.skinnedMesh) { return; }\n    this.bones = skinnedMesh.skeleton.bones;\n    this.el.removeObject3D('mesh');\n    mesh.position.set(0, 0, 0);\n    mesh.rotation.set(0, 0, 0);\n    skinnedMesh.frustumCulled = false;\n    skinnedMesh.material = new THREE.MeshStandardMaterial();\n    this.updateModelMaterial();\n    this.setupChildrenEntities();\n    this.el.setObject3D('mesh', mesh);\n    this.el.emit('controllermodelready', {\n      name: 'hand-tracking-controls',\n      model: this.data.model,\n      rayOrigin: new THREE.Vector3(0, 0, 0)\n    });\n  },\n\n  setupChildrenEntities: function () {\n    var childrenEls = this.el.children;\n    for (var i = 0; i < childrenEls.length; ++i) {\n      if (!(childrenEls[i] instanceof AEntity)) { continue; }\n      this.addChildEntity(childrenEls[i]);\n    }\n  },\n\n  addChildEntity: function (childEl) {\n    if (!(childEl instanceof AEntity)) { return; }\n    this.wristObject3D.add(childEl.object3D);\n  }\n});\n","import { registerComponent } from '../core/component.js';\nimport * as THREE from 'three';\n\nregisterComponent('hand-tracking-grab-controls', {\n  schema: {\n    hand: {default: 'right', oneOf: ['left', 'right']},\n    color: {type: 'color', default: 'white'},\n    hoverColor: {type: 'color', default: '#538df1'},\n    hoverEnabled: {default: false}\n  },\n\n  init: function () {\n    var el = this.el;\n    var data = this.data;\n    var trackedObject3DVariable;\n\n    if (data.hand === 'right') {\n      trackedObject3DVariable = 'components.hand-tracking-controls.bones.3';\n    } else {\n      trackedObject3DVariable = 'components.hand-tracking-controls.bones.21';\n    }\n\n    el.setAttribute('hand-tracking-controls', {hand: data.hand});\n    el.setAttribute('obb-collider', {trackedObject3D: trackedObject3DVariable, size: 0.04});\n\n    this.auxMatrix = new THREE.Matrix4();\n\n    this.onCollisionStarted = this.onCollisionStarted.bind(this);\n    this.el.addEventListener('obbcollisionstarted', this.onCollisionStarted);\n\n    this.onCollisionEnded = this.onCollisionEnded.bind(this);\n    this.el.addEventListener('obbcollisionended', this.onCollisionEnded);\n\n    this.onPinchStarted = this.onPinchStarted.bind(this);\n    this.el.addEventListener('pinchstarted', this.onPinchStarted);\n\n    this.onPinchEnded = this.onPinchEnded.bind(this);\n    this.el.addEventListener('pinchended', this.onPinchEnded);\n  },\n\n  transferEntityOwnership: function () {\n    var grabbingElComponent;\n    var grabbingEls = this.el.sceneEl.querySelectorAll('[hand-tracking-grab-controls]');\n    for (var i = 0; i < grabbingEls.length; ++i) {\n      grabbingElComponent = grabbingEls[i].components['hand-tracking-grab-controls'];\n      if (grabbingElComponent === this) { continue; }\n      if (this.grabbedEl && this.grabbedEl === grabbingElComponent.grabbedEl) {\n        grabbingElComponent.releaseGrabbedEntity();\n      }\n    }\n    return false;\n  },\n\n  onCollisionStarted: function (evt) {\n    var withEl = evt.detail.withEl;\n    if (this.collidedEl) { return; }\n    if (!withEl.getAttribute('grabbable')) { return; }\n    this.collidedEl = withEl;\n    this.grabbingObject3D = evt.detail.trackedObject3D;\n    if (this.data.hoverEnabled) {\n      this.el.setAttribute('hand-tracking-controls', 'modelColor', this.data.hoverColor);\n    }\n  },\n\n  onCollisionEnded: function () {\n    this.collidedEl = undefined;\n    if (this.grabbedEl) { return; }\n    this.grabbingObject3D = undefined;\n    if (this.data.hoverEnabled) {\n      this.el.setAttribute('hand-tracking-controls', 'modelColor', this.data.color);\n    }\n  },\n\n  onPinchStarted: function (evt) {\n    if (!this.collidedEl) { return; }\n    this.grabbedEl = this.collidedEl;\n    this.transferEntityOwnership();\n    this.grab();\n  },\n\n  onPinchEnded: function () {\n    this.releaseGrabbedEntity();\n  },\n\n  releaseGrabbedEntity: function () {\n    var grabbedEl = this.grabbedEl;\n    if (!grabbedEl) { return; }\n\n    var child = grabbedEl.object3D;\n    var parent = child.parent;\n    var newParent = this.originalParent;\n\n    child.applyMatrix4(parent.matrixWorld);\n    child.applyMatrix4(this.auxMatrix.copy(newParent.matrixWorld).invert());\n    parent.remove(child);\n    newParent.add(child);\n\n    this.el.emit('grabended', {grabbedEl: grabbedEl});\n    this.grabbedEl = undefined;\n    this.originalParent = undefined;\n  },\n\n  grab: function () {\n    var grabbedEl = this.grabbedEl;\n    var child = grabbedEl.object3D;\n    var parent = child.parent;\n    this.originalParent = parent;\n    var newParent = this.el.components['hand-tracking-controls'].wristObject3D;\n\n    child.applyMatrix4(parent.matrixWorld);\n    child.applyMatrix4(this.auxMatrix.copy(newParent.matrixWorld).invert());\n    parent.remove(child);\n    newParent.add(child);\n\n    this.el.emit('grabstarted', {grabbedEl: grabbedEl});\n  }\n});\n","import * as THREE from 'three';\nimport { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';\nimport { registerComponent } from '../core/component.js';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\n\n// Found at https://github.com/aframevr/assets.\nvar MODEL_URLS = {\n  toonLeft: AFRAME_CDN_ROOT + 'controllers/hands/leftHand.glb',\n  toonRight: AFRAME_CDN_ROOT + 'controllers/hands/rightHand.glb',\n  lowPolyLeft: AFRAME_CDN_ROOT + 'controllers/hands/leftHandLow.glb',\n  lowPolyRight: AFRAME_CDN_ROOT + 'controllers/hands/rightHandLow.glb',\n  highPolyLeft: AFRAME_CDN_ROOT + 'controllers/hands/leftHandHigh.glb',\n  highPolyRight: AFRAME_CDN_ROOT + 'controllers/hands/rightHandHigh.glb'\n};\n\n// Poses.\nvar ANIMATIONS = {\n  open: 'Open',\n  // point: grip active, trackpad surface active, trigger inactive.\n  point: 'Point',\n  // pointThumb: grip active, trigger inactive, trackpad surface inactive.\n  pointThumb: 'Point + Thumb',\n  // fist: grip active, trigger active, trackpad surface active.\n  fist: 'Fist',\n  // hold: trigger active, grip inactive.\n  hold: 'Hold',\n  // thumbUp: grip active, trigger active, trackpad surface inactive.\n  thumbUp: 'Thumb Up'\n};\n\n// Map animation to public events for the API.\nvar EVENTS = {};\nEVENTS[ANIMATIONS.fist] = 'grip';\nEVENTS[ANIMATIONS.thumbUp] = 'pistol';\nEVENTS[ANIMATIONS.point] = 'pointing';\n\n/**\n * Hand controls component that abstracts 6DoF controls:\n *   meta-touch-controls, vive-controls, windows-motion-controls.\n *\n * Originally meant to be a sample implementation of applications-specific controls that\n * abstracts multiple types of controllers.\n *\n * Auto-detect appropriate controller.\n * Handle common events coming from the detected vendor-specific controls.\n * Translate button events to semantic hand-related event names:\n *   (gripclose, gripopen, thumbup, thumbdown, pointup, pointdown)\n * Load hand model with gestures that are applied based on the button pressed.\n *\n * @property {string} Hand mapping (`left`, `right`).\n */\nexport var Component = registerComponent('hand-controls', {\n  schema: {\n    color: {default: 'white', type: 'color'},\n    hand: { default: 'left' },\n    handModelStyle: {default: 'lowPoly', oneOf: ['lowPoly', 'highPoly', 'toon']}\n  },\n\n  after: ['tracked-controls'],\n\n  init: function () {\n    var self = this;\n    var el = this.el;\n    // Active buttons populated by events provided by the attached controls.\n    this.pressedButtons = {};\n    this.touchedButtons = {};\n    this.loader = new GLTFLoader();\n    this.loader.setCrossOrigin('anonymous');\n\n    this.onGripDown = function () { self.handleButton('grip', 'down'); };\n    this.onGripUp = function () { self.handleButton('grip', 'up'); };\n    this.onTrackpadDown = function () { self.handleButton('trackpad', 'down'); };\n    this.onTrackpadUp = function () { self.handleButton('trackpad', 'up'); };\n    this.onTrackpadTouchStart = function () { self.handleButton('trackpad', 'touchstart'); };\n    this.onTrackpadTouchEnd = function () { self.handleButton('trackpad', 'touchend'); };\n    this.onTriggerDown = function () { self.handleButton('trigger', 'down'); };\n    this.onTriggerUp = function () { self.handleButton('trigger', 'up'); };\n    this.onTriggerTouchStart = function () { self.handleButton('trigger', 'touchstart'); };\n    this.onTriggerTouchEnd = function () { self.handleButton('trigger', 'touchend'); };\n    this.onGripTouchStart = function () { self.handleButton('grip', 'touchstart'); };\n    this.onGripTouchEnd = function () { self.handleButton('grip', 'touchend'); };\n    this.onThumbstickDown = function () { self.handleButton('thumbstick', 'down'); };\n    this.onThumbstickUp = function () { self.handleButton('thumbstick', 'up'); };\n    this.onAorXTouchStart = function () { self.handleButton('AorX', 'touchstart'); };\n    this.onAorXTouchEnd = function () { self.handleButton('AorX', 'touchend'); };\n    this.onBorYTouchStart = function () { self.handleButton('BorY', 'touchstart'); };\n    this.onBorYTouchEnd = function () { self.handleButton('BorY', 'touchend'); };\n    this.onSurfaceTouchStart = function () { self.handleButton('surface', 'touchstart'); };\n    this.onSurfaceTouchEnd = function () { self.handleButton('surface', 'touchend'); };\n    this.onControllerConnected = this.onControllerConnected.bind(this);\n    this.onControllerDisconnected = this.onControllerDisconnected.bind(this);\n\n    el.addEventListener('controllerconnected', this.onControllerConnected);\n    el.addEventListener('controllerdisconnected', this.onControllerDisconnected);\n\n    // Hidden by default.\n    el.object3D.visible = false;\n  },\n\n  play: function () {\n    this.addEventListeners();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n  },\n\n  tick: function (time, delta) {\n    var mesh = this.el.getObject3D('mesh');\n\n    if (!mesh || !mesh.mixer) { return; }\n\n    mesh.mixer.update(delta / 1000);\n  },\n\n  onControllerConnected: function (evt) {\n    var el = this.el;\n    var hand = this.data.hand;\n    var mesh = this.el.getObject3D('mesh');\n\n    el.object3D.visible = true;\n\n    var handModelOrientationZ = hand === 'left' ? Math.PI / 2 : -Math.PI / 2;\n    // The WebXR standard defines the grip space such that a cylinder held in a closed hand points\n    // along the Z axis. The models currently have such a cylinder point along the X-Axis.\n    var handModelOrientationX = el.sceneEl.hasWebXR ? -Math.PI / 2 : 0;\n\n    // Pico4, at least on Wolvic, needs a different rotation offset\n    // for the hand model. Pico Browser claims to use oculus\n    // controllers instead; will load meta-touch-controls and does\n    // not require this adjustment.\n    if (evt.detail.name === 'pico-controls') {\n      handModelOrientationX += Math.PI / 4;\n    }\n\n    mesh.position.set(0, 0, 0);\n    mesh.rotation.set(handModelOrientationX, 0, handModelOrientationZ);\n  },\n\n  onControllerDisconnected: function () {\n    this.el.object3D.visible = false;\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('gripdown', this.onGripDown);\n    el.addEventListener('gripup', this.onGripUp);\n    el.addEventListener('trackpaddown', this.onTrackpadDown);\n    el.addEventListener('trackpadup', this.onTrackpadUp);\n    el.addEventListener('trackpadtouchstart', this.onTrackpadTouchStart);\n    el.addEventListener('trackpadtouchend', this.onTrackpadTouchEnd);\n    el.addEventListener('triggerdown', this.onTriggerDown);\n    el.addEventListener('triggerup', this.onTriggerUp);\n    el.addEventListener('triggertouchstart', this.onTriggerTouchStart);\n    el.addEventListener('triggertouchend', this.onTriggerTouchEnd);\n    el.addEventListener('griptouchstart', this.onGripTouchStart);\n    el.addEventListener('griptouchend', this.onGripTouchEnd);\n    el.addEventListener('thumbstickdown', this.onThumbstickDown);\n    el.addEventListener('thumbstickup', this.onThumbstickUp);\n    el.addEventListener('abuttontouchstart', this.onAorXTouchStart);\n    el.addEventListener('abuttontouchend', this.onAorXTouchEnd);\n    el.addEventListener('bbuttontouchstart', this.onBorYTouchStart);\n    el.addEventListener('bbuttontouchend', this.onBorYTouchEnd);\n    el.addEventListener('xbuttontouchstart', this.onAorXTouchStart);\n    el.addEventListener('xbuttontouchend', this.onAorXTouchEnd);\n    el.addEventListener('ybuttontouchstart', this.onBorYTouchStart);\n    el.addEventListener('ybuttontouchend', this.onBorYTouchEnd);\n    el.addEventListener('surfacetouchstart', this.onSurfaceTouchStart);\n    el.addEventListener('surfacetouchend', this.onSurfaceTouchEnd);\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('gripdown', this.onGripDown);\n    el.removeEventListener('gripup', this.onGripUp);\n    el.removeEventListener('trackpaddown', this.onTrackpadDown);\n    el.removeEventListener('trackpadup', this.onTrackpadUp);\n    el.removeEventListener('trackpadtouchstart', this.onTrackpadTouchStart);\n    el.removeEventListener('trackpadtouchend', this.onTrackpadTouchEnd);\n    el.removeEventListener('triggerdown', this.onTriggerDown);\n    el.removeEventListener('triggerup', this.onTriggerUp);\n    el.removeEventListener('triggertouchstart', this.onTriggerTouchStart);\n    el.removeEventListener('triggertouchend', this.onTriggerTouchEnd);\n    el.removeEventListener('griptouchstart', this.onGripTouchStart);\n    el.removeEventListener('griptouchend', this.onGripTouchEnd);\n    el.removeEventListener('thumbstickdown', this.onThumbstickDown);\n    el.removeEventListener('thumbstickup', this.onThumbstickUp);\n    el.removeEventListener('abuttontouchstart', this.onAorXTouchStart);\n    el.removeEventListener('abuttontouchend', this.onAorXTouchEnd);\n    el.removeEventListener('bbuttontouchstart', this.onBorYTouchStart);\n    el.removeEventListener('bbuttontouchend', this.onBorYTouchEnd);\n    el.removeEventListener('xbuttontouchstart', this.onAorXTouchStart);\n    el.removeEventListener('xbuttontouchend', this.onAorXTouchEnd);\n    el.removeEventListener('ybuttontouchstart', this.onBorYTouchStart);\n    el.removeEventListener('ybuttontouchend', this.onBorYTouchEnd);\n    el.removeEventListener('surfacetouchstart', this.onSurfaceTouchStart);\n    el.removeEventListener('surfacetouchend', this.onSurfaceTouchEnd);\n  },\n\n  /**\n   * Update handler. More like the `init` handler since the only property is the hand, and\n   * that won't be changing much.\n   */\n  update: function (previousHand) {\n    var controlConfiguration;\n    var el = this.el;\n    var hand = this.data.hand;\n    var handModelStyle = this.data.handModelStyle;\n    var handColor = this.data.color;\n    var self = this;\n\n    // Get common configuration to abstract different vendor controls.\n    controlConfiguration = {\n      hand: hand,\n      model: false\n    };\n\n    // Set model.\n    if (hand !== previousHand) {\n      var handmodelUrl = MODEL_URLS[handModelStyle + hand.charAt(0).toUpperCase() + hand.slice(1)];\n      this.loader.load(handmodelUrl, function (gltf) {\n        var mesh = gltf.scene.children[0];\n        mesh.mixer = new THREE.AnimationMixer(mesh);\n        self.clips = gltf.animations;\n        el.setObject3D('mesh', mesh);\n        mesh.traverse(function (object) {\n          if (!object.isMesh) { return; }\n          object.material.color = new THREE.Color(handColor);\n        });\n        el.setAttribute('magicleap-controls', controlConfiguration);\n        el.setAttribute('vive-controls', controlConfiguration);\n        el.setAttribute('meta-touch-controls', controlConfiguration);\n        el.setAttribute('pico-controls', controlConfiguration);\n        el.setAttribute('windows-motion-controls', controlConfiguration);\n        el.setAttribute('hp-mixed-reality-controls', controlConfiguration);\n      });\n    }\n  },\n\n  remove: function () {\n    this.el.removeObject3D('mesh');\n  },\n\n  /**\n   * Play model animation, based on which button was pressed and which kind of event.\n   *\n   * 1. Process buttons.\n   * 2. Determine gesture (this.determineGesture()).\n   * 3. Animation gesture (this.animationGesture()).\n   * 4. Emit gesture events (this.emitGestureEvents()).\n   *\n   * @param {string} button - Name of the button.\n   * @param {string} evt - Type of event for the button (i.e., down/up/touchstart/touchend).\n   */\n  handleButton: function (button, evt) {\n    var lastGesture;\n    var isPressed = evt === 'down';\n    var isTouched = evt === 'touchstart';\n\n    // Update objects.\n    if (evt.indexOf('touch') === 0) {\n      // Update touch object.\n      if (isTouched === this.touchedButtons[button]) { return; }\n      this.touchedButtons[button] = isTouched;\n    } else {\n      // Update button object.\n      if (isPressed === this.pressedButtons[button]) { return; }\n      this.pressedButtons[button] = isPressed;\n    }\n\n    // Determine the gesture.\n    lastGesture = this.gesture;\n    this.gesture = this.determineGesture();\n\n    // Same gesture.\n    if (this.gesture === lastGesture) { return; }\n    // Animate gesture.\n    this.animateGesture(this.gesture, lastGesture);\n\n    // Emit events.\n    this.emitGestureEvents(this.gesture, lastGesture);\n  },\n\n  /**\n   * Determine which pose hand should be in considering active and touched buttons.\n   */\n  determineGesture: function () {\n    var gesture;\n    var isGripActive = this.pressedButtons.grip;\n    var isSurfaceActive = this.pressedButtons.surface || this.touchedButtons.surface;\n    var isTrackpadActive = this.pressedButtons.trackpad || this.touchedButtons.trackpad;\n    var isTriggerActive = this.pressedButtons.trigger || this.touchedButtons.trigger;\n    var isABXYActive = this.touchedButtons.AorX || this.touchedButtons.BorY;\n    var isVive = isViveController(this.el.components['tracked-controls']);\n\n    // Works well with Oculus Touch and Windows Motion Controls, but Vive needs tweaks.\n    if (isVive) {\n      if (isGripActive || isTriggerActive) {\n        gesture = ANIMATIONS.fist;\n      } else if (isTrackpadActive) {\n        gesture = ANIMATIONS.point;\n      }\n    } else {\n      if (isGripActive) {\n        if (isSurfaceActive || isABXYActive || isTrackpadActive) {\n          gesture = isTriggerActive ? ANIMATIONS.fist : ANIMATIONS.point;\n        } else {\n          gesture = isTriggerActive ? ANIMATIONS.thumbUp : ANIMATIONS.pointThumb;\n        }\n      } else if (isTriggerActive) {\n        gesture = ANIMATIONS.hold;\n      }\n    }\n\n    return gesture;\n  },\n\n  /**\n   * Play corresponding clip to a gesture\n   */\n  getClip: function (gesture) {\n    var clip;\n    var i;\n    for (i = 0; i < this.clips.length; i++) {\n      clip = this.clips[i];\n      if (clip.name !== gesture) { continue; }\n      return clip;\n    }\n  },\n\n  /**\n   * Play gesture animation.\n   *\n   * @param {string} gesture - Which pose to animate to. If absent, then animate to open.\n   * @param {string} lastGesture - Previous gesture, to reverse back to open if needed.\n   */\n  animateGesture: function (gesture, lastGesture) {\n    if (gesture) {\n      this.playAnimation(gesture || ANIMATIONS.open, lastGesture, false);\n      return;\n    }\n\n    // If no gesture, then reverse the current gesture back to open pose.\n    this.playAnimation(lastGesture, lastGesture, true);\n  },\n\n  /**\n   * Emit `hand-controls`-specific events.\n   */\n  emitGestureEvents: function (gesture, lastGesture) {\n    var el = this.el;\n    var eventName;\n\n    if (lastGesture === gesture) { return; }\n\n    // Emit event for lastGesture not inactive.\n    eventName = getGestureEventName(lastGesture, false);\n    if (eventName) { el.emit(eventName); }\n\n    // Emit event for current gesture now active.\n    eventName = getGestureEventName(gesture, true);\n    if (eventName) { el.emit(eventName); }\n  },\n\n  /**\n  * Play hand animation based on button state.\n  *\n  * @param {string} gesture - Name of the animation as specified by the model.\n  * @param {string} lastGesture - Previous pose.\n  * @param {boolean} reverse - Whether animation should play in reverse.\n  */\n  playAnimation: function (gesture, lastGesture, reverse) {\n    var clip;\n    var fromAction;\n    var mesh = this.el.getObject3D('mesh');\n    var toAction;\n\n    if (!mesh) { return; }\n\n    // Grab clip action.\n    clip = this.getClip(gesture);\n    toAction = mesh.mixer.clipAction(clip);\n\n    // Reverse from gesture to no gesture.\n    if (reverse) {\n      toAction.paused = false;\n      toAction.timeScale = -1;\n      return;\n    }\n\n    toAction.clampWhenFinished = true;\n    toAction.loop = THREE.LoopOnce;\n    toAction.repetitions = 0;\n    toAction.timeScale = 1;\n    toAction.time = 0;\n    toAction.weight = 1;\n\n    // No gesture to gesture.\n    if (!lastGesture) {\n      // Play animation.\n      mesh.mixer.stopAllAction();\n      toAction.play();\n      return;\n    }\n\n    // Animate or crossfade from gesture to gesture.\n    clip = this.getClip(lastGesture);\n    toAction.reset();\n    toAction.play();\n    fromAction = mesh.mixer.clipAction(clip);\n    fromAction.crossFadeTo(toAction, 0.15, true);\n  }\n});\n\n/**\n * Suffix gestures based on toggle state (e.g., open/close, up/down, start/end).\n *\n * @param {string} gesture\n * @param {boolean} active\n */\nfunction getGestureEventName (gesture, active) {\n  var eventName;\n\n  if (!gesture) { return; }\n\n  eventName = EVENTS[gesture];\n  if (eventName === 'grip') {\n    return eventName + (active ? 'close' : 'open');\n  }\n  if (eventName === 'point') {\n    return eventName + (active ? 'up' : 'down');\n  }\n  if (eventName === 'pointing' || eventName === 'pistol') {\n    return eventName + (active ? 'start' : 'end');\n  }\n}\n\nfunction isViveController (trackedControls) {\n  var controller = trackedControls && trackedControls.controller;\n  var isVive = controller && (controller.id && controller.id.indexOf('OpenVR ') === 0 ||\n    (controller.profiles &&\n     controller.profiles[0] &&\n     controller.profiles[0] === 'htc-vive'));\n  return isVive;\n}\n","import { registerComponent as register } from '../core/component.js';\n\nexport var Component = register('hide-on-enter-ar', {\n  init: function () {\n    var self = this;\n    this.el.sceneEl.addEventListener('enter-vr', function () {\n      if (self.el.sceneEl.is('ar-mode')) {\n        self.el.object3D.visible = false;\n      }\n    });\n    this.el.sceneEl.addEventListener('exit-vr', function () {\n      self.el.object3D.visible = true;\n    });\n  }\n});\n","import { registerComponent as register } from '../core/component.js';\n\nexport var Component = register('hide-on-enter-vr', {\n  init: function () {\n    var self = this;\n    this.el.sceneEl.addEventListener('enter-vr', function () {\n      if (self.el.sceneEl.is('vr-mode')) {\n        self.el.object3D.visible = false;\n      }\n    });\n    this.el.sceneEl.addEventListener('exit-vr', function () {\n      self.el.object3D.visible = true;\n    });\n  }\n});\n","import { registerComponent } from '../core/component.js';\nimport * as THREE from 'three';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\nimport { checkControllerPresentAndSetup, emitIfAxesChanged, onButtonEvent } from '../utils/tracked-controls.js';\n\n// See Profiles Registry:\n// https://github.com/immersive-web/webxr-input-profiles/tree/master/packages/registry\n// TODO: Add a more robust system for deriving gamepad name.\nvar GAMEPAD_ID = 'hp-mixed-reality';\nvar HP_MIXED_REALITY_MODEL_GLB_BASE_URL = AFRAME_CDN_ROOT + 'controllers/hp/mixed-reality/';\n\nvar HP_MIXED_REALITY_POSITION_OFFSET = {x: 0, y: 0, z: 0.06};\nvar HP_MIXED_REALITY_ROTATION_OFFSET = {_x: Math.PI / 4, _y: 0, _z: 0, _order: 'XYZ'};\n\n/**\n * Button IDs:\n * 0 - trigger\n * 1 - grip\n * 3 - X / A\n * 4 - Y / B\n *\n * Axis:\n * 2 - joystick x axis\n * 3 - joystick y axis\n */\nvar INPUT_MAPPING_WEBXR = {\n  left: {\n    axes: {touchpad: [2, 3]},\n    buttons: ['trigger', 'grip', 'none', 'thumbstick', 'xbutton', 'ybutton']\n  },\n  right: {\n    axes: {touchpad: [2, 3]},\n    buttons: ['trigger', 'grip', 'none', 'thumbstick', 'abutton', 'bbutton']\n  }\n};\n\n/**\n * HP Mixed Reality Controls\n */\nexport var Component = registerComponent('hp-mixed-reality-controls', {\n  schema: {\n    hand: {default: 'none'},\n    model: {default: true}\n  },\n\n  mapping: INPUT_MAPPING_WEBXR,\n\n  init: function () {\n    var self = this;\n    this.controllerPresent = false;\n    this.onButtonChanged = this.onButtonChanged.bind(this);\n    this.onButtonDown = function (evt) { onButtonEvent(evt.detail.id, 'down', self, self.data.hand); };\n    this.onButtonUp = function (evt) { onButtonEvent(evt.detail.id, 'up', self, self.data.hand); };\n    this.onButtonTouchEnd = function (evt) { onButtonEvent(evt.detail.id, 'touchend', self, self.data.hand); };\n    this.onButtonTouchStart = function (evt) { onButtonEvent(evt.detail.id, 'touchstart', self, self.data.hand); };\n    this.previousButtonValues = {};\n\n    this.bindMethods();\n  },\n\n  update: function () {\n    var data = this.data;\n    this.controllerIndex = data.hand === 'right' ? 0 : data.hand === 'left' ? 1 : 2;\n  },\n\n  play: function () {\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  bindMethods: function () {\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this);\n    this.onAxisMoved = this.onAxisMoved.bind(this);\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('buttonchanged', this.onButtonChanged);\n    el.addEventListener('buttondown', this.onButtonDown);\n    el.addEventListener('buttonup', this.onButtonUp);\n    el.addEventListener('touchstart', this.onButtonTouchStart);\n    el.addEventListener('touchend', this.onButtonTouchEnd);\n    el.addEventListener('axismove', this.onAxisMoved);\n    el.addEventListener('model-loaded', this.onModelLoaded);\n    this.controllerEventsActive = true;\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('buttonchanged', this.onButtonChanged);\n    el.removeEventListener('buttondown', this.onButtonDown);\n    el.removeEventListener('buttonup', this.onButtonUp);\n    el.removeEventListener('touchstart', this.onButtonTouchStart);\n    el.removeEventListener('touchend', this.onButtonTouchEnd);\n    el.removeEventListener('axismove', this.onAxisMoved);\n    el.removeEventListener('model-loaded', this.onModelLoaded);\n    this.controllerEventsActive = false;\n  },\n\n  checkIfControllerPresent: function () {\n    var data = this.data;\n    checkControllerPresentAndSetup(this, GAMEPAD_ID,\n                                   {index: this.controllerIndex, hand: data.hand});\n  },\n\n  injectTrackedControls: function () {\n    var el = this.el;\n    var data = this.data;\n\n    el.setAttribute('tracked-controls', {\n      // TODO: verify expected behavior between reserved prefixes.\n      idPrefix: GAMEPAD_ID,\n      hand: data.hand,\n      controller: this.controllerIndex\n    });\n\n    // Load model.\n    if (!this.data.model) { return; }\n    this.el.setAttribute('gltf-model', HP_MIXED_REALITY_MODEL_GLB_BASE_URL + this.data.hand + '.glb');\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    // Note that due to gamepadconnected event propagation issues, we don't rely on events.\n    this.checkIfControllerPresent();\n  },\n\n  onButtonChanged: function (evt) {\n    var button = this.mapping[this.data.hand].buttons[evt.detail.id];\n    var analogValue;\n\n    if (!button) { return; }\n    if (button === 'trigger') {\n      analogValue = evt.detail.state.value;\n      console.log('analog value of trigger press: ' + analogValue);\n    }\n\n    // Pass along changed event with button state, using button mapping for convenience.\n    this.el.emit(button + 'changed', evt.detail.state);\n  },\n\n  onModelLoaded: function (evt) {\n    var controllerObject3D = evt.detail.model;\n\n    if (!this.data.model) { return; }\n\n    controllerObject3D.position.copy(HP_MIXED_REALITY_POSITION_OFFSET);\n    controllerObject3D.rotation.copy(HP_MIXED_REALITY_ROTATION_OFFSET);\n\n    this.el.emit('controllermodelready', {\n      name: 'hp-mixed-reality-controls',\n      model: this.data.model,\n      rayOrigin: new THREE.Vector3(0, 0, 0)\n    });\n  },\n\n  onAxisMoved: function (evt) {\n    emitIfAxesChanged(this, this.mapping.axes, evt);\n  }\n});\n","/* global XRRigidTransform, XRWebGLBinding */\nimport * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\nimport * as utils from '../utils/index.js';\nvar warn = utils.debug('components:layer:warn');\n\nexport var Component = registerComponent('layer', {\n  schema: {\n    type: {default: 'quad', oneOf: ['quad', 'monocubemap', 'stereocubemap']},\n    src: {type: 'map'},\n    rotateCubemap: {default: false},\n    width: {default: 0},\n    height: {default: 0}\n  },\n\n  init: function () {\n    var gl = this.el.sceneEl.renderer.getContext();\n\n    this.quaternion = new THREE.Quaternion();\n    this.position = new THREE.Vector3();\n\n    this.bindMethods();\n    this.needsRedraw = false;\n    this.frameBuffer = gl.createFramebuffer();\n\n    var webxrData = this.el.sceneEl.getAttribute('webxr');\n    var requiredFeaturesArray = webxrData.requiredFeatures;\n    if (requiredFeaturesArray.indexOf('layers') === -1) {\n      requiredFeaturesArray.push('layers');\n      this.el.sceneEl.setAttribute('webxr', webxrData);\n    }\n    this.el.sceneEl.addEventListener('enter-vr', this.onEnterVR);\n    this.el.sceneEl.addEventListener('exit-vr', this.onExitVR);\n  },\n\n  bindMethods: function () {\n    this.onRequestedReferenceSpace = this.onRequestedReferenceSpace.bind(this);\n    this.onEnterVR = this.onEnterVR.bind(this);\n    this.onExitVR = this.onExitVR.bind(this);\n  },\n\n  update: function (oldData) {\n    if (this.data.src !== oldData.src) { this.updateSrc(); }\n  },\n\n  updateSrc: function () {\n    var type = this.data.type;\n    this.texture = undefined;\n    if (type === 'quad') {\n      this.loadQuadImage();\n      return;\n    }\n\n    if (type === 'monocubemap' || type === 'stereocubemap') {\n      this.loadCubeMapImages();\n      return;\n    }\n  },\n\n  loadCubeMapImages: function () {\n    var glayer;\n    var xrGLFactory = this.xrGLFactory;\n    var frame = this.el.sceneEl.frame;\n    var src = this.data.src;\n    var type = this.data.type;\n\n    this.visibilityChanged = false;\n    if (!this.layer) { return; }\n    if (type !== 'monocubemap' && type !== 'stereocubemap') { return; }\n\n    if (!src.complete) {\n      this.pendingCubeMapUpdate = true;\n    } else {\n      this.pendingCubeMapUpdate = false;\n    }\n\n    if (!this.loadingScreen) {\n      this.loadingScreen = true;\n    } else {\n      this.loadingScreen = false;\n    }\n\n    if (type === 'monocubemap') {\n      glayer = xrGLFactory.getSubImage(this.layer, frame);\n      this.loadCubeMapImage(glayer.colorTexture, src, 0);\n    } else {\n      glayer = xrGLFactory.getSubImage(this.layer, frame, 'left');\n      this.loadCubeMapImage(glayer.colorTexture, src, 0);\n      glayer = xrGLFactory.getSubImage(this.layer, frame, 'right');\n      this.loadCubeMapImage(glayer.colorTexture, src, 6);\n    }\n  },\n\n  loadQuadImage: function () {\n    var src = this.data.src;\n    var self = this;\n    this.el.sceneEl.systems.material.loadTexture(src, {src: src}, function textureLoaded (texture) {\n      self.el.sceneEl.renderer.initTexture(texture);\n      self.texture = texture;\n      if (src.tagName === 'VIDEO') { setTimeout(function () { self.textureIsVideo = true; }, 1000); }\n      if (self.layer) {\n        self.layer.height = self.data.height / 2 || self.texture.image.height / 1000;\n        self.layer.width = self.data.width / 2 || self.texture.image.width / 1000;\n        self.needsRedraw = true;\n      }\n      self.updateQuadPanel();\n    });\n  },\n\n  preGenerateCubeMapTextures: function (src, callback) {\n    if (this.data.type === 'monocubemap') {\n      this.generateCubeMapTextures(src, 0, callback);\n    } else {\n      this.generateCubeMapTextures(src, 0, callback);\n      this.generateCubeMapTextures(src, 6, callback);\n    }\n  },\n\n  generateCubeMapTextures: function (src, faceOffset, callback) {\n    var data = this.data;\n    var cubeFaceSize = this.cubeFaceSize;\n    var textureSourceCubeFaceSize = Math.min(src.width, src.height);\n    var cubefaceTextures = [];\n    var imgTmp0;\n    var imgTmp2;\n\n    for (var i = 0; i < 6; i++) {\n      var tempCanvas = document.createElement('CANVAS');\n      tempCanvas.width = tempCanvas.height = cubeFaceSize;\n      var tempCanvasContext = tempCanvas.getContext('2d');\n\n      if (data.rotateCubemap) {\n        if (i === 2 || i === 3) {\n          tempCanvasContext.save();\n          tempCanvasContext.translate(cubeFaceSize, cubeFaceSize);\n          tempCanvasContext.rotate(Math.PI);\n        }\n      }\n\n      // Note that this call to drawImage will not only copy the bytes to the\n      // canvas but also could resized the image if our cube face size is\n      // smaller than the source image due to GL max texture size.\n      tempCanvasContext.drawImage(\n        src,\n        (i + faceOffset) * textureSourceCubeFaceSize, // top left x coord in source\n        0, // top left y coord in source\n        textureSourceCubeFaceSize, // x pixel count from source\n        textureSourceCubeFaceSize, // y pixel count from source\n        0, // dest x offset in the canvas\n        0, // dest y offset in the canvas\n        cubeFaceSize, // x pixel count in dest\n        cubeFaceSize  // y pixel count in dest\n      );\n\n      tempCanvasContext.restore();\n\n      if (callback) { callback(); }\n      cubefaceTextures.push(tempCanvas);\n    }\n\n    if (data.rotateCubemap) {\n      imgTmp0 = cubefaceTextures[0];\n      imgTmp2 = cubefaceTextures[1];\n\n      cubefaceTextures[0] = imgTmp2;\n      cubefaceTextures[1] = imgTmp0;\n\n      imgTmp0 = cubefaceTextures[4];\n      imgTmp2 = cubefaceTextures[5];\n\n      cubefaceTextures[4] = imgTmp2;\n      cubefaceTextures[5] = imgTmp0;\n    }\n\n    if (callback) { callback(); }\n    return cubefaceTextures;\n  },\n\n  loadCubeMapImage: function (layerColorTexture, src, faceOffset) {\n    var gl = this.el.sceneEl.renderer.getContext();\n    var cubefaceTextures;\n\n    // don't flip the pixels as we load them into the texture buffer.\n    // TEXTURE_CUBE_MAP expects the Y to be flipped for the faces and it already\n    // is flipped in our texture image.\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    gl.bindTexture(gl.TEXTURE_CUBE_MAP, layerColorTexture);\n\n    if (!src.complete || this.loadingScreen) {\n      cubefaceTextures = this.loadingScreenImages;\n    } else {\n      cubefaceTextures = this.generateCubeMapTextures(src, faceOffset);\n    }\n\n    var errorCode = 0;\n    cubefaceTextures.forEach(function (canvas, i) {\n      gl.texSubImage2D(\n        gl.TEXTURE_CUBE_MAP_POSITIVE_X + i,\n        0,\n        0, 0,\n        gl.RGBA,\n        gl.UNSIGNED_BYTE,\n        canvas\n      );\n      errorCode = gl.getError();\n    });\n\n    if (errorCode !== 0) {\n      console.log('renderingError, WebGL Error Code: ' + errorCode);\n    }\n    gl.bindTexture(gl.TEXTURE_CUBE_MAP, null);\n  },\n\n  tick: function () {\n    if (!this.el.sceneEl.xrSession) { return; }\n    if (!this.referenceSpace) { return; }\n    if (!this.layer && (this.el.sceneEl.is('vr-mode') || this.el.sceneEl.is('ar-mode'))) { this.initLayer(); }\n    this.updateTransform();\n    if (this.data.src.complete && (this.pendingCubeMapUpdate || this.loadingScreen || this.visibilityChanged)) { this.loadCubeMapImages(); }\n    if (!this.needsRedraw && !this.layer.needsRedraw && !this.textureIsVideo) { return; }\n    if (this.data.type === 'quad') { this.draw(); }\n    this.needsRedraw = false;\n  },\n\n  initLayer: function () {\n    var self = this;\n    var type = this.data.type;\n\n    this.el.sceneEl.xrSession.onvisibilitychange = function (evt) {\n      self.visibilityChanged = evt.session.visibilityState !== 'hidden';\n    };\n\n    if (type === 'quad') {\n      this.initQuadLayer();\n      return;\n    }\n\n    if (type === 'monocubemap' || type === 'stereocubemap') {\n      this.initCubeMapLayer();\n      return;\n    }\n  },\n\n  initQuadLayer: function () {\n    var sceneEl = this.el.sceneEl;\n    var gl = sceneEl.renderer.getContext();\n    var xrGLFactory = this.xrGLFactory = new XRWebGLBinding(sceneEl.xrSession, gl);\n    if (!this.texture) { return; }\n    this.layer = xrGLFactory.createQuadLayer({\n      space: this.referenceSpace,\n      viewPixelHeight: 2048,\n      viewPixelWidth: 2048,\n      height: this.data.height / 2 || this.texture.image.height / 1000,\n      width: this.data.width / 2 || this.texture.image.width / 1000\n    });\n    this.initLoadingScreenImages();\n    sceneEl.renderer.xr.addLayer(this.layer);\n  },\n\n  initCubeMapLayer: function () {\n    var src = this.data.src;\n    var sceneEl = this.el.sceneEl;\n    var gl = sceneEl.renderer.getContext();\n    var glSizeLimit = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\n    var cubeFaceSize = this.cubeFaceSize = Math.min(glSizeLimit, Math.min(src.width, src.height));\n    var xrGLFactory = this.xrGLFactory = new XRWebGLBinding(sceneEl.xrSession, gl);\n    this.layer = xrGLFactory.createCubeLayer({\n      space: this.referenceSpace,\n      viewPixelWidth: cubeFaceSize,\n      viewPixelHeight: cubeFaceSize,\n      layout: this.data.type === 'monocubemap' ? 'mono' : 'stereo',\n      isStatic: false\n    });\n\n    this.initLoadingScreenImages();\n    this.loadCubeMapImages();\n    sceneEl.renderer.xr.addLayer(this.layer);\n  },\n\n  initLoadingScreenImages: function () {\n    var cubeFaceSize = this.cubeFaceSize;\n    var loadingScreenImages = this.loadingScreenImages = [];\n    for (var i = 0; i < 6; i++) {\n      var tempCanvas = document.createElement('CANVAS');\n      tempCanvas.width = tempCanvas.height = cubeFaceSize;\n      var tempCanvasContext = tempCanvas.getContext('2d');\n      tempCanvas.width = tempCanvas.height = cubeFaceSize;\n      tempCanvasContext.fillStyle = 'black';\n      tempCanvasContext.fillRect(0, 0, cubeFaceSize, cubeFaceSize);\n      if (i !== 2 && i !== 3) {\n        tempCanvasContext.translate(cubeFaceSize, 0);\n        tempCanvasContext.scale(-1, 1);\n        tempCanvasContext.fillStyle = 'white';\n        tempCanvasContext.font = '30px Arial';\n        tempCanvasContext.fillText('Loading', cubeFaceSize / 2, cubeFaceSize / 2);\n      }\n      loadingScreenImages.push(tempCanvas);\n    }\n  },\n\n  destroyLayer: function () {\n    if (!this.layer) { return; }\n    this.el.sceneEl.renderer.xr.removeLayer(this.layer);\n    this.layer.destroy();\n    this.layer = undefined;\n  },\n\n  toggleCompositorLayer: function () {\n    this.enableCompositorLayer(!this.layerEnabled);\n  },\n\n  enableCompositorLayer: function (enable) {\n    this.layerEnabled = enable;\n    this.quadPanelEl.object3D.visible = !this.layerEnabled;\n  },\n\n  updateQuadPanel: function () {\n    var quadPanelEl = this.quadPanelEl;\n    if (!this.quadPanelEl) {\n      quadPanelEl = this.quadPanelEl = document.createElement('a-entity');\n      this.el.appendChild(quadPanelEl);\n    }\n\n    quadPanelEl.setAttribute('material', {\n      shader: 'flat',\n      src: this.data.src,\n      transparent: true\n    });\n\n    quadPanelEl.setAttribute('geometry', {\n      primitive: 'plane',\n      height: this.data.height || this.texture.image.height / 1000,\n      width: this.data.width || this.texture.image.height / 1000\n    });\n  },\n\n  draw: function () {\n    var sceneEl = this.el.sceneEl;\n    var gl = this.el.sceneEl.renderer.getContext();\n    var glayer = this.xrGLFactory.getSubImage(this.layer, sceneEl.frame);\n    var texture = sceneEl.renderer.properties.get(this.texture).__webglTexture;\n    var previousFrameBuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n\n    gl.viewport(glayer.viewport.x, glayer.viewport.y, glayer.viewport.width, glayer.viewport.height);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, glayer.colorTexture, 0);\n\n    blitTexture(gl, texture, glayer, this.data.src);\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, previousFrameBuffer);\n  },\n\n  updateTransform: function () {\n    var el = this.el;\n    var position = this.position;\n    var quaternion = this.quaternion;\n    el.object3D.updateMatrixWorld();\n    position.setFromMatrixPosition(el.object3D.matrixWorld);\n    quaternion.setFromRotationMatrix(el.object3D.matrixWorld);\n    if (!this.layerEnabled) { position.set(0, 0, 100000000); }\n    this.layer.transform = new XRRigidTransform(position, quaternion);\n  },\n\n  onEnterVR: function () {\n    var sceneEl = this.el.sceneEl;\n    var xrSession = sceneEl.xrSession;\n    if (!sceneEl.hasWebXR || !XRWebGLBinding || !xrSession) {\n      warn('The layer component requires WebXR and the layers API enabled');\n      return;\n    }\n    xrSession.requestReferenceSpace('local-floor').then(this.onRequestedReferenceSpace);\n    this.layerEnabled = true;\n    if (this.quadPanelEl) {\n      this.quadPanelEl.object3D.visible = false;\n    }\n    if (this.data.src.play) { this.data.src.play(); }\n  },\n\n  onExitVR: function () {\n    if (this.quadPanelEl) {\n      this.quadPanelEl.object3D.visible = true;\n    }\n    this.destroyLayer();\n  },\n\n  onRequestedReferenceSpace: function (referenceSpace) {\n    this.referenceSpace = referenceSpace;\n  }\n});\n\nfunction blitTexture (gl, texture, subImage, textureEl) {\n  var xrReadFramebuffer = gl.createFramebuffer();\n  var x1offset = subImage.viewport.x;\n  var y1offset = subImage.viewport.y;\n  var x2offset = subImage.viewport.x + subImage.viewport.width;\n  var y2offset = subImage.viewport.y + subImage.viewport.height;\n\n  // Update video texture.\n  if (textureEl.tagName === 'VIDEO') {\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, textureEl.width, textureEl.height, gl.RGB, gl.UNSIGNED_BYTE, textureEl);\n  }\n\n  // Bind texture to read framebuffer.\n  gl.bindFramebuffer(gl.READ_FRAMEBUFFER, xrReadFramebuffer);\n  gl.framebufferTexture2D(gl.READ_FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n\n  // Blit into layer buffer.\n  gl.readBuffer(gl.COLOR_ATTACHMENT0);\n  gl.blitFramebuffer(0, 0, textureEl.width, textureEl.height, x1offset, y1offset, x2offset, y2offset, gl.COLOR_BUFFER_BIT, gl.NEAREST);\n\n  gl.bindFramebuffer(gl.READ_FRAMEBUFFER, null);\n  gl.deleteFramebuffer(xrReadFramebuffer);\n}\n","/**\n * Find the distance from a plane defined by a point on the plane and the normal of the plane to any point.\n * @param {THREE.Vector3} positionOnPlane any point on the plane.\n * @param {THREE.Vector3} planeNormal the normal of the plane\n * @param {THREE.Vector3} pointToTest point to test\n * @returns {number}\n */\nexport function distanceOfPointFromPlane (positionOnPlane, planeNormal, pointToTest) {\n  // the d value in the plane equation a*x + b*y + c*z=d\n  var d = planeNormal.dot(positionOnPlane);\n\n  // distance of point from plane\n  return (d - planeNormal.dot(pointToTest)) / planeNormal.length();\n}\n\n/**\n * Find the point on a plane that lies closest to\n * @param {THREE.Vector3} positionOnPlane any point on the plane.\n * @param {THREE.Vector3} planeNormal the normal of the plane\n * @param {THREE.Vector3} pointToTest point to test\n * @param {THREE.Vector3} resultPoint where to store the result.\n * @returns {THREE.Vector3}\n */\nexport function nearestPointInPlane (positionOnPlane, planeNormal, pointToTest, resultPoint) {\n  var t = distanceOfPointFromPlane(positionOnPlane, planeNormal, pointToTest);\n  // closest point on the plane\n  resultPoint.copy(planeNormal);\n  resultPoint.multiplyScalar(t);\n  resultPoint.add(pointToTest);\n  return resultPoint;\n}\n","import { registerComponent } from '../core/component.js';\nimport * as utils from '../utils/index.js';\n\nregisterComponent('laser-controls', {\n  schema: {\n    hand: {default: 'right'},\n    model: {default: true},\n    defaultModelColor: {type: 'color', default: 'grey'}\n  },\n\n  init: function () {\n    var config = this.config;\n    var data = this.data;\n    var el = this.el;\n    var self = this;\n    var controlsConfiguration = {hand: data.hand, model: data.model};\n\n    // Set all controller models.\n    el.setAttribute('hp-mixed-reality-controls', controlsConfiguration);\n    el.setAttribute('magicleap-controls', controlsConfiguration);\n    el.setAttribute('oculus-go-controls', controlsConfiguration);\n    el.setAttribute('meta-touch-controls', controlsConfiguration);\n    el.setAttribute('pico-controls', controlsConfiguration);\n    el.setAttribute('valve-index-controls', controlsConfiguration);\n    el.setAttribute('vive-controls', controlsConfiguration);\n    el.setAttribute('vive-focus-controls', controlsConfiguration);\n    el.setAttribute('windows-motion-controls', controlsConfiguration);\n    el.setAttribute('generic-tracked-controller-controls', {hand: controlsConfiguration.hand});\n\n    // Wait for controller to connect, or have a valid pointing pose, before creating ray\n    el.addEventListener('controllerconnected', createRay);\n    el.addEventListener('controllerdisconnected', hideRay);\n    el.addEventListener('controllermodelready', function (evt) {\n      createRay(evt);\n      self.modelReady = true;\n    });\n\n    function createRay (evt) {\n      var controllerConfig = config[evt.detail.name];\n\n      if (!controllerConfig) { return; }\n\n      // Show the line unless a particular config opts to hide it, until a controllermodelready\n      // event comes through.\n      var raycasterConfig = utils.extend({\n        showLine: true\n      }, controllerConfig.raycaster || {});\n\n      // The controllermodelready event contains a rayOrigin that takes into account\n      // offsets specific to the loaded model.\n      if (evt.detail.rayOrigin) {\n        raycasterConfig.origin = evt.detail.rayOrigin.origin;\n        raycasterConfig.direction = evt.detail.rayOrigin.direction;\n        raycasterConfig.showLine = true;\n      }\n\n      // Only apply a default raycaster if it does not yet exist. This prevents it overwriting\n      // config applied from a controllermodelready event.\n      if (evt.detail.rayOrigin || !self.modelReady) {\n        el.setAttribute('raycaster', raycasterConfig);\n      } else {\n        el.setAttribute('raycaster', 'showLine', true);\n      }\n\n      el.setAttribute('cursor', utils.extend({\n        fuse: false\n      }, controllerConfig.cursor));\n    }\n\n    function hideRay (evt) {\n      var controllerConfig = config[evt.detail.name];\n      if (!controllerConfig) { return; }\n      el.setAttribute('raycaster', 'showLine', false);\n    }\n  },\n\n  config: {\n    'generic-tracked-controller-controls': {\n      cursor: {downEvents: ['triggerdown'], upEvents: ['triggerup']}\n    },\n\n    'hp-mixed-reality-controls': {\n      cursor: {downEvents: ['triggerdown'], upEvents: ['triggerup']},\n      raycaster: {origin: {x: 0, y: 0, z: 0}}\n    },\n\n    'magicleap-controls': {\n      cursor: {downEvents: ['trackpaddown', 'triggerdown'], upEvents: ['trackpadup', 'triggerup']}\n    },\n\n    'oculus-go-controls': {\n      cursor: {downEvents: ['triggerdown'], upEvents: ['triggerup']},\n      raycaster: {origin: {x: 0, y: 0.0005, z: 0}}\n    },\n\n    'meta-touch-controls': {\n      cursor: {downEvents: ['triggerdown'], upEvents: ['triggerup']},\n      raycaster: {origin: {x: 0, y: 0, z: 0}}\n    },\n\n    'pico-controls': {\n      cursor: {downEvents: ['triggerdown'], upEvents: ['triggerup']}\n    },\n\n    'valve-index-controls': {\n      cursor: {downEvents: ['triggerdown'], upEvents: ['triggerup']}\n    },\n\n    'vive-controls': {\n      cursor: {downEvents: ['triggerdown'], upEvents: ['triggerup']}\n    },\n\n    'vive-focus-controls': {\n      cursor: {downEvents: ['trackpaddown', 'triggerdown'], upEvents: ['trackpadup', 'triggerup']}\n    },\n\n    'windows-motion-controls': {\n      cursor: {downEvents: ['triggerdown'], upEvents: ['triggerup']},\n      raycaster: {showLine: false}\n    }\n  }\n});\n","import * as THREE from 'three';\nimport { LightProbeGenerator } from 'three/addons/lights/LightProbeGenerator.js';\nimport { diff, debug, srcLoader } from '../utils/index.js';\nimport { registerComponent } from '../core/component.js';\nimport * as mathUtils from '../utils/math.js';\n\nvar degToRad = THREE.MathUtils.degToRad;\nvar warn = debug('components:light:warn');\nvar CubeLoader = new THREE.CubeTextureLoader();\n\nvar probeCache = {};\n\n/**\n * Light component.\n */\nexport var Component = registerComponent('light', {\n  schema: {\n    angle: {default: 60, if: {type: ['spot']}},\n    color: {type: 'color', if: {type: ['ambient', 'directional', 'hemisphere', 'point', 'spot']}},\n    envMap: {default: '', if: {type: ['probe']}},\n    groundColor: {type: 'color', if: {type: ['hemisphere']}},\n    decay: {default: 1, if: {type: ['point', 'spot']}},\n    distance: {default: 0.0, min: 0, if: {type: ['point', 'spot']}},\n    intensity: {default: 3.14, min: 0, if: {type: ['ambient', 'directional', 'hemisphere', 'point', 'spot', 'probe']}},\n    penumbra: {default: 0, min: 0, max: 1, if: {type: ['spot']}},\n    type: {\n      default: 'directional',\n      oneOf: ['ambient', 'directional', 'hemisphere', 'point', 'spot', 'probe'],\n      schemaChange: true\n    },\n    target: {type: 'selector', if: {type: ['spot', 'directional']}},\n\n    // Shadows.\n    castShadow: {default: false, if: {type: ['point', 'spot', 'directional']}},\n    shadowBias: {default: 0, if: {castShadow: true}},\n    shadowCameraFar: {default: 500, if: {castShadow: true}},\n    shadowCameraFov: {default: 90, if: {castShadow: true}},\n    shadowCameraNear: {default: 0.5, if: {castShadow: true}},\n    shadowCameraTop: {default: 5, if: {castShadow: true}},\n    shadowCameraRight: {default: 5, if: {castShadow: true}},\n    shadowCameraBottom: {default: -5, if: {castShadow: true}},\n    shadowCameraLeft: {default: -5, if: {castShadow: true}},\n    shadowCameraVisible: {default: false, if: {castShadow: true}},\n    shadowCameraAutomatic: {default: '', if: {type: ['directional']}},\n    shadowMapHeight: {default: 512, if: {castShadow: true}},\n    shadowMapWidth: {default: 512, if: {castShadow: true}},\n    shadowRadius: {default: 1, if: {castShadow: true}}\n  },\n\n  /**\n   * Notifies scene a light has been added to remove default lighting.\n   */\n  init: function () {\n    var el = this.el;\n    this.light = null;\n    this.defaultTarget = null;\n    this.system.registerLight(el);\n  },\n\n  /**\n   * (Re)create or update light.\n   */\n  update: function (oldData) {\n    var data = this.data;\n    var diffData = diff(data, oldData);\n    var light = this.light;\n    var self = this;\n\n    // Existing light.\n    if (light && !('type' in diffData)) {\n      var shadowsLoaded = false;\n      // Light type has not changed. Update light.\n      Object.keys(diffData).forEach(function (key) {\n        var value = data[key];\n\n        switch (key) {\n          case 'color': {\n            light.color.set(value);\n            break;\n          }\n\n          case 'groundColor': {\n            light.groundColor.set(value);\n            break;\n          }\n\n          case 'angle': {\n            light.angle = degToRad(value);\n            break;\n          }\n\n          case 'target': {\n            // Reset target if selector is null.\n            if (value === null) {\n              if (data.type === 'spot' || data.type === 'directional') {\n                light.target = self.defaultTarget;\n              }\n            } else {\n              // Target specified, set target to entity's `object3D` when it is loaded.\n              if (value.hasLoaded) {\n                self.onSetTarget(value, light);\n              } else {\n                value.addEventListener('loaded', self.onSetTarget.bind(self, value, light));\n              }\n            }\n            break;\n          }\n\n          case 'envMap':\n            self.updateProbeMap(data, light);\n            break;\n\n          case 'castShadow':\n          case 'shadowBias':\n          case 'shadowCameraFar':\n          case 'shadowCameraFov':\n          case 'shadowCameraNear':\n          case 'shadowCameraTop':\n          case 'shadowCameraRight':\n          case 'shadowCameraBottom':\n          case 'shadowCameraLeft':\n          case 'shadowCameraVisible':\n          case 'shadowMapHeight':\n          case 'shadowMapWidth':\n          case 'shadowRadius':\n            if (!shadowsLoaded) {\n              self.updateShadow();\n              shadowsLoaded = true;\n            }\n            break;\n\n          case 'shadowCameraAutomatic':\n            if (data.shadowCameraAutomatic) {\n              self.shadowCameraAutomaticEls = Array.from(document.querySelectorAll(data.shadowCameraAutomatic));\n            } else {\n              self.shadowCameraAutomaticEls = [];\n            }\n            break;\n\n          default: {\n            light[key] = value;\n          }\n        }\n      });\n      return;\n    }\n\n    // No light yet or light type has changed. Create and add light.\n    this.setLight(this.data);\n    this.updateShadow();\n  },\n\n  tick: (function () {\n    var bbox = new THREE.Box3();\n    var normal = new THREE.Vector3();\n    var cameraWorldPosition = new THREE.Vector3();\n    var tempMat = new THREE.Matrix4();\n    var sphere = new THREE.Sphere();\n    var tempVector = new THREE.Vector3();\n\n    return function () {\n      if (!(\n        this.data.type === 'directional' &&\n        this.light.shadow &&\n        this.light.shadow.camera instanceof THREE.OrthographicCamera &&\n        this.shadowCameraAutomaticEls.length\n      )) return;\n\n      var camera = this.light.shadow.camera;\n      camera.getWorldDirection(normal);\n      camera.getWorldPosition(cameraWorldPosition);\n      tempMat.copy(camera.matrixWorld);\n      tempMat.invert();\n\n      camera.near = 1;\n      camera.left = 100000;\n      camera.right = -100000;\n      camera.top = -100000;\n      camera.bottom = 100000;\n      this.shadowCameraAutomaticEls.forEach(function (el) {\n        bbox.setFromObject(el.object3D);\n        bbox.getBoundingSphere(sphere);\n        var distanceToPlane = mathUtils.distanceOfPointFromPlane(cameraWorldPosition, normal, sphere.center);\n        var pointOnCameraPlane = mathUtils.nearestPointInPlane(cameraWorldPosition, normal, sphere.center, tempVector);\n\n        var pointInXYPlane = pointOnCameraPlane.applyMatrix4(tempMat);\n        camera.near = Math.min(-distanceToPlane - sphere.radius - 1, camera.near);\n        camera.left = Math.min(-sphere.radius + pointInXYPlane.x, camera.left);\n        camera.right = Math.max(sphere.radius + pointInXYPlane.x, camera.right);\n        camera.top = Math.max(sphere.radius + pointInXYPlane.y, camera.top);\n        camera.bottom = Math.min(-sphere.radius + pointInXYPlane.y, camera.bottom);\n      });\n      camera.updateProjectionMatrix();\n    };\n  }()),\n\n  setLight: function (data) {\n    var el = this.el;\n    var newLight = this.getLight(data);\n    if (newLight) {\n      if (this.light) {\n        el.removeObject3D('light');\n      }\n\n      this.light = newLight;\n      this.light.el = el;\n      el.setObject3D('light', this.light);\n\n      // HACK solution for issue #1624\n      if (data.type === 'spot' || data.type === 'directional' || data.type === 'hemisphere') {\n        el.getObject3D('light').translateY(-1);\n      }\n\n      // set and position default lighttarget as a child to enable spotlight orientation\n      if (data.type === 'spot') {\n        el.setObject3D('light-target', this.defaultTarget);\n        el.getObject3D('light-target').position.set(0, 0, -1);\n      }\n\n      if (data.shadowCameraAutomatic) {\n        this.shadowCameraAutomaticEls = Array.from(document.querySelectorAll(data.shadowCameraAutomatic));\n      } else {\n        this.shadowCameraAutomaticEls = [];\n      }\n    }\n  },\n\n  /**\n   * Updates shadow-related properties on the current light.\n   */\n  updateShadow: function () {\n    var el = this.el;\n    var data = this.data;\n    var light = this.light;\n\n    light.castShadow = data.castShadow;\n\n    // Shadow camera helper.\n    var cameraHelper = el.getObject3D('cameraHelper');\n    if (data.shadowCameraVisible && !cameraHelper) {\n      cameraHelper = new THREE.CameraHelper(light.shadow.camera);\n      el.setObject3D('cameraHelper', cameraHelper);\n    } else if (!data.shadowCameraVisible && cameraHelper) {\n      el.removeObject3D('cameraHelper');\n    }\n\n    if (!data.castShadow) { return light; }\n\n    // Shadow appearance.\n    light.shadow.bias = data.shadowBias;\n    light.shadow.radius = data.shadowRadius;\n    light.shadow.mapSize.height = data.shadowMapHeight;\n    light.shadow.mapSize.width = data.shadowMapWidth;\n\n    // Shadow camera.\n    light.shadow.camera.near = data.shadowCameraNear;\n    light.shadow.camera.far = data.shadowCameraFar;\n    if (light.shadow.camera instanceof THREE.OrthographicCamera) {\n      light.shadow.camera.top = data.shadowCameraTop;\n      light.shadow.camera.right = data.shadowCameraRight;\n      light.shadow.camera.bottom = data.shadowCameraBottom;\n      light.shadow.camera.left = data.shadowCameraLeft;\n    } else {\n      light.shadow.camera.fov = data.shadowCameraFov;\n    }\n    light.shadow.camera.updateProjectionMatrix();\n\n    if (cameraHelper) { cameraHelper.update(); }\n  },\n\n  /**\n   * Creates a new three.js light object given data object defining the light.\n   *\n   * @param {object} data\n   */\n  getLight: function (data) {\n    var angle = data.angle;\n    var color = new THREE.Color(data.color);\n    color = color.getHex();\n    var decay = data.decay;\n    var distance = data.distance;\n    var groundColor = new THREE.Color(data.groundColor);\n    groundColor = groundColor.getHex();\n    var intensity = data.intensity;\n    var type = data.type;\n    var target = data.target;\n    var light = null;\n\n    switch (type.toLowerCase()) {\n      case 'ambient': {\n        return new THREE.AmbientLight(color, intensity);\n      }\n\n      case 'directional': {\n        light = new THREE.DirectionalLight(color, intensity);\n        this.defaultTarget = light.target;\n        if (target) {\n          if (target.hasLoaded) {\n            this.onSetTarget(target, light);\n          } else {\n            target.addEventListener('loaded', this.onSetTarget.bind(this, target, light));\n          }\n        }\n        return light;\n      }\n\n      case 'hemisphere': {\n        return new THREE.HemisphereLight(color, groundColor, intensity);\n      }\n\n      case 'point': {\n        return new THREE.PointLight(color, intensity, distance, decay);\n      }\n\n      case 'spot': {\n        light = new THREE.SpotLight(color, intensity, distance, degToRad(angle), data.penumbra, decay);\n        this.defaultTarget = light.target;\n        if (target) {\n          if (target.hasLoaded) {\n            this.onSetTarget(target, light);\n          } else {\n            target.addEventListener('loaded', this.onSetTarget.bind(this, target, light));\n          }\n        }\n        return light;\n      }\n\n      case 'probe': {\n        light = new THREE.LightProbe();\n        this.updateProbeMap(data, light);\n        return light;\n      }\n\n      default: {\n        warn('%s is not a valid light type. ' +\n           'Choose from ambient, directional, hemisphere, point, spot.', type);\n      }\n    }\n  },\n\n  /**\n   * Generate the spherical harmonics for the LightProbe from a cube map\n   */\n  updateProbeMap: function (data, light) {\n    if (!data.envMap) {\n      // reset parameters if no map\n      light.copy(new THREE.LightProbe());\n      return;\n    }\n\n    // Populate the cache if not done for this envMap yet\n    if (probeCache[data.envMap] === undefined) {\n      probeCache[data.envMap] = new window.Promise(function (resolve) {\n        srcLoader.validateCubemapSrc(data.envMap, function loadEnvMap (urls) {\n          CubeLoader.load(urls, function (cube) {\n            var tempLightProbe = LightProbeGenerator.fromCubeTexture(cube);\n            probeCache[data.envMap] = tempLightProbe;\n            resolve(tempLightProbe);\n          });\n        });\n      });\n    }\n\n    // Copy over light probe properties\n    if (probeCache[data.envMap] instanceof window.Promise) {\n      probeCache[data.envMap].then(function (tempLightProbe) {\n        light.copy(tempLightProbe);\n      });\n    } else if (probeCache[data.envMap] instanceof THREE.LightProbe) {\n      light.copy(probeCache[data.envMap]);\n    }\n  },\n\n  onSetTarget: function (targetEl, light) {\n    light.target = targetEl.object3D;\n  },\n\n  /**\n   * Remove light on remove (callback).\n   */\n  remove: function () {\n    var el = this.el;\n    el.removeObject3D('light');\n    if (el.getObject3D('cameraHelper')) {\n      el.removeObject3D('cameraHelper');\n    }\n  }\n});\n","import * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\nimport { registerShader } from '../core/shader.js';\nvar DEFAULT_PREVIEW_DISTANCE = 15.0;\n\n/**\n * Link component. Connect experiences and traverse between them in VR\n *\n * @member {object} hiddenEls - Store the hidden elements during peek mode.\n */\nexport var Component = registerComponent('link', {\n  schema: {\n    backgroundColor: {default: 'red', type: 'color'},\n    borderColor: {default: 'white', type: 'color'},\n    highlighted: {default: false},\n    highlightedColor: {default: '#24CAFF', type: 'color'},\n    href: {default: ''},\n    image: {type: 'asset'},\n    on: {default: 'click'},\n    peekMode: {default: false},\n    title: {default: ''},\n    titleColor: {default: 'white', type: 'color'},\n    visualAspectEnabled: {default: false}\n  },\n\n  init: function () {\n    this.navigate = this.navigate.bind(this);\n    this.previousQuaternion = undefined;\n    this.quaternionClone = new THREE.Quaternion();\n    // Store hidden elements during peek mode so we can show them again later.\n    this.hiddenEls = [];\n  },\n\n  update: function (oldData) {\n    var data = this.data;\n    var el = this.el;\n    var backgroundColor;\n    var strokeColor;\n\n    if (!data.visualAspectEnabled) { return; }\n\n    var elScale = this.el.getAttribute('scale');\n    this.previewDistance = DEFAULT_PREVIEW_DISTANCE * (elScale.x + elScale.y) / 2;\n\n    this.initVisualAspect();\n\n    backgroundColor = data.highlighted ? data.highlightedColor : data.backgroundColor;\n    strokeColor = data.highlighted ? data.highlightedColor : data.borderColor;\n    el.setAttribute('material', 'backgroundColor', backgroundColor);\n    el.setAttribute('material', 'strokeColor', strokeColor);\n\n    if (data.on !== oldData.on) { this.updateEventListener(); }\n\n    if (oldData.peekMode !== undefined &&\n        data.peekMode !== oldData.peekMode) { this.updatePeekMode(); }\n\n    if (!data.image || oldData.image === data.image) { return; }\n\n    el.setAttribute('material', 'pano',\n                    typeof data.image === 'string' ? data.image : data.image.src);\n  },\n\n  /*\n   * Toggle all elements and full 360 preview of the linked page.\n   */\n  updatePeekMode: function () {\n    var el = this.el;\n    var sphereEl = this.sphereEl;\n    if (this.data.peekMode) {\n      this.hideAll();\n      el.getObject3D('mesh').visible = false;\n      sphereEl.setAttribute('visible', true);\n    } else {\n      this.showAll();\n      el.getObject3D('mesh').visible = true;\n      sphereEl.setAttribute('visible', false);\n    }\n  },\n\n  play: function () {\n    this.updateEventListener();\n  },\n\n  pause: function () {\n    this.removeEventListener();\n  },\n\n  updateEventListener: function () {\n    var el = this.el;\n    if (!el.isPlaying) { return; }\n    this.removeEventListener();\n    el.addEventListener(this.data.on, this.navigate);\n  },\n\n  removeEventListener: function () {\n    var on = this.data.on;\n    if (!on) { return; }\n    this.el.removeEventListener(on, this.navigate);\n  },\n\n  initVisualAspect: function () {\n    var el = this.el;\n    var semiSphereEl;\n    var sphereEl;\n    var textEl;\n\n    if (!this.data.visualAspectEnabled || this.visualAspectInitialized) { return; }\n\n    textEl = this.textEl = this.textEl || document.createElement('a-entity');\n    sphereEl = this.sphereEl = this.sphereEl || document.createElement('a-entity');\n    semiSphereEl = this.semiSphereEl = this.semiSphereEl || document.createElement('a-entity');\n\n    // Set portal.\n    el.setAttribute('geometry', {primitive: 'circle', radius: 1.0, segments: 64});\n    el.setAttribute('material', {shader: 'portal', pano: this.data.image, side: 'double', previewDistance: this.previewDistance});\n\n    // Set text that displays the link title and URL.\n    textEl.setAttribute('text', {\n      color: this.data.titleColor,\n      align: 'center',\n      font: 'kelsonsans',\n      value: this.data.title || this.data.href,\n      width: 4\n    });\n    textEl.setAttribute('position', '0 1.5 0');\n    el.appendChild(textEl);\n\n    // Set sphere rendered when camera is close to portal to allow user to peek inside.\n    semiSphereEl.setAttribute('geometry', {\n      primitive: 'sphere',\n      radius: 1.0,\n      phiStart: 0,\n      segmentsWidth: 64,\n      segmentsHeight: 64,\n      phiLength: 180,\n      thetaStart: 0,\n      thetaLength: 360\n    });\n    semiSphereEl.setAttribute('material', {\n      shader: 'portal',\n      borderEnabled: 0.0,\n      pano: this.data.image,\n      side: 'back',\n      previewDistance: this.previewDistance\n    });\n    semiSphereEl.setAttribute('rotation', '0 180 0');\n    semiSphereEl.setAttribute('position', '0 0 0');\n    semiSphereEl.setAttribute('visible', false);\n    el.appendChild(semiSphereEl);\n\n    // Set sphere rendered when camera is close to portal to allow user to peek inside.\n    sphereEl.setAttribute('geometry', {\n      primitive: 'sphere',\n      radius: 10,\n      segmentsWidth: 64,\n      segmentsHeight: 64\n    });\n    sphereEl.setAttribute('material', {\n      shader: 'portal',\n      borderEnabled: 0.0,\n      pano: this.data.image,\n      side: 'back',\n      previewDistance: this.previewDistance\n    });\n    sphereEl.setAttribute('visible', false);\n    el.appendChild(sphereEl);\n\n    this.visualAspectInitialized = true;\n  },\n\n  navigate: function () {\n    window.location = this.data.href;\n  },\n\n  /**\n   * 1. Swap plane that represents portal with sphere with a hole when the camera is close\n   * so user can peek inside portal. Sphere is rendered on opposite side of portal\n   * from where user enters.\n   * 2. Place the url/title above or inside portal depending on distance to camera.\n   * 3. Face portal to camera when far away from user.\n   */\n  tick: (function () {\n    var cameraWorldPosition = new THREE.Vector3();\n    var elWorldPosition = new THREE.Vector3();\n    var quaternion = new THREE.Quaternion();\n    var scale = new THREE.Vector3();\n\n    return function () {\n      var el = this.el;\n      var object3D = el.object3D;\n      var camera = el.sceneEl.camera;\n      var cameraPortalOrientation;\n      var distance;\n      var textEl = this.textEl;\n\n      if (!this.data.visualAspectEnabled) { return; }\n\n      // Update matrices\n      object3D.updateMatrixWorld();\n      camera.parent.updateMatrixWorld();\n      camera.updateMatrixWorld();\n\n      object3D.matrix.decompose(elWorldPosition, quaternion, scale);\n      elWorldPosition.setFromMatrixPosition(object3D.matrixWorld);\n      cameraWorldPosition.setFromMatrixPosition(camera.matrixWorld);\n      distance = elWorldPosition.distanceTo(cameraWorldPosition);\n\n      if (distance > this.previewDistance * 1.33333) {\n        // Store original orientation to be restored when the portal stops facing the camera.\n        if (!this.previousQuaternion) {\n          this.quaternionClone.copy(quaternion);\n          this.previousQuaternion = this.quaternionClone;\n        }\n        // If the portal is far away from the user, face portal to camera.\n        object3D.lookAt(cameraWorldPosition);\n      } else {\n        // When portal is close to the user/camera.\n        cameraPortalOrientation = this.calculateCameraPortalOrientation();\n        // If user gets very close to portal, replace with holed sphere they can peek in.\n        if (distance < 0.5) {\n          // Configure text size and sphere orientation depending side user approaches portal.\n          if (this.semiSphereEl.getAttribute('visible') === true) { return; }\n          textEl.setAttribute('text', 'width', 1.5);\n          if (cameraPortalOrientation <= 0.0) {\n            textEl.setAttribute('position', '0 0 0.75');\n            textEl.setAttribute('rotation', '0 180 0');\n            this.semiSphereEl.setAttribute('rotation', '0 0 0');\n          } else {\n            textEl.setAttribute('position', '0 0 -0.75');\n            textEl.setAttribute('rotation', '0 0 0');\n            this.semiSphereEl.setAttribute('rotation', '0 180 0');\n          }\n          el.getObject3D('mesh').visible = false;\n          this.semiSphereEl.setAttribute('visible', true);\n          this.peekCameraPortalOrientation = cameraPortalOrientation;\n        } else {\n          // Calculate which side the camera is approaching the camera (back / front).\n          // Adjust text orientation based on camera position.\n          if (cameraPortalOrientation <= 0.0) {\n            textEl.setAttribute('rotation', '0 180 0');\n          } else {\n            textEl.setAttribute('rotation', '0 0 0');\n          }\n          textEl.setAttribute('text', 'width', 5);\n          textEl.setAttribute('position', '0 1.5 0');\n          el.getObject3D('mesh').visible = true;\n          this.semiSphereEl.setAttribute('visible', false);\n          this.peekCameraPortalOrientation = undefined;\n        }\n        if (this.previousQuaternion) {\n          object3D.quaternion.copy(this.previousQuaternion);\n          this.previousQuaternion = undefined;\n        }\n      }\n    };\n  })(),\n\n  hideAll: function () {\n    var el = this.el;\n    var hiddenEls = this.hiddenEls;\n    var self = this;\n    if (hiddenEls.length > 0) { return; }\n    el.sceneEl.object3D.traverse(function (object) {\n      if (object && object.el && object.el.hasAttribute('link-controls')) { return; }\n      if (!object.el || object === el.sceneEl.object3D || object.el === el ||\n          object.el === self.sphereEl || object.el === el.sceneEl.cameraEl ||\n          object.el.getAttribute('visible') === false || object.el === self.textEl ||\n          object.el === self.semiSphereEl) {\n        return;\n      }\n      object.el.setAttribute('visible', false);\n      hiddenEls.push(object.el);\n    });\n  },\n\n  showAll: function () {\n    this.hiddenEls.forEach(function (el) { el.setAttribute('visible', true); });\n    this.hiddenEls = [];\n  },\n\n  /**\n   * Calculate whether the camera faces the front or back face of the portal.\n   * @returns {number} > 0 if camera faces front of portal, < 0 if it faces back of portal.\n   */\n  calculateCameraPortalOrientation: (function () {\n    var mat4 = new THREE.Matrix4();\n    var cameraPosition = new THREE.Vector3();\n    var portalNormal = new THREE.Vector3(0, 0, 1);\n    var portalPosition = new THREE.Vector3(0, 0, 0);\n\n    return function () {\n      var el = this.el;\n      var camera = el.sceneEl.camera;\n\n      // Reset tmp variables.\n      cameraPosition.set(0, 0, 0);\n      portalNormal.set(0, 0, 1);\n      portalPosition.set(0, 0, 0);\n\n      // Apply portal orientation to the normal.\n      el.object3D.matrixWorld.extractRotation(mat4);\n      portalNormal.applyMatrix4(mat4);\n\n      // Calculate portal world position.\n      el.object3D.updateMatrixWorld();\n      el.object3D.localToWorld(portalPosition);\n\n      // Calculate camera world position.\n      camera.parent.parent.updateMatrixWorld();\n      camera.parent.updateMatrixWorld();\n      camera.updateMatrixWorld();\n      camera.localToWorld(cameraPosition);\n\n      // Calculate vector from portal to camera.\n      // (portal) -------> (camera)\n      cameraPosition.sub(portalPosition).normalize();\n      portalNormal.normalize();\n\n      // Side where camera approaches portal is given by sign of dot product of portal normal\n      // and portal to camera vectors.\n      return Math.sign(portalNormal.dot(cameraPosition));\n    };\n  })(),\n\n  remove: function () {\n    this.removeEventListener();\n  }\n});\n\n/* eslint-disable */\nregisterShader('portal', {\n  schema: {\n    borderEnabled: {default: 1.0, type: 'int', is: 'uniform'},\n    backgroundColor: {default: 'red', type: 'color', is: 'uniform'},\n    pano: {type: 'map', is: 'uniform'},\n    strokeColor: {default: 'white', type: 'color', is: 'uniform'},\n    previewDistance: {default: DEFAULT_PREVIEW_DISTANCE, type: 'float', is: 'uniform'}\n  },\n\n  vertexShader: [\n    'vec3 portalPosition;',\n    'varying vec3 vWorldPosition;',\n    'varying float vDistanceToCenter;',\n    'varying float vDistance;',\n    'void main() {',\n    'vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);',\n    'portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;',\n    'vDistance = length(portalPosition - cameraPosition);',\n    'vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;',\n    'gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);',\n    '}'\n  ].join('\\n'),\n\n  fragmentShader: [\n    '#define RECIPROCAL_PI2 0.15915494',\n    'uniform sampler2D pano;',\n    'uniform vec3 strokeColor;',\n    'uniform vec3 backgroundColor;',\n    'uniform float borderEnabled;',\n    'uniform float previewDistance;',\n    'varying float vDistanceToCenter;',\n    'varying float vDistance;',\n    'varying vec3 vWorldPosition;',\n    'void main() {',\n    'vec3 direction = normalize(vWorldPosition - cameraPosition);',\n    'vec2 sampleUV;',\n    'float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);',\n    'sampleUV.y = clamp(direction.y * 0.5  + 0.5, 0.0, 1.0);',\n    'sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;',\n    'if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {',\n    'gl_FragColor = vec4(strokeColor, 1.0);',\n    '} else {',\n    'gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / previewDistance), 2.0), 0.0, 1.0));',\n    '}',\n    '}'\n  ].join('\\n')\n});\n/* eslint-enable */\n","import * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\n\nexport var Component = registerComponent('line', {\n  schema: {\n    start: {type: 'vec3', default: {x: 0, y: 0, z: 0}},\n    end: {type: 'vec3', default: {x: 0, y: 0, z: 0}},\n    color: {type: 'color', default: '#74BEC1'},\n    opacity: {type: 'number', default: 1},\n    visible: {default: true}\n  },\n\n  multiple: true,\n\n  init: function () {\n    var data = this.data;\n    var geometry;\n    var material;\n    material = this.material = new THREE.LineBasicMaterial({\n      color: data.color,\n      opacity: data.opacity,\n      transparent: data.opacity < 1,\n      visible: data.visible\n    });\n    geometry = this.geometry = new THREE.BufferGeometry();\n    geometry.setAttribute('position', new THREE.BufferAttribute(new Float32Array(2 * 3), 3));\n\n    this.line = new THREE.Line(geometry, material);\n    this.el.setObject3D(this.attrName, this.line);\n  },\n\n  update: function (oldData) {\n    var data = this.data;\n    var geometry = this.geometry;\n    var geoNeedsUpdate = false;\n    var material = this.material;\n    var positionArray = geometry.attributes.position.array;\n\n    // Update geometry.\n    if (!isEqualVec3(data.start, oldData.start)) {\n      positionArray[0] = data.start.x;\n      positionArray[1] = data.start.y;\n      positionArray[2] = data.start.z;\n      geoNeedsUpdate = true;\n    }\n\n    if (!isEqualVec3(data.end, oldData.end)) {\n      positionArray[3] = data.end.x;\n      positionArray[4] = data.end.y;\n      positionArray[5] = data.end.z;\n      geoNeedsUpdate = true;\n    }\n\n    if (geoNeedsUpdate) {\n      geometry.attributes.position.needsUpdate = true;\n      geometry.computeBoundingSphere();\n    }\n\n    material.color.setStyle(data.color);\n    material.opacity = data.opacity;\n    material.transparent = data.opacity < 1;\n    material.visible = data.visible;\n  },\n\n  remove: function () {\n    this.el.removeObject3D(this.attrName, this.line);\n  }\n});\n\nfunction isEqualVec3 (a, b) {\n  if (!a || !b) { return false; }\n  return (a.x === b.x && a.y === b.y && a.z === b.z);\n}\n","import * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\nimport { checkControllerPresentAndSetup, emitIfAxesChanged, onButtonEvent } from '../utils/tracked-controls.js';\n\n// See Profiles Registry:\n// https://github.com/immersive-web/webxr-input-profiles/tree/master/packages/registry\n// TODO: Add a more robust system for deriving gamepad name.\nvar GAMEPAD_ID = 'logitech-mx-ink';\nvar LOGITECH_MX_INK_MODEL_GLB_BASE_URL = AFRAME_CDN_ROOT + 'controllers/logitech/';\n\n/**\n * Button IDs:\n * 0 - trigger\n * 1 - squeeze\n * 5 - touchpad\n * 6 - tip\n * 7 - dock\n *\n*/\nvar INPUT_MAPPING_WEBXR = {\n  left: {\n    buttons: ['front', 'back', 'none', 'none', 'none', 'tip']\n  },\n  right: {\n    buttons: ['front', 'back', 'none', 'none', 'none', 'tip']\n  }\n};\n\n/**\n * Logitech MX Ink Controls\n */\nexport var Component = registerComponent('logitech-mx-ink-controls', {\n  schema: {\n    hand: {default: 'left'},\n    model: {default: true},\n    orientationOffset: {type: 'vec3'}\n  },\n\n  mapping: INPUT_MAPPING_WEBXR,\n\n  init: function () {\n    var self = this;\n    this.onButtonChanged = this.onButtonChanged.bind(this);\n    this.onButtonDown = function (evt) { onButtonEvent(evt.detail.id, 'down', self, self.data.hand); };\n    this.onButtonUp = function (evt) { onButtonEvent(evt.detail.id, 'up', self, self.data.hand); };\n    this.onButtonTouchEnd = function (evt) { onButtonEvent(evt.detail.id, 'touchend', self, self.data.hand); };\n    this.onButtonTouchStart = function (evt) { onButtonEvent(evt.detail.id, 'touchstart', self, self.data.hand); };\n    this.bindMethods();\n  },\n\n  play: function () {\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  bindMethods: function () {\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this);\n    this.onAxisMoved = this.onAxisMoved.bind(this);\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('buttonchanged', this.onButtonChanged);\n    el.addEventListener('buttondown', this.onButtonDown);\n    el.addEventListener('buttonup', this.onButtonUp);\n    el.addEventListener('touchstart', this.onButtonTouchStart);\n    el.addEventListener('touchend', this.onButtonTouchEnd);\n    el.addEventListener('axismove', this.onAxisMoved);\n    el.addEventListener('model-loaded', this.onModelLoaded);\n    this.controllerEventsActive = true;\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('buttonchanged', this.onButtonChanged);\n    el.removeEventListener('buttondown', this.onButtonDown);\n    el.removeEventListener('buttonup', this.onButtonUp);\n    el.removeEventListener('touchstart', this.onButtonTouchStart);\n    el.removeEventListener('touchend', this.onButtonTouchEnd);\n    el.removeEventListener('axismove', this.onAxisMoved);\n    el.removeEventListener('model-loaded', this.onModelLoaded);\n    el.sceneEl.removeEventListener('enter-vr', this.onEnterVR);\n    el.sceneEl.removeEventListener('exit-vr', this.onExitVR);\n    this.controllerEventsActive = false;\n  },\n\n  checkIfControllerPresent: function () {\n    var controllerObject3D = this.controllerObject3D;\n    if (controllerObject3D) { controllerObject3D.visible = false; }\n    checkControllerPresentAndSetup(this, GAMEPAD_ID, {\n      hand: this.data.hand,\n      iterateControllerProfiles: true\n    });\n  },\n\n  injectTrackedControls: function () {\n    var el = this.el;\n    var data = this.data;\n    var id = GAMEPAD_ID;\n    el.setAttribute('tracked-controls', {\n      id: id,\n      hand: data.hand,\n      handTrackingEnabled: false,\n      iterateControllerProfiles: true,\n      orientationOffset: data.orientationOffset\n    });\n    this.loadModel();\n  },\n\n  loadModel: function () {\n    var controllerObject3D = this.controllerObject3D;\n    if (!this.data.model) { return; }\n    if (controllerObject3D) {\n      controllerObject3D.visible = this.el.sceneEl.is('vr-mode');\n      this.el.setObject3D('mesh', controllerObject3D);\n      return;\n    }\n    this.el.setAttribute('gltf-model', LOGITECH_MX_INK_MODEL_GLB_BASE_URL + 'logitech-mx-ink.glb');\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    this.checkIfControllerPresent();\n  },\n\n  onButtonChanged: function (evt) {\n    var button = this.mapping[this.data.hand].buttons[evt.detail.id];\n    var analogValue;\n\n    if (!button) { return; }\n    if (button === 'trigger') {\n      analogValue = evt.detail.state.value;\n      console.log('analog value of trigger press: ' + analogValue);\n    }\n\n    // Pass along changed event with button state, using button mapping for convenience.\n    this.el.emit(button + 'changed', evt.detail.state);\n  },\n\n  onModelLoaded: function (evt) {\n    if (evt.target !== this.el || !this.data.model) { return; }\n\n    this.el.emit('controllermodelready', {\n      name: 'logitech-mx-ink-controls',\n      model: this.data.model,\n      rayOrigin: new THREE.Vector3(0, 0, 0)\n    });\n\n    this.controllerObject3D = this.el.getObject3D('mesh');\n    this.controllerObject3D.visible = this.el.sceneEl.is('vr-mode');\n  },\n\n  onAxisMoved: function (evt) {\n    emitIfAxesChanged(this, this.mapping.axes, evt);\n  }\n});\n","/* global DeviceOrientationEvent  */\nimport * as THREE from 'three';\nimport { DeviceOrientationControls } from '../../vendor/DeviceOrientationControls.js';\nimport { registerComponent } from '../core/component.js';\nimport * as utils from '../utils/index.js';\n\n// To avoid recalculation at every mouse movement tick\nvar PI_2 = Math.PI / 2;\n\n/**\n * look-controls. Update entity pose, factoring mouse, touch.\n */\nexport var Component = registerComponent('look-controls', {\n  dependencies: ['position', 'rotation'],\n\n  schema: {\n    enabled: {default: true},\n    magicWindowTrackingEnabled: {default: true},\n    pointerLockEnabled: {default: false},\n    reverseMouseDrag: {default: false},\n    reverseTouchDrag: {default: false},\n    touchEnabled: {default: true},\n    mouseEnabled: {default: true}\n  },\n\n  init: function () {\n    this.deltaYaw = 0;\n    this.previousHMDPosition = new THREE.Vector3();\n    this.hmdQuaternion = new THREE.Quaternion();\n    this.magicWindowAbsoluteEuler = new THREE.Euler();\n    this.magicWindowDeltaEuler = new THREE.Euler();\n    this.position = new THREE.Vector3();\n    this.magicWindowObject = new THREE.Object3D();\n    this.rotation = {};\n    this.deltaRotation = {};\n    this.savedPose = null;\n    this.pointerLocked = false;\n    this.setupMouseControls();\n    this.bindMethods();\n    this.previousMouseEvent = {};\n\n    this.setupMagicWindowControls();\n\n    // To save / restore camera pose\n    this.savedPose = {\n      position: new THREE.Vector3(),\n      rotation: new THREE.Euler()\n    };\n\n    // Call enter VR handler if the scene has entered VR before the event listeners attached.\n    if (this.el.sceneEl.is('vr-mode') || this.el.sceneEl.is('ar-mode')) { this.onEnterVR(); }\n  },\n\n  setupMagicWindowControls: function () {\n    var magicWindowControls;\n    var data = this.data;\n\n    // Only on mobile devices and only enabled if DeviceOrientation permission has been granted.\n    if (utils.device.isMobile() || utils.device.isMobileDeviceRequestingDesktopSite()) {\n      magicWindowControls = this.magicWindowControls = new DeviceOrientationControls(this.magicWindowObject);\n      if (typeof DeviceOrientationEvent !== 'undefined' && DeviceOrientationEvent.requestPermission) {\n        magicWindowControls.enabled = false;\n        if (this.el.sceneEl.components['device-orientation-permission-ui'].permissionGranted) {\n          magicWindowControls.enabled = data.magicWindowTrackingEnabled;\n        } else {\n          this.el.sceneEl.addEventListener('deviceorientationpermissiongranted', function () {\n            magicWindowControls.enabled = data.magicWindowTrackingEnabled;\n          });\n        }\n      }\n    }\n  },\n\n  update: function (oldData) {\n    var data = this.data;\n\n    // Disable grab cursor classes if no longer enabled.\n    if (data.enabled !== oldData.enabled) {\n      this.updateGrabCursor(data.enabled);\n    }\n\n    // Reset magic window eulers if tracking is disabled.\n    if (oldData && !data.magicWindowTrackingEnabled && oldData.magicWindowTrackingEnabled) {\n      this.magicWindowAbsoluteEuler.set(0, 0, 0);\n      this.magicWindowDeltaEuler.set(0, 0, 0);\n    }\n\n    // Pass on magic window tracking setting to magicWindowControls.\n    if (this.magicWindowControls) {\n      this.magicWindowControls.enabled = data.magicWindowTrackingEnabled;\n    }\n\n    if (oldData && !data.pointerLockEnabled !== oldData.pointerLockEnabled) {\n      this.removeEventListeners();\n      this.addEventListeners();\n      if (this.pointerLocked) { this.exitPointerLock(); }\n    }\n  },\n\n  tick: function (t) {\n    var data = this.data;\n    if (!data.enabled) { return; }\n    this.updateOrientation();\n  },\n\n  play: function () {\n    this.addEventListeners();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    if (this.pointerLocked) { this.exitPointerLock(); }\n  },\n\n  remove: function () {\n    this.removeEventListeners();\n    if (this.pointerLocked) { this.exitPointerLock(); }\n  },\n\n  bindMethods: function () {\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchMove = this.onTouchMove.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n    this.onEnterVR = this.onEnterVR.bind(this);\n    this.onExitVR = this.onExitVR.bind(this);\n    this.onPointerLockChange = this.onPointerLockChange.bind(this);\n    this.onPointerLockError = this.onPointerLockError.bind(this);\n  },\n\n /**\n  * Set up states and Object3Ds needed to store rotation data.\n  */\n  setupMouseControls: function () {\n    this.mouseDown = false;\n    this.pitchObject = new THREE.Object3D();\n    this.yawObject = new THREE.Object3D();\n    this.yawObject.position.y = 10;\n    this.yawObject.add(this.pitchObject);\n  },\n\n  /**\n   * Add mouse and touch event listeners to canvas.\n   */\n  addEventListeners: function () {\n    var sceneEl = this.el.sceneEl;\n    var canvasEl = sceneEl.canvas;\n\n    // Wait for canvas to load.\n    if (!canvasEl) {\n      sceneEl.addEventListener('render-target-loaded', this.addEventListeners.bind(this));\n      return;\n    }\n\n    // Mouse events.\n    canvasEl.addEventListener('mousedown', this.onMouseDown, false);\n    window.addEventListener('mousemove', this.onMouseMove, false);\n    window.addEventListener('mouseup', this.onMouseUp, false);\n\n    // Touch events.\n    canvasEl.addEventListener('touchstart', this.onTouchStart, {passive: true});\n    window.addEventListener('touchmove', this.onTouchMove, {passive: true});\n    window.addEventListener('touchend', this.onTouchEnd, {passive: true});\n\n    // sceneEl events.\n    sceneEl.addEventListener('enter-vr', this.onEnterVR);\n    sceneEl.addEventListener('exit-vr', this.onExitVR);\n\n    // Pointer Lock events.\n    if (this.data.pointerLockEnabled) {\n      document.addEventListener('pointerlockchange', this.onPointerLockChange, false);\n      document.addEventListener('mozpointerlockchange', this.onPointerLockChange, false);\n      document.addEventListener('pointerlockerror', this.onPointerLockError, false);\n    }\n  },\n\n  /**\n   * Remove mouse and touch event listeners from canvas.\n   */\n  removeEventListeners: function () {\n    var sceneEl = this.el.sceneEl;\n    var canvasEl = sceneEl && sceneEl.canvas;\n\n    if (!canvasEl) { return; }\n\n    // Mouse events.\n    canvasEl.removeEventListener('mousedown', this.onMouseDown);\n    window.removeEventListener('mousemove', this.onMouseMove);\n    window.removeEventListener('mouseup', this.onMouseUp);\n\n    // Touch events.\n    canvasEl.removeEventListener('touchstart', this.onTouchStart);\n    window.removeEventListener('touchmove', this.onTouchMove);\n    window.removeEventListener('touchend', this.onTouchEnd);\n\n    // sceneEl events.\n    sceneEl.removeEventListener('enter-vr', this.onEnterVR);\n    sceneEl.removeEventListener('exit-vr', this.onExitVR);\n\n    // Pointer Lock events.\n    document.removeEventListener('pointerlockchange', this.onPointerLockChange, false);\n    document.removeEventListener('mozpointerlockchange', this.onPointerLockChange, false);\n    document.removeEventListener('pointerlockerror', this.onPointerLockError, false);\n  },\n\n  /**\n   * Update orientation for mobile, mouse drag, and headset.\n   * Mouse-drag only enabled if HMD is not active.\n   */\n  updateOrientation: function () {\n    var object3D = this.el.object3D;\n    var pitchObject = this.pitchObject;\n    var yawObject = this.yawObject;\n    var sceneEl = this.el.sceneEl;\n\n    // In VR or AR mode, THREE is in charge of updating the camera pose.\n    if ((sceneEl.is('vr-mode') || sceneEl.is('ar-mode')) && sceneEl.checkHeadsetConnected()) {\n      // With WebXR THREE applies headset pose to the object3D internally.\n      return;\n    }\n\n    this.updateMagicWindowOrientation();\n\n    // On mobile, do camera rotation with touch events and sensors.\n    object3D.rotation.x = this.magicWindowDeltaEuler.x + pitchObject.rotation.x;\n    object3D.rotation.y = this.magicWindowDeltaEuler.y + yawObject.rotation.y;\n    object3D.rotation.z = this.magicWindowDeltaEuler.z;\n  },\n\n  updateMagicWindowOrientation: function () {\n    var magicWindowAbsoluteEuler = this.magicWindowAbsoluteEuler;\n    var magicWindowDeltaEuler = this.magicWindowDeltaEuler;\n    // Calculate magic window HMD quaternion.\n    if (this.magicWindowControls && this.magicWindowControls.enabled) {\n      this.magicWindowControls.update();\n      magicWindowAbsoluteEuler.setFromQuaternion(this.magicWindowObject.quaternion, 'YXZ');\n      if (!this.previousMagicWindowYaw && magicWindowAbsoluteEuler.y !== 0) {\n        this.previousMagicWindowYaw = magicWindowAbsoluteEuler.y;\n      }\n      if (this.previousMagicWindowYaw) {\n        magicWindowDeltaEuler.x = magicWindowAbsoluteEuler.x;\n        magicWindowDeltaEuler.y += magicWindowAbsoluteEuler.y - this.previousMagicWindowYaw;\n        magicWindowDeltaEuler.z = magicWindowAbsoluteEuler.z;\n        this.previousMagicWindowYaw = magicWindowAbsoluteEuler.y;\n      }\n    }\n  },\n\n  /**\n   * Translate mouse drag into rotation.\n   *\n   * Dragging up and down rotates the camera around the X-axis (yaw).\n   * Dragging left and right rotates the camera around the Y-axis (pitch).\n   */\n  onMouseMove: function (evt) {\n    var direction;\n    var movementX;\n    var movementY;\n    var pitchObject = this.pitchObject;\n    var previousMouseEvent = this.previousMouseEvent;\n    var yawObject = this.yawObject;\n\n    // Not dragging or not enabled.\n    if (!this.data.enabled || (!this.mouseDown && !this.pointerLocked)) { return; }\n\n    // Calculate delta.\n    if (this.pointerLocked) {\n      movementX = evt.movementX || evt.mozMovementX || 0;\n      movementY = evt.movementY || evt.mozMovementY || 0;\n    } else {\n      movementX = evt.screenX - previousMouseEvent.screenX;\n      movementY = evt.screenY - previousMouseEvent.screenY;\n    }\n    this.previousMouseEvent.screenX = evt.screenX;\n    this.previousMouseEvent.screenY = evt.screenY;\n\n    // Calculate rotation.\n    direction = this.data.reverseMouseDrag ? 1 : -1;\n    yawObject.rotation.y += movementX * 0.002 * direction;\n    pitchObject.rotation.x += movementY * 0.002 * direction;\n    pitchObject.rotation.x = Math.max(-PI_2, Math.min(PI_2, pitchObject.rotation.x));\n  },\n\n  /**\n   * Register mouse down to detect mouse drag.\n   */\n  onMouseDown: function (evt) {\n    var sceneEl = this.el.sceneEl;\n    if (!this.data.enabled || !this.data.mouseEnabled || ((sceneEl.is('vr-mode') || sceneEl.is('ar-mode')) && sceneEl.checkHeadsetConnected())) { return; }\n    // Handle only primary button.\n    if (evt.button !== 0) { return; }\n\n    var canvasEl = sceneEl && sceneEl.canvas;\n\n    this.mouseDown = true;\n    this.previousMouseEvent.screenX = evt.screenX;\n    this.previousMouseEvent.screenY = evt.screenY;\n    this.showGrabbingCursor();\n\n    if (this.data.pointerLockEnabled && !this.pointerLocked) {\n      if (canvasEl.requestPointerLock) {\n        canvasEl.requestPointerLock();\n      } else if (canvasEl.mozRequestPointerLock) {\n        canvasEl.mozRequestPointerLock();\n      }\n    }\n  },\n\n  /**\n   * Shows grabbing cursor on scene\n   */\n  showGrabbingCursor: function () {\n    this.el.sceneEl.canvas.style.cursor = 'grabbing';\n  },\n\n  /**\n   * Hides grabbing cursor on scene\n   */\n  hideGrabbingCursor: function () {\n    this.el.sceneEl.canvas.style.cursor = '';\n  },\n\n  /**\n   * Register mouse up to detect release of mouse drag.\n   */\n  onMouseUp: function () {\n    this.mouseDown = false;\n    this.hideGrabbingCursor();\n  },\n\n  /**\n   * Register touch down to detect touch drag.\n   */\n  onTouchStart: function (evt) {\n    if (evt.touches.length !== 1 ||\n        !this.data.touchEnabled ||\n        this.el.sceneEl.is('vr-mode') ||\n        this.el.sceneEl.is('ar-mode')) { return; }\n    this.touchStart = {\n      x: evt.touches[0].pageX,\n      y: evt.touches[0].pageY\n    };\n    this.touchStarted = true;\n  },\n\n  /**\n   * Translate touch move to Y-axis rotation.\n   */\n  onTouchMove: function (evt) {\n    var direction;\n    var canvas = this.el.sceneEl.canvas;\n    var deltaY;\n    var yawObject = this.yawObject;\n\n    if (!this.touchStarted || !this.data.touchEnabled) { return; }\n\n    deltaY = 2 * Math.PI * (evt.touches[0].pageX - this.touchStart.x) / canvas.clientWidth;\n\n    direction = this.data.reverseTouchDrag ? 1 : -1;\n    // Limit touch orientation to to yaw (y axis).\n    yawObject.rotation.y -= deltaY * 0.5 * direction;\n    this.touchStart = {\n      x: evt.touches[0].pageX,\n      y: evt.touches[0].pageY\n    };\n  },\n\n  /**\n   * Register touch end to detect release of touch drag.\n   */\n  onTouchEnd: function () {\n    this.touchStarted = false;\n  },\n\n  /**\n   * Save pose.\n   */\n  onEnterVR: function () {\n    var sceneEl = this.el.sceneEl;\n    if (!sceneEl.checkHeadsetConnected()) { return; }\n    this.saveCameraPose();\n    this.el.object3D.position.set(0, 0, 0);\n    this.el.object3D.rotation.set(0, 0, 0);\n    if (sceneEl.hasWebXR) {\n      this.el.object3D.matrixAutoUpdate = false;\n      this.el.object3D.updateMatrix();\n    }\n  },\n\n  /**\n   * Restore the pose.\n   */\n  onExitVR: function () {\n    if (!this.el.sceneEl.checkHeadsetConnected()) { return; }\n    this.restoreCameraPose();\n    this.previousHMDPosition.set(0, 0, 0);\n    this.el.object3D.matrixAutoUpdate = true;\n  },\n\n  /**\n   * Update Pointer Lock state.\n   */\n  onPointerLockChange: function () {\n    this.pointerLocked = !!(document.pointerLockElement || document.mozPointerLockElement);\n  },\n\n  /**\n   * Recover from Pointer Lock error.\n   */\n  onPointerLockError: function () {\n    this.pointerLocked = false;\n  },\n\n  // Exits pointer-locked mode.\n  exitPointerLock: function () {\n    document.exitPointerLock();\n    this.pointerLocked = false;\n  },\n\n  /**\n   * Toggle the feature of showing/hiding the grab cursor.\n   */\n  updateGrabCursor: function (enabled) {\n    var sceneEl = this.el.sceneEl;\n\n    function enableGrabCursor () { sceneEl.canvas.classList.add('a-grab-cursor'); }\n    function disableGrabCursor () { sceneEl.canvas.classList.remove('a-grab-cursor'); }\n\n    if (!sceneEl.canvas) {\n      if (enabled) {\n        sceneEl.addEventListener('render-target-loaded', enableGrabCursor);\n      } else {\n        sceneEl.addEventListener('render-target-loaded', disableGrabCursor);\n      }\n      return;\n    }\n\n    if (enabled) {\n      enableGrabCursor();\n      return;\n    }\n    disableGrabCursor();\n  },\n\n  /**\n   * Save camera pose before entering VR to restore later if exiting.\n   */\n  saveCameraPose: function () {\n    var el = this.el;\n\n    this.savedPose.position.copy(el.object3D.position);\n    this.savedPose.rotation.copy(el.object3D.rotation);\n    this.hasSavedPose = true;\n  },\n\n  /**\n   * Reset camera pose to before entering VR.\n   */\n  restoreCameraPose: function () {\n    var el = this.el;\n    var savedPose = this.savedPose;\n\n    if (!this.hasSavedPose) { return; }\n\n    // Reset camera orientation.\n    el.object3D.position.copy(savedPose.position);\n    el.object3D.rotation.copy(savedPose.rotation);\n    this.hasSavedPose = false;\n  }\n});\n","import { registerComponent } from '../core/component.js';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\nimport { checkControllerPresentAndSetup, emitIfAxesChanged, onButtonEvent } from '../utils/tracked-controls.js';\n\n// See Profiles Registry:\n// https://github.com/immersive-web/webxr-input-profiles/tree/master/packages/registry\n// TODO: Add a more robust system for deriving gamepad name.\nvar GAMEPAD_ID_PREFIX = 'magicleap';\nvar GAMEPAD_ID_SUFFIX = '-one';\nvar GAMEPAD_ID_COMPOSITE = GAMEPAD_ID_PREFIX + GAMEPAD_ID_SUFFIX;\nvar MAGICLEAP_CONTROLLER_MODEL_GLB_URL = AFRAME_CDN_ROOT + 'controllers/magicleap/magicleap-one-controller.glb';\n\n/**\n * Button IDs:\n * 0 - trigger\n * 1 - grip\n * 2 - touchpad\n * 3 - menu (never dispatched on this layer)\n *\n * Axis:\n * 0 - touchpad x axis\n * 1 - touchpad y axis\n */\nvar INPUT_MAPPING_WEBXR = {\n  axes: {touchpad: [0, 1]},\n  buttons: ['trigger', 'grip', 'touchpad', 'menu']\n};\n\n/**\n * Magic Leap Controls\n * Interface with Magic Leap control and map Gamepad events to controller\n * buttons: trigger, grip, touchpad, and menu.\n * Load a controller model.\n */\nexport var Component = registerComponent('magicleap-controls', {\n  schema: {\n    hand: {default: 'none'},\n    model: {default: true}\n  },\n\n  mapping: INPUT_MAPPING_WEBXR,\n\n  init: function () {\n    var self = this;\n    this.controllerPresent = false;\n    this.onButtonChanged = this.onButtonChanged.bind(this);\n    this.onButtonDown = function (evt) { onButtonEvent(evt.detail.id, 'down', self); };\n    this.onButtonUp = function (evt) { onButtonEvent(evt.detail.id, 'up', self); };\n    this.onButtonTouchEnd = function (evt) { onButtonEvent(evt.detail.id, 'touchend', self); };\n    this.onButtonTouchStart = function (evt) { onButtonEvent(evt.detail.id, 'touchstart', self); };\n    this.previousButtonValues = {};\n\n    this.bindMethods();\n  },\n\n  update: function () {\n    var data = this.data;\n    this.controllerIndex = data.hand === 'right' ? 0 : data.hand === 'left' ? 1 : 2;\n  },\n\n  play: function () {\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  bindMethods: function () {\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this);\n    this.onAxisMoved = this.onAxisMoved.bind(this);\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('buttonchanged', this.onButtonChanged);\n    el.addEventListener('buttondown', this.onButtonDown);\n    el.addEventListener('buttonup', this.onButtonUp);\n    el.addEventListener('touchstart', this.onButtonTouchStart);\n    el.addEventListener('touchend', this.onButtonTouchEnd);\n    el.addEventListener('axismove', this.onAxisMoved);\n    el.addEventListener('model-loaded', this.onModelLoaded);\n    this.controllerEventsActive = true;\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('buttonchanged', this.onButtonChanged);\n    el.removeEventListener('buttondown', this.onButtonDown);\n    el.removeEventListener('buttonup', this.onButtonUp);\n    el.removeEventListener('touchstart', this.onButtonTouchStart);\n    el.removeEventListener('touchend', this.onButtonTouchEnd);\n    el.removeEventListener('axismove', this.onAxisMoved);\n    el.removeEventListener('model-loaded', this.onModelLoaded);\n    this.controllerEventsActive = false;\n  },\n\n  checkIfControllerPresent: function () {\n    var data = this.data;\n    checkControllerPresentAndSetup(this, GAMEPAD_ID_COMPOSITE,\n                                   {index: this.controllerIndex, hand: data.hand});\n  },\n\n  injectTrackedControls: function () {\n    var el = this.el;\n    var data = this.data;\n\n    el.setAttribute('tracked-controls', {\n      // TODO: verify expected behavior between reserved prefixes.\n      idPrefix: GAMEPAD_ID_COMPOSITE,\n      hand: data.hand,\n      controller: this.controllerIndex\n    });\n\n    // Load model.\n    if (!this.data.model) { return; }\n    this.el.setAttribute('gltf-model', MAGICLEAP_CONTROLLER_MODEL_GLB_URL);\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    // Note that due to gamepadconnected event propagation issues, we don't rely on events.\n    this.checkIfControllerPresent();\n  },\n\n  /**\n   * Rotate the trigger button based on how hard the trigger is pressed.\n   */\n  onButtonChanged: function (evt) {\n    var button = this.mapping.buttons[evt.detail.id];\n    var analogValue;\n\n    if (!button) { return; }\n    if (button === 'trigger') {\n      analogValue = evt.detail.state.value;\n      console.log('analog value of trigger press: ' + analogValue);\n    }\n\n    // Pass along changed event with button state, using button mapping for convenience.\n    this.el.emit(button + 'changed', evt.detail.state);\n  },\n\n  onModelLoaded: function (evt) {\n    var controllerObject3D = evt.detail.model;\n    // our glb scale is too large.\n    controllerObject3D.scale.set(0.01, 0.01, 0.01);\n  },\n\n  onAxisMoved: function (evt) {\n    emitIfAxesChanged(this, this.mapping.axes, evt);\n  },\n\n  updateModel: function (buttonName, evtName) {},\n\n  setButtonColor: function (buttonName, color) {}\n\n});\n","import * as THREE from 'three';\nimport * as utils from '../utils/index.js';\nimport { registerComponent } from '../core/component.js';\nimport { shaders, shaderNames } from '../core/shader.js';\n\nvar error = utils.debug('components:material:error');\n\n/**\n * Material component.\n *\n * @member {object} shader - Determines how material is shaded. Defaults to `standard`,\n *         three.js's implementation of PBR. Another standard shading model is `flat` which\n *         uses MeshBasicMaterial.\n */\nexport var Component = registerComponent('material', {\n  schema: {\n    alphaTest: {default: 0.0, min: 0.0, max: 1.0},\n    depthTest: {default: true},\n    depthWrite: {default: true},\n    flatShading: {default: false},\n    npot: {default: false},\n    offset: {type: 'vec2', default: {x: 0, y: 0}},\n    opacity: {default: 1.0, min: 0.0, max: 1.0},\n    repeat: {type: 'vec2', default: {x: 1, y: 1}},\n    shader: {default: 'standard', oneOf: shaderNames, schemaChange: true},\n    side: {default: 'front', oneOf: ['front', 'back', 'double']},\n    transparent: {default: false},\n    vertexColorsEnabled: {default: false},\n    visible: {default: true},\n    blending: {default: 'normal', oneOf: ['none', 'normal', 'additive', 'subtractive', 'multiply']},\n    dithering: {default: true},\n    anisotropy: {default: 0, min: 0}\n  },\n\n  init: function () {\n    this.material = null;\n  },\n\n  /**\n   * Update or create material.\n   *\n   * @param {object|null} oldData\n   */\n  update: function (oldData) {\n    var data = this.data;\n    if (!this.shader || data.shader !== oldData.shader) {\n      this.updateShader(data.shader);\n    }\n    this.shader.update(this.data);\n    this.updateMaterial(oldData);\n  },\n\n  updateSchema: function (data) {\n    var currentShader;\n    var newShader;\n    var schema;\n    var shader;\n\n    newShader = data && data.shader;\n    currentShader = this.oldData && this.oldData.shader;\n    shader = newShader || currentShader;\n    schema = shaders[shader] && shaders[shader].schema;\n\n    if (!schema) { error('Unknown shader schema ' + shader); }\n    if (currentShader && newShader === currentShader) { return; }\n    this.extendSchema(schema);\n    this.updateBehavior();\n  },\n\n  updateBehavior: function () {\n    var key;\n    var sceneEl = this.el.sceneEl;\n    var schema = this.schema;\n    var self = this;\n    var tickProperties;\n\n    function tickTime (time, delta) {\n      var key;\n      for (key in tickProperties) {\n        tickProperties[key] = time;\n      }\n      self.shader.update(tickProperties);\n    }\n\n    this.tick = undefined;\n\n    tickProperties = {};\n    for (key in schema) {\n      if (schema[key].type === 'time') {\n        this.tick = tickTime;\n        tickProperties[key] = true;\n      }\n    }\n\n    if (!sceneEl) { return; }\n    if (this.tick) {\n      sceneEl.addBehavior(this);\n    } else {\n      sceneEl.removeBehavior(this);\n    }\n  },\n\n  updateShader: function (shaderName) {\n    var data = this.data;\n    var Shader = shaders[shaderName] && shaders[shaderName].Shader;\n    var shaderInstance;\n\n    if (!Shader) { throw new Error('Unknown shader ' + shaderName); }\n\n    // Get material from A-Frame shader.\n    shaderInstance = this.shader = new Shader();\n    shaderInstance.el = this.el;\n    shaderInstance.init(data);\n    this.setMaterial(shaderInstance.material);\n    this.updateSchema(data);\n  },\n\n  /**\n   * Set and update base material properties.\n   * Set `needsUpdate` when needed.\n   */\n  updateMaterial: function (oldData) {\n    var data = this.data;\n    var material = this.material;\n    var oldDataHasKeys;\n\n    // Base material properties.\n    material.alphaTest = data.alphaTest;\n    material.depthTest = data.depthTest !== false;\n    material.depthWrite = data.depthWrite !== false;\n    material.opacity = data.opacity;\n    material.flatShading = data.flatShading;\n    material.side = parseSide(data.side);\n    material.transparent = data.transparent !== false || data.opacity < 1.0;\n    material.vertexColors = data.vertexColorsEnabled;\n    material.visible = data.visible;\n    material.blending = parseBlending(data.blending);\n    material.dithering = data.dithering;\n\n    // Check if material needs update.\n    for (oldDataHasKeys in oldData) { break; }\n    if (oldDataHasKeys &&\n        (oldData.alphaTest !== data.alphaTest ||\n         oldData.side !== data.side ||\n         oldData.vertexColorsEnabled !== data.vertexColorsEnabled)) {\n      material.needsUpdate = true;\n    }\n  },\n\n  /**\n   * Remove material on remove (callback).\n   * Dispose of it from memory and unsubscribe from scene updates.\n   */\n  remove: function () {\n    var defaultMaterial = new THREE.MeshBasicMaterial();\n    var material = this.material;\n    var object3D = this.el.getObject3D('mesh');\n    if (object3D) { object3D.material = defaultMaterial; }\n    disposeMaterial(material, this.system);\n  },\n\n  /**\n   * (Re)create new material. Has side-effects of setting `this.material` and updating\n   * material registration in scene.\n   *\n   * @param {THREE.Material} material - Material to register.\n   */\n  setMaterial: function (material) {\n    var el = this.el;\n    var mesh;\n    var system = this.system;\n\n    if (this.material) { disposeMaterial(this.material, system); }\n\n    this.material = material;\n    system.registerMaterial(material);\n\n    // Set on mesh. If mesh does not exist, wait for it.\n    mesh = el.getObject3D('mesh');\n    if (mesh) {\n      mesh.material = material;\n    } else {\n      el.addEventListener('object3dset', function waitForMesh (evt) {\n        if (evt.detail.type !== 'mesh' || evt.target !== el) { return; }\n        el.getObject3D('mesh').material = material;\n        el.removeEventListener('object3dset', waitForMesh);\n      });\n    }\n  }\n});\n\n/**\n * Return a three.js constant determining which material face sides to render\n * based on the side parameter (passed as a component property).\n *\n * @param {string} [side=front] - `front`, `back`, or `double`.\n * @returns {number} THREE.FrontSide, THREE.BackSide, or THREE.DoubleSide.\n */\nfunction parseSide (side) {\n  switch (side) {\n    case 'back': {\n      return THREE.BackSide;\n    }\n    case 'double': {\n      return THREE.DoubleSide;\n    }\n    default: {\n      // Including case `front`.\n      return THREE.FrontSide;\n    }\n  }\n}\n\n/**\n * Return a three.js constant determining blending\n *\n * @param {string} [blending=normal] - `none`, additive`, `subtractive`,`multiply` or `normal`.\n * @returns {number}\n */\nfunction parseBlending (blending) {\n  switch (blending) {\n    case 'none': {\n      return THREE.NoBlending;\n    }\n    case 'additive': {\n      return THREE.AdditiveBlending;\n    }\n    case 'subtractive': {\n      return THREE.SubtractiveBlending;\n    }\n    case 'multiply': {\n      return THREE.MultiplyBlending;\n    }\n    default: {\n      return THREE.NormalBlending;\n    }\n  }\n}\n\n/**\n * Dispose of material from memory and unsubscribe material from scene updates like fog.\n */\nfunction disposeMaterial (material, system) {\n  material.dispose();\n  system.unregisterMaterial(material);\n\n  // Dispose textures on this material\n  Object.keys(material)\n    .filter(function (propName) {\n      return material[propName] && material[propName].isTexture;\n    })\n    .forEach(function (mapName) {\n      material[mapName].dispose();\n    });\n}\n","import * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\nimport { checkControllerPresentAndSetup, emitIfAxesChanged, onButtonEvent } from '../utils/tracked-controls.js';\n\n// Prefix for Gen1 and Gen2 Oculus Touch Controllers.\nvar GAMEPAD_ID_PREFIX = 'oculus-touch';\n\n// First generation model URL.\nvar TOUCH_CONTROLLER_MODEL_BASE_URL = AFRAME_CDN_ROOT + 'controllers/oculus/oculus-touch-controller-';\nvar META_CONTROLLER_MODEL_BASE_URL = AFRAME_CDN_ROOT + 'controllers/meta/';\n\nvar OCULUS_TOUCH_CONFIG = {\n  left: {\n    modelUrl: TOUCH_CONTROLLER_MODEL_BASE_URL + 'left.gltf',\n    rayOrigin: {origin: {x: 0.002, y: -0.005, z: -0.03}, direction: {x: 0, y: -0.8, z: -1}},\n    modelPivotOffset: new THREE.Vector3(-0.005, 0.036, -0.037),\n    modelPivotRotation: new THREE.Euler(Math.PI / 4.5, 0, 0)\n  },\n  right: {\n    modelUrl: TOUCH_CONTROLLER_MODEL_BASE_URL + 'right.gltf',\n    rayOrigin: {origin: {x: -0.002, y: -0.005, z: -0.03}, direction: {x: 0, y: -0.8, z: -1}},\n    modelPivotOffset: new THREE.Vector3(0.005, 0.036, -0.037),\n    modelPivotRotation: new THREE.Euler(Math.PI / 4.5, 0, 0)\n  }\n};\n\nvar CONTROLLER_DEFAULT = 'oculus-touch';\nvar CONTROLLER_PROPERTIES = {\n  'oculus-touch': OCULUS_TOUCH_CONFIG,\n  'oculus-touch-v2': {\n    left: {\n      modelUrl: TOUCH_CONTROLLER_MODEL_BASE_URL + 'gen2-left.gltf',\n      rayOrigin: {origin: {x: -0.006, y: -0.03, z: -0.04}, direction: {x: 0, y: -0.9, z: -1}},\n      modelPivotOffset: new THREE.Vector3(0, -0.007, -0.021),\n      modelPivotRotation: new THREE.Euler(-Math.PI / 4, 0, 0)\n    },\n    right: {\n      modelUrl: TOUCH_CONTROLLER_MODEL_BASE_URL + 'gen2-right.gltf',\n      rayOrigin: {origin: {x: 0.006, y: -0.03, z: -0.04}, direction: {x: 0, y: -0.9, z: -1}},\n      modelPivotOffset: new THREE.Vector3(0, -0.007, -0.021),\n      modelPivotRotation: new THREE.Euler(-Math.PI / 4, 0, 0)\n    }\n  },\n  'oculus-touch-v3': {\n    left: {\n      modelUrl: TOUCH_CONTROLLER_MODEL_BASE_URL + 'v3-left.glb',\n      rayOrigin: {\n        origin: {x: 0.0065, y: -0.0186, z: -0.05},\n        direction: {x: 0.12394785839500175, y: -0.5944043672340157, z: -0.7945567170519814}\n      },\n      modelPivotOffset: new THREE.Vector3(0, 0, 0),\n      modelPivotRotation: new THREE.Euler(0, 0, 0)\n    },\n    right: {\n      modelUrl: TOUCH_CONTROLLER_MODEL_BASE_URL + 'v3-right.glb',\n      rayOrigin: {\n        origin: {x: -0.0065, y: -0.0186, z: -0.05},\n        direction: {x: -0.12394785839500175, y: -0.5944043672340157, z: -0.7945567170519814}\n      },\n      modelPivotOffset: new THREE.Vector3(0, 0, 0),\n      modelPivotRotation: new THREE.Euler(0, 0, 0)\n    }\n  },\n  'meta-quest-touch-pro': {\n    left: {\n      modelUrl: META_CONTROLLER_MODEL_BASE_URL + 'quest-touch-pro-left.glb',\n      rayOrigin: {\n        origin: {x: 0.0065, y: -0.0186, z: -0.05},\n        direction: {x: 0.12394785839500175, y: -0.5944043672340157, z: -0.7945567170519814}\n      },\n      modelPivotOffset: new THREE.Vector3(0, 0, 0),\n      modelPivotRotation: new THREE.Euler(0, 0, 0)\n    },\n    right: {\n      modelUrl: META_CONTROLLER_MODEL_BASE_URL + 'quest-touch-pro-right.glb',\n      rayOrigin: {\n        origin: {x: -0.0065, y: -0.0186, z: -0.05},\n        direction: {x: -0.12394785839500175, y: -0.5944043672340157, z: -0.7945567170519814}\n      },\n      modelPivotOffset: new THREE.Vector3(0, 0, 0),\n      modelPivotRotation: new THREE.Euler(0, 0, 0)\n    }\n  },\n  'meta-quest-touch-plus': {\n    left: {\n      modelUrl: META_CONTROLLER_MODEL_BASE_URL + 'quest-touch-plus-left.glb',\n      rayOrigin: {\n        origin: {x: 0.0065, y: -0.0186, z: -0.05},\n        direction: {x: 0.12394785839500175, y: -0.5944043672340157, z: -0.7945567170519814}\n      },\n      modelPivotOffset: new THREE.Vector3(0, 0, 0),\n      modelPivotRotation: new THREE.Euler(0, 0, 0)\n    },\n    right: {\n      modelUrl: META_CONTROLLER_MODEL_BASE_URL + 'quest-touch-plus-right.glb',\n      rayOrigin: {\n        origin: {x: -0.0065, y: -0.0186, z: -0.05},\n        direction: {x: -0.12394785839500175, y: -0.5944043672340157, z: -0.7945567170519814}\n      },\n      modelPivotOffset: new THREE.Vector3(0, 0, 0),\n      modelPivotRotation: new THREE.Euler(0, 0, 0)\n    }\n  }\n};\n\nvar INPUT_MAPPING = {\n  left: {\n    axes: {thumbstick: [2, 3]},\n    buttons: ['trigger', 'grip', 'none', 'thumbstick', 'xbutton', 'ybutton', 'surface']\n  },\n  right: {\n    axes: {thumbstick: [2, 3]},\n    buttons: ['trigger', 'grip', 'none', 'thumbstick', 'abutton', 'bbutton', 'surface']\n  }\n};\n\n/**\n * Meta Touch controls (formerly Oculus Touch)\n * Interface with Meta Touch controllers and map Gamepad events to\n * controller buttons: thumbstick, trigger, grip, xbutton, ybutton, surface\n * Load a controller model and highlight the pressed buttons.\n */\nvar componentConfig = {\n  schema: {\n    hand: {default: 'left'},\n    buttonColor: {type: 'color', default: '#999'},  // Off-white.\n    buttonTouchColor: {type: 'color', default: '#8AB'},\n    buttonHighlightColor: {type: 'color', default: '#2DF'},  // Light blue.\n    model: {default: true},\n    controllerType: {default: 'auto', oneOf: ['auto', 'oculus-touch', 'oculus-touch-v2', 'oculus-touch-v3']}\n  },\n\n  after: ['tracked-controls'],\n\n  mapping: INPUT_MAPPING,\n\n  bindMethods: function () {\n    this.onButtonChanged = this.onButtonChanged.bind(this);\n    this.onThumbstickMoved = this.onThumbstickMoved.bind(this);\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.onAxisMoved = this.onAxisMoved.bind(this);\n  },\n\n  init: function () {\n    var self = this;\n    this.onButtonDown = function (evt) { onButtonEvent(evt.detail.id, 'down', self, self.data.hand); };\n    this.onButtonUp = function (evt) { onButtonEvent(evt.detail.id, 'up', self, self.data.hand); };\n    this.onButtonTouchStart = function (evt) { onButtonEvent(evt.detail.id, 'touchstart', self, self.data.hand); };\n    this.onButtonTouchEnd = function (evt) { onButtonEvent(evt.detail.id, 'touchend', self, self.data.hand); };\n    this.controllerPresent = false;\n    this.previousButtonValues = {};\n    this.bindMethods();\n    this.triggerEuler = new THREE.Euler();\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('buttonchanged', this.onButtonChanged);\n    el.addEventListener('buttondown', this.onButtonDown);\n    el.addEventListener('buttonup', this.onButtonUp);\n    el.addEventListener('touchstart', this.onButtonTouchStart);\n    el.addEventListener('touchend', this.onButtonTouchEnd);\n    el.addEventListener('axismove', this.onAxisMoved);\n    el.addEventListener('model-loaded', this.onModelLoaded);\n    el.addEventListener('thumbstickmoved', this.onThumbstickMoved);\n    this.controllerEventsActive = true;\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('buttonchanged', this.onButtonChanged);\n    el.removeEventListener('buttondown', this.onButtonDown);\n    el.removeEventListener('buttonup', this.onButtonUp);\n    el.removeEventListener('touchstart', this.onButtonTouchStart);\n    el.removeEventListener('touchend', this.onButtonTouchEnd);\n    el.removeEventListener('axismove', this.onAxisMoved);\n    el.removeEventListener('model-loaded', this.onModelLoaded);\n    el.removeEventListener('thumbstickmoved', this.onThumbstickMoved);\n    this.controllerEventsActive = false;\n  },\n\n  checkIfControllerPresent: function () {\n    var controllerObject3D = this.controllerObject3D;\n    if (controllerObject3D) { controllerObject3D.visible = false; }\n    checkControllerPresentAndSetup(this, GAMEPAD_ID_PREFIX, {\n      hand: this.data.hand,\n      iterateControllerProfiles: true\n    });\n  },\n\n  play: function () {\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  loadModel: function (controller) {\n    var data = this.data;\n    var controllerId;\n    if (!data.model) { return; }\n\n    // If model has been already loaded\n    if (this.controllerObject3D) {\n      this.controllerObject3D.visible = true;\n      this.el.setObject3D('mesh', this.controllerObject3D);\n      return;\n    }\n\n    // Set the controller display model based on the data passed in.\n    this.displayModel = CONTROLLER_PROPERTIES[data.controllerType] || CONTROLLER_PROPERTIES[CONTROLLER_DEFAULT];\n    // If the developer is asking for auto-detection, use the retrieved displayName to identify the specific unit.\n    if (data.controllerType === 'auto') {\n      controllerId = CONTROLLER_DEFAULT;\n      var controllersPropertiesIds = Object.keys(CONTROLLER_PROPERTIES);\n      for (var i = 0; i < controller.profiles.length; i++) {\n        if (controllersPropertiesIds.indexOf(controller.profiles[i]) !== -1) {\n          controllerId = controller.profiles[i];\n          break;\n        }\n      }\n      this.displayModel = CONTROLLER_PROPERTIES[controllerId];\n    }\n    var modelUrl = this.displayModel[data.hand].modelUrl;\n    this.isTouchV3orPROorPlus =\n      this.displayModel === CONTROLLER_PROPERTIES['oculus-touch-v3'] ||\n      this.displayModel === CONTROLLER_PROPERTIES['meta-quest-touch-pro'] ||\n      this.displayModel === CONTROLLER_PROPERTIES['meta-quest-touch-plus'];\n    this.el.setAttribute('gltf-model', modelUrl);\n  },\n\n  injectTrackedControls: function (controller) {\n    var data = this.data;\n    var id = GAMEPAD_ID_PREFIX;\n    this.el.setAttribute('tracked-controls', {\n      id: id,\n      hand: data.hand,\n      handTrackingEnabled: false,\n      iterateControllerProfiles: true\n    });\n    this.loadModel(controller);\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    this.checkIfControllerPresent();\n  },\n\n  onButtonChanged: function (evt) {\n    var button = this.mapping[this.data.hand].buttons[evt.detail.id];\n    if (!button) { return; }\n    // move the button meshes\n    if (this.isTouchV3orPROorPlus) {\n      this.onButtonChangedV3orPROorPlus(evt);\n    } else {\n      var buttonMeshes = this.buttonMeshes;\n      var analogValue;\n\n      if (button === 'trigger' || button === 'grip') { analogValue = evt.detail.state.value; }\n\n      if (buttonMeshes) {\n        if (button === 'trigger' && buttonMeshes.trigger) {\n          buttonMeshes.trigger.rotation.x = this.originalXRotationTrigger - analogValue * (Math.PI / 26);\n        }\n        if (button === 'grip' && buttonMeshes.grip) {\n          analogValue *= this.data.hand === 'left' ? -1 : 1;\n          buttonMeshes.grip.position.x = this.originalXPositionGrip + analogValue * 0.004;\n        }\n      }\n    }\n    // Pass along changed event with button state, using the button mapping for convenience.\n    this.el.emit(button + 'changed', evt.detail.state);\n  },\n\n  onButtonChangedV3orPROorPlus: function (evt) {\n    var button = this.mapping[this.data.hand].buttons[evt.detail.id];\n    var buttonObjects = this.buttonObjects;\n    var analogValue;\n    if (!buttonObjects || !buttonObjects[button]) { return; }\n    analogValue = evt.detail.state.value;\n    buttonObjects[button].quaternion.slerpQuaternions(\n      this.buttonRanges[button].min.quaternion,\n      this.buttonRanges[button].max.quaternion,\n      analogValue\n    );\n\n    buttonObjects[button].position.lerpVectors(\n      this.buttonRanges[button].min.position,\n      this.buttonRanges[button].max.position,\n      analogValue\n    );\n  },\n\n  onModelLoaded: function (evt) {\n    if (evt.target !== this.el || !this.data.model) { return; }\n    if (this.isTouchV3orPROorPlus) {\n      this.onTouchV3orPROorPlusModelLoaded(evt);\n    } else {\n      // All oculus headset controller models prior to the Quest 2 (i.e., Oculus Touch V3)\n      // used a consistent format that is handled here\n      var controllerObject3D = this.controllerObject3D = evt.detail.model;\n      var buttonMeshes;\n\n      buttonMeshes = this.buttonMeshes = {};\n\n      buttonMeshes.grip = controllerObject3D.getObjectByName('buttonHand');\n      this.originalXPositionGrip = buttonMeshes.grip && buttonMeshes.grip.position.x;\n      buttonMeshes.trigger = controllerObject3D.getObjectByName('buttonTrigger');\n      this.originalXRotationTrigger = buttonMeshes.trigger && buttonMeshes.trigger.rotation.x;\n      buttonMeshes.thumbstick = controllerObject3D.getObjectByName('stick');\n      buttonMeshes.xbutton = controllerObject3D.getObjectByName('buttonX');\n      buttonMeshes.abutton = controllerObject3D.getObjectByName('buttonA');\n      buttonMeshes.ybutton = controllerObject3D.getObjectByName('buttonY');\n      buttonMeshes.bbutton = controllerObject3D.getObjectByName('buttonB');\n    }\n\n    for (var button in this.buttonMeshes) {\n      if (this.buttonMeshes[button]) {\n        cloneMeshMaterial(this.buttonMeshes[button]);\n      }\n    }\n\n    this.applyOffset(evt.detail.model);\n\n    this.el.emit('controllermodelready', {\n      name: 'meta-touch-controls',\n      model: this.data.model,\n      rayOrigin: this.displayModel[this.data.hand].rayOrigin\n    });\n  },\n\n  applyOffset: function (model) {\n    model.position.copy(this.displayModel[this.data.hand].modelPivotOffset);\n    model.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation);\n  },\n\n  onTouchV3orPROorPlusModelLoaded: function (evt) {\n    var controllerObject3D = this.controllerObject3D = evt.detail.model;\n\n    var buttonObjects = this.buttonObjects = {};\n    var buttonMeshes = this.buttonMeshes = {};\n    var buttonRanges = this.buttonRanges = {};\n\n    buttonMeshes.grip = controllerObject3D.getObjectByName('squeeze');\n    buttonObjects.grip = controllerObject3D.getObjectByName('xr_standard_squeeze_pressed_value');\n    buttonRanges.grip = {\n      min: controllerObject3D.getObjectByName('xr_standard_squeeze_pressed_min'),\n      max: controllerObject3D.getObjectByName('xr_standard_squeeze_pressed_max')\n    };\n    buttonObjects.grip.minX = buttonObjects.grip.position.x;\n\n    buttonMeshes.thumbstick = controllerObject3D.getObjectByName('thumbstick');\n    buttonObjects.thumbstick = controllerObject3D.getObjectByName('xr_standard_thumbstick_pressed_value');\n    buttonRanges.thumbstick = {\n      min: controllerObject3D.getObjectByName('xr_standard_thumbstick_pressed_min'),\n      max: controllerObject3D.getObjectByName('xr_standard_thumbstick_pressed_max')\n    };\n\n    buttonObjects.thumbstickXAxis = controllerObject3D.getObjectByName('xr_standard_thumbstick_xaxis_pressed_value');\n    buttonRanges.thumbstickXAxis = {\n      min: controllerObject3D.getObjectByName('xr_standard_thumbstick_xaxis_pressed_min'),\n      max: controllerObject3D.getObjectByName('xr_standard_thumbstick_xaxis_pressed_max')\n    };\n\n    buttonObjects.thumbstickYAxis = controllerObject3D.getObjectByName('xr_standard_thumbstick_yaxis_pressed_value');\n    buttonRanges.thumbstickYAxis = {\n      min: controllerObject3D.getObjectByName('xr_standard_thumbstick_yaxis_pressed_min'),\n      max: controllerObject3D.getObjectByName('xr_standard_thumbstick_yaxis_pressed_max')\n    };\n\n    buttonMeshes.trigger = controllerObject3D.getObjectByName('trigger');\n    buttonObjects.trigger = controllerObject3D.getObjectByName('xr_standard_trigger_pressed_value');\n    buttonRanges.trigger = {\n      min: controllerObject3D.getObjectByName('xr_standard_trigger_pressed_min'),\n      max: controllerObject3D.getObjectByName('xr_standard_trigger_pressed_max')\n    };\n    buttonRanges.trigger.diff = {\n      x: Math.abs(buttonRanges.trigger.max.rotation.x) - Math.abs(buttonRanges.trigger.min.rotation.x),\n      y: Math.abs(buttonRanges.trigger.max.rotation.y) - Math.abs(buttonRanges.trigger.min.rotation.y),\n      z: Math.abs(buttonRanges.trigger.max.rotation.z) - Math.abs(buttonRanges.trigger.min.rotation.z)\n    };\n\n    var button1 = this.data.hand === 'left' ? 'x' : 'a';\n    var button2 = this.data.hand === 'left' ? 'y' : 'b';\n    var button1id = button1 + 'button';\n    var button2id = button2 + 'button';\n\n    buttonMeshes[button1id] = controllerObject3D.getObjectByName(button1 + '_button');\n    buttonObjects[button1id] = controllerObject3D.getObjectByName(button1 + '_button_pressed_value');\n    buttonRanges[button1id] = {\n      min: controllerObject3D.getObjectByName(button1 + '_button_pressed_min'),\n      max: controllerObject3D.getObjectByName(button1 + '_button_pressed_max')\n    };\n\n    buttonMeshes[button2id] = controllerObject3D.getObjectByName(button2 + '_button');\n    buttonObjects[button2id] = controllerObject3D.getObjectByName(button2 + '_button_pressed_value');\n    buttonRanges[button2id] = {\n      min: controllerObject3D.getObjectByName(button2 + '_button_pressed_min'),\n      max: controllerObject3D.getObjectByName(button2 + '_button_pressed_max')\n    };\n  },\n\n  onAxisMoved: function (evt) {\n    emitIfAxesChanged(this, this.mapping[this.data.hand].axes, evt);\n  },\n\n  onThumbstickMoved: function (evt) {\n    if (!this.buttonMeshes || !this.buttonMeshes.thumbstick) { return; }\n    if (this.isTouchV3orPROorPlus) {\n      this.updateThumbstickTouchV3orPROorPlus(evt);\n      return;\n    }\n    for (var axis in evt.detail) {\n      this.buttonObjects.thumbstick.rotation[this.axisMap[axis]] =\n        this.buttonRanges.thumbstick.originalRotation[this.axisMap[axis]] -\n        (Math.PI / 8) *\n        evt.detail[axis] *\n        (axis === 'y' || this.data.hand === 'right' ? -1 : 1);\n    }\n  },\n  axisMap: {\n    y: 'x',\n    x: 'z'\n  },\n\n  updateThumbstickTouchV3orPROorPlus: function (evt) {\n    var normalizedXAxis = (evt.detail.x + 1.0) / 2.0;\n    this.buttonObjects.thumbstickXAxis.quaternion.slerpQuaternions(\n      this.buttonRanges.thumbstickXAxis.min.quaternion,\n      this.buttonRanges.thumbstickXAxis.max.quaternion,\n      normalizedXAxis\n    );\n\n    var normalizedYAxis = (evt.detail.y + 1.0) / 2.0;\n    this.buttonObjects.thumbstickYAxis.quaternion.slerpQuaternions(\n      this.buttonRanges.thumbstickYAxis.min.quaternion,\n      this.buttonRanges.thumbstickYAxis.max.quaternion,\n      normalizedYAxis\n    );\n  },\n\n  updateModel: function (buttonName, evtName) {\n    if (!this.data.model) { return; }\n    this.updateButtonModel(buttonName, evtName);\n  },\n\n  updateButtonModel: function (buttonName, state) {\n    // update the button mesh colors\n    var buttonMeshes = this.buttonMeshes;\n    var button;\n    var color;\n\n    if (!buttonMeshes) { return; }\n    if (buttonMeshes[buttonName]) {\n      color = (state === 'up' || state === 'touchend') ? buttonMeshes[buttonName].originalColor || this.data.buttonColor : state === 'touchstart' ? this.data.buttonTouchColor : this.data.buttonHighlightColor;\n      button = buttonMeshes[buttonName];\n      button.material.color.set(color);\n    }\n  }\n};\nregisterComponent('oculus-touch-controls', componentConfig);\nexport var Component = registerComponent('meta-touch-controls', componentConfig);\n\n/**\n * Some of the controller models share the same material for different parts (buttons, triggers...).\n * In order to change their color independently we have to create separate materials.\n */\nfunction cloneMeshMaterial (object3d) {\n  object3d.traverse(function (node) {\n    var newMaterial;\n    if (node.type !== 'Mesh') return;\n    newMaterial = node.material.clone();\n    object3d.originalColor = node.material.color;\n    node.material.dispose();\n    node.material = newMaterial;\n  });\n}\n","import * as THREE from 'three';\nimport { OBB } from 'three/addons/math/OBB.js';\nimport { registerComponent } from '../core/component.js';\n\nregisterComponent('obb-collider', {\n  schema: {\n    size: {default: 0},\n    trackedObject3D: {default: ''},\n    minimumColliderDimension: {default: 0.02},\n    centerModel: {default: false}\n  },\n\n  init: function () {\n    this.previousScale = new THREE.Vector3().copy(this.el.object3D.scale);\n    this.auxEuler = new THREE.Euler();\n\n    this.boundingBox = new THREE.Box3();\n    this.boundingBoxSize = new THREE.Vector3();\n    this.updateCollider = this.updateCollider.bind(this);\n\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.updateBoundingBox = this.updateBoundingBox.bind(this);\n\n    this.el.addEventListener('model-loaded', this.onModelLoaded);\n    this.updateCollider();\n\n    this.system.addCollider(this.el);\n  },\n\n  remove: function () {\n    this.system.removeCollider(this.el);\n  },\n\n  update: function () {\n    if (this.data.trackedObject3D) {\n      this.trackedObject3DPath = this.data.trackedObject3D.split('.');\n    }\n  },\n\n  onModelLoaded: function () {\n    if (this.data.centerModel) { this.centerModel(); }\n    this.updateCollider();\n  },\n\n  centerModel: function () {\n    var el = this.el;\n    var model = el.components['gltf-model'] && el.components['gltf-model'].model;\n    var box;\n    var center;\n\n    if (!model) { return; }\n    this.el.removeObject3D('mesh');\n    box = new THREE.Box3().setFromObject(model);\n    center = box.getCenter(new THREE.Vector3());\n    model.position.x += (model.position.x - center.x);\n    model.position.y += (model.position.y - center.y);\n    model.position.z += (model.position.z - center.z);\n    this.el.setObject3D('mesh', model);\n  },\n\n  updateCollider: function () {\n    var el = this.el;\n    var boundingBoxSize = this.boundingBoxSize;\n    var aabb = this.aabb = this.aabb || new OBB();\n    this.obb = this.obb || new OBB();\n\n    // Defer if entity has not yet loaded.\n    if (!el.hasLoaded) {\n      el.addEventListener('loaded', this.updateCollider);\n      return;\n    }\n\n    this.updateBoundingBox();\n    aabb.halfSize.copy(boundingBoxSize).multiplyScalar(0.5);\n\n    if (this.el.sceneEl.systems['obb-collider'].data.showColliders) {\n      this.showCollider();\n    }\n  },\n\n  showCollider: function () {\n    this.updateColliderMesh();\n    this.renderColliderMesh.visible = true;\n  },\n\n  updateColliderMesh: function () {\n    var renderColliderMesh = this.renderColliderMesh;\n    var boundingBoxSize = this.boundingBoxSize;\n    if (!renderColliderMesh) {\n      this.initColliderMesh();\n      return;\n    }\n\n    // Destroy current geometry.\n    renderColliderMesh.geometry.dispose();\n    renderColliderMesh.geometry = new THREE.BoxGeometry(boundingBoxSize.x, boundingBoxSize.y, boundingBoxSize.z);\n  },\n\n  hideCollider: function () {\n    if (!this.renderColliderMesh) { return; }\n    this.renderColliderMesh.visible = false;\n  },\n\n  initColliderMesh: function () {\n    var boundingBoxSize;\n    var renderColliderGeometry;\n    var renderColliderMesh;\n\n    boundingBoxSize = this.boundingBoxSize;\n    renderColliderGeometry = this.renderColliderGeometry = new THREE.BoxGeometry(boundingBoxSize.x, boundingBoxSize.y, boundingBoxSize.z);\n    renderColliderMesh = this.renderColliderMesh = new THREE.Mesh(renderColliderGeometry, new THREE.MeshLambertMaterial({color: 0x00ff00, side: THREE.DoubleSide}));\n    renderColliderMesh.matrixAutoUpdate = false;\n    renderColliderMesh.matrixWorldAutoUpdate = false;\n    // THREE scene forces matrix world update even if matrixWorldAutoUpdate set to false.\n    renderColliderMesh.updateMatrixWorld = function () { /* no op */ };\n    this.el.sceneEl.object3D.add(renderColliderMesh);\n  },\n\n  updateBoundingBox: (function () {\n    var auxPosition = new THREE.Vector3();\n    var auxScale = new THREE.Vector3();\n    var auxQuaternion = new THREE.Quaternion();\n    var identityQuaternion = new THREE.Quaternion();\n    var auxMatrix = new THREE.Matrix4();\n\n    return function () {\n      var auxEuler = this.auxEuler;\n      var boundingBox = this.boundingBox;\n      var size = this.data.size;\n      var trackedObject3D = this.trackedObject3D || this.el.object3D;\n      var boundingBoxSize = this.boundingBoxSize;\n      var minimumColliderDimension = this.data.minimumColliderDimension;\n\n      // user defined size takes precedence.\n      if (size) {\n        this.boundingBoxSize.x = size;\n        this.boundingBoxSize.y = size;\n        this.boundingBoxSize.z = size;\n        return;\n      }\n\n      // Bounding box is created axis-aligned AABB.\n      // If there's any rotation the box will have the wrong size.\n      // It undoes the local entity rotation and then restores so box has the expected size.\n      // We also undo the parent world rotation.\n      auxEuler.copy(trackedObject3D.rotation);\n      trackedObject3D.rotation.set(0, 0, 0);\n\n      trackedObject3D.parent.matrixWorld.decompose(auxPosition, auxQuaternion, auxScale);\n      auxMatrix.compose(auxPosition, identityQuaternion, auxScale);\n      trackedObject3D.parent.matrixWorld.copy(auxMatrix);\n\n      // Calculate bounding box size.\n      boundingBox.setFromObject(trackedObject3D, true);\n      boundingBox.getSize(boundingBoxSize);\n\n      // Enforce minimum dimensions.\n      boundingBoxSize.x = boundingBoxSize.x < minimumColliderDimension ? minimumColliderDimension : boundingBoxSize.x;\n      boundingBoxSize.y = boundingBoxSize.y < minimumColliderDimension ? minimumColliderDimension : boundingBoxSize.y;\n      boundingBoxSize.z = boundingBoxSize.z < minimumColliderDimension ? minimumColliderDimension : boundingBoxSize.z;\n\n      // Restore rotations.\n      trackedObject3D.parent.matrixWorld.compose(auxPosition, auxQuaternion, auxScale);\n      this.el.object3D.rotation.copy(auxEuler);\n    };\n  })(),\n\n  checkTrackedObject: function () {\n    var trackedObject3DPath = this.trackedObject3DPath;\n    var trackedObject3D;\n\n    if (trackedObject3DPath &&\n        trackedObject3DPath.length &&\n        !this.trackedObject3D) {\n      trackedObject3D = this.el;\n      for (var i = 0; i < trackedObject3DPath.length; i++) {\n        trackedObject3D = trackedObject3D[trackedObject3DPath[i]];\n        if (!trackedObject3D) { break; }\n      }\n      if (trackedObject3D) {\n        this.trackedObject3D = trackedObject3D;\n        this.updateCollider();\n      }\n    }\n    return this.trackedObject3D;\n  },\n\n  tick: (function () {\n    var auxPosition = new THREE.Vector3();\n    var auxScale = new THREE.Vector3();\n    var auxQuaternion = new THREE.Quaternion();\n    var auxMatrix = new THREE.Matrix4();\n\n    return function () {\n      var obb = this.obb;\n      var renderColliderMesh = this.renderColliderMesh;\n      var trackedObject3D = this.checkTrackedObject() || this.el.object3D;\n\n      if (!trackedObject3D) { return; }\n\n      trackedObject3D.updateMatrix();\n      trackedObject3D.updateMatrixWorld(true);\n      trackedObject3D.matrixWorld.decompose(auxPosition, auxQuaternion, auxScale);\n\n      // Recalculate collider if scale has changed.\n      if ((Math.abs(auxScale.x - this.previousScale.x) > 0.0001)  ||\n          (Math.abs(auxScale.y - this.previousScale.y) > 0.0001) ||\n          (Math.abs(auxScale.z - this.previousScale.z) > 0.0001)) {\n        this.updateCollider();\n      }\n\n      this.previousScale.copy(auxScale);\n\n      // reset scale, keep position and rotation\n      auxScale.set(1, 1, 1);\n      auxMatrix.compose(auxPosition, auxQuaternion, auxScale);\n      // Update OBB visual representation.\n      if (renderColliderMesh) { renderColliderMesh.matrixWorld.copy(auxMatrix); }\n\n      // Reset OBB with AABB and apply entity matrix. applyMatrix4 changes OBB internal state.\n      obb.copy(this.aabb);\n      obb.applyMatrix4(auxMatrix);\n    };\n  })()\n});\n","import * as THREE from 'three';\nimport { OBJLoader } from 'three/addons/loaders/OBJLoader.js';\nimport { MTLLoader } from 'three/addons/loaders/MTLLoader.js';\nimport { debug } from '../utils/index.js';\nimport { registerComponent } from '../core/component.js';\n\nvar warn = debug('components:obj-model:warn');\n\nexport var Component = registerComponent('obj-model', {\n  schema: {\n    mtl: {type: 'model'},\n    obj: {type: 'model'}\n  },\n\n  init: function () {\n    var self = this;\n\n    this.model = null;\n    this.objLoader = new OBJLoader();\n    this.mtlLoader = new MTLLoader(this.objLoader.manager);\n    // Allow cross-origin images to be loaded.\n    this.mtlLoader.crossOrigin = '';\n\n    this.el.addEventListener('componentinitialized', function (evt) {\n      if (!self.model) { return; }\n      if (evt.detail.name !== 'material') { return; }\n      self.applyMaterial();\n    });\n  },\n\n  update: function () {\n    var data = this.data;\n    if (!data.obj) { return; }\n    this.resetMesh();\n    this.loadObj(data.obj, data.mtl);\n  },\n\n  remove: function () {\n    this.resetMesh();\n  },\n\n  resetMesh: function () {\n    if (!this.model) { return; }\n    this.el.removeObject3D('mesh');\n  },\n\n  loadObj: function (objUrl, mtlUrl) {\n    var self = this;\n    var el = this.el;\n    var mtlLoader = this.mtlLoader;\n    var objLoader = this.objLoader;\n    var rendererSystem = this.el.sceneEl.systems.renderer;\n    var BASE_PATH = mtlUrl.substr(0, mtlUrl.lastIndexOf('/') + 1);\n\n    if (mtlUrl) {\n      // .OBJ with an .MTL.\n      if (el.hasAttribute('material')) {\n        warn('Material component properties are ignored when a .MTL is provided');\n      }\n      mtlLoader.setResourcePath(BASE_PATH);\n      mtlLoader.load(mtlUrl, function (materials) {\n        materials.preload();\n        objLoader.setMaterials(materials);\n        objLoader.load(objUrl, function (objModel) {\n          self.model = objModel;\n          self.model.traverse(function (object) {\n            if (object.isMesh) {\n              var material = object.material;\n              if (material.map) rendererSystem.applyColorCorrection(material.map);\n              if (material.emissiveMap) rendererSystem.applyColorCorrection(material.emissiveMap);\n            }\n          });\n          el.setObject3D('mesh', objModel);\n          el.emit('model-loaded', {format: 'obj', model: objModel});\n        });\n      });\n      return;\n    }\n\n    // .OBJ only.\n    objLoader.load(objUrl, function loadObjOnly (objModel) {\n      self.model = objModel;\n      self.applyMaterial();\n      el.setObject3D('mesh', objModel);\n      el.emit('model-loaded', {format: 'obj', model: objModel});\n    });\n  },\n\n  /**\n   * Apply material from material component recursively.\n   */\n  applyMaterial: function () {\n    var material = this.el.components.material;\n    if (!material) { return; }\n    this.model.traverse(function (child) {\n      if (child instanceof THREE.Mesh) {\n        child.material = material.material;\n      }\n    });\n  }\n});\n","import { registerComponent } from '../core/component.js';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\nimport { checkControllerPresentAndSetup, emitIfAxesChanged, onButtonEvent } from '../utils/tracked-controls.js';\n\nvar OCULUS_GO_CONTROLLER_MODEL_URL = AFRAME_CDN_ROOT + 'controllers/oculus/go/oculus-go-controller.gltf';\n\n// Prefix for Gen1 and Gen2 Oculus Touch Controllers.\nvar GAMEPAD_ID_PREFIX = 'oculus-go';\n\n/**\n * Button indices:\n * 0 - trigger\n * 1 - none\n * 2 - touchpad\n *\n * Axis:\n * 0 - touchpad x\n * 1 - touchpad y\n * Reference: https://github.com/immersive-web/webxr-input-profiles/blob/master/packages/registry/profiles/oculus/oculus-go.json\n */\nvar INPUT_MAPPING = {\n  axes: {touchpad: [0, 1]},\n  buttons: ['trigger', 'none', 'touchpad']\n};\n\n/**\n * Oculus Go controls.\n * Interface with Oculus Go controller and map Gamepad events to\n * controller buttons: trigger, touchpad\n * Load a controller model and highlight the pressed buttons.\n */\nexport var Component = registerComponent('oculus-go-controls', {\n  schema: {\n    hand: {default: ''},  // This informs the degenerate arm model.\n    buttonColor: {type: 'color', default: '#FFFFFF'},\n    buttonTouchedColor: {type: 'color', default: '#BBBBBB'},\n    buttonHighlightColor: {type: 'color', default: '#7A7A7A'},\n    model: {default: true}\n  },\n\n  mapping: INPUT_MAPPING,\n\n  bindMethods: function () {\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this);\n    this.onAxisMoved = this.onAxisMoved.bind(this);\n  },\n\n  init: function () {\n    var self = this;\n    this.onButtonChanged = this.onButtonChanged.bind(this);\n    this.onButtonDown = function (evt) { onButtonEvent(evt.detail.id, 'down', self); };\n    this.onButtonUp = function (evt) { onButtonEvent(evt.detail.id, 'up', self); };\n    this.onButtonTouchStart = function (evt) { onButtonEvent(evt.detail.id, 'touchstart', self); };\n    this.onButtonTouchEnd = function (evt) { onButtonEvent(evt.detail.id, 'touchend', self); };\n    this.controllerPresent = false;\n    this.bindMethods();\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('buttonchanged', this.onButtonChanged);\n    el.addEventListener('buttondown', this.onButtonDown);\n    el.addEventListener('buttonup', this.onButtonUp);\n    el.addEventListener('touchstart', this.onButtonTouchStart);\n    el.addEventListener('touchend', this.onButtonTouchEnd);\n    el.addEventListener('model-loaded', this.onModelLoaded);\n    el.addEventListener('axismove', this.onAxisMoved);\n    this.controllerEventsActive = true;\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('buttonchanged', this.onButtonChanged);\n    el.removeEventListener('buttondown', this.onButtonDown);\n    el.removeEventListener('buttonup', this.onButtonUp);\n    el.removeEventListener('touchstart', this.onButtonTouchStart);\n    el.removeEventListener('touchend', this.onButtonTouchEnd);\n    el.removeEventListener('model-loaded', this.onModelLoaded);\n    el.removeEventListener('axismove', this.onAxisMoved);\n    this.controllerEventsActive = false;\n  },\n\n  checkIfControllerPresent: function () {\n    checkControllerPresentAndSetup(this, GAMEPAD_ID_PREFIX,\n                                   this.data.hand ? {hand: this.data.hand} : {});\n  },\n\n  play: function () {\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  injectTrackedControls: function () {\n    var el = this.el;\n    var data = this.data;\n    el.setAttribute('tracked-controls', {\n      hand: data.hand,\n      idPrefix: GAMEPAD_ID_PREFIX\n    });\n    if (!this.data.model) { return; }\n    this.el.setAttribute('gltf-model', OCULUS_GO_CONTROLLER_MODEL_URL);\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    this.checkIfControllerPresent();\n  },\n\n  // No need for onButtonChanged, since Oculus Go controller has no analog buttons.\n\n  onModelLoaded: function (evt) {\n    var controllerObject3D = evt.detail.model;\n    var buttonMeshes;\n\n    if (evt.target !== this.el || !this.data.model) { return; }\n    buttonMeshes = this.buttonMeshes = {};\n    buttonMeshes.trigger = controllerObject3D.getObjectByName('oculus_go_button_trigger');\n    buttonMeshes.trackpad = controllerObject3D.getObjectByName('oculus_go_touchpad');\n    buttonMeshes.touchpad = controllerObject3D.getObjectByName('oculus_go_touchpad');\n  },\n\n  onButtonChanged: function (evt) {\n    var button = this.mapping.buttons[evt.detail.id];\n    if (!button) return;\n    // Pass along changed event with button state, using button mapping for convenience.\n    this.el.emit(button + 'changed', evt.detail.state);\n  },\n\n  onAxisMoved: function (evt) {\n    emitIfAxesChanged(this, this.mapping.axes, evt);\n  },\n\n  updateModel: function (buttonName, evtName) {\n    if (!this.data.model) { return; }\n    this.updateButtonModel(buttonName, evtName);\n  },\n\n  updateButtonModel: function (buttonName, state) {\n    var buttonMeshes = this.buttonMeshes;\n    if (!buttonMeshes || !buttonMeshes[buttonName]) { return; }\n    var color;\n    var button;\n    switch (state) {\n      case 'down':\n        color = this.data.buttonHighlightColor;\n        break;\n      case 'touchstart':\n        color = this.data.buttonTouchedColor;\n        break;\n      default:\n        color = this.data.buttonColor;\n    }\n    button = buttonMeshes[buttonName];\n    button.material.color.set(color);\n  }\n});\n","import { registerComponent } from '../core/component.js';\nimport * as THREE from 'three';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\nimport { checkControllerPresentAndSetup, emitIfAxesChanged, onButtonEvent } from '../utils/tracked-controls.js';\n\n// See Profiles Registry:\n// https://github.com/immersive-web/webxr-input-profiles/tree/master/packages/registry\n// TODO: Add a more robust system for deriving gamepad name.\nvar GAMEPAD_ID = 'pico-4';\nvar PICO_MODEL_GLB_BASE_URL = AFRAME_CDN_ROOT + 'controllers/pico/pico4/';\n\n/**\n * Button IDs:\n * 0 - trigger\n * 1 - grip\n * 3 - X / A\n * 4 - Y / B\n *\n * Axis:\n * 2 - joystick x axis\n * 3 - joystick y axis\n */\nvar INPUT_MAPPING_WEBXR = {\n  left: {\n    axes: {thumbstick: [2, 3]},\n    buttons: ['trigger', 'grip', 'none', 'thumbstick', 'xbutton', 'ybutton']\n  },\n  right: {\n    axes: {thumbstick: [2, 3]},\n    buttons: ['trigger', 'grip', 'none', 'thumbstick', 'abutton', 'bbutton']\n  }\n};\n\n/**\n * Pico Controls\n */\nexport var Component = registerComponent('pico-controls', {\n  schema: {\n    hand: {default: 'none'},\n    model: {default: true}\n  },\n\n  mapping: INPUT_MAPPING_WEBXR,\n\n  init: function () {\n    var self = this;\n    this.onButtonChanged = this.onButtonChanged.bind(this);\n    this.onButtonDown = function (evt) { onButtonEvent(evt.detail.id, 'down', self, self.data.hand); };\n    this.onButtonUp = function (evt) { onButtonEvent(evt.detail.id, 'up', self, self.data.hand); };\n    this.onButtonTouchEnd = function (evt) { onButtonEvent(evt.detail.id, 'touchend', self, self.data.hand); };\n    this.onButtonTouchStart = function (evt) { onButtonEvent(evt.detail.id, 'touchstart', self, self.data.hand); };\n    this.bindMethods();\n  },\n\n  update: function () {\n    var data = this.data;\n    this.controllerIndex = data.hand === 'right' ? 0 : data.hand === 'left' ? 1 : 2;\n  },\n\n  play: function () {\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  bindMethods: function () {\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this);\n    this.onAxisMoved = this.onAxisMoved.bind(this);\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('buttonchanged', this.onButtonChanged);\n    el.addEventListener('buttondown', this.onButtonDown);\n    el.addEventListener('buttonup', this.onButtonUp);\n    el.addEventListener('touchstart', this.onButtonTouchStart);\n    el.addEventListener('touchend', this.onButtonTouchEnd);\n    el.addEventListener('axismove', this.onAxisMoved);\n    el.addEventListener('model-loaded', this.onModelLoaded);\n    this.controllerEventsActive = true;\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('buttonchanged', this.onButtonChanged);\n    el.removeEventListener('buttondown', this.onButtonDown);\n    el.removeEventListener('buttonup', this.onButtonUp);\n    el.removeEventListener('touchstart', this.onButtonTouchStart);\n    el.removeEventListener('touchend', this.onButtonTouchEnd);\n    el.removeEventListener('axismove', this.onAxisMoved);\n    el.removeEventListener('model-loaded', this.onModelLoaded);\n    this.controllerEventsActive = false;\n  },\n\n  checkIfControllerPresent: function () {\n    var data = this.data;\n    checkControllerPresentAndSetup(this, GAMEPAD_ID,\n                                   {index: this.controllerIndex, hand: data.hand});\n  },\n\n  injectTrackedControls: function () {\n    var el = this.el;\n    var data = this.data;\n    el.setAttribute('tracked-controls', {\n      // TODO: verify expected behavior between reserved prefixes.\n      idPrefix: GAMEPAD_ID,\n      hand: data.hand,\n      controller: this.controllerIndex\n    });\n\n    // Load model.\n    if (!this.data.model) { return; }\n    this.el.setAttribute('gltf-model', PICO_MODEL_GLB_BASE_URL + this.data.hand + '.glb');\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    // Note that due to gamepadconnected event propagation issues, we don't rely on events.\n    this.checkIfControllerPresent();\n  },\n\n  onButtonChanged: function (evt) {\n    var button = this.mapping[this.data.hand].buttons[evt.detail.id];\n    var analogValue;\n\n    if (!button) { return; }\n    if (button === 'trigger') {\n      analogValue = evt.detail.state.value;\n      console.log('analog value of trigger press: ' + analogValue);\n    }\n\n    // Pass along changed event with button state, using button mapping for convenience.\n    this.el.emit(button + 'changed', evt.detail.state);\n  },\n\n  onModelLoaded: function (evt) {\n    if (evt.target !== this.el || !this.data.model) { return; }\n\n    this.el.emit('controllermodelready', {\n      name: 'pico-controls',\n      model: this.data.model,\n      rayOrigin: new THREE.Vector3(0, 0, 0)\n    });\n  },\n\n  onAxisMoved: function (evt) {\n    emitIfAxesChanged(this, this.mapping[this.data.hand].axes, evt);\n  }\n});\n","/* global MutationObserver */\n\nimport * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\nimport * as utils from '../utils/index.js';\n\nvar warn = utils.debug('components:raycaster:warn');\n\n// Defines selectors that should be 'safe' for the MutationObserver used to\n// refresh the whitelist. Matches classnames, IDs, and presence of attributes.\n// Selectors for the value of an attribute, like [position=0 2 0], cannot be\n// reliably detected and are therefore disallowed.\nvar OBSERVER_SELECTOR_RE = /^[\\w\\s-.,[\\]#]*$/;\n\n// Configuration for the MutationObserver used to refresh the whitelist.\n// Listens for addition/removal of elements and attributes within the scene.\nvar OBSERVER_CONFIG = {\n  childList: true,\n  attributes: true,\n  subtree: true\n};\n\nvar EVENTS = {\n  INTERSECT: 'raycaster-intersected',\n  INTERSECTION: 'raycaster-intersection',\n  INTERSECT_CLEAR: 'raycaster-intersected-cleared',\n  INTERSECTION_CLEAR: 'raycaster-intersection-cleared',\n  INTERSECTION_CLOSEST_ENTITY_CHANGED: 'raycaster-closest-entity-changed'\n};\n\n/**\n * Raycaster component.\n *\n * Pass options to three.js Raycaster including which objects to test.\n * Poll for intersections.\n * Emit event on origin entity and on target entity on intersect.\n *\n * @member {array} intersectedEls - List of currently intersected entities.\n * @member {array} objects - Cached list of meshes to intersect.\n * @member {number} prevCheckTime - Previous time intersection was checked. To help interval.\n * @member {object} raycaster - three.js Raycaster.\n */\nexport var Component = registerComponent('raycaster', {\n  schema: {\n    autoRefresh: {default: true},\n    direction: {type: 'vec3', default: {x: 0, y: 0, z: -1}},\n    enabled: {default: true},\n    far: {default: 1000},\n    interval: {default: 0},\n    near: {default: 0},\n    objects: {default: ''},\n    origin: {type: 'vec3'},\n    showLine: {default: false},\n    lineColor: {default: 'white'},\n    lineOpacity: {default: 1},\n    useWorldCoordinates: {default: false}\n  },\n\n  multiple: true,\n\n  init: function () {\n    this.clearedIntersectedEls = [];\n    this.unitLineEndVec3 = new THREE.Vector3();\n    this.intersectedEls = [];\n    this.intersections = [];\n    this.newIntersectedEls = [];\n    this.newIntersections = [];\n    this.objects = [];\n    this.prevCheckTime = undefined;\n    this.prevIntersectedEls = [];\n    this.rawIntersections = [];\n    this.raycaster = new THREE.Raycaster();\n    this.updateOriginDirection();\n    this.setDirty = this.setDirty.bind(this);\n    this.updateLine = this.updateLine.bind(this);\n    this.observer = new MutationObserver(this.setDirty);\n    this.dirty = true;\n    this.lineEndVec3 = new THREE.Vector3();\n    this.otherLineEndVec3 = new THREE.Vector3();\n    this.lineData = {end: this.lineEndVec3};\n\n    this.getIntersection = this.getIntersection.bind(this);\n    this.intersectedDetail = {el: this.el, getIntersection: this.getIntersection};\n    this.intersectedClearedDetail = {el: this.el};\n    this.intersectionClearedDetail = {clearedEls: this.clearedIntersectedEls};\n    this.intersectionDetail = {};\n  },\n\n  /**\n   * Create or update raycaster object.\n   */\n  update: function (oldData) {\n    var data = this.data;\n    var el = this.el;\n    var raycaster = this.raycaster;\n\n    // Set raycaster properties.\n    raycaster.far = data.far;\n    raycaster.near = data.near;\n\n    // Draw line.\n    if (data.showLine &&\n        (data.far !== oldData.far || data.origin !== oldData.origin ||\n         data.direction !== oldData.direction || !oldData.showLine)) {\n      // Calculate unit vector for line direction. Can be multiplied via scalar and added\n      // to origin to adjust line length.\n      this.unitLineEndVec3.copy(data.direction).normalize();\n      this.drawLine();\n    }\n\n    if (!data.showLine && oldData.showLine) {\n      el.removeAttribute('line');\n    }\n\n    if (data.objects !== oldData.objects && !OBSERVER_SELECTOR_RE.test(data.objects)) {\n      warn('[raycaster] Selector \"' + data.objects +\n           '\" may not update automatically with DOM changes.');\n    }\n\n    if (!data.objects) {\n      warn('[raycaster] For performance, please define raycaster.objects when using ' +\n           'raycaster or cursor components to whitelist which entities to intersect with. ' +\n           'e.g., raycaster=\"objects: [data-raycastable]\".');\n    }\n\n    if (data.autoRefresh !== oldData.autoRefresh && el.isPlaying) {\n      data.autoRefresh\n        ? this.addEventListeners()\n        : this.removeEventListeners();\n    }\n\n    if (oldData.enabled && !data.enabled) { this.clearAllIntersections(); }\n\n    if (data.objects !== oldData.objects) {\n      this.setDirty();\n    }\n  },\n\n  play: function () {\n    this.addEventListeners();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n  },\n\n  remove: function () {\n    if (this.data.showLine) {\n      this.el.removeAttribute('line');\n    }\n    this.clearAllIntersections();\n  },\n\n  addEventListeners: function () {\n    if (!this.data.autoRefresh) { return; }\n    this.observer.observe(this.el.sceneEl, OBSERVER_CONFIG);\n    this.el.sceneEl.addEventListener('object3dset', this.setDirty);\n    this.el.sceneEl.addEventListener('object3dremove', this.setDirty);\n  },\n\n  removeEventListeners: function () {\n    this.observer.disconnect();\n    this.el.sceneEl.removeEventListener('object3dset', this.setDirty);\n    this.el.sceneEl.removeEventListener('object3dremove', this.setDirty);\n  },\n\n  /**\n   * Mark the object list as dirty, to be refreshed before next raycast.\n   */\n  setDirty: function () {\n    this.dirty = true;\n  },\n\n  /**\n   * Update list of objects to test for intersection.\n   */\n  refreshObjects: function () {\n    var data = this.data;\n    var els;\n\n    // If objects not defined, intersect with everything.\n    els = data.objects\n      ? this.el.sceneEl.querySelectorAll(data.objects)\n      : this.el.sceneEl.querySelectorAll('*');\n    this.objects = this.flattenObject3DMaps(els);\n    this.dirty = false;\n  },\n\n  /**\n   * Check for intersections and cleared intersections on an interval.\n   */\n  tock: function (time) {\n    var data = this.data;\n    var prevCheckTime = this.prevCheckTime;\n\n    if (!data.enabled) { return; }\n\n    // Only check for intersection if interval time has passed.\n    if (prevCheckTime && (time - prevCheckTime < data.interval)) { return; }\n\n    // Update check time.\n    this.prevCheckTime = time;\n    this.checkIntersections();\n  },\n\n  /**\n   * Raycast for intersections and emit events for current and cleared intersections.\n   */\n  checkIntersections: function () {\n    var clearedIntersectedEls = this.clearedIntersectedEls;\n    var el = this.el;\n    var data = this.data;\n    var i;\n    var intersectedEls = this.intersectedEls;\n    var intersection;\n    var intersections = this.intersections;\n    var newIntersectedEls = this.newIntersectedEls;\n    var newIntersections = this.newIntersections;\n    var prevIntersectedEls = this.prevIntersectedEls;\n    var rawIntersections = this.rawIntersections;\n\n    // Refresh the object whitelist if needed.\n    if (this.dirty) { this.refreshObjects(); }\n\n    // Store old previously intersected entities.\n    copyArray(this.prevIntersectedEls, this.intersectedEls);\n\n    // Raycast.\n    this.updateOriginDirection();\n    rawIntersections.length = 0;\n    this.raycaster.intersectObjects(this.objects, true, rawIntersections);\n\n    // Only keep intersections against objects that have a reference to an entity.\n    intersections.length = 0;\n    intersectedEls.length = 0;\n    for (i = 0; i < rawIntersections.length; i++) {\n      intersection = rawIntersections[i];\n      // Don't intersect with own line.\n      if (data.showLine && intersection.object === el.getObject3D('line')) {\n        continue;\n      }\n      if (intersection.object.el) {\n        intersections.push(intersection);\n        intersectedEls.push(intersection.object.el);\n      }\n    }\n\n    // Get newly intersected entities.\n    newIntersections.length = 0;\n    newIntersectedEls.length = 0;\n    for (i = 0; i < intersections.length; i++) {\n      if (prevIntersectedEls.indexOf(intersections[i].object.el) === -1) {\n        newIntersections.push(intersections[i]);\n        newIntersectedEls.push(intersections[i].object.el);\n      }\n    }\n\n    // Emit intersection cleared on both entities per formerly intersected entity.\n    clearedIntersectedEls.length = 0;\n    for (i = 0; i < prevIntersectedEls.length; i++) {\n      if (intersectedEls.indexOf(prevIntersectedEls[i]) !== -1) { continue; }\n      prevIntersectedEls[i].emit(EVENTS.INTERSECT_CLEAR,\n                                 this.intersectedClearedDetail);\n      clearedIntersectedEls.push(prevIntersectedEls[i]);\n    }\n    if (clearedIntersectedEls.length) {\n      el.emit(EVENTS.INTERSECTION_CLEAR, this.intersectionClearedDetail);\n    }\n\n    // Emit intersected on intersected entity per intersected entity.\n    for (i = 0; i < newIntersectedEls.length; i++) {\n      newIntersectedEls[i].emit(EVENTS.INTERSECT, this.intersectedDetail);\n    }\n\n    // Emit all intersections at once on raycasting entity.\n    if (newIntersections.length) {\n      this.intersectionDetail.els = newIntersectedEls;\n      this.intersectionDetail.intersections = newIntersections;\n      el.emit(EVENTS.INTERSECTION, this.intersectionDetail);\n    }\n\n    // Emit event when the closest intersected entity has changed.\n    if (prevIntersectedEls.length === 0 && intersections.length > 0 ||\n        prevIntersectedEls.length > 0 && intersections.length === 0 ||\n        (prevIntersectedEls.length && intersections.length &&\n        prevIntersectedEls[0] !== intersections[0].object.el)) {\n      this.intersectionDetail.els = this.intersectedEls;\n      this.intersectionDetail.intersections = intersections;\n      el.emit(EVENTS.INTERSECTION_CLOSEST_ENTITY_CHANGED, this.intersectionDetail);\n    }\n\n    // Update line length.\n    if (data.showLine) { setTimeout(this.updateLine); }\n  },\n\n  updateLine: function () {\n    var el = this.el;\n    var intersections = this.intersections;\n    var lineLength;\n\n    if (intersections.length) {\n      if (intersections[0].object.el === el && intersections[1]) {\n        lineLength = intersections[1].distance;\n      } else {\n        lineLength = intersections[0].distance;\n      }\n    }\n    this.drawLine(lineLength);\n  },\n\n  /**\n   * Return the most recent intersection details for a given entity, if any.\n   * @param {AEntity} el\n   * @returns {object|null}\n   */\n  getIntersection: function (el) {\n    var i;\n    var intersection;\n    for (i = 0; i < this.intersections.length; i++) {\n      intersection = this.intersections[i];\n      if (intersection.object.el === el) { return intersection; }\n    }\n    return null;\n  },\n\n  /**\n   * Update origin and direction of raycaster using entity transforms and supplied origin or\n   * direction offsets.\n   */\n  updateOriginDirection: (function () {\n    var direction = new THREE.Vector3();\n    var originVec3 = new THREE.Vector3();\n\n    // Closure to make quaternion/vector3 objects private.\n    return function updateOriginDirection () {\n      var el = this.el;\n      var data = this.data;\n\n      if (data.useWorldCoordinates) {\n        this.raycaster.set(data.origin, data.direction);\n        return;\n      }\n\n      el.object3D.updateMatrixWorld();\n      originVec3.setFromMatrixPosition(el.object3D.matrixWorld);\n\n      // If non-zero origin, translate the origin into world space.\n      if (data.origin.x !== 0 || data.origin.y !== 0 || data.origin.z !== 0) {\n        originVec3 = el.object3D.localToWorld(originVec3.copy(data.origin));\n      }\n\n      // three.js raycaster direction is relative to 0, 0, 0 NOT the origin / offset we\n      // provide. Apply the offset to the direction, then rotation from the object,\n      // and normalize.\n      direction.copy(data.direction).transformDirection(el.object3D.matrixWorld).normalize();\n\n      // Apply offset and direction, in world coordinates.\n      this.raycaster.set(originVec3, direction);\n    };\n  })(),\n\n  /**\n   * Create or update line to give raycaster visual representation.\n   * Customize the line through through line component.\n   * We draw the line in the raycaster component to customize the line to the\n   * raycaster's origin, direction, and far.\n   *\n   * Unlike the raycaster, we create the line as a child of the object. The line will\n   * be affected by the transforms of the objects, so we don't have to calculate transforms\n   * like we do with the raycaster.\n   *\n   * @param {number} length - Length of line. Pass in to shorten the line to the intersection\n   *   point. If not provided, length will default to the max length, `raycaster.far`.\n   */\n  drawLine: function (length) {\n    var data = this.data;\n    var el = this.el;\n    var endVec3;\n\n    // Switch each time vector so line update triggered and to avoid unnecessary vector clone.\n    endVec3 = this.lineData.end === this.lineEndVec3\n      ? this.otherLineEndVec3\n      : this.lineEndVec3;\n\n    // Treat Infinity as 1000m for the line.\n    if (length === undefined) {\n      length = data.far === Infinity ? 1000 : data.far;\n    }\n\n    // Update the length of the line if given. `unitLineEndVec3` is the direction\n    // given by data.direction, then we apply a scalar to give it a length and the\n    // origin point to offset it.\n    this.lineData.start = data.origin;\n    this.lineData.end = endVec3.copy(this.unitLineEndVec3).multiplyScalar(length).add(data.origin);\n    this.lineData.color = data.lineColor;\n    this.lineData.opacity = data.lineOpacity;\n    el.setAttribute('line', this.lineData);\n  },\n\n  /**\n   * Return A-Frame attachments of each element's object3D group (e.g., mesh).\n   * Children are flattened by one level, removing the THREE.Group wrapper,\n   * so that non-recursive raycasting remains useful.\n   *\n   * Only push children defined as component attachments (e.g., setObject3D),\n   * NOT actual children in the scene graph hierarchy.\n   *\n   * @param {Array<Element>} els\n   * @returns {Array<THREE.Object3D>}\n   */\n  flattenObject3DMaps: function (els) {\n    var key;\n    var i;\n    var objects = this.objects;\n    var scene = this.el.sceneEl.object3D;\n\n    function isAttachedToScene (object) {\n      if (object.parent) {\n        return isAttachedToScene(object.parent);\n      } else {\n        return (object === scene);\n      }\n    }\n\n    // Push meshes and other attachments onto list of objects to intersect.\n    objects.length = 0;\n    for (i = 0; i < els.length; i++) {\n      var el = els[i];\n      if (el.isEntity && el.object3D && isAttachedToScene(el.object3D)) {\n        for (key in el.object3DMap) {\n          objects.push(el.getObject3D(key));\n        }\n      }\n    }\n\n    return objects;\n  },\n\n  clearAllIntersections: function () {\n    var i;\n    for (i = 0; i < this.intersectedEls.length; i++) {\n      this.intersectedEls[i].emit(EVENTS.INTERSECT_CLEAR,\n                                  this.intersectedClearedDetail);\n    }\n    copyArray(this.clearedIntersectedEls, this.intersectedEls);\n    this.intersectedEls.length = 0;\n    this.intersections.length = 0;\n    this.el.emit(EVENTS.INTERSECTION_CLEAR, this.intersectionClearedDetail);\n  }\n});\n\n/**\n * Copy contents of one array to another without allocating new array.\n */\nfunction copyArray (a, b) {\n  var i;\n  a.length = b.length;\n  for (i = 0; i < b.length; i++) {\n    a[i] = b[i];\n  }\n}\n","import { registerComponent } from '../core/component.js';\n\nexport var Component = registerComponent('position', {\n  schema: {type: 'vec3'},\n\n  update: function () {\n    var object3D = this.el.object3D;\n    var data = this.data;\n    object3D.position.set(data.x, data.y, data.z);\n  },\n\n  remove: function () {\n    // Pretty much for mixins.\n    this.el.object3D.position.set(0, 0, 0);\n  }\n});\n","import * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\nvar degToRad = THREE.MathUtils.degToRad;\n\nexport var Component = registerComponent('rotation', {\n  schema: {type: 'vec3'},\n\n  /**\n   * Updates object3D rotation.\n   */\n  update: function () {\n    var data = this.data;\n    var object3D = this.el.object3D;\n    object3D.rotation.set(degToRad(data.x), degToRad(data.y), degToRad(data.z), 'YXZ');\n  },\n\n  remove: function () {\n    // Pretty much for mixins.\n    this.el.object3D.rotation.set(0, 0, 0);\n  }\n});\n","import createTextGeometry from 'three-bmfont-text';\nimport loadBMFont from 'load-bmfont';\n\nimport { registerComponent } from '../core/component.js';\nimport { shaders } from '../core/shader.js';\nimport * as THREE from 'three';\nimport * as utils from '../utils/index.js';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\n\nvar error = utils.debug('components:text:error');\nvar warn = utils.debug('components:text:warn');\n\n// 1 to match other A-Frame default widths.\nvar DEFAULT_WIDTH = 1;\n\n// @bryik set anisotropy to 16. Improves look of large amounts of text when viewed from angle.\nvar MAX_ANISOTROPY = 16;\n\nvar FONT_BASE_URL = AFRAME_CDN_ROOT + 'fonts/';\nexport var FONTS = {\n  aileronsemibold: FONT_BASE_URL + 'Aileron-Semibold.fnt',\n  dejavu: FONT_BASE_URL + 'DejaVu-sdf.fnt',\n  exo2bold: FONT_BASE_URL + 'Exo2Bold.fnt',\n  exo2semibold: FONT_BASE_URL + 'Exo2SemiBold.fnt',\n  kelsonsans: FONT_BASE_URL + 'KelsonSans.fnt',\n  monoid: FONT_BASE_URL + 'Monoid.fnt',\n  mozillavr: FONT_BASE_URL + 'mozillavr.fnt',\n  roboto: FONT_BASE_URL + 'Roboto-msdf.json',\n  sourcecodepro: FONT_BASE_URL + 'SourceCodePro.fnt'\n};\nvar MSDF_FONTS = ['roboto'];\nvar DEFAULT_FONT = 'roboto';\n\nvar cache = new PromiseCache();\nvar fontWidthFactors = {};\nvar textures = {};\n\n// Regular expression for detecting a URLs with a protocol prefix.\nvar protocolRe = /^\\w+:/;\n\n/**\n * SDF-based text component.\n * Based on https://github.com/Jam3/three-bmfont-text.\n *\n * All the stock fonts are for the `sdf` registered shader, an improved version of jam3's\n * original `sdf` shader.\n */\nexport var Component = registerComponent('text', {\n  multiple: true,\n\n  schema: {\n    align: {type: 'string', default: 'left', oneOf: ['left', 'right', 'center']},\n    alphaTest: {default: 0.5},\n    // `anchor` defaults to center to match geometries.\n    anchor: {default: 'center', oneOf: ['left', 'right', 'center', 'align']},\n    baseline: {default: 'center', oneOf: ['top', 'center', 'bottom']},\n    color: {type: 'color', default: '#FFF'},\n    font: {type: 'string', default: DEFAULT_FONT},\n    // `fontImage` defaults to the font name as a .png (e.g., mozillavr.fnt -> mozillavr.png).\n    fontImage: {type: 'string'},\n    // `height` has no default, will be populated at layout.\n    height: {type: 'number'},\n    letterSpacing: {type: 'number', default: 0},\n    // `lineHeight` defaults to font's `lineHeight` value.\n    lineHeight: {type: 'number'},\n    // `negate` must be true for fonts generated with older versions of msdfgen (white background).\n    negate: {type: 'boolean', default: true},\n    opacity: {type: 'number', default: 1.0},\n    shader: {default: 'sdf', oneOf: shaders},\n    side: {default: 'front', oneOf: ['front', 'back', 'double']},\n    tabSize: {default: 4},\n    transparent: {default: true},\n    value: {type: 'string'},\n    whiteSpace: {default: 'normal', oneOf: ['normal', 'pre', 'nowrap']},\n    // `width` defaults to geometry width if present, else `DEFAULT_WIDTH`.\n    width: {type: 'number'},\n    // `wrapCount` units are about one default font character. Wrap roughly at this number.\n    wrapCount: {type: 'number', default: 40},\n    // `wrapPixels` will wrap using bmfont pixel units (e.g., dejavu's is 32 pixels).\n    wrapPixels: {type: 'number'},\n    // `xOffset` to add padding.\n    xOffset: {type: 'number', default: 0},\n    // `yOffset` to adjust generated fonts from tools that may have incorrect metrics.\n    yOffset: {type: 'number', default: 0},\n    // `zOffset` will provide a small z offset to avoid z-fighting.\n    zOffset: {type: 'number', default: 0.001}\n  },\n\n  init: function () {\n    this.shaderData = {};\n    this.geometry = createTextGeometry();\n    this.createOrUpdateMaterial();\n    this.explicitGeoDimensionsChecked = false;\n  },\n\n  update: function (oldData) {\n    var data = this.data;\n    var font = this.currentFont;\n    if (textures[data.font]) {\n      this.texture = textures[data.font];\n    } else {\n      // Create texture per font.\n      this.texture = textures[data.font] = new THREE.Texture();\n      this.texture.anisotropy = MAX_ANISOTROPY;\n    }\n\n    // Update material.\n    this.createOrUpdateMaterial();\n\n    // New font. `updateFont` will later change data and layout.\n    if (oldData.font !== data.font) {\n      this.updateFont();\n      return;\n    }\n\n    // Update geometry and layout.\n    if (font) {\n      this.updateGeometry(this.geometry, font);\n      this.updateLayout();\n    }\n  },\n\n  /**\n   * Clean up geometry, material, texture, mesh, objects.\n   */\n  remove: function () {\n    this.geometry.dispose();\n    this.geometry = null;\n    this.el.removeObject3D(this.attrName);\n    this.material.dispose();\n    this.material = null;\n    this.texture.dispose();\n    this.texture = null;\n    if (this.shaderObject) { delete this.shaderObject; }\n  },\n\n  /**\n   * Update the shader of the material.\n   */\n  createOrUpdateMaterial: function () {\n    var data = this.data;\n    var hasChangedShader;\n    var material = this.material;\n    var NewShader;\n    var shaderData = this.shaderData;\n    var shaderName;\n\n    // Infer shader if using a stock font (or from `-msdf` filename convention).\n    shaderName = data.shader;\n    if (MSDF_FONTS.indexOf(data.font) !== -1 || data.font.indexOf('-msdf.') >= 0) {\n      shaderName = 'msdf';\n    } else if (data.font in FONTS && MSDF_FONTS.indexOf(data.font) === -1) {\n      shaderName = 'sdf';\n    }\n\n    hasChangedShader = (this.shaderObject && this.shaderObject.name) !== shaderName;\n\n    shaderData.alphaTest = data.alphaTest;\n    shaderData.color = data.color;\n    shaderData.map = this.texture;\n    shaderData.opacity = data.opacity;\n    shaderData.side = parseSide(data.side);\n    shaderData.transparent = data.transparent;\n    shaderData.negate = data.negate;\n\n    // Shader has not changed, do an update.\n    if (!hasChangedShader) {\n      // Update shader material.\n      this.shaderObject.update(shaderData);\n      // Apparently, was not set on `init` nor `update`.\n      material.transparent = shaderData.transparent;\n      material.side = shaderData.side;\n      return;\n    }\n\n    // Shader has changed. Create a shader material.\n    NewShader = createShader(this.el, shaderName, shaderData);\n    this.material = NewShader.material;\n    this.shaderObject = NewShader.shader;\n\n    // Set new shader material.\n    this.material.side = shaderData.side;\n    if (this.mesh) { this.mesh.material = this.material; }\n  },\n\n  /**\n   * Load font for geometry, load font image for material, and apply.\n   */\n  updateFont: function () {\n    var data = this.data;\n    var el = this.el;\n    var fontSrc;\n    var geometry = this.geometry;\n    var self = this;\n\n    if (!data.font) { warn('No font specified. Using the default font.'); }\n\n    // Make invisible during font swap.\n    if (this.mesh) { this.mesh.visible = false; }\n\n    // Look up font URL to use, and perform cached load.\n    fontSrc = this.lookupFont(data.font || DEFAULT_FONT) || data.font;\n    cache.get(fontSrc, function doLoadFont () {\n      return loadFont(fontSrc, data.yOffset);\n    }).then(function setFont (font) {\n      var fontImgSrc;\n\n      if (font.pages.length !== 1) {\n        throw new Error('Currently only single-page bitmap fonts are supported.');\n      }\n\n      if (!fontWidthFactors[fontSrc]) {\n        font.widthFactor = fontWidthFactors[font] = computeFontWidthFactor(font);\n      }\n      self.currentFont = font;\n      // Look up font image URL to use, and perform cached load.\n      fontImgSrc = self.getFontImageSrc();\n      cache.get(fontImgSrc, function () {\n        return loadTexture(fontImgSrc);\n      }).then(function (image) {\n        // Make mesh visible and apply font image as texture.\n        var texture = self.texture;\n        // The component may have been removed at this point and texture will\n        // be null. This happens mainly while executing the tests,\n        // in this case we just return.\n        if (!texture) return;\n        texture.image = image;\n        texture.needsUpdate = true;\n        textures[data.font] = texture;\n        self.texture = texture;\n        self.initMesh();\n        self.currentFont = font;\n        // Update geometry given font metrics.\n        self.updateGeometry(geometry, font);\n        self.updateLayout();\n        self.mesh.visible = true;\n        el.emit('textfontset', {font: data.font, fontObj: font});\n      }).catch(function (err) {\n        error(err.message);\n        error(err.stack);\n      });\n    }).catch(function (err) {\n      error(err.message);\n      error(err.stack);\n    });\n  },\n\n  initMesh: function () {\n    if (this.mesh) { return; }\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\n    this.el.setObject3D(this.attrName, this.mesh);\n  },\n\n  getFontImageSrc: function () {\n    if (this.data.fontImage) { return this.data.fontImage; }\n    var fontSrc = this.lookupFont(this.data.font || DEFAULT_FONT) || this.data.font;\n    var imageSrc = this.currentFont.pages[0];\n    // If the image URL contains a non-HTTP(S) protocol, assume it's an absolute\n    // path on disk and try to infer the path from the font source instead.\n    if (imageSrc.match(protocolRe) && imageSrc.indexOf('http') !== 0) {\n      return fontSrc.replace(/(\\.fnt)|(\\.json)/, '.png');\n    }\n    return THREE.LoaderUtils.extractUrlBase(fontSrc) + imageSrc;\n  },\n\n  /**\n   * Update layout with anchor, alignment, baseline, and considering any meshes.\n   */\n  updateLayout: function () {\n    var anchor;\n    var baseline;\n    var el = this.el;\n    var data = this.data;\n    var geometry = this.geometry;\n    var geometryComponent;\n    var height;\n    var layout;\n    var mesh = this.mesh;\n    var textRenderWidth;\n    var textScale;\n    var width;\n    var x;\n    var y;\n\n    if (!mesh || !geometry.layout) { return; }\n\n    // Determine width to use (defined width, geometry's width, or default width).\n    geometryComponent = el.getAttribute('geometry');\n    width = data.width || (geometryComponent && geometryComponent.width) || DEFAULT_WIDTH;\n\n    // Determine wrap pixel count. Either specified or by experimental fudge factor.\n    // Note that experimental factor will never be correct for variable width fonts.\n    textRenderWidth = computeWidth(data.wrapPixels, data.wrapCount,\n                                   this.currentFont.widthFactor);\n    textScale = width / textRenderWidth;\n\n    // Determine height to use.\n    layout = geometry.layout;\n    height = textScale * (layout.height + layout.descender);\n\n    // Update geometry dimensions to match text layout if width and height are set to 0.\n    // For example, scales a plane to fit text.\n    if (geometryComponent && geometryComponent.primitive === 'plane') {\n      if (!this.explicitGeoDimensionsChecked) {\n        this.explicitGeoDimensionsChecked = true;\n        this.hasExplicitGeoWidth = !!geometryComponent.width;\n        this.hasExplicitGeoHeight = !!geometryComponent.height;\n      }\n      if (!this.hasExplicitGeoWidth) { el.setAttribute('geometry', 'width', width); }\n      if (!this.hasExplicitGeoHeight) { el.setAttribute('geometry', 'height', height); }\n    }\n\n    // Calculate X position to anchor text left, center, or right.\n    anchor = data.anchor === 'align' ? data.align : data.anchor;\n    if (anchor === 'left') {\n      x = 0;\n    } else if (anchor === 'right') {\n      x = -1 * layout.width;\n    } else if (anchor === 'center') {\n      x = -1 * layout.width / 2;\n    } else {\n      throw new TypeError('Invalid text.anchor property value', anchor);\n    }\n\n    // Calculate Y position to anchor text top, center, or bottom.\n    baseline = data.baseline;\n    if (baseline === 'bottom') {\n      y = 0;\n    } else if (baseline === 'top') {\n      y = -1 * layout.height + layout.ascender;\n    } else if (baseline === 'center') {\n      y = -1 * layout.height / 2;\n    } else {\n      throw new TypeError('Invalid text.baseline property value', baseline);\n    }\n\n    // Position and scale mesh to apply layout.\n    mesh.position.x = x * textScale + data.xOffset;\n    mesh.position.y = y * textScale;\n    // Place text slightly in front to avoid Z-fighting.\n    mesh.position.z = data.zOffset;\n    mesh.scale.set(textScale, -1 * textScale, textScale);\n  },\n\n  /**\n   * Grab font from the constant.\n   * Set as a method for test stubbing purposes.\n   */\n  lookupFont: function (key) {\n    return FONTS[key];\n  },\n\n  /**\n   * Update the text geometry using `three-bmfont-text.update`.\n   */\n  updateGeometry: (function () {\n    var geometryUpdateBase = {};\n    var geometryUpdateData = {};\n    var newLineRegex = /\\\\n/g;\n    var tabRegex = /\\\\t/g;\n\n    return function (geometry, font) {\n      var data = this.data;\n\n      geometryUpdateData.font = font;\n      geometryUpdateData.lineHeight = data.lineHeight && isFinite(data.lineHeight)\n        ? data.lineHeight\n        : font.common.lineHeight;\n      geometryUpdateData.text = data.value.toString().replace(newLineRegex, '\\n')\n        .replace(tabRegex, '\\t');\n      geometryUpdateData.width = computeWidth(data.wrapPixels, data.wrapCount,\n                                              font.widthFactor);\n      geometry.update(utils.extend(geometryUpdateBase, data, geometryUpdateData));\n    };\n  })()\n});\n\n/**\n * Due to using negative scale, we return the opposite side specified.\n * https://github.com/mrdoob/three.js/pull/12787/\n */\nfunction parseSide (side) {\n  switch (side) {\n    case 'back': {\n      return THREE.FrontSide;\n    }\n    case 'double': {\n      return THREE.DoubleSide;\n    }\n    default: {\n      return THREE.BackSide;\n    }\n  }\n}\n\n/**\n * @returns {Promise}\n */\nfunction loadFont (src, yOffset) {\n  return new Promise(function (resolve, reject) {\n    loadBMFont(src, function (err, font) {\n      if (err) {\n        error('Error loading font', src);\n        reject(err);\n        return;\n      }\n\n      // Fix negative Y offsets for Roboto MSDF font from tool. Experimentally determined.\n      if (src.indexOf('/Roboto-msdf.json') >= 0) { yOffset = 30; }\n      if (yOffset) { font.chars.forEach(function doOffset (ch) { ch.yoffset += yOffset; }); }\n\n      resolve(font);\n    });\n  });\n}\n\n/**\n * @returns {Promise}\n */\nfunction loadTexture (src) {\n  return new Promise(function (resolve, reject) {\n    new THREE.ImageLoader().load(src, function (image) {\n      resolve(image);\n    }, undefined, function () {\n      error('Error loading font image', src);\n      reject(null);\n    });\n  });\n}\n\nfunction createShader (el, shaderName, data) {\n  var shader;\n  var shaderObject;\n\n  // Set up Shader.\n  shaderObject = new shaders[shaderName].Shader();\n  shaderObject.el = el;\n  shaderObject.init(data);\n  shaderObject.update(data);\n\n  // Get material.\n  shader = shaderObject.material;\n  // Apparently, was not set on `init` nor `update`.\n  shader.transparent = data.transparent;\n\n  return {\n    material: shader,\n    shader: shaderObject\n  };\n}\n\n/**\n * Determine wrap pixel count. Either specified or by experimental fudge factor.\n * Note that experimental factor will never be correct for variable width fonts.\n */\nfunction computeWidth (wrapPixels, wrapCount, widthFactor) {\n  return wrapPixels || ((0.5 + wrapCount) * widthFactor);\n}\n\n/**\n * Compute default font width factor to use.\n */\nfunction computeFontWidthFactor (font) {\n  var sum = 0;\n  var digitsum = 0;\n  var digits = 0;\n  font.chars.forEach(function (ch) {\n    sum += ch.xadvance;\n    if (ch.id >= 48 && ch.id <= 57) {\n      digits++;\n      digitsum += ch.xadvance;\n    }\n  });\n  return digits ? digitsum / digits : sum / font.chars.length;\n}\n\n/**\n * Get or create a promise given a key and promise generator.\n * @todo Move to a utility and use in other parts of A-Frame.\n */\nfunction PromiseCache () {\n  var cache = this.cache = {};\n\n  this.get = function (key, promiseGenerator) {\n    if (key in cache) {\n      return cache[key];\n    }\n    cache[key] = promiseGenerator();\n    return cache[key];\n  };\n}\n","import { registerComponent } from '../core/component.js';\nimport { debug } from '../utils/index.js';\nimport * as THREE from 'three';\n\nvar warn = debug('components:sound:warn');\n\n/**\n * Sound component.\n */\nexport var Component = registerComponent('sound', {\n  schema: {\n    autoplay: {default: false},\n    distanceModel: {default: 'inverse', oneOf: ['linear', 'inverse', 'exponential']},\n    loop: {default: false},\n    loopStart: {default: 0},\n    loopEnd: {default: 0},\n    maxDistance: {default: 10000},\n    on: {default: ''},\n    poolSize: {default: 1},\n    positional: {default: true},\n    refDistance: {default: 1},\n    rolloffFactor: {default: 1},\n    src: {type: 'audio'},\n    volume: {default: 1}\n  },\n\n  multiple: true,\n\n  init: function () {\n    var self = this;\n\n    this.listener = null;\n    this.audioLoader = new THREE.AudioLoader();\n    this.pool = new THREE.Group();\n    this.loaded = false;\n    this.mustPlay = false;\n\n    // Don't pass evt because playSound takes a function as parameter.\n    this.playSoundBound = function () { self.playSound(); };\n  },\n\n  update: function (oldData) {\n    var data = this.data;\n    var i;\n    var sound;\n    var srcChanged = data.src !== oldData.src;\n\n    // Create new sound if not yet created or changing `src`.\n    if (srcChanged) {\n      if (!data.src) { return; }\n      this.setupSound();\n    }\n\n    for (i = 0; i < this.pool.children.length; i++) {\n      sound = this.pool.children[i];\n      if (data.positional) {\n        sound.setDistanceModel(data.distanceModel);\n        sound.setMaxDistance(data.maxDistance);\n        sound.setRefDistance(data.refDistance);\n        sound.setRolloffFactor(data.rolloffFactor);\n      }\n      sound.setLoop(data.loop);\n      sound.setLoopStart(data.loopStart);\n\n      // With a loop start specified without a specified loop end, the end of the loop should be the end of the file\n      if (data.loopStart !== 0 && data.loopEnd === 0) {\n        sound.setLoopEnd(sound.buffer.duration);\n      } else {\n        sound.setLoopEnd(data.loopEnd);\n      }\n\n      sound.setVolume(data.volume);\n      sound.isPaused = false;\n    }\n\n    if (data.on !== oldData.on) {\n      this.updateEventListener(oldData.on);\n    }\n\n    // All sound values set. Load in `src`.\n    if (srcChanged) {\n      var self = this;\n\n      this.loaded = false;\n      this.audioLoader.load(data.src, function (buffer) {\n        for (i = 0; i < self.pool.children.length; i++) {\n          sound = self.pool.children[i];\n          sound.setBuffer(buffer);\n        }\n        self.loaded = true;\n\n        // Remove this key from cache, otherwise we can't play it again\n        THREE.Cache.remove(data.src);\n        if (self.data.autoplay || self.mustPlay) { self.playSound(self.processSound); }\n        self.el.emit('sound-loaded', self.evtDetail, false);\n      });\n    }\n  },\n\n  pause: function () {\n    this.stopSound();\n    this.removeEventListener();\n  },\n\n  play: function () {\n    if (this.data.autoplay) { this.playSound(); }\n    this.updateEventListener();\n  },\n\n  remove: function () {\n    var i;\n    var sound;\n\n    this.removeEventListener();\n\n    if (this.el.getObject3D(this.attrName)) {\n      this.el.removeObject3D(this.attrName);\n    }\n\n    try {\n      for (i = 0; i < this.pool.children.length; i++) {\n        sound = this.pool.children[i];\n        sound.disconnect();\n      }\n    } catch (e) {\n      // disconnect() will throw if it was never connected initially.\n      warn('Audio source not properly disconnected');\n    }\n  },\n\n  /**\n  *  Update listener attached to the user defined on event.\n  */\n  updateEventListener: function (oldEvt) {\n    var el = this.el;\n    if (oldEvt) { el.removeEventListener(oldEvt, this.playSoundBound); }\n    el.addEventListener(this.data.on, this.playSoundBound);\n  },\n\n  removeEventListener: function () {\n    this.el.removeEventListener(this.data.on, this.playSoundBound);\n  },\n\n  /**\n   * Removes current sound object, creates new sound object, adds to entity.\n   */\n  setupSound: function () {\n    var el = this.el;\n    var i;\n    var sceneEl = el.sceneEl;\n    var self = this;\n    var sound;\n\n    if (this.pool.children.length > 0) {\n      this.stopSound();\n      el.removeObject3D('sound');\n    }\n\n    // Only want one AudioListener. Cache it on the scene.\n    var listener = this.listener = sceneEl.audioListener || new THREE.AudioListener();\n    sceneEl.audioListener = listener;\n\n    if (sceneEl.camera) {\n      sceneEl.camera.add(listener);\n    }\n\n    // Wait for camera if necessary.\n    sceneEl.addEventListener('camera-set-active', function (evt) {\n      evt.detail.cameraEl.getObject3D('camera').add(listener);\n    });\n\n    // Create [poolSize] audio instances and attach them to pool\n    this.pool = new THREE.Group();\n    for (i = 0; i < this.data.poolSize; i++) {\n      sound = this.data.positional\n        ? new THREE.PositionalAudio(listener)\n        : new THREE.Audio(listener);\n      this.pool.add(sound);\n    }\n    el.setObject3D(this.attrName, this.pool);\n\n    for (i = 0; i < this.pool.children.length; i++) {\n      sound = this.pool.children[i];\n      sound.onEnded = function () {\n        this.isPlaying = false;\n        self.el.emit('sound-ended', self.evtDetail, false);\n      };\n    }\n  },\n\n  /**\n   * Pause all the sounds in the pool.\n   */\n  pauseSound: function () {\n    var i;\n    var sound;\n\n    this.isPlaying = false;\n    for (i = 0; i < this.pool.children.length; i++) {\n      sound = this.pool.children[i];\n      if (!sound.source || !sound.source.buffer || !sound.isPlaying || sound.isPaused) {\n        continue;\n      }\n      sound.isPaused = true;\n      sound.pause();\n    }\n  },\n\n  /**\n   * Look for an unused sound in the pool and play it if found.\n   */\n  playSound: function (processSound) {\n    var found;\n    var i;\n    var sound;\n\n    if (!this.loaded) {\n      warn('Sound not loaded yet. It will be played once it finished loading');\n      this.mustPlay = true;\n      this.processSound = processSound;\n      return;\n    }\n\n    found = false;\n    this.isPlaying = true;\n    for (i = 0; i < this.pool.children.length; i++) {\n      sound = this.pool.children[i];\n      if (!sound.isPlaying && sound.buffer && !found) {\n        if (processSound) { processSound(sound); }\n        sound.play();\n        sound.isPaused = false;\n        found = true;\n        continue;\n      }\n    }\n\n    if (!found) {\n      warn('All the sounds are playing. If you need to play more sounds simultaneously ' +\n           'consider increasing the size of pool with the `poolSize` attribute.', this.el);\n      return;\n    }\n\n    this.mustPlay = false;\n    this.processSound = undefined;\n  },\n\n  /**\n   * Stop all the sounds in the pool.\n   */\n  stopSound: function () {\n    var i;\n    var sound;\n    this.isPlaying = false;\n    for (i = 0; i < this.pool.children.length; i++) {\n      sound = this.pool.children[i];\n      if (!sound.source || !sound.source.buffer) { return; }\n      sound.stop();\n    }\n  }\n});\n","import { registerComponent } from '../core/component.js';\n\nexport var Component = registerComponent('scale', {\n  schema: {\n    type: 'vec3',\n    default: {x: 1, y: 1, z: 1}\n  },\n\n  update: function () {\n    var data = this.data;\n    var object3D = this.el.object3D;\n    object3D.scale.set(data.x, data.y, data.z);\n  },\n\n  remove: function () {\n    // Pretty much for mixins.\n    this.el.object3D.scale.set(1, 1, 1);\n  }\n});\n","import * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\n\n/**\n * Shadow component.\n *\n * When applied to an entity, that entity's geometry and any descendants will cast or receive\n * shadows as specified by the `cast` and `receive` properties.\n */\nexport var Component = registerComponent('shadow', {\n  schema: {\n    cast: {default: true},\n    receive: {default: true}\n  },\n\n  init: function () {\n    this.onMeshChanged = this.update.bind(this);\n    this.el.addEventListener('object3dset', this.onMeshChanged);\n    this.system.setShadowMapEnabled(true);\n  },\n\n  update: function () {\n    var data = this.data;\n    this.updateDescendants(data.cast, data.receive);\n  },\n\n  remove: function () {\n    var el = this.el;\n    el.removeEventListener('object3dset', this.onMeshChanged);\n    this.updateDescendants(false, false);\n  },\n\n  updateDescendants: function (cast, receive) {\n    var sceneEl = this.el.sceneEl;\n    this.el.object3D.traverse(function (node) {\n      if (!(node instanceof THREE.Mesh)) { return; }\n\n      node.castShadow = cast;\n      node.receiveShadow = receive;\n\n      // If scene has already rendered, materials must be updated.\n      if (sceneEl.hasLoaded && node.material) {\n        var materials = Array.isArray(node.material) ? node.material : [node.material];\n        for (var i = 0; i < materials.length; i++) {\n          materials[i].needsUpdate = true;\n        }\n      }\n    });\n  }\n});\n","import { registerComponent } from '../core/component.js';\nimport * as controllerUtils from '../utils/tracked-controls.js';\n\nvar EVENTS = {\n  AXISMOVE: 'axismove',\n  BUTTONCHANGED: 'buttonchanged',\n  BUTTONDOWN: 'buttondown',\n  BUTTONUP: 'buttonup',\n  TOUCHSTART: 'touchstart',\n  TOUCHEND: 'touchend'\n};\n\n/**\n * Tracked controls.\n * Abstract controls to support 6DOF tracked input controllers.\n *\n * @property {string} id - String corresponding to the WebXR controller input profile ids.\n * @property {number} controller - Index of controller in array returned by Gamepad API.\n *  Only used if hand property is not set.\n * @property {boolean} autoHide - shows / hides the entity automatically when the controller is\n * connected or desconneted.\n * @property {number} hand - If multiple controllers found with id, choose the one with the\n *  given value for hand. If set, we ignore 'controller' property\n * @property {boolean} handTrackingEnabled - Assumes a controller exposed via the WebXR Hand Input Module.\n * @property {boolean} iterateControllerProfiles - Iterates over all of the WebXR controller input profiles.\n */\nexport var Component = registerComponent('tracked-controls', {\n  schema: {\n    id: {type: 'string', default: ''},\n    controller: {default: -1},\n    autoHide: {default: true},\n    hand: {type: 'string', default: ''},\n    handTrackingEnabled: {default: false},\n    iterateControllerProfiles: {default: false}\n  },\n\n  init: function () {\n    this.buttonEventDetails = {};\n    this.buttonStates = this.el.components['tracked-controls'].buttonStates = {};\n    this.axis = this.el.components['tracked-controls'].axis = [0, 0, 0];\n    this.changedAxes = [];\n    this.axisMoveEventDetail = {axis: this.axis, changed: this.changedAxes};\n\n    this.updateController = this.updateController.bind(this);\n  },\n\n  update: function () {\n    this.updateController();\n  },\n\n  play: function () {\n    var sceneEl = this.el.sceneEl;\n    this.updateController();\n    sceneEl.addEventListener('controllersupdated', this.updateController);\n  },\n\n  pause: function () {\n    var sceneEl = this.el.sceneEl;\n    sceneEl.removeEventListener('controllersupdated', this.updateController);\n  },\n\n  isControllerPresent: function (evt) {\n    if (!this.controller || this.controller.gamepad) { return false; }\n    if (evt.inputSource.handedness !== 'none' &&\n        evt.inputSource.handedness !== this.data.hand) {\n      return false;\n    }\n    return true;\n  },\n\n  /**\n   * Handle update controller match criteria (such as `id`, `idPrefix`, `hand`, `controller`)\n   */\n  updateController: function () {\n    this.controller = controllerUtils.findMatchingControllerWebXR(\n      this.system.controllers,\n      this.data.id,\n      this.data.hand,\n      this.data.controller,\n      this.data.iterateControllerProfiles,\n      this.data.handTrackingEnabled\n    );\n    // Legacy handle to the controller for old components.\n    this.el.components['tracked-controls'].controller = this.controller;\n  },\n\n  tick: function () {\n    var sceneEl = this.el.sceneEl;\n    var controller = this.controller;\n    var frame = sceneEl.frame;\n    if (this.data.autoHide) { this.el.object3D.visible = !!controller; }\n    if (!controller || !sceneEl.frame || !this.system.referenceSpace) { return; }\n    if (!controller.hand) {\n      this.pose = frame.getPose(controller.gripSpace, this.system.referenceSpace);\n      this.updatePose();\n      this.updateButtons();\n    }\n  },\n\n  updatePose: function () {\n    var object3D = this.el.object3D;\n    var pose = this.pose;\n    if (!pose) { return; }\n    object3D.matrix.elements = pose.transform.matrix;\n    object3D.matrix.decompose(object3D.position, object3D.rotation, object3D.scale);\n  },\n\n  /**\n   * Handle button changes including axes, presses, touches, values.\n   */\n  updateButtons: function () {\n    var buttonState;\n    var id;\n    var controller = this.controller;\n    var gamepad;\n    if (!controller || !controller.gamepad) { return; }\n\n    gamepad = controller.gamepad;\n    // Check every button.\n    for (id = 0; id < gamepad.buttons.length; ++id) {\n      // Initialize button state.\n      if (!this.buttonStates[id]) {\n        this.buttonStates[id] = {pressed: false, touched: false, value: 0};\n      }\n      if (!this.buttonEventDetails[id]) {\n        this.buttonEventDetails[id] = {id: id, state: this.buttonStates[id]};\n      }\n\n      buttonState = gamepad.buttons[id];\n      this.handleButton(id, buttonState);\n    }\n    // Check axes.\n    this.handleAxes();\n  },\n\n  /**\n   * Handle presses and touches for a single button.\n   *\n   * @param {number} id - Index of button in Gamepad button array.\n   * @param {number} buttonState - Value of button state from 0 to 1.\n   * @returns {boolean} Whether button has changed in any way.\n   */\n  handleButton: function (id, buttonState) {\n    var changed;\n    changed = this.handlePress(id, buttonState) |\n              this.handleTouch(id, buttonState) |\n              this.handleValue(id, buttonState);\n    if (!changed) { return false; }\n    this.el.emit(EVENTS.BUTTONCHANGED, this.buttonEventDetails[id], false);\n    return true;\n  },\n\n  /**\n   * An axis is an array of values from -1 (up, left) to 1 (down, right).\n   * Compare each component of the axis to the previous value to determine change.\n   *\n   * @returns {boolean} Whether axes changed.\n   */\n  handleAxes: function () {\n    var changed = false;\n    var controllerAxes = this.controller.gamepad.axes;\n    var i;\n    var previousAxis = this.axis;\n    var changedAxes = this.changedAxes;\n\n    // Check if axis changed.\n    this.changedAxes.splice(0, this.changedAxes.length);\n    for (i = 0; i < controllerAxes.length; ++i) {\n      changedAxes.push(previousAxis[i] !== controllerAxes[i]);\n      if (changedAxes[i]) { changed = true; }\n    }\n    if (!changed) { return false; }\n\n    this.axis.splice(0, this.axis.length);\n    for (i = 0; i < controllerAxes.length; i++) {\n      this.axis.push(controllerAxes[i]);\n    }\n    this.el.emit(EVENTS.AXISMOVE, this.axisMoveEventDetail, false);\n    return true;\n  },\n\n  /**\n   * Determine whether a button press has occurred and emit events as appropriate.\n   *\n   * @param {string} id - ID of the button to check.\n   * @param {object} buttonState - State of the button to check.\n   * @returns {boolean} Whether button press state changed.\n   */\n  handlePress: function (id, buttonState) {\n    var evtName;\n    var previousButtonState = this.buttonStates[id];\n\n    // Not changed.\n    if (buttonState.pressed === previousButtonState.pressed) { return false; }\n\n    evtName = buttonState.pressed ? EVENTS.BUTTONDOWN : EVENTS.BUTTONUP;\n    this.el.emit(evtName, this.buttonEventDetails[id], false);\n    previousButtonState.pressed = buttonState.pressed;\n    return true;\n  },\n\n  /**\n   * Determine whether a button touch has occurred and emit events as appropriate.\n   *\n   * @param {string} id - ID of the button to check.\n   * @param {object} buttonState - State of the button to check.\n   * @returns {boolean} Whether button touch state changed.\n   */\n  handleTouch: function (id, buttonState) {\n    var evtName;\n    var previousButtonState = this.buttonStates[id];\n\n    // Not changed.\n    if (buttonState.touched === previousButtonState.touched) { return false; }\n\n    evtName = buttonState.touched ? EVENTS.TOUCHSTART : EVENTS.TOUCHEND;\n    this.el.emit(evtName, this.buttonEventDetails[id], false);\n    previousButtonState.touched = buttonState.touched;\n    return true;\n  },\n\n  /**\n   * Determine whether a button value has changed.\n   *\n   * @param {string} id - Id of the button to check.\n   * @param {object} buttonState - State of the button to check.\n   * @returns {boolean} Whether button value changed.\n   */\n  handleValue: function (id, buttonState) {\n    var previousButtonState = this.buttonStates[id];\n\n    // Not changed.\n    if (buttonState.value === previousButtonState.value) { return false; }\n\n    previousButtonState.value = buttonState.value;\n    return true;\n  }\n});\n","import * as THREE from 'three';\nimport { KEYCODE_TO_CODE } from '../constants/keyboardevent.js';\nimport { registerComponent } from '../core/component.js';\nimport * as utils from '../utils/index.js';\n\nvar shouldCaptureKeyEvent = utils.shouldCaptureKeyEvent;\n\nvar CLAMP_VELOCITY = 0.00001;\nvar MAX_DELTA = 0.2;\nvar KEYS = [\n  'KeyW', 'KeyA', 'KeyS', 'KeyD',\n  'ArrowUp', 'ArrowLeft', 'ArrowRight', 'ArrowDown'\n];\n\n/**\n * WASD component to control entities using WASD keys.\n */\nexport var Component = registerComponent('wasd-controls', {\n  schema: {\n    acceleration: {default: 65},\n    adAxis: {default: 'x', oneOf: ['x', 'y', 'z']},\n    adEnabled: {default: true},\n    adInverted: {default: false},\n    enabled: {default: true},\n    fly: {default: false},\n    wsAxis: {default: 'z', oneOf: ['x', 'y', 'z']},\n    wsEnabled: {default: true},\n    wsInverted: {default: false}\n  },\n  after: ['look-controls'],\n\n  init: function () {\n    // To keep track of the pressed keys.\n    this.keys = {};\n    this.easing = 1.1;\n\n    this.velocity = new THREE.Vector3();\n\n    // Bind methods and add event listeners.\n    this.onBlur = this.onBlur.bind(this);\n    this.onContextMenu = this.onContextMenu.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n    this.onVisibilityChange = this.onVisibilityChange.bind(this);\n    this.attachVisibilityEventListeners();\n  },\n\n  tick: function (time, delta) {\n    var data = this.data;\n    var el = this.el;\n    var velocity = this.velocity;\n\n    if (!velocity[data.adAxis] && !velocity[data.wsAxis] &&\n        isEmptyObject(this.keys)) { return; }\n\n    // Update velocity.\n    delta = delta / 1000;\n    this.updateVelocity(delta);\n\n    if (!velocity[data.adAxis] && !velocity[data.wsAxis]) { return; }\n\n    // Get movement vector and translate position.\n    el.object3D.position.add(this.getMovementVector(delta));\n  },\n\n  update: function (oldData) {\n    // Reset velocity if axis have changed.\n    if (oldData.adAxis !== this.data.adAxis) { this.velocity[oldData.adAxis] = 0; }\n    if (oldData.wsAxis !== this.data.wsAxis) { this.velocity[oldData.wsAxis] = 0; }\n  },\n\n  remove: function () {\n    this.removeKeyEventListeners();\n    this.removeVisibilityEventListeners();\n  },\n\n  play: function () {\n    this.attachKeyEventListeners();\n  },\n\n  pause: function () {\n    this.keys = {};\n    this.removeKeyEventListeners();\n  },\n\n  updateVelocity: function (delta) {\n    var acceleration;\n    var adAxis;\n    var adSign;\n    var data = this.data;\n    var keys = this.keys;\n    var velocity = this.velocity;\n    var wsAxis;\n    var wsSign;\n\n    adAxis = data.adAxis;\n    wsAxis = data.wsAxis;\n\n    // If FPS too low, reset velocity.\n    if (delta > MAX_DELTA) {\n      velocity[adAxis] = 0;\n      velocity[wsAxis] = 0;\n      return;\n    }\n\n    // https://gamedev.stackexchange.com/questions/151383/frame-rate-independant-movement-with-acceleration\n    var scaledEasing = Math.pow(1 / this.easing, delta * 60);\n    // Velocity Easing.\n    if (velocity[adAxis] !== 0) {\n      velocity[adAxis] = velocity[adAxis] * scaledEasing;\n    }\n    if (velocity[wsAxis] !== 0) {\n      velocity[wsAxis] = velocity[wsAxis] * scaledEasing;\n    }\n\n    // Clamp velocity easing.\n    if (Math.abs(velocity[adAxis]) < CLAMP_VELOCITY) { velocity[adAxis] = 0; }\n    if (Math.abs(velocity[wsAxis]) < CLAMP_VELOCITY) { velocity[wsAxis] = 0; }\n\n    if (!data.enabled) { return; }\n\n    // Update velocity using keys pressed.\n    acceleration = data.acceleration;\n    if (data.adEnabled) {\n      adSign = data.adInverted ? -1 : 1;\n      if (keys.KeyA || keys.ArrowLeft) { velocity[adAxis] -= adSign * acceleration * delta; }\n      if (keys.KeyD || keys.ArrowRight) { velocity[adAxis] += adSign * acceleration * delta; }\n    }\n    if (data.wsEnabled) {\n      wsSign = data.wsInverted ? -1 : 1;\n      if (keys.KeyW || keys.ArrowUp) { velocity[wsAxis] -= wsSign * acceleration * delta; }\n      if (keys.KeyS || keys.ArrowDown) { velocity[wsAxis] += wsSign * acceleration * delta; }\n    }\n  },\n\n  getMovementVector: (function () {\n    var directionVector = new THREE.Vector3(0, 0, 0);\n    var rotationEuler = new THREE.Euler(0, 0, 0, 'YXZ');\n\n    return function (delta) {\n      var rotation = this.el.getAttribute('rotation');\n      var velocity = this.velocity;\n      var xRotation;\n\n      directionVector.copy(velocity);\n      directionVector.multiplyScalar(delta);\n\n      // Absolute.\n      if (!rotation) { return directionVector; }\n\n      xRotation = this.data.fly ? rotation.x : 0;\n\n      // Transform direction relative to heading.\n      rotationEuler.set(THREE.MathUtils.degToRad(xRotation), THREE.MathUtils.degToRad(rotation.y), 0);\n      directionVector.applyEuler(rotationEuler);\n      return directionVector;\n    };\n  })(),\n\n  attachVisibilityEventListeners: function () {\n    window.oncontextmenu = this.onContextMenu;\n    window.addEventListener('blur', this.onBlur);\n    window.addEventListener('focus', this.onFocus);\n    document.addEventListener('visibilitychange', this.onVisibilityChange);\n  },\n\n  removeVisibilityEventListeners: function () {\n    window.removeEventListener('blur', this.onBlur);\n    window.removeEventListener('focus', this.onFocus);\n    document.removeEventListener('visibilitychange', this.onVisibilityChange);\n  },\n\n  attachKeyEventListeners: function () {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n  },\n\n  removeKeyEventListeners: function () {\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  },\n\n  onContextMenu: function () {\n    var keys = Object.keys(this.keys);\n    for (var i = 0; i < keys.length; i++) {\n      delete this.keys[keys[i]];\n    }\n  },\n\n  onBlur: function () {\n    this.pause();\n  },\n\n  onFocus: function () {\n    this.play();\n  },\n\n  onVisibilityChange: function () {\n    if (document.hidden) {\n      this.onBlur();\n    } else {\n      this.onFocus();\n    }\n  },\n\n  onKeyDown: function (event) {\n    var code;\n    if (!shouldCaptureKeyEvent(event)) { return; }\n    code = event.code || KEYCODE_TO_CODE[event.keyCode];\n    if (KEYS.indexOf(code) !== -1) { this.keys[code] = true; }\n  },\n\n  onKeyUp: function (event) {\n    var code;\n    code = event.code || KEYCODE_TO_CODE[event.keyCode];\n    delete this.keys[code];\n  }\n});\n\nfunction isEmptyObject (keys) {\n  var key;\n  for (key in keys) { return false; }\n  return true;\n}\n","import { registerComponent } from '../core/component.js';\nimport * as THREE from 'three';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\nimport { checkControllerPresentAndSetup, emitIfAxesChanged, onButtonEvent } from '../utils/tracked-controls.js';\n\nvar INDEX_CONTROLLER_MODEL_BASE_URL = AFRAME_CDN_ROOT + 'controllers/valve/index/valve-index-';\nvar INDEX_CONTROLLER_MODEL_URL = {\n  left: INDEX_CONTROLLER_MODEL_BASE_URL + 'left.glb',\n  right: INDEX_CONTROLLER_MODEL_BASE_URL + 'right.glb'\n};\n\nvar GAMEPAD_ID_PREFIX = 'valve';\n\nvar INDEX_CONTROLLER_ROTATION_OFFSET = {\n  left: {x: 0, y: -0.05, z: 0.06},\n  right: {x: 0, y: -0.05, z: 0.06}\n};\n\nvar INDEX_CONTROLLER_POSITION_OFFSET = {\n  left: {_x: Math.PI / 3, _y: 0, _z: 0, _order: 'XYZ'},\n  right: {_x: Math.PI / 3, _y: 0, _z: 0, _order: 'XYZ'}\n};\n\n/**\n * Vive controls.\n * Interface with Vive controllers and map Gamepad events to controller buttons:\n * trackpad, trigger, grip, menu, system\n * Load a controller model and highlight the pressed buttons.\n */\nexport var Component = registerComponent('valve-index-controls', {\n  schema: {\n    hand: {default: 'left'},\n    buttonColor: {type: 'color', default: '#FAFAFA'},  // Off-white.\n    buttonHighlightColor: {type: 'color', default: '#22D1EE'},  // Light blue.\n    model: {default: true}\n  },\n\n  after: ['tracked-controls'],\n\n  mapping: {\n    axes: {\n      trackpad: [0, 1],\n      thumbstick: [2, 3]\n    },\n    buttons: ['trigger', 'grip', 'trackpad', 'thumbstick', 'abutton']\n  },\n\n  init: function () {\n    var self = this;\n    this.controllerPresent = false;\n    this.onButtonChanged = this.onButtonChanged.bind(this);\n    this.onButtonDown = function (evt) { onButtonEvent(evt.detail.id, 'down', self); };\n    this.onButtonUp = function (evt) { onButtonEvent(evt.detail.id, 'up', self); };\n    this.onButtonTouchEnd = function (evt) { onButtonEvent(evt.detail.id, 'touchend', self); };\n    this.onButtonTouchStart = function (evt) { onButtonEvent(evt.detail.id, 'touchstart', self); };\n    this.previousButtonValues = {};\n\n    this.bindMethods();\n  },\n\n  play: function () {\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  bindMethods: function () {\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this);\n    this.onAxisMoved = this.onAxisMoved.bind(this);\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('buttonchanged', this.onButtonChanged);\n    el.addEventListener('buttondown', this.onButtonDown);\n    el.addEventListener('buttonup', this.onButtonUp);\n    el.addEventListener('touchend', this.onButtonTouchEnd);\n    el.addEventListener('touchstart', this.onButtonTouchStart);\n    el.addEventListener('model-loaded', this.onModelLoaded);\n    el.addEventListener('axismove', this.onAxisMoved);\n    this.controllerEventsActive = true;\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('buttonchanged', this.onButtonChanged);\n    el.removeEventListener('buttondown', this.onButtonDown);\n    el.removeEventListener('buttonup', this.onButtonUp);\n    el.removeEventListener('touchend', this.onButtonTouchEnd);\n    el.removeEventListener('touchstart', this.onButtonTouchStart);\n    el.removeEventListener('model-loaded', this.onModelLoaded);\n    el.removeEventListener('axismove', this.onAxisMoved);\n    this.controllerEventsActive = false;\n  },\n\n  /**\n   * Once OpenVR returns correct hand data in supporting browsers, we can use hand property.\n   * var isPresent = checkControllerPresentAndSetup(this.el.sceneEl, GAMEPAD_ID_PREFIX,\n                                                        { hand: data.hand });\n   * Until then, use hardcoded index.\n   */\n  checkIfControllerPresent: function () {\n    var data = this.data;\n    var controllerIndex = data.hand === 'right' ? 0 : data.hand === 'left' ? 1 : 2;\n    checkControllerPresentAndSetup(this, GAMEPAD_ID_PREFIX, {index: controllerIndex, iterateControllerProfiles: true, hand: data.hand});\n  },\n\n  injectTrackedControls: function () {\n    var el = this.el;\n    var data = this.data;\n\n    // If we have an OpenVR Gamepad, use the fixed mapping.\n    el.setAttribute('tracked-controls', {\n      idPrefix: GAMEPAD_ID_PREFIX,\n      // Hand IDs: 1 = right, 0 = left, 2 = anything else.\n      controller: data.hand === 'right' ? 1 : data.hand === 'left' ? 0 : 2,\n      hand: data.hand\n    });\n\n    this.loadModel();\n  },\n\n  loadModel: function () {\n    var data = this.data;\n    if (!data.model) { return; }\n    this.el.setAttribute('gltf-model', '' + INDEX_CONTROLLER_MODEL_URL[data.hand] + '');\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    this.checkIfControllerPresent();\n  },\n\n  /**\n   * Rotate the trigger button based on how hard the trigger is pressed.\n   */\n  onButtonChanged: function (evt) {\n    var button = this.mapping.buttons[evt.detail.id];\n    var buttonMeshes = this.buttonMeshes;\n    var analogValue;\n\n    if (!button) { return; }\n\n    if (button === 'trigger') {\n      analogValue = evt.detail.state.value;\n      // Update trigger rotation depending on button value.\n      if (buttonMeshes && buttonMeshes.trigger) {\n        buttonMeshes.trigger.rotation.x = this.triggerOriginalRotationX - analogValue * (Math.PI / 40);\n      }\n    }\n\n    // Pass along changed event with button state, using button mapping for convenience.\n    this.el.emit(button + 'changed', evt.detail.state);\n  },\n\n  onModelLoaded: function (evt) {\n    var buttonMeshes;\n    var controllerObject3D = evt.detail.model;\n    var self = this;\n\n    if (evt.target !== this.el || !this.data.model) { return; }\n\n    // Store button meshes object to be able to change their colors.\n    buttonMeshes = this.buttonMeshes = {};\n    buttonMeshes.grip = {\n      left: controllerObject3D.getObjectByName('leftgrip'),\n      right: controllerObject3D.getObjectByName('rightgrip')\n    };\n    buttonMeshes.menu = controllerObject3D.getObjectByName('menubutton');\n    buttonMeshes.system = controllerObject3D.getObjectByName('systembutton');\n    buttonMeshes.trackpad = controllerObject3D.getObjectByName('touchpad');\n    buttonMeshes.trigger = controllerObject3D.getObjectByName('trigger');\n    this.triggerOriginalRotationX = buttonMeshes.trigger.rotation.x;\n\n    // Set default colors.\n    Object.keys(buttonMeshes).forEach(function (buttonName) {\n      self.setButtonColor(buttonName, self.data.buttonColor);\n    });\n\n    // Offset pivot point.\n    controllerObject3D.position.copy(INDEX_CONTROLLER_POSITION_OFFSET[this.data.hand]);\n    controllerObject3D.rotation.copy(INDEX_CONTROLLER_ROTATION_OFFSET[this.data.hand]);\n\n    this.el.emit('controllermodelready', {\n      name: 'valve-index-controls',\n      model: this.data.model,\n      rayOrigin: new THREE.Vector3(0, 0, 0)\n    });\n  },\n\n  onAxisMoved: function (evt) {\n    emitIfAxesChanged(this, this.mapping.axes, evt);\n  },\n\n  updateModel: function (buttonName, evtName) {\n    var color;\n    var isTouch;\n    if (!this.data.model) { return; }\n\n    isTouch = evtName.indexOf('touch') !== -1;\n    // Don't change color for trackpad touch.\n    if (isTouch) { return; }\n\n    // Update colors.\n    color = evtName === 'up' ? this.data.buttonColor : this.data.buttonHighlightColor;\n    this.setButtonColor(buttonName, color);\n  },\n  setButtonColor: function (buttonName, color) {\n    // TODO: The meshes aren't set up correctly now, skipping for the moment\n    return;\n  }\n});\n","import { registerComponent } from '../core/component.js';\n\n/**\n * Visibility component.\n */\nexport var Component = registerComponent('visible', {\n  schema: {default: true},\n\n  update: function () {\n    this.el.object3D.visible = this.data;\n  }\n});\n","import { registerComponent } from '../core/component.js';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\nimport { checkControllerPresentAndSetup, emitIfAxesChanged, onButtonEvent } from '../utils/tracked-controls.js';\n\nvar VIVE_CONTROLLER_MODEL_OBJ_URL = AFRAME_CDN_ROOT + 'controllers/vive/vr_controller_vive.obj';\nvar VIVE_CONTROLLER_MODEL_OBJ_MTL = AFRAME_CDN_ROOT + 'controllers/vive/vr_controller_vive.mtl';\n\n// Prefix for HTC Vive controllers.\nvar GAMEPAD_ID_PREFIX = 'htc-vive';\n\n/**\n * Button IDs:\n * 0 - trigger\n * 1 - squeeze\n * 2 - touchpad\n * 3 - none (dispatch but better for menu options)\n * 4 - menu (never dispatched on this layer)\n *\n * Axis:\n * 0 - touchpad x axis\n * 1 - touchpad y axis\n * Reference: https://github.com/immersive-web/webxr-input-profiles/blob/master/packages/registry/profiles/htc/htc-vive.json\n */\nvar INPUT_MAPPING = {\n  axes: {touchpad: [0, 1]},\n  buttons: ['trigger', 'grip', 'touchpad', 'none']\n};\n\n/**\n * Vive controls.\n * Interface with Vive controllers and map Gamepad events to controller buttons:\n * touchpad, trigger, grip, menu, system\n * Load a controller model and highlight the pressed buttons.\n */\nexport var Component = registerComponent('vive-controls', {\n  schema: {\n    hand: {default: 'left'},\n    buttonColor: {type: 'color', default: '#FAFAFA'},  // Off-white.\n    buttonHighlightColor: {type: 'color', default: '#22D1EE'},  // Light blue.\n    model: {default: true}\n  },\n\n  after: ['tracked-controls'],\n\n  mapping: INPUT_MAPPING,\n\n  init: function () {\n    var self = this;\n    this.controllerPresent = false;\n    this.onButtonChanged = this.onButtonChanged.bind(this);\n    this.onButtonDown = function (evt) { onButtonEvent(evt.detail.id, 'down', self); };\n    this.onButtonUp = function (evt) { onButtonEvent(evt.detail.id, 'up', self); };\n    this.onButtonTouchEnd = function (evt) { onButtonEvent(evt.detail.id, 'touchend', self); };\n    this.onButtonTouchStart = function (evt) { onButtonEvent(evt.detail.id, 'touchstart', self); };\n    this.previousButtonValues = {};\n\n    this.bindMethods();\n  },\n\n  update: function () {\n    var data = this.data;\n    this.controllerIndex = data.hand === 'right' ? 0 : data.hand === 'left' ? 1 : 2;\n  },\n\n  play: function () {\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  bindMethods: function () {\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this);\n    this.onAxisMoved = this.onAxisMoved.bind(this);\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('buttonchanged', this.onButtonChanged);\n    el.addEventListener('buttondown', this.onButtonDown);\n    el.addEventListener('buttonup', this.onButtonUp);\n    el.addEventListener('touchend', this.onButtonTouchEnd);\n    el.addEventListener('touchstart', this.onButtonTouchStart);\n    el.addEventListener('model-loaded', this.onModelLoaded);\n    el.addEventListener('axismove', this.onAxisMoved);\n    this.controllerEventsActive = true;\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('buttonchanged', this.onButtonChanged);\n    el.removeEventListener('buttondown', this.onButtonDown);\n    el.removeEventListener('buttonup', this.onButtonUp);\n    el.removeEventListener('touchend', this.onButtonTouchEnd);\n    el.removeEventListener('touchstart', this.onButtonTouchStart);\n    el.removeEventListener('model-loaded', this.onModelLoaded);\n    el.removeEventListener('axismove', this.onAxisMoved);\n    this.controllerEventsActive = false;\n  },\n\n  /**\n   * Once OpenVR returns correct hand data in supporting browsers, we can use hand property.\n   * var isPresent = checkControllerPresentAndSetup(this.el.sceneEl, GAMEPAD_ID_PREFIX,\n                                                        { hand: data.hand });\n   * Until then, use hardcoded index.\n   */\n  checkIfControllerPresent: function () {\n    var data = this.data;\n    checkControllerPresentAndSetup(this, GAMEPAD_ID_PREFIX, {index: this.controllerIndex, hand: data.hand});\n  },\n\n  injectTrackedControls: function () {\n    var el = this.el;\n    var data = this.data;\n\n    // If we have an OpenVR Gamepad, use the fixed mapping.\n    el.setAttribute('tracked-controls', {\n      idPrefix: GAMEPAD_ID_PREFIX,\n      hand: data.hand,\n      controller: this.controllerIndex\n    });\n\n    // Load model.\n    if (!this.data.model) { return; }\n    this.el.setAttribute('obj-model', {\n      obj: VIVE_CONTROLLER_MODEL_OBJ_URL,\n      mtl: VIVE_CONTROLLER_MODEL_OBJ_MTL\n    });\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    this.checkIfControllerPresent();\n  },\n\n  /**\n   * Rotate the trigger button based on how hard the trigger is pressed.\n   */\n  onButtonChanged: function (evt) {\n    var button = this.mapping.buttons[evt.detail.id];\n    var buttonMeshes = this.buttonMeshes;\n    var analogValue;\n\n    if (!button) { return; }\n\n    if (button === 'trigger') {\n      analogValue = evt.detail.state.value;\n      // Update trigger rotation depending on button value.\n      if (buttonMeshes && buttonMeshes.trigger) {\n        buttonMeshes.trigger.rotation.x = -analogValue * (Math.PI / 12);\n      }\n    }\n\n    // Pass along changed event with button state, using button mapping for convenience.\n    this.el.emit(button + 'changed', evt.detail.state);\n  },\n\n  onModelLoaded: function (evt) {\n    var buttonMeshes;\n    var controllerObject3D = evt.detail.model;\n    var self = this;\n\n    if (evt.target !== this.el || !this.data.model) { return; }\n\n    // Store button meshes object to be able to change their colors.\n    buttonMeshes = this.buttonMeshes = {};\n    buttonMeshes.grip = {\n      left: controllerObject3D.getObjectByName('leftgrip'),\n      right: controllerObject3D.getObjectByName('rightgrip')\n    };\n    buttonMeshes.menu = controllerObject3D.getObjectByName('menubutton');\n    buttonMeshes.system = controllerObject3D.getObjectByName('systembutton');\n    buttonMeshes.trackpad = controllerObject3D.getObjectByName('touchpad');\n    buttonMeshes.touchpad = controllerObject3D.getObjectByName('touchpad');\n    buttonMeshes.trigger = controllerObject3D.getObjectByName('trigger');\n\n    // Set default colors.\n    Object.keys(buttonMeshes).forEach(function (buttonName) {\n      self.setButtonColor(buttonName, self.data.buttonColor);\n    });\n\n    // Offset pivot point.\n    controllerObject3D.position.set(0, -0.015, 0.04);\n  },\n\n  onAxisMoved: function (evt) {\n    emitIfAxesChanged(this, this.mapping.axes, evt);\n  },\n\n  updateModel: function (buttonName, evtName) {\n    var color;\n    var isTouch;\n    if (!this.data.model) { return; }\n\n    isTouch = evtName.indexOf('touch') !== -1;\n    // Don't change color for trackpad touch.\n    if (isTouch) { return; }\n\n    // Update colors.\n    color = evtName === 'up' ? this.data.buttonColor : this.data.buttonHighlightColor;\n    this.setButtonColor(buttonName, color);\n  },\n\n  setButtonColor: function (buttonName, color) {\n    var buttonMeshes = this.buttonMeshes;\n\n    if (!buttonMeshes) { return; }\n\n    // Need to do both left and right sides for grip.\n    if (buttonName === 'grip') {\n      buttonMeshes.grip.left.material.color.set(color);\n      buttonMeshes.grip.right.material.color.set(color);\n      return;\n    }\n    buttonMeshes[buttonName].material.color.set(color);\n  }\n});\n","import { registerComponent } from '../core/component.js';\nimport { AFRAME_CDN_ROOT } from '../constants/index.js';\nimport { checkControllerPresentAndSetup, emitIfAxesChanged, onButtonEvent } from '../utils/tracked-controls.js';\n\nvar VIVE_FOCUS_CONTROLLER_MODEL_URL = AFRAME_CDN_ROOT + 'controllers/vive/focus-controller/focus-controller.gltf';\n\n// Prefix for HTC Vive Focus Controllers.\nvar GAMEPAD_ID_PREFIX = 'htc-vive-focus';\n\n/**\n * Button IDs:\n * 0 - trigger\n * 2 - touchpad\n * 4 - menu\n */\nvar INPUT_MAPPING = {\n  axes: {touchpad: [0, 1]},\n  buttons: ['trigger', 'none', 'touchpad', 'none', 'menu']\n};\n\n/**\n * Vive Focus controls.\n * Interface with Vive Focus controller and map Gamepad events to\n * controller buttons: trackpad, trigger\n * Load a controller model and highlight the pressed buttons.\n */\nexport var Component = registerComponent('vive-focus-controls', {\n  schema: {\n    hand: {default: ''},  // This informs the degenerate arm model.\n    buttonTouchedColor: {type: 'color', default: '#BBBBBB'},\n    buttonHighlightColor: {type: 'color', default: '#7A7A7A'},\n    model: {default: true}\n  },\n\n  after: ['tracked-controls'],\n\n  mapping: INPUT_MAPPING,\n\n  bindMethods: function () {\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.removeControllersUpdateListener = this.removeControllersUpdateListener.bind(this);\n    this.onAxisMoved = this.onAxisMoved.bind(this);\n  },\n\n  init: function () {\n    var self = this;\n    this.onButtonChanged = this.onButtonChanged.bind(this);\n    this.onButtonDown = function (evt) { onButtonEvent(evt.detail.id, 'down', self); };\n    this.onButtonUp = function (evt) { onButtonEvent(evt.detail.id, 'up', self); };\n    this.onButtonTouchStart = function (evt) { onButtonEvent(evt.detail.id, 'touchstart', self); };\n    this.onButtonTouchEnd = function (evt) { onButtonEvent(evt.detail.id, 'touchend', self); };\n    this.controllerPresent = false;\n    this.bindMethods();\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('buttonchanged', this.onButtonChanged);\n    el.addEventListener('buttondown', this.onButtonDown);\n    el.addEventListener('buttonup', this.onButtonUp);\n    el.addEventListener('touchstart', this.onButtonTouchStart);\n    el.addEventListener('touchend', this.onButtonTouchEnd);\n    el.addEventListener('model-loaded', this.onModelLoaded);\n    el.addEventListener('axismove', this.onAxisMoved);\n    this.controllerEventsActive = true;\n    this.addControllersUpdateListener();\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('buttonchanged', this.onButtonChanged);\n    el.removeEventListener('buttondown', this.onButtonDown);\n    el.removeEventListener('buttonup', this.onButtonUp);\n    el.removeEventListener('touchstart', this.onButtonTouchStart);\n    el.removeEventListener('touchend', this.onButtonTouchEnd);\n    el.removeEventListener('model-loaded', this.onModelLoaded);\n    el.removeEventListener('axismove', this.onAxisMoved);\n    this.controllerEventsActive = false;\n    this.removeControllersUpdateListener();\n  },\n\n  checkIfControllerPresent: function () {\n    checkControllerPresentAndSetup(this, GAMEPAD_ID_PREFIX,\n                                   this.data.hand ? {hand: this.data.hand} : {});\n  },\n\n  play: function () {\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  injectTrackedControls: function () {\n    var el = this.el;\n    el.setAttribute('tracked-controls', {\n      idPrefix: GAMEPAD_ID_PREFIX\n    });\n    if (!this.data.model) { return; }\n    this.el.setAttribute('gltf-model', VIVE_FOCUS_CONTROLLER_MODEL_URL);\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    this.checkIfControllerPresent();\n  },\n\n  onModelLoaded: function (evt) {\n    var controllerObject3D = evt.detail.model;\n    var buttonMeshes;\n\n    if (evt.target !== this.el || !this.data.model) { return; }\n    buttonMeshes = this.buttonMeshes = {};\n    buttonMeshes.trigger = controllerObject3D.getObjectByName('BumperKey');\n    buttonMeshes.triggerPressed = controllerObject3D.getObjectByName('BumperKey_Press');\n    if (buttonMeshes.triggerPressed) {\n      buttonMeshes.triggerPressed.visible = false;\n    }\n    buttonMeshes.touchpad = controllerObject3D.getObjectByName('TouchPad');\n    buttonMeshes.touchpadPressed = controllerObject3D.getObjectByName('TouchPad_Press');\n    buttonMeshes.trackpad = controllerObject3D.getObjectByName('TouchPad');\n    buttonMeshes.trackpadPressed = controllerObject3D.getObjectByName('TouchPad_Press');\n    if (buttonMeshes.trackpadPressed) {\n      buttonMeshes.trackpadPressed.visible = false;\n    }\n  },\n\n  // No analog buttons, only emits 0/1 values\n  onButtonChanged: function (evt) {\n    var button = this.mapping.buttons[evt.detail.id];\n    if (!button) return;\n    // Pass along changed event with button state, using button mapping for convenience.\n    this.el.emit(button + 'changed', evt.detail.state);\n  },\n\n  onAxisMoved: function (evt) {\n    emitIfAxesChanged(this, this.mapping.axes, evt);\n  },\n\n  updateModel: function (buttonName, evtName) {\n    if (!this.data.model) { return; }\n    this.updateButtonModel(buttonName, evtName);\n  },\n\n  updateButtonModel: function (buttonName, state) {\n    var buttonMeshes = this.buttonMeshes;\n    var pressedName = buttonName + 'Pressed';\n    if (!buttonMeshes || !buttonMeshes[buttonName] || !buttonMeshes[pressedName]) {\n      return;\n    }\n    var color;\n    switch (state) {\n      case 'down':\n        color = this.data.buttonHighlightColor;\n        break;\n      case 'touchstart':\n        color = this.data.buttonTouchedColor;\n        break;\n    }\n    if (color) {\n      buttonMeshes[pressedName].material.color.set(color);\n    }\n    buttonMeshes[pressedName].visible = !!color;\n    buttonMeshes[buttonName].visible = !color;\n  }\n});\n","// Tiny KeyboardEvent.code polyfill.\nexport var KEYCODE_TO_CODE = {\n  '38': 'ArrowUp',\n  '37': 'ArrowLeft',\n  '40': 'ArrowDown',\n  '39': 'ArrowRight',\n  '87': 'KeyW',\n  '65': 'KeyA',\n  '83': 'KeyS',\n  '68': 'KeyD'\n};\n","import * as THREE from 'three';\nimport { registerComponent } from '../core/component.js';\nimport * as utils from '../utils/index.js';\nimport { DEFAULT_HANDEDNESS, AFRAME_CDN_ROOT } from '../constants/index.js';\nimport { checkControllerPresentAndSetup, emitIfAxesChanged, onButtonEvent } from '../utils/tracked-controls.js';\n\nvar debug = utils.debug('components:windows-motion-controls:debug');\nvar warn = utils.debug('components:windows-motion-controls:warn');\n\nvar MODEL_BASE_URL = AFRAME_CDN_ROOT + 'controllers/microsoft/';\nvar MODEL_FILENAMES = { left: 'left.glb', right: 'right.glb', default: 'universal.glb' };\n\nvar GAMEPAD_ID_PREFIX = 'windows-mixed-reality';\n\nvar INPUT_MAPPING = {\n  // A-Frame specific semantic axis names\n  axes: {'touchpad': [0, 1], 'thumbstick': [2, 3]},\n  // A-Frame specific semantic button names\n  buttons: ['trigger', 'squeeze', 'touchpad', 'thumbstick', 'menu'],\n  // A mapping of the semantic name to node name in the glTF model file,\n  // that should be transformed by axis value.\n  // This array mirrors the browser Gamepad.axes array, such that\n  // the mesh corresponding to axis 0 is in this array index 0.\n  axisMeshNames: [\n    'TOUCHPAD_TOUCH_X',\n    'TOUCHPAD_TOUCH_X',\n    'THUMBSTICK_X',\n    'THUMBSTICK_Y'\n  ],\n  // A mapping of the semantic name to button node name in the glTF model file,\n  // that should be transformed by button value.\n  buttonMeshNames: {\n    'trigger': 'SELECT',\n    'menu': 'MENU',\n    'squeeze': 'GRASP',\n    'thumbstick': 'THUMBSTICK_PRESS',\n    'touchpad': 'TOUCHPAD_PRESS'\n  },\n  pointingPoseMeshName: 'POINTING_POSE'\n};\n\n/**\n * Windows Motion Controller controls.\n * Interface with Windows Motion Controller controllers and map Gamepad events to\n * controller buttons: trackpad, trigger, grip, menu, thumbstick\n * Load a controller model and transform the pressed buttons.\n */\nexport var Component = registerComponent('windows-motion-controls', {\n  schema: {\n    hand: {default: DEFAULT_HANDEDNESS},\n    // It is possible to have multiple pairs of controllers attached (a pair has both left and right).\n    // Set this to 1 to use a controller from the second pair, 2 from the third pair, etc.\n    pair: {default: 0},\n    // If true, loads the controller glTF asset.\n    model: {default: true}\n  },\n\n  after: ['tracked-controls'],\n\n  mapping: INPUT_MAPPING,\n\n  bindMethods: function () {\n    this.onModelError = this.onModelError.bind(this);\n    this.onModelLoaded = this.onModelLoaded.bind(this);\n    this.onControllersUpdate = this.onControllersUpdate.bind(this);\n    this.checkIfControllerPresent = this.checkIfControllerPresent.bind(this);\n    this.onAxisMoved = this.onAxisMoved.bind(this);\n  },\n\n  init: function () {\n    var self = this;\n    var el = this.el;\n    this.onButtonChanged = this.onButtonChanged.bind(this);\n    this.onButtonDown = function (evt) { onButtonEvent(evt.detail.id, 'down', self); };\n    this.onButtonUp = function (evt) { onButtonEvent(evt.detail.id, 'up', self); };\n    this.onButtonTouchStart = function (evt) { onButtonEvent(evt.detail.id, 'touchstart', self); };\n    this.onButtonTouchEnd = function (evt) { onButtonEvent(evt.detail.id, 'touchend', self); };\n    this.onControllerConnected = function () { self.setModelVisibility(true); };\n    this.onControllerDisconnected = function () { self.setModelVisibility(false); };\n    this.controllerPresent = false;\n    this.previousButtonValues = {};\n    this.bindMethods();\n\n    // Cache for submeshes that we have looked up by name.\n    this.loadedMeshInfo = {\n      buttonMeshes: null,\n      axisMeshes: null\n    };\n\n    // Pointing poses\n    this.rayOrigin = {\n      origin: new THREE.Vector3(),\n      direction: new THREE.Vector3(0, 0, -1),\n      createdFromMesh: false\n    };\n\n    el.addEventListener('controllerconnected', this.onControllerConnected);\n    el.addEventListener('controllerdisconnected', this.onControllerDisconnected);\n  },\n\n  addEventListeners: function () {\n    var el = this.el;\n    el.addEventListener('buttonchanged', this.onButtonChanged);\n    el.addEventListener('buttondown', this.onButtonDown);\n    el.addEventListener('buttonup', this.onButtonUp);\n    el.addEventListener('touchstart', this.onButtonTouchStart);\n    el.addEventListener('touchend', this.onButtonTouchEnd);\n    el.addEventListener('axismove', this.onAxisMoved);\n    el.addEventListener('model-error', this.onModelError);\n    el.addEventListener('model-loaded', this.onModelLoaded);\n    this.controllerEventsActive = true;\n  },\n\n  removeEventListeners: function () {\n    var el = this.el;\n    el.removeEventListener('buttonchanged', this.onButtonChanged);\n    el.removeEventListener('buttondown', this.onButtonDown);\n    el.removeEventListener('buttonup', this.onButtonUp);\n    el.removeEventListener('touchstart', this.onButtonTouchStart);\n    el.removeEventListener('touchend', this.onButtonTouchEnd);\n    el.removeEventListener('axismove', this.onAxisMoved);\n    el.removeEventListener('model-error', this.onModelError);\n    el.removeEventListener('model-loaded', this.onModelLoaded);\n    this.controllerEventsActive = false;\n  },\n\n  checkIfControllerPresent: function () {\n    checkControllerPresentAndSetup(this, GAMEPAD_ID_PREFIX, {\n      hand: this.data.hand,\n      index: this.data.pair,\n      iterateControllerProfiles: true\n    });\n  },\n\n  play: function () {\n    this.checkIfControllerPresent();\n    this.addControllersUpdateListener();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.removeControllersUpdateListener();\n  },\n\n  updateControllerModel: function () {\n    // If we do not want to load a model, or, have already loaded the model, emit the controllermodelready event.\n    if (!this.data.model || this.rayOrigin.createdFromMesh) {\n      this.modelReady();\n      return;\n    }\n\n    var sourceUrl = this.createControllerModelUrl();\n    this.loadModel(sourceUrl);\n  },\n\n  /**\n   * Helper function that constructs a URL from the controller ID suffix, for future proofed\n   * art assets.\n   */\n  createControllerModelUrl: function (forceDefault) {\n    // Determine the device specific folder based on the ID suffix\n    var device = 'default';\n    var hand = this.data.hand;\n    var filename;\n\n    // Hand\n    filename = MODEL_FILENAMES[hand] || MODEL_FILENAMES.default;\n\n    // Final url\n    return MODEL_BASE_URL + device + '/' + filename;\n  },\n\n  injectTrackedControls: function () {\n    var data = this.data;\n    this.el.setAttribute('tracked-controls', {\n      idPrefix: GAMEPAD_ID_PREFIX,\n      controller: data.pair,\n      hand: data.hand\n    });\n\n    this.updateControllerModel();\n  },\n\n  addControllersUpdateListener: function () {\n    this.el.sceneEl.addEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  removeControllersUpdateListener: function () {\n    this.el.sceneEl.removeEventListener('controllersupdated', this.onControllersUpdate, false);\n  },\n\n  onControllersUpdate: function () {\n    this.checkIfControllerPresent();\n  },\n\n  onModelError: function (evt) {\n    var defaultUrl = this.createControllerModelUrl(true);\n    if (evt.detail.src !== defaultUrl) {\n      warn('Failed to load controller model for device, attempting to load default.');\n      this.loadModel(defaultUrl);\n    } else {\n      warn('Failed to load default controller model.');\n    }\n  },\n\n  loadModel: function (url) {\n    // The model is loaded by the gltf-model component when this attribute is initially set,\n    // removed and re-loaded if the given url changes.\n    this.el.setAttribute('gltf-model', 'url(' + url + ')');\n  },\n\n  onModelLoaded: function (evt) {\n    var rootNode = this.controllerModel = evt.detail.model;\n    var loadedMeshInfo = this.loadedMeshInfo;\n    var i;\n    var meshName;\n    var mesh;\n    var meshInfo;\n\n    if (evt.target !== this.el) { return; }\n\n    debug('Processing model');\n\n    // Reset the caches\n    loadedMeshInfo.buttonMeshes = {};\n    loadedMeshInfo.axisMeshes = {};\n\n    // Cache our meshes so we aren't traversing the hierarchy per frame\n    if (rootNode) {\n      // Button Meshes\n      for (i = 0; i < this.mapping.buttons.length; i++) {\n        meshName = this.mapping.buttonMeshNames[this.mapping.buttons[i]];\n        if (!meshName) {\n          debug('Skipping unknown button at index: ' + i + ' with mapped name: ' + this.mapping.buttons[i]);\n          continue;\n        }\n\n        mesh = rootNode.getObjectByName(meshName);\n        if (!mesh) {\n          warn('Missing button mesh with name: ' + meshName);\n          continue;\n        }\n\n        meshInfo = {\n          index: i,\n          value: getImmediateChildByName(mesh, 'VALUE'),\n          pressed: getImmediateChildByName(mesh, 'PRESSED'),\n          unpressed: getImmediateChildByName(mesh, 'UNPRESSED')\n        };\n        if (meshInfo.value && meshInfo.pressed && meshInfo.unpressed) {\n          loadedMeshInfo.buttonMeshes[this.mapping.buttons[i]] = meshInfo;\n        } else {\n          // If we didn't find the mesh, it simply means this button won't have transforms applied as mapped button value changes.\n          warn('Missing button submesh under mesh with name: ' + meshName +\n            '(VALUE: ' + !!meshInfo.value +\n            ', PRESSED: ' + !!meshInfo.pressed +\n            ', UNPRESSED:' + !!meshInfo.unpressed +\n            ')');\n        }\n      }\n\n      // Axis Meshes\n      for (i = 0; i < this.mapping.axisMeshNames.length; i++) {\n        meshName = this.mapping.axisMeshNames[i];\n        if (!meshName) {\n          debug('Skipping unknown axis at index: ' + i);\n          continue;\n        }\n\n        mesh = rootNode.getObjectByName(meshName);\n        if (!mesh) {\n          warn('Missing axis mesh with name: ' + meshName);\n          continue;\n        }\n\n        meshInfo = {\n          index: i,\n          value: getImmediateChildByName(mesh, 'VALUE'),\n          min: getImmediateChildByName(mesh, 'MIN'),\n          max: getImmediateChildByName(mesh, 'MAX')\n        };\n        if (meshInfo.value && meshInfo.min && meshInfo.max) {\n          loadedMeshInfo.axisMeshes[i] = meshInfo;\n        } else {\n          // If we didn't find the mesh, it simply means this axis won't have transforms applied as mapped axis values change.\n          warn('Missing axis submesh under mesh with name: ' + meshName +\n            '(VALUE: ' + !!meshInfo.value +\n            ', MIN: ' + !!meshInfo.min +\n            ', MAX:' + !!meshInfo.max +\n            ')');\n        }\n      }\n\n      this.calculateRayOriginFromMesh(rootNode);\n      // Determine if the model has to be visible or not.\n      this.setModelVisibility();\n    }\n\n    debug('Model load complete.');\n\n    // Look through only immediate children. This will return null if no mesh exists with the given name.\n    function getImmediateChildByName (object3d, value) {\n      for (var i = 0, l = object3d.children.length; i < l; i++) {\n        var obj = object3d.children[i];\n        if (obj && obj['name'] === value) {\n          return obj;\n        }\n      }\n      return undefined;\n    }\n  },\n\n  calculateRayOriginFromMesh: (function () {\n    var quaternion = new THREE.Quaternion();\n    return function (rootNode) {\n      var mesh;\n\n      // Calculate the pointer pose (used for rays), by applying the world transform of th POINTER_POSE node\n      // in the glTF (assumes that root node is at world origin)\n      this.rayOrigin.origin.set(0, 0, 0);\n      this.rayOrigin.direction.set(0, 0, -1);\n      this.rayOrigin.createdFromMesh = true;\n\n      // Try to read Pointing pose from the source model\n      mesh = rootNode.getObjectByName(this.mapping.pointingPoseMeshName);\n      if (mesh) {\n        var parent = rootNode.parent;\n\n        // We need to read pose transforms accumulated from the root of the glTF, not the scene.\n        if (parent) {\n          rootNode.parent = null;\n          rootNode.updateMatrixWorld(true);\n          rootNode.parent = parent;\n        }\n\n        mesh.getWorldPosition(this.rayOrigin.origin);\n        mesh.getWorldQuaternion(quaternion);\n        this.rayOrigin.direction.applyQuaternion(quaternion);\n\n        // Recalculate the world matrices now that the rootNode is re-attached to the parent.\n        if (parent) {\n          rootNode.updateMatrixWorld(true);\n        }\n      } else {\n        debug('Mesh does not contain pointing origin data, defaulting to none.');\n      }\n\n      // Emit event stating that our pointing ray is now accurate.\n      this.modelReady();\n    };\n  })(),\n\n  lerpAxisTransform: (function () {\n    var quaternion = new THREE.Quaternion();\n    return function (axis, axisValue) {\n      var axisMeshInfo = this.loadedMeshInfo.axisMeshes[axis];\n      if (!axisMeshInfo) return;\n\n      var min = axisMeshInfo.min;\n      var max = axisMeshInfo.max;\n      var target = axisMeshInfo.value;\n\n      // Convert from gamepad value range (-1 to +1) to lerp range (0 to 1)\n      var lerpValue = axisValue * 0.5 + 0.5;\n      target.setRotationFromQuaternion(quaternion.copy(min.quaternion).slerp(max.quaternion, lerpValue));\n      target.position.lerpVectors(min.position, max.position, lerpValue);\n    };\n  })(),\n\n  lerpButtonTransform: (function () {\n    var quaternion = new THREE.Quaternion();\n    return function (buttonName, buttonValue) {\n      var buttonMeshInfo = this.loadedMeshInfo.buttonMeshes[buttonName];\n      if (!buttonMeshInfo) return;\n\n      var min = buttonMeshInfo.unpressed;\n      var max = buttonMeshInfo.pressed;\n      var target = buttonMeshInfo.value;\n\n      target.setRotationFromQuaternion(quaternion.copy(min.quaternion).slerp(max.quaternion, buttonValue));\n      target.position.lerpVectors(min.position, max.position, buttonValue);\n    };\n  })(),\n\n  modelReady: function () {\n    this.el.emit('controllermodelready', {\n      name: 'windows-motion-controls',\n      model: this.data.model,\n      rayOrigin: this.rayOrigin\n    });\n  },\n\n  onButtonChanged: function (evt) {\n    var buttonName = this.mapping.buttons[evt.detail.id];\n\n    if (buttonName) {\n      // Update the button mesh transform\n      if (this.loadedMeshInfo && this.loadedMeshInfo.buttonMeshes) {\n        this.lerpButtonTransform(buttonName, evt.detail.state.value);\n      }\n\n      // Only emit events for buttons that we know how to map from index to name\n      this.el.emit(buttonName + 'changed', evt.detail.state);\n    }\n  },\n\n  onAxisMoved: function (evt) {\n    var numAxes = this.mapping.axisMeshNames.length;\n\n    // Only attempt to update meshes if we have valid data.\n    if (this.loadedMeshInfo && this.loadedMeshInfo.axisMeshes) {\n      for (var axis = 0; axis < numAxes; axis++) {\n        // Update the button mesh transform\n        this.lerpAxisTransform(axis, evt.detail.axis[axis] || 0.0);\n      }\n    }\n\n    emitIfAxesChanged(this, this.mapping.axes, evt);\n  },\n\n  setModelVisibility: function (visible) {\n    var model = this.el.getObject3D('mesh');\n    if (!this.controllerPresent) { return; }\n    visible = visible !== undefined ? visible : this.modelVisible;\n    this.modelVisible = visible;\n    if (!model) { return; }\n    model.visible = visible;\n  }\n});\n","/* global ImageData, Map, Set */\nimport * as THREE from 'three';\nimport { registerComponent as register } from '../../core/component.js';\nvar arrowURL = 'data:image/webp;base64,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';\nvar CAM_LAYER = 21;\n\nvar applyPose = (function () {\n  var tempQuaternion = new THREE.Quaternion();\n  var tempVec3 = new THREE.Vector3();\n  function applyPose (pose, object3D, offset) {\n    object3D.position.copy(pose.transform.position);\n    object3D.quaternion.copy(pose.transform.orientation);\n\n    tempVec3.copy(offset);\n    tempQuaternion.copy(pose.transform.orientation);\n    tempVec3.applyQuaternion(tempQuaternion);\n    object3D.position.sub(tempVec3);\n  }\n  return applyPose;\n}());\n\napplyPose.tempFakePose = {\n  transform: {\n    orientation: new THREE.Quaternion(),\n    position: new THREE.Vector3()\n  }\n};\n\n/**\n * Class to handle hit-test from a single source\n *\n * For a normal space provide it as a space option\n * new HitTest(renderer, {\n *   space: viewerSpace\n * });\n *\n * this is also useful for the targetRaySpace of an XRInputSource\n *\n * It can also describe a transient input source like so:\n *\n * var profileToSupport = 'generic-touchscreen';\n * var transientHitTest = new HitTest(renderer, {\n *   profile: profileToSupport\n * });\n *\n * Where the profile matches an item in a type of controller, profiles matching 'generic-touchscreen'\n * will always be a transient input and as of 08/2021 all transient inputs are 'generic-touchscreen'\n *\n * @param {WebGLRenderer} renderer THREE.JS Renderer\n * @param {object} hitTestSourceDetails The source information either as the information for a transient hit-test or a regular hit-test\n */\nfunction HitTest (renderer, hitTestSourceDetails) {\n  this.renderer = renderer;\n  this.xrHitTestSource = null;\n\n  renderer.xr.addEventListener('sessionend', function () {\n    this.xrHitTestSource = null;\n  }.bind(this));\n  renderer.xr.addEventListener('sessionstart', function () {\n    this.sessionStart(hitTestSourceDetails);\n  }.bind(this));\n\n  if (this.renderer.xr.isPresenting) {\n    this.sessionStart(hitTestSourceDetails);\n  }\n}\n\nHitTest.prototype.previousFrameAnchors = new Set();\nHitTest.prototype.anchorToObject3D = new Map();\n\nfunction warnAboutHitTest (e) {\n  console.warn(e.message);\n  console.warn('Cannot requestHitTestSource Are you missing: webxr=\"optionalFeatures: hit-test;\" from <a-scene>?');\n}\n\nHitTest.prototype.sessionStart = function sessionStart (hitTestSourceDetails) {\n  this.session = this.renderer.xr.getSession();\n  if (!('requestHitTestSource' in this.session)) {\n    warnAboutHitTest({message: 'No requestHitTestSource on the session.'});\n    return;\n  }\n  if (hitTestSourceDetails.space) {\n    this.session.requestHitTestSource(hitTestSourceDetails)\n      .then(function (xrHitTestSource) {\n        this.xrHitTestSource = xrHitTestSource;\n      }.bind(this))\n      .catch(warnAboutHitTest);\n  } else if (hitTestSourceDetails.profile) {\n    this.session.requestHitTestSourceForTransientInput(hitTestSourceDetails)\n      .then(function (xrHitTestSource) {\n        this.xrHitTestSource = xrHitTestSource;\n        this.transient = true;\n      }.bind(this))\n      .catch(warnAboutHitTest);\n  }\n};\n\n/**\n * Turns the last hit test into an anchor, the provided Object3D will have its\n * position update to track the anchor.\n *\n * @param {Object3D} object3D object to track\n * @param {Vector3} offset offset of the object from the origin that gets subtracted\n */\nHitTest.prototype.anchorFromLastHitTestResult = function (object3D, offset) {\n  var hitTest = this.lastHitTest;\n\n  if (!hitTest) { return; }\n\n  var object3DOptions = {\n    object3D: object3D,\n    offset: offset\n  };\n\n  Array.from(this.anchorToObject3D.entries())\n    .forEach(function (entry) {\n      var entryObject = entry[1].object3D;\n      var anchor = entry[0];\n      if (entryObject === object3D) {\n        this.anchorToObject3D.delete(anchor);\n        anchor.delete();\n      }\n    }.bind(this));\n\n  if (hitTest.createAnchor) {\n    hitTest.createAnchor()\n      .then(function (anchor) {\n        this.anchorToObject3D.set(anchor, object3DOptions);\n      }.bind(this))\n      .catch(function (e) {\n        console.warn(e.message);\n        console.warn('Cannot create anchor, are you missing: webxr=\"optionalFeatures: anchors;\" from <a-scene>?');\n      });\n  }\n};\n\nHitTest.prototype.doHit = function doHit (frame) {\n  if (!this.renderer.xr.isPresenting) { return; }\n  var refSpace = this.renderer.xr.getReferenceSpace();\n  var xrViewerPose = frame.getViewerPose(refSpace);\n  var hitTestResults;\n  var results;\n\n  if (this.xrHitTestSource && xrViewerPose) {\n    if (this.transient) {\n      hitTestResults = frame.getHitTestResultsForTransientInput(this.xrHitTestSource);\n      if (hitTestResults.length > 0) {\n        results = hitTestResults[0].results;\n        if (results.length > 0) {\n          this.lastHitTest = results[0];\n          return results[0].getPose(refSpace);\n        } else {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    } else {\n      hitTestResults = frame.getHitTestResults(this.xrHitTestSource);\n      if (hitTestResults.length > 0) {\n        this.lastHitTest = hitTestResults[0];\n        return hitTestResults[0].getPose(refSpace);\n      } else {\n        return false;\n      }\n    }\n  }\n};\n\n// static function\nHitTest.updateAnchorPoses = function (frame, refSpace) {\n  // If tracked anchors isn't defined because it's not supported then just use the empty set\n  var trackedAnchors = frame.trackedAnchors || HitTest.prototype.previousFrameAnchors;\n\n  HitTest.prototype.previousFrameAnchors.forEach(function (anchor) {\n    // Handle anchor tracking loss - `anchor` was present\n    // in the present frame but is no longer tracked.\n    if (!trackedAnchors.has(anchor)) {\n      HitTest.prototype.anchorToObject3D.delete(anchor);\n    }\n  });\n\n  trackedAnchors.forEach(function (anchor) {\n    var anchorPose;\n    var object3DOptions;\n    var offset;\n    var object3D;\n\n    try {\n      // Query most recent pose of the anchor relative to some reference space:\n      anchorPose = frame.getPose(anchor.anchorSpace, refSpace);\n      if (anchorPose) {\n        object3DOptions = HitTest.prototype.anchorToObject3D.get(anchor);\n        if (!object3DOptions) { return; }\n        offset = object3DOptions.offset;\n        object3D = object3DOptions.object3D;\n        applyPose(anchorPose, object3D, offset);\n      }\n    } catch (e) {\n      console.error('while updating anchor poses:', e);\n    }\n  });\n  HitTest.prototype.previousFrameAnchors = trackedAnchors;\n};\n\nvar hitTestCache;\nexport var Component = register('ar-hit-test', {\n  schema: {\n    target: { type: 'selector' },\n    enabled: { default: true },\n    src: {\n      default: arrowURL,\n      type: 'map'\n    },\n    type: {\n      default: 'footprint',\n      oneOf: ['footprint', 'map']\n    },\n    footprintDepth: {\n      default: 0.1\n    },\n    mapSize: {\n      type: 'vec2',\n      default: {\n        x: 0.5,\n        y: 0.5\n      }\n    }\n  },\n\n  sceneOnly: true,\n\n  init: function () {\n    this.hitTest = null;\n    this.imageDataArray = new Uint8ClampedArray(512 * 512 * 4);\n    this.imageData = new ImageData(this.imageDataArray, 512, 512);\n\n    this.textureCache = new Map();\n\n    this.orthoCam = new THREE.OrthographicCamera();\n    this.orthoCam.layers.set(CAM_LAYER);\n    this.textureTarget = new THREE.WebGLRenderTarget(512, 512, {});\n    this.basicMaterial = new THREE.MeshBasicMaterial({\n      color: 0x000000,\n      side: THREE.DoubleSide\n    });\n    this.canvas = document.createElement('canvas');\n    this.context = this.canvas.getContext('2d');\n    this.context.imageSmoothingEnabled = false;\n    this.canvas.width = 512;\n    this.canvas.height = 512;\n    this.canvasTexture = new THREE.CanvasTexture(this.canvas, {\n      alpha: true\n    });\n    this.canvasTexture.flipY = false;\n\n    // Update WebXR to support hit-test and anchors\n    var webxrData = this.el.getAttribute('webxr');\n    var optionalFeaturesArray = webxrData.optionalFeatures;\n    if (\n      !optionalFeaturesArray.includes('hit-test') ||\n      !optionalFeaturesArray.includes('anchors')\n    ) {\n      optionalFeaturesArray.push('hit-test');\n      optionalFeaturesArray.push('anchors');\n      this.el.setAttribute('webxr', webxrData);\n    }\n\n    this.el.sceneEl.renderer.xr.addEventListener('sessionend', function () {\n      this.hitTest = null;\n    }.bind(this));\n\n    // Use enter-vr event instead of sessionstart so that ar-mode is set before this is called\n    this.el.sceneEl.addEventListener('enter-vr', function () {\n      // Don't request Hit Test unless AR (breaks WebXR Emulator)\n      if (!this.el.is('ar-mode')) { return; }\n\n      var renderer = this.el.sceneEl.renderer;\n      var session = this.session = renderer.xr.getSession();\n      this.hasPosedOnce = false;\n      this.bboxMesh.visible = false;\n\n      if (!hitTestCache) { hitTestCache = new Map(); }\n\n      // Default to selecting through the face\n      session.requestReferenceSpace('viewer')\n        .then(function (viewerSpace) {\n          this.viewerHitTest = this.hitTest = new HitTest(renderer, {\n            space: viewerSpace\n          });\n\n          this.el.emit('ar-hit-test-start');\n        }.bind(this));\n\n      // If a tracked controller is available, selects via that instead of the headset\n      var arHitTestComp = this;\n      this.el.sceneEl.addEventListener('controllersupdated', function () {\n        var sceneEl = this;\n        var inputSources = sceneEl.xrSession && sceneEl.xrSession.inputSources;\n        if (!inputSources) { return; }\n        for (var i = 0; i < inputSources.length; ++i) {\n          if (inputSources[i].targetRayMode === 'tracked-pointer') {\n            arHitTestComp.hitTest = new HitTest(renderer, {\n              space: inputSources[i].targetRaySpace\n            });\n            hitTestCache.set(inputSources[i], arHitTestComp.hitTest);\n\n            if (arHitTestComp.viewerHitTest && typeof arHitTestComp.viewerHitTest.cancel === 'function') {\n              arHitTestComp.viewerHitTest.cancel();\n              arHitTestComp.viewerHitTest = null;\n            }\n\n            break;   // only uses first tracked controller\n          }\n        }\n      });\n\n      // These are transient inputs so need to be handled separately\n      var profileToSupport = 'generic-touchscreen';\n      var transientHitTest = new HitTest(renderer, {\n        profile: profileToSupport\n      });\n\n      session.addEventListener('selectstart', function (e) {\n        if (this.data.enabled !== true) { return; }\n\n        var inputSource = e.inputSource;\n\n        this.bboxMesh.visible = true;\n\n        if (this.hasPosedOnce === true) {\n          this.el.emit('ar-hit-test-select-start', {\n            inputSource: inputSource,\n            position: this.bboxMesh.position,\n            orientation: this.bboxMesh.quaternion\n          });\n\n          if (inputSource.profiles[0] === profileToSupport) {\n            this.hitTest = transientHitTest;\n          } else {\n            this.hitTest = hitTestCache.get(inputSource) || new HitTest(renderer, {\n              space: inputSource.targetRaySpace\n            });\n            hitTestCache.set(inputSource, this.hitTest);\n          }\n        }\n      }.bind(this));\n\n      session.addEventListener('selectend', function (e) {\n        if (!this.hitTest || this.data.enabled !== true) {\n          this.hitTest = null;\n          return;\n        }\n\n        var inputSource = e.inputSource;\n        var object;\n\n        if (this.hasPosedOnce === true) {\n          this.bboxMesh.visible = false;\n\n          // if we have a target with a 3D object then automatically generate an anchor for it.\n          if (this.data.target) {\n            object = this.data.target.object3D;\n\n            if (object) {\n              applyPose.tempFakePose.transform.position.copy(this.bboxMesh.position);\n              applyPose.tempFakePose.transform.orientation.copy(this.bboxMesh.quaternion);\n              applyPose(applyPose.tempFakePose, object, this.bboxOffset);\n              object.visible = true;\n\n              // create an anchor attached to the object\n              this.hitTest.anchorFromLastHitTestResult(object, this.bboxOffset);\n            }\n          }\n\n          this.el.emit('ar-hit-test-select', {\n            inputSource: inputSource,\n            position: this.bboxMesh.position,\n            orientation: this.bboxMesh.quaternion\n          });\n\n          this.hitTest = null;\n        }\n      }.bind(this));\n    }.bind(this));\n\n    this.bboxOffset = new THREE.Vector3();\n    this.update = this.update.bind(this);\n    this.makeBBox();\n  },\n\n  update: function () {\n    // If it is disabled it's cleaned up\n    if (this.data.enabled === false) {\n      this.hitTest = null;\n      this.bboxMesh.visible = false;\n    }\n    if (this.data.target) {\n      if (this.data.target.object3D) {\n        this.data.target.addEventListener('model-loaded', this.update);\n        this.data.target.object3D.layers.enable(CAM_LAYER);\n        this.data.target.object3D.traverse(function (child) {\n          child.layers.enable(CAM_LAYER);\n        });\n      } else {\n        this.data.target.addEventListener('loaded', this.update, {once: true});\n      }\n    }\n    this.bboxNeedsUpdate = true;\n  },\n\n  makeBBox: function () {\n    var geometry = new THREE.PlaneGeometry(1, 1);\n    var material = new THREE.MeshBasicMaterial({\n      transparent: true,\n      color: 0xffffff\n    });\n    geometry.rotateX(-Math.PI / 2);\n    geometry.rotateY(-Math.PI / 2);\n    this.bbox = new THREE.Box3();\n    this.bboxMesh = new THREE.Mesh(geometry, material);\n    this.el.setObject3D('ar-hit-test', this.bboxMesh);\n    this.bboxMesh.visible = false;\n  },\n\n  updateFootprint: function () {\n    var tempImageData;\n    var renderer = this.el.sceneEl.renderer;\n    var oldRenderTarget, oldBackground;\n    var isXREnabled = renderer.xr.enabled;\n    this.bboxMesh.material.map = this.canvasTexture;\n    this.bboxMesh.material.needsUpdate = true;\n    this.orthoCam.rotation.set(-Math.PI / 2, 0, -Math.PI / 2);\n    this.orthoCam.position.copy(this.bboxMesh.position);\n    this.orthoCam.position.y -= this.bboxMesh.scale.y / 2;\n    this.orthoCam.near = 0.1;\n    this.orthoCam.far = this.orthoCam.near + (this.data.footprintDepth * this.bboxMesh.scale.y);\n    this.orthoCam.position.y += this.orthoCam.far;\n    this.orthoCam.right = this.bboxMesh.scale.z / 2;\n    this.orthoCam.left = -this.bboxMesh.scale.z / 2;\n    this.orthoCam.top = this.bboxMesh.scale.x / 2;\n    this.orthoCam.bottom = -this.bboxMesh.scale.x / 2;\n    this.orthoCam.updateProjectionMatrix();\n\n    oldRenderTarget = renderer.getRenderTarget();\n    renderer.setRenderTarget(this.textureTarget);\n    renderer.xr.enabled = false;\n    oldBackground = this.el.object3D.background;\n    this.el.object3D.overrideMaterial = this.basicMaterial;\n    this.el.object3D.background = null;\n    renderer.render(this.el.object3D, this.orthoCam);\n    this.el.object3D.background = oldBackground;\n    this.el.object3D.overrideMaterial = null;\n    renderer.xr.enabled = isXREnabled;\n    renderer.setRenderTarget(oldRenderTarget);\n    renderer.readRenderTargetPixels(this.textureTarget, 0, 0, 512, 512, this.imageDataArray);\n\n    this.context.putImageData(this.imageData, 0, 0);\n    this.context.shadowColor = 'white';\n    this.context.shadowBlur = 10;\n    this.context.drawImage(this.canvas, 0, 0);\n    tempImageData = this.context.getImageData(0, 0, 512, 512);\n    for (var i = 0; i < 512 * 512; i++) {\n      // if it's a little bit transparent but not opaque make it middle transparent\n      if (tempImageData.data[i * 4 + 3] !== 0 && tempImageData.data[i * 4 + 3] !== 255) {\n        tempImageData.data[i * 4 + 3] = 128;\n      }\n    }\n    this.context.putImageData(tempImageData, 0, 0);\n    this.canvasTexture.needsUpdate = true;\n  },\n  tick: function () {\n    var pose;\n    var frame = this.el.sceneEl.frame;\n    var renderer = this.el.sceneEl.renderer;\n\n    if (frame) {\n      // if we are in XR then update the positions of the objects attached to anchors\n      HitTest.updateAnchorPoses(frame, renderer.xr.getReferenceSpace());\n    }\n    if (this.bboxNeedsUpdate) {\n      this.bboxNeedsUpdate = false;\n\n      if (!this.data.target || this.data.type === 'map') {\n        var texture;\n        if (this.textureCache.has(this.data.src)) {\n          texture = this.textureCache.get(this.data.src);\n        } else {\n          texture = new THREE.TextureLoader().load(this.data.src);\n          this.textureCache.set(this.data.src, texture);\n        }\n        this.bboxMesh.material.map = texture;\n        this.bboxMesh.material.needsUpdate = true;\n      }\n\n      if (this.data.target && this.data.target.object3D) {\n        this.bbox.setFromObject(this.data.target.object3D);\n        this.bbox.getCenter(this.bboxMesh.position);\n        this.bbox.getSize(this.bboxMesh.scale);\n\n        if (this.data.type === 'footprint') {\n          // Add a little buffer for the footprint border\n          this.bboxMesh.scale.x *= 1.04;\n          this.bboxMesh.scale.z *= 1.04;\n          this.updateFootprint();\n        }\n\n        this.bboxMesh.position.y -= this.bboxMesh.scale.y / 2;\n        this.bboxOffset.copy(this.bboxMesh.position);\n        this.bboxOffset.sub(this.data.target.object3D.position);\n      } else {\n        this.bboxMesh.scale.set(this.data.mapSize.x, 1, this.data.mapSize.y);\n      }\n    }\n\n    if (this.hitTest) {\n      pose = this.hitTest.doHit(frame);\n      if (pose) {\n        if (this.hasPosedOnce !== true) {\n          this.hasPosedOnce = true;\n          this.el.emit('ar-hit-test-achieved');\n        }\n        this.bboxMesh.visible = true;\n        this.bboxMesh.position.copy(pose.transform.position);\n        this.bboxMesh.quaternion.copy(pose.transform.orientation);\n      }\n    }\n  }\n});\n","import * as THREE from 'three';\nimport { registerComponent as register } from '../../core/component.js';\n\nexport var Component = register('background', {\n  schema: {\n    color: { type: 'color', default: 'black' },\n    transparent: { default: false }\n  },\n  sceneOnly: true,\n  update: function () {\n    var data = this.data;\n    var object3D = this.el.object3D;\n\n    if (data.transparent) {\n      object3D.background = null;\n    } else {\n      object3D.background = new THREE.Color(data.color);\n    }\n  },\n\n  remove: function () {\n    var object3D = this.el.object3D;\n    object3D.background = null;\n  }\n});\n","import { registerComponent as register } from '../../core/component.js';\n\nexport var Component = register('debug', {\n  schema: {default: true},\n  sceneOnly: true\n});\n","/* global DeviceOrientationEvent */\nimport { registerComponent } from '../../core/component.js';\nimport { AFRAME_INJECTED } from '../../constants/index.js';\n\nvar MODAL_CLASS = 'a-modal';\nvar DIALOG_CLASS = 'a-dialog';\nvar DIALOG_TEXT_CLASS = 'a-dialog-text';\nvar DIALOG_TEXT_CONTAINER_CLASS = 'a-dialog-text-container';\nvar DIALOG_BUTTONS_CONTAINER_CLASS = 'a-dialog-buttons-container';\nvar DIALOG_BUTTON_CLASS = 'a-dialog-button';\nvar DIALOG_ALLOW_BUTTON_CLASS = 'a-dialog-allow-button';\nvar DIALOG_DENY_BUTTON_CLASS = 'a-dialog-deny-button';\nvar DIALOG_OK_BUTTON_CLASS = 'a-dialog-ok-button';\n\n/**\n * UI for enabling device motion permission\n */\nexport var Component = registerComponent('device-orientation-permission-ui', {\n  schema: {\n    enabled: {default: true},\n    deviceMotionMessage: {\n      default: 'This immersive website requires access to your device motion sensors.'\n    },\n    httpsMessage: {\n      default: 'Access this site over HTTPS to enter VR mode and grant access to the device sensors.'\n    },\n    denyButtonText: {default: 'Deny'},\n    allowButtonText: {default: 'Allow'},\n    cancelButtonText: {default: 'Cancel'}\n  },\n\n  sceneOnly: true,\n\n  init: function () {\n    var self = this;\n\n    if (!this.data.enabled) { return; }\n\n    if (!window.isSecureContext) {\n      this.showHTTPAlert();\n    }\n\n    // Browser doesn't support or doesn't require permission to DeviceOrientationEvent API.\n    if (typeof DeviceOrientationEvent === 'undefined' || !DeviceOrientationEvent.requestPermission) {\n      this.permissionGranted = true;\n      return;\n    }\n\n    this.onDeviceMotionDialogAllowClicked = this.onDeviceMotionDialogAllowClicked.bind(this);\n    this.onDeviceMotionDialogDenyClicked = this.onDeviceMotionDialogDenyClicked.bind(this);\n    // Show dialog only if permission has not yet been granted.\n    DeviceOrientationEvent.requestPermission().then(function () {\n      self.el.emit('deviceorientationpermissiongranted');\n      self.permissionGranted = true;\n    }).catch(function () {\n      self.devicePermissionDialogEl = createPermissionDialog(\n        self.data.denyButtonText,\n        self.data.allowButtonText,\n        self.data.deviceMotionMessage,\n        self.onDeviceMotionDialogAllowClicked,\n        self.onDeviceMotionDialogDenyClicked);\n      self.el.appendChild(self.devicePermissionDialogEl);\n    });\n  },\n\n  remove: function () {\n    // This removes the modal screen\n    if (this.devicePermissionDialogEl) { this.el.removeChild(this.devicePermissionDialogEl); }\n  },\n\n  onDeviceMotionDialogDenyClicked: function () {\n    this.remove();\n  },\n\n  showHTTPAlert: function () {\n    var self = this;\n    var httpAlertEl = createAlertDialog(\n      self.data.cancelButtonText,\n      self.data.httpsMessage,\n      function () { self.el.removeChild(httpAlertEl); });\n    this.el.appendChild(httpAlertEl);\n  },\n\n  /**\n   * Enable device motion permission when clicked.\n   */\n  onDeviceMotionDialogAllowClicked: function () {\n    var self = this;\n    this.el.emit('deviceorientationpermissionrequested');\n    DeviceOrientationEvent.requestPermission().then(function (response) {\n      if (response === 'granted') {\n        self.el.emit('deviceorientationpermissiongranted');\n        self.permissionGranted = true;\n      } else {\n        self.el.emit('deviceorientationpermissionrejected');\n      }\n      self.remove();\n    }).catch(console.error);\n  }\n});\n\n/**\n * Create a modal dialog that request users permission to access the Device Motion API.\n *\n * @param {string} denyText\n * @param {string} allowText\n * @param {string} dialogText\n * @param {function} onAllowClicked - click event handler\n * @param {function} onDenyClicked - click event handler\n *\n * @returns {Element} Wrapper <div>.\n */\nfunction createPermissionDialog (\n  denyText, allowText, dialogText, onAllowClicked, onDenyClicked) {\n  var buttonsContainer;\n  var denyButton;\n  var acceptButton;\n\n  buttonsContainer = document.createElement('div');\n  buttonsContainer.classList.add(DIALOG_BUTTONS_CONTAINER_CLASS);\n\n  // Buttons\n  denyButton = document.createElement('button');\n  denyButton.classList.add(DIALOG_BUTTON_CLASS, DIALOG_DENY_BUTTON_CLASS);\n  denyButton.setAttribute(AFRAME_INJECTED, '');\n  denyButton.innerHTML = denyText;\n  buttonsContainer.appendChild(denyButton);\n\n  acceptButton = document.createElement('button');\n  acceptButton.classList.add(DIALOG_BUTTON_CLASS, DIALOG_ALLOW_BUTTON_CLASS);\n  acceptButton.setAttribute(AFRAME_INJECTED, '');\n  acceptButton.innerHTML = allowText;\n  buttonsContainer.appendChild(acceptButton);\n\n  // Ask for sensor events to be used\n  acceptButton.addEventListener('click', function (evt) {\n    evt.stopPropagation();\n    onAllowClicked();\n  });\n\n  denyButton.addEventListener('click', function (evt) {\n    evt.stopPropagation();\n    onDenyClicked();\n  });\n\n  return createDialog(dialogText, buttonsContainer);\n}\n\nfunction createAlertDialog (closeText, dialogText, onOkClicked) {\n  var buttonsContainer;\n  var okButton;\n\n  buttonsContainer = document.createElement('div');\n  buttonsContainer.classList.add(DIALOG_BUTTONS_CONTAINER_CLASS);\n\n  // Buttons\n  okButton = document.createElement('button');\n  okButton.classList.add(DIALOG_BUTTON_CLASS, DIALOG_OK_BUTTON_CLASS);\n  okButton.setAttribute(AFRAME_INJECTED, '');\n  okButton.innerHTML = closeText;\n  buttonsContainer.appendChild(okButton);\n\n  // Ask for sensor events to be used\n  okButton.addEventListener('click', function (evt) {\n    evt.stopPropagation();\n    onOkClicked();\n  });\n\n  return createDialog(dialogText, buttonsContainer);\n}\n\nfunction createDialog (text, buttonsContainerEl) {\n  var modalContainer;\n  var dialog;\n  var dialogTextContainer;\n  var dialogText;\n\n  modalContainer = document.createElement('div');\n  modalContainer.classList.add(MODAL_CLASS);\n  modalContainer.setAttribute(AFRAME_INJECTED, '');\n\n  dialog = document.createElement('div');\n  dialog.className = DIALOG_CLASS;\n  dialog.setAttribute(AFRAME_INJECTED, '');\n  modalContainer.appendChild(dialog);\n\n  dialogTextContainer = document.createElement('div');\n  dialogTextContainer.classList.add(DIALOG_TEXT_CONTAINER_CLASS);\n  dialog.appendChild(dialogTextContainer);\n\n  dialogText = document.createElement('div');\n  dialogText.classList.add(DIALOG_TEXT_CLASS);\n  dialogText.innerHTML = text;\n  dialogTextContainer.appendChild(dialogText);\n\n  dialog.appendChild(buttonsContainerEl);\n\n  return modalContainer;\n}\n","import { registerComponent } from '../../core/component.js';\n\n/**\n * Component to embed an a-frame scene within the layout of a 2D page.\n */\nexport var Component = registerComponent('embedded', {\n  dependencies: ['xr-mode-ui'],\n\n  schema: {default: true},\n\n  sceneOnly: true,\n\n  update: function () {\n    var sceneEl = this.el;\n    var enterVREl = sceneEl.querySelector('.a-enter-vr');\n    if (this.data === true) {\n      if (enterVREl) { enterVREl.classList.add('embedded'); }\n      sceneEl.removeFullScreenStyles();\n    } else {\n      if (enterVREl) { enterVREl.classList.remove('embedded'); }\n      sceneEl.addFullScreenStyles();\n    }\n  }\n\n});\n","/* global AFRAME, INSPECTOR_VERSION */\nimport { AFRAME_INJECTED } from '../../constants/index.js';\nimport { registerComponent } from '../../core/component.js';\nimport pkg from '../../../package.json';\nimport * as utils from '../../utils/index.js';\n\n/**\n * 0.4.2 to 0.4.x\n * Will need to update this when A-Frame goes to 1.x.x.\n */\nfunction getFuzzyPatchVersion (version) {\n  var split = version.split('.');\n  split[2] = 'x';\n  return split.join('.');\n}\n\nvar INSPECTOR_DEV_URL = 'https://aframe.io/aframe-inspector/dist/aframe-inspector.js';\nvar INSPECTOR_RELEASE_URL = 'https://unpkg.com/aframe-inspector@' + getFuzzyPatchVersion(pkg.version) + '/dist/aframe-inspector.min.js';\nvar INSPECTOR_URL = typeof INSPECTOR_VERSION !== 'undefined' && INSPECTOR_VERSION === 'dev' ? INSPECTOR_DEV_URL : INSPECTOR_RELEASE_URL;\nvar LOADING_MESSAGE = 'Loading Inspector';\nvar LOADING_ERROR_MESSAGE = 'Error loading Inspector';\n\nexport var Component = registerComponent('inspector', {\n  schema: {\n    url: {default: INSPECTOR_URL}\n  },\n\n  sceneOnly: true,\n\n  init: function () {\n    this.firstPlay = true;\n    this.onKeydown = this.onKeydown.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n    this.initOverlay();\n    window.addEventListener('keydown', this.onKeydown);\n    window.addEventListener('message', this.onMessage);\n  },\n\n  play: function () {\n    var urlParam;\n    if (!this.firstPlay) { return; }\n    urlParam = utils.getUrlParameter('inspector');\n    if (urlParam !== 'false' && !!urlParam) {\n      this.openInspector();\n      this.firstPlay = false;\n    }\n  },\n\n  initOverlay: function () {\n    var dotsHTML = '<span class=\"dots\"><span>.</span><span>.</span><span>.</span></span>';\n    this.loadingMessageEl = document.createElement('div');\n    this.loadingMessageEl.classList.add('a-inspector-loader');\n    this.loadingMessageEl.innerHTML = LOADING_MESSAGE + dotsHTML;\n  },\n\n  remove: function () {\n    this.removeEventListeners();\n  },\n\n  /**\n   * <ctrl> + <alt> + i keyboard shortcut.\n   */\n  onKeydown: function (evt) {\n    var shortcutPressed = evt.keyCode === 73 && (evt.ctrlKey && evt.altKey || evt.getModifierState('AltGraph'));\n    if (!shortcutPressed) { return; }\n    this.openInspector();\n  },\n\n  showLoader: function () {\n    document.body.appendChild(this.loadingMessageEl);\n  },\n\n  hideLoader: function () {\n    document.body.removeChild(this.loadingMessageEl);\n  },\n\n  /**\n   * postMessage. aframe.io uses this to create a button on examples to open Inspector.\n   */\n  onMessage: function (evt) {\n    if (evt.data === 'INJECT_AFRAME_INSPECTOR') { this.openInspector(); }\n  },\n\n  openInspector: function (focusEl) {\n    var self = this;\n    var script;\n\n    // Already injected. Open.\n    if (AFRAME.INSPECTOR || AFRAME.inspectorInjected) {\n      AFRAME.INSPECTOR.open(focusEl);\n      return;\n    }\n\n    this.showLoader();\n\n    // Inject.\n    script = document.createElement('script');\n    script.src = this.data.url;\n    script.setAttribute('data-name', 'aframe-inspector');\n    script.setAttribute(AFRAME_INJECTED, '');\n    script.onload = function () {\n      AFRAME.INSPECTOR.open(focusEl);\n      self.hideLoader();\n      self.removeEventListeners();\n    };\n    script.onerror = function () {\n      self.loadingMessageEl.innerHTML = LOADING_ERROR_MESSAGE;\n    };\n    document.head.appendChild(script);\n    AFRAME.inspectorInjected = true;\n  },\n\n  removeEventListeners: function () {\n    window.removeEventListener('keydown', this.onKeydown);\n    window.removeEventListener('message', this.onMessage);\n  }\n});\n","import { registerComponent as register } from '../../core/component.js';\nimport * as THREE from 'three';\n\n/**\n * Fog component.\n * Applies only to the scene entity.\n */\nexport var Component = register('fog', {\n  schema: {\n    color: {type: 'color', default: '#000'},\n    density: {default: 0.00025},\n    far: {default: 1000, min: 0},\n    near: {default: 1, min: 0},\n    type: {default: 'linear', oneOf: ['linear', 'exponential']}\n  },\n\n  sceneOnly: true,\n\n  update: function () {\n    var data = this.data;\n    var el = this.el;\n    var fog = this.el.object3D.fog;\n\n    // (Re)create fog if fog doesn't exist or fog type changed.\n    if (!fog || data.type !== fog.name) {\n      el.object3D.fog = getFog(data);\n      return;\n    }\n\n    // Fog data changed. Update fog.\n    Object.keys(this.schema).forEach(function (key) {\n      var value = data[key];\n      if (key === 'color') { value = new THREE.Color(value); }\n      fog[key] = value;\n    });\n  },\n\n  /**\n   * Remove fog on remove (callback).\n   */\n  remove: function () {\n    var el = this.el;\n    var fog = this.el.object3D.fog;\n    if (!fog) { return; }\n\n    el.object3D.fog = null;\n  }\n});\n\n/**\n * Creates a fog object. Sets fog.name to be able to detect fog type changes.\n *\n * @param {object} data - Fog data.\n * @returns {object} fog\n */\nfunction getFog (data) {\n  var fog;\n  if (data.type === 'exponential') {\n    fog = new THREE.FogExp2(data.color, data.density);\n  } else {\n    fog = new THREE.Fog(data.color, data.near, data.far);\n  }\n  fog.name = data.type;\n  return fog;\n}\n","import { registerComponent } from '../../core/component.js';\nimport { shouldCaptureKeyEvent } from '../../utils/index.js';\n\nexport var Component = registerComponent('keyboard-shortcuts', {\n  schema: {\n    enterVR: {default: true},\n    exitVR: {default: true}\n  },\n\n  sceneOnly: true,\n\n  init: function () {\n    this.onKeyup = this.onKeyup.bind(this);\n  },\n\n  play: function () {\n    window.addEventListener('keyup', this.onKeyup, false);\n  },\n\n  pause: function () {\n    window.removeEventListener('keyup', this.onKeyup);\n  },\n\n  onKeyup: function (evt) {\n    var scene = this.el;\n    if (!shouldCaptureKeyEvent(evt)) { return; }\n    if (this.data.enterVR && evt.keyCode === 70) {  // f.\n      scene.enterVR();\n    }\n    if (this.data.exitVR && evt.keyCode === 27) {   // escape.\n      scene.exitVR();\n    }\n  }\n});\n","import { debug } from '../../utils/index.js';\nimport { registerComponent } from '../../core/component.js';\n\nvar warn = debug('components:pool:warn');\n\n/**\n * Pool component to reuse entities.\n * Avoids creating and destroying the same kind of entities.\n * Helps reduce GC pauses. For example in a game to reuse enemies entities.\n *\n * @member {array} availableEls - Available entities in the pool.\n * @member {array} usedEls - Entities of the pool in use.\n */\nexport var Component = registerComponent('pool', {\n  schema: {\n    container: {default: ''},\n    mixin: {default: ''},\n    size: {default: 0},\n    dynamic: {default: false}\n  },\n\n  sceneOnly: true,\n\n  multiple: true,\n\n  initPool: function () {\n    var i;\n\n    this.availableEls = [];\n    this.usedEls = [];\n\n    if (!this.data.mixin) {\n      warn('No mixin provided for pool component.');\n    }\n\n    if (this.data.container) {\n      this.container = document.querySelector(this.data.container);\n      if (!this.container) {\n        warn('Container ' + this.data.container + ' not found.');\n      }\n    }\n    this.container = this.container || this.el;\n\n    for (i = 0; i < this.data.size; ++i) {\n      this.createEntity();\n    }\n  },\n\n  update: function (oldData) {\n    var data = this.data;\n    if (oldData.mixin !== data.mixin || oldData.size !== data.size) {\n      this.initPool();\n    }\n  },\n\n  /**\n   * Add a new entity to the list of available entities.\n   */\n  createEntity: function () {\n    var el;\n    el = document.createElement('a-entity');\n    el.play = this.wrapPlay(el.play);\n    el.setAttribute('mixin', this.data.mixin);\n    el.object3D.visible = false;\n    el.pause();\n    this.container.appendChild(el);\n    this.availableEls.push(el);\n\n    var usedEls = this.usedEls;\n    el.addEventListener('loaded', function () {\n      if (usedEls.indexOf(el) !== -1) { return; }\n      el.object3DParent = el.object3D.parent;\n      el.object3D.parent.remove(el.object3D);\n    });\n  },\n\n  /**\n   * Play wrapper for pooled entities. When pausing and playing a scene, don't want to play\n   * entities that are not in use.\n   */\n  wrapPlay: function (playMethod) {\n    var usedEls = this.usedEls;\n    return function () {\n      if (usedEls.indexOf(this) === -1) { return; }\n      playMethod.call(this);\n    };\n  },\n\n  /**\n   * Used to request one of the available entities of the pool.\n   */\n  requestEntity: function () {\n    var el;\n    if (this.availableEls.length === 0) {\n      if (this.data.dynamic === false) {\n        warn('Requested entity from empty pool: ' + this.attrName);\n        return;\n      } else {\n        warn('Requested entity from empty pool. This pool is dynamic and will resize ' +\n             'automatically. You might want to increase its initial size: ' + this.attrName);\n      }\n      this.createEntity();\n    }\n    el = this.availableEls.shift();\n    this.usedEls.push(el);\n    if (el.object3DParent) {\n      el.object3DParent.add(el.object3D);\n      this.updateRaycasters();\n    }\n    el.object3D.visible = true;\n    return el;\n  },\n\n  /**\n   * Used to return a used entity to the pool.\n   */\n  returnEntity: function (el) {\n    var index = this.usedEls.indexOf(el);\n    if (index === -1) {\n      warn('The returned entity was not previously pooled from ' + this.attrName);\n      return;\n    }\n    this.usedEls.splice(index, 1);\n    this.availableEls.push(el);\n    el.object3DParent = el.object3D.parent;\n    el.object3D.parent.remove(el.object3D);\n    this.updateRaycasters();\n    el.object3D.visible = false;\n    el.pause();\n    return el;\n  },\n\n  updateRaycasters: function () {\n    var raycasterEls = document.querySelectorAll('[raycaster]');\n\n    raycasterEls.forEach(function (el) {\n      el.components['raycaster'].setDirty();\n    });\n  }\n});\n","/* global XRPlane */\nimport * as THREE from 'three';\nimport { registerComponent as register } from '../../core/component.js';\n\n/**\n * Real World Meshing.\n *\n * Create entities with meshes corresponding to 3D surfaces detected in user's environment.\n * It requires a browser with support for the WebXR Mesh and Plane detection modules.\n *\n */\nexport var Component = register('real-world-meshing', {\n  schema: {\n    filterLabels: {type: 'array'},\n    meshesEnabled: {default: true},\n    meshMixin: {default: true},\n    planesEnabled: {default: true},\n    planeMixin: {default: ''}\n  },\n\n  sceneOnly: true,\n\n  init: function () {\n    var webxrData = this.el.getAttribute('webxr');\n    var requiredFeaturesArray = webxrData.requiredFeatures;\n    if (requiredFeaturesArray.indexOf('mesh-detection') === -1) {\n      requiredFeaturesArray.push('mesh-detection');\n      this.el.setAttribute('webxr', webxrData);\n    }\n    if (requiredFeaturesArray.indexOf('plane-detection') === -1) {\n      requiredFeaturesArray.push('plane-detection');\n      this.el.setAttribute('webxr', webxrData);\n    }\n    this.meshEntities = [];\n    this.initWorldMeshEntity = this.initWorldMeshEntity.bind(this);\n  },\n\n  tick: function () {\n    if (!this.el.is('ar-mode')) { return; }\n    this.detectMeshes();\n    this.updateMeshes();\n  },\n\n  detectMeshes: function () {\n    var data = this.data;\n    var detectedMeshes;\n    var detectedPlanes;\n    var sceneEl = this.el;\n    var frame;\n    var meshEntities = this.meshEntities;\n    var present = false;\n    var newMeshes = [];\n    var filterLabels = this.data.filterLabels;\n\n    frame = sceneEl.frame;\n    detectedMeshes = frame.detectedMeshes;\n    detectedPlanes = frame.detectedPlanes;\n\n    for (var i = 0; i < meshEntities.length; i++) {\n      meshEntities[i].present = false;\n    }\n\n    if (data.meshesEnabled) {\n      for (var mesh of detectedMeshes.values()) {\n        // Ignore meshes that don't match the filterLabels.\n        if (filterLabels.length && filterLabels.indexOf(mesh.semanticLabel) === -1) { continue; }\n        for (i = 0; i < meshEntities.length; i++) {\n          if (mesh === meshEntities[i].mesh) {\n            present = true;\n            meshEntities[i].present = true;\n            if (meshEntities[i].lastChangedTime < mesh.lastChangedTime) {\n              this.updateMeshGeometry(meshEntities[i].el, mesh);\n            }\n            meshEntities[i].lastChangedTime = mesh.lastChangedTime;\n            break;\n          }\n        }\n        if (!present) { newMeshes.push(mesh); }\n        present = false;\n      }\n    }\n\n    if (data.planesEnabled) {\n      for (mesh of detectedPlanes.values()) {\n        // Ignore meshes that don't match the filterLabels.\n        if (filterLabels.length && filterLabels.indexOf(mesh.semanticLabel) === -1) { continue; }\n        for (i = 0; i < meshEntities.length; i++) {\n          if (mesh === meshEntities[i].mesh) {\n            present = true;\n            meshEntities[i].present = true;\n            if (meshEntities[i].lastChangedTime < mesh.lastChangedTime) {\n              this.updateMeshGeometry(meshEntities[i].el, mesh);\n            }\n            meshEntities[i].lastChangedTime = mesh.lastChangedTime;\n            break;\n          }\n        }\n        if (!present) { newMeshes.push(mesh); }\n        present = false;\n      }\n    }\n\n    this.deleteMeshes();\n    this.createNewMeshes(newMeshes);\n  },\n\n  updateMeshes: (function () {\n    var auxMatrix = new THREE.Matrix4();\n    return function () {\n      var meshPose;\n      var sceneEl = this.el;\n      var meshEl;\n      var frame = sceneEl.frame;\n      var meshEntities = this.meshEntities;\n      var referenceSpace = sceneEl.renderer.xr.getReferenceSpace();\n      var meshSpace;\n      for (var i = 0; i < meshEntities.length; i++) {\n        meshSpace = meshEntities[i].mesh.meshSpace || meshEntities[i].mesh.planeSpace;\n        meshPose = frame.getPose(meshSpace, referenceSpace);\n        meshEl = meshEntities[i].el;\n        if (!meshEl.hasLoaded) { continue; }\n        auxMatrix.fromArray(meshPose.transform.matrix);\n        auxMatrix.decompose(meshEl.object3D.position, meshEl.object3D.quaternion, meshEl.object3D.scale);\n      }\n    };\n  })(),\n\n  deleteMeshes: function () {\n    var meshEntities = this.meshEntities;\n    var newMeshEntities = [];\n    for (var i = 0; i < meshEntities.length; i++) {\n      if (!meshEntities[i].present) {\n        this.el.removeChild(meshEntities[i]);\n      } else {\n        newMeshEntities.push(meshEntities[i]);\n      }\n    }\n    this.meshEntities = newMeshEntities;\n  },\n\n  createNewMeshes: function (newMeshes) {\n    var meshEl;\n    for (var i = 0; i < newMeshes.length; i++) {\n      meshEl = document.createElement('a-entity');\n      this.meshEntities.push({\n        mesh: newMeshes[i],\n        el: meshEl\n      });\n      meshEl.addEventListener('loaded', this.initWorldMeshEntity);\n      this.el.appendChild(meshEl);\n    }\n  },\n\n  initMeshGeometry: function (mesh) {\n    var geometry;\n    var shape;\n    var polygon;\n\n    if (mesh instanceof XRPlane) {\n      shape = new THREE.Shape();\n      polygon = mesh.polygon;\n      for (var i = 0; i < polygon.length; ++i) {\n        if (i === 0) {\n          shape.moveTo(polygon[i].x, polygon[i].z);\n        } else {\n          shape.lineTo(polygon[i].x, polygon[i].z);\n        }\n      }\n      geometry = new THREE.ShapeGeometry(shape);\n      geometry.rotateX(Math.PI / 2);\n      return geometry;\n    }\n\n    geometry = new THREE.BufferGeometry();\n    geometry.setAttribute(\n      'position',\n      new THREE.BufferAttribute(mesh.vertices, 3)\n    );\n    geometry.setIndex(new THREE.BufferAttribute(mesh.indices, 1));\n    return geometry;\n  },\n\n  initWorldMeshEntity: function (evt) {\n    var el = evt.target;\n    var geometry;\n    var mesh;\n    var meshEntity;\n    var meshEntities = this.meshEntities;\n    for (var i = 0; i < meshEntities.length; i++) {\n      if (meshEntities[i].el === el) {\n        meshEntity = meshEntities[i];\n        break;\n      }\n    }\n    geometry = this.initMeshGeometry(meshEntity.mesh);\n    mesh = new THREE.Mesh(geometry, new THREE.MeshBasicMaterial({color: Math.random() * 0xFFFFFF, side: THREE.DoubleSide}));\n    el.setObject3D('mesh', mesh);\n    if (meshEntity.mesh instanceof XRPlane && this.data.planeMixin) {\n      el.setAttribute('mixin', this.data.planeMixin);\n    } else {\n      if (this.data.meshMixin) {\n        el.setAttribute('mixin', this.data.meshMixin);\n      }\n    }\n    el.setAttribute('data-world-mesh', meshEntity.mesh.semanticLabel);\n  },\n\n  updateMeshGeometry: function (entityEl, mesh) {\n    var entityMesh = entityEl.getObject3D('mesh');\n    entityMesh.geometry.dispose();\n    entityMesh.geometry = this.initMeshGeometry(mesh);\n  }\n});\n","/* global XRWebGLBinding */\nimport * as THREE from 'three';\nimport { registerComponent as register } from '../../core/component.js';\n\n// source: view-source:https://storage.googleapis.com/chromium-webxr-test/r886480/proposals/lighting-estimation.html\nfunction updateLights (estimate, probeLight, directionalLight, directionalLightPosition) {\n  var intensityScalar =\n    Math.max(estimate.primaryLightIntensity.x,\n             Math.max(estimate.primaryLightIntensity.y,\n                      estimate.primaryLightIntensity.z));\n\n  probeLight.sh.fromArray(estimate.sphericalHarmonicsCoefficients);\n  probeLight.intensity = 3.14;\n\n  if (directionalLight) {\n    directionalLight.color.setRGB(\n      estimate.primaryLightIntensity.x / intensityScalar,\n      estimate.primaryLightIntensity.y / intensityScalar,\n      estimate.primaryLightIntensity.z / intensityScalar);\n\n    directionalLight.intensity = intensityScalar;\n    directionalLightPosition.copy(estimate.primaryLightDirection);\n  }\n}\n\nexport var Component = register('reflection', {\n  schema: {\n    directionalLight: { type: 'selector' }\n  },\n  sceneOnly: true,\n  init: function () {\n    var self = this;\n    this.cubeRenderTarget = new THREE.WebGLCubeRenderTarget(16);\n    this.cubeCamera = new THREE.CubeCamera(0.1, 1000, this.cubeRenderTarget);\n    this.lightingEstimationTexture = (new THREE.WebGLCubeRenderTarget(16)).texture;\n    this.needsVREnvironmentUpdate = true;\n\n    // Update WebXR to support light-estimation\n    var webxrData = this.el.getAttribute('webxr');\n    var optionalFeaturesArray = webxrData.optionalFeatures;\n    if (!optionalFeaturesArray.includes('light-estimation')) {\n      optionalFeaturesArray.push('light-estimation');\n      this.el.setAttribute('webxr', webxrData);\n    }\n\n    this.el.addEventListener('enter-vr', function () {\n      if (!self.el.is('ar-mode')) { return; }\n      var renderer = self.el.renderer;\n      var session = renderer.xr.getSession();\n      if (session.requestLightProbe) {\n        self.startLightProbe();\n      }\n    });\n\n    this.el.addEventListener('exit-vr', function () {\n      if (self.xrLightProbe) { self.stopLightProbe(); }\n    });\n\n    this.el.object3D.environment = this.cubeRenderTarget.texture;\n  },\n  stopLightProbe: function () {\n    this.xrLightProbe = null;\n    if (this.probeLight) {\n      this.probeLight.components.light.light.intensity = 0;\n    }\n    this.needsVREnvironmentUpdate = true;\n    this.el.object3D.environment = this.cubeRenderTarget.texture;\n  },\n  startLightProbe: function () {\n    this.needsLightProbeUpdate = true;\n  },\n  setupLightProbe: function () {\n    var renderer = this.el.renderer;\n    var xrSession = renderer.xr.getSession();\n    var self = this;\n    var gl = renderer.getContext();\n\n    if (!this.probeLight) {\n      var probeLight = document.createElement('a-light');\n      probeLight.setAttribute('type', 'probe');\n      probeLight.setAttribute('intensity', 0);\n      this.el.appendChild(probeLight);\n      this.probeLight = probeLight;\n    }\n\n    // Ensure that we have any extensions needed to use the preferred cube map format.\n    switch (xrSession.preferredReflectionFormat) {\n      case 'srgba8':\n        gl.getExtension('EXT_sRGB');\n        break;\n\n      case 'rgba16f':\n        gl.getExtension('OES_texture_half_float');\n        break;\n    }\n\n    this.glBinding = new XRWebGLBinding(xrSession, gl);\n    gl.getExtension('EXT_sRGB');\n    gl.getExtension('OES_texture_half_float');\n\n    xrSession.requestLightProbe()\n      .then(function (lightProbe) {\n        self.xrLightProbe = lightProbe;\n        lightProbe.addEventListener('reflectionchange', self.updateXRCubeMap.bind(self));\n      })\n      .catch(function (err) {\n        console.warn('Lighting estimation not supported: ' + err.message);\n        console.warn('Are you missing: webxr=\"optionalFeatures: light-estimation;\" from <a-scene>?');\n      });\n  },\n  updateXRCubeMap: function () {\n    // Update Cube Map, cubeMap maybe some unavailable on some hardware\n    var renderer = this.el.renderer;\n    var cubeMap = this.glBinding.getReflectionCubeMap(this.xrLightProbe);\n    if (cubeMap) {\n      var rendererProps = renderer.properties.get(this.lightingEstimationTexture);\n      rendererProps.__webglTexture = cubeMap;\n      this.lightingEstimationTexture.needsPMREMUpdate = true;\n      this.el.object3D.environment = this.lightingEstimationTexture;\n    }\n  },\n  tick: function () {\n    var scene = this.el.object3D;\n    var renderer = this.el.renderer;\n    var frame = this.el.frame;\n\n    if (frame && this.xrLightProbe) {\n      // light estimate may not yet be available, it takes a few frames to start working\n      var estimate = frame.getLightEstimate(this.xrLightProbe);\n\n      if (estimate) {\n        updateLights(\n          estimate,\n          this.probeLight.components.light.light,\n          this.data.directionalLight && this.data.directionalLight.components.light.light,\n          this.data.directionalLight && this.data.directionalLight.object3D.position\n        );\n      }\n    }\n\n    if (this.needsVREnvironmentUpdate) {\n      scene.environment = null;\n      this.needsVREnvironmentUpdate = false;\n      this.cubeCamera.position.set(0, 1.6, 0);\n      this.cubeCamera.update(renderer, scene);\n      scene.environment = this.cubeRenderTarget.texture;\n    }\n\n    if (this.needsLightProbeUpdate && frame) {\n      // wait until the XR Session has started before trying to make\n      // the light probe\n      this.setupLightProbe();\n      this.needsLightProbeUpdate = false;\n    }\n  },\n\n  remove: function () {\n    this.el.object3D.environment = null;\n    if (this.probeLight) {\n      this.el.removeChild(this.probeLight);\n    }\n  }\n});\n","/* global ImageData, URL */\nimport { registerComponent } from '../../core/component.js';\nimport * as THREE from 'three';\n\nvar VERTEX_SHADER = [\n  'attribute vec3 position;',\n  'attribute vec2 uv;',\n  'uniform mat4 projectionMatrix;',\n  'uniform mat4 modelViewMatrix;',\n  'varying vec2 vUv;',\n  'void main()  {',\n  '  vUv = vec2( 1.- uv.x, uv.y );',\n  '  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',\n  '}'\n].join('\\n');\n\nvar FRAGMENT_SHADER = [\n  'precision mediump float;',\n  'uniform samplerCube map;',\n  'varying vec2 vUv;',\n  '#define M_PI 3.141592653589793238462643383279',\n  'void main() {',\n  '  vec2 uv = vUv;',\n  '  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;',\n  '  float latitude = uv.y * M_PI;',\n  '  vec3 dir = vec3(',\n  '    - sin( longitude ) * sin( latitude ),',\n  '    cos( latitude ),',\n  '    - cos( longitude ) * sin( latitude )',\n  '  );',\n  '  normalize( dir );',\n  '  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );',\n  '}'\n].join('\\n');\n\n/**\n * Component to take screenshots of the scene using a keyboard shortcut (alt+s).\n * It can be configured to either take 360&deg; captures (`equirectangular`)\n * or regular screenshots (`projection`)\n *\n * This is based on https://github.com/spite/THREE.CubemapToEquirectangular\n * To capture an equirectangular projection of the scene a THREE.CubeCamera is used\n * The cube map produced by the CubeCamera is projected on a quad and then rendered to\n * WebGLRenderTarget with an orthographic camera.\n */\nexport var Component = registerComponent('screenshot', {\n  schema: {\n    width: {default: 4096},\n    height: {default: 2048},\n    camera: {type: 'selector'}\n  },\n\n  sceneOnly: true,\n\n  setup: function () {\n    var el = this.el;\n    if (this.canvas) { return; }\n    var gl = el.renderer.getContext();\n    if (!gl) { return; }\n    this.cubeMapSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\n    this.material = new THREE.RawShaderMaterial({\n      uniforms: {map: {type: 't', value: null}},\n      vertexShader: VERTEX_SHADER,\n      fragmentShader: FRAGMENT_SHADER,\n      side: THREE.DoubleSide\n    });\n    this.quad = new THREE.Mesh(\n      new THREE.PlaneGeometry(1, 1),\n      this.material\n    );\n    this.quad.visible = false;\n    this.camera = new THREE.OrthographicCamera(-1 / 2, 1 / 2, 1 / 2, -1 / 2, -10000, 10000);\n    this.canvas = document.createElement('canvas');\n    this.ctx = this.canvas.getContext('2d');\n    el.object3D.add(this.quad);\n    this.onKeyDown = this.onKeyDown.bind(this);\n  },\n\n  getRenderTarget: function (width, height) {\n    return new THREE.WebGLRenderTarget(width, height, {\n      colorSpace: this.el.sceneEl.renderer.outputColorSpace,\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      wrapS: THREE.ClampToEdgeWrapping,\n      wrapT: THREE.ClampToEdgeWrapping,\n      format: THREE.RGBAFormat,\n      type: THREE.UnsignedByteType\n    });\n  },\n\n  resize: function (width, height) {\n    // Resize quad.\n    this.quad.scale.set(width, height, 1);\n\n    // Resize camera.\n    this.camera.left = -1 * width / 2;\n    this.camera.right = width / 2;\n    this.camera.top = height / 2;\n    this.camera.bottom = -1 * height / 2;\n    this.camera.updateProjectionMatrix();\n\n    // Resize canvas.\n    this.canvas.width = width;\n    this.canvas.height = height;\n  },\n\n  play: function () {\n    window.addEventListener('keydown', this.onKeyDown);\n  },\n\n  /**\n   * <ctrl> + <alt> + s = Regular screenshot.\n   * <ctrl> + <alt> + <shift> + s = Equirectangular screenshot.\n  */\n  onKeyDown: function (evt) {\n    var shortcutPressed = evt.keyCode === 83 && evt.ctrlKey && evt.altKey;\n    if (!this.data || !shortcutPressed) { return; }\n    var projection = evt.shiftKey ? 'equirectangular' : 'perspective';\n    this.capture(projection);\n  },\n\n  /**\n   * Capture a screenshot of the scene.\n   *\n   * @param {string} projection - Screenshot projection (equirectangular or perspective).\n   */\n  setCapture: function (projection) {\n    var el = this.el;\n    var size;\n    var camera;\n    var cubeCamera;\n    var cubeRenderTarget;\n    // Configure camera.\n    if (projection === 'perspective') {\n      // Quad is only used in equirectangular mode. Hide it in this case.\n      this.quad.visible = false;\n      // Use scene camera.\n      camera = (this.data.camera && this.data.camera.components.camera.camera) || el.camera;\n      size = {width: this.data.width, height: this.data.height};\n    } else {\n      // Use ortho camera.\n      camera = this.camera;\n      cubeRenderTarget = new THREE.WebGLCubeRenderTarget(\n        Math.min(this.cubeMapSize, 2048),\n        {\n          format: THREE.RGBFormat,\n          generateMipmaps: true,\n          minFilter: THREE.LinearMipmapLinearFilter,\n          colorSpace: THREE.SRGBColorSpace\n        });\n      // Create cube camera and copy position from scene camera.\n      cubeCamera = new THREE.CubeCamera(el.camera.near, el.camera.far, cubeRenderTarget);\n      // Copy camera position into cube camera;\n      el.camera.getWorldPosition(cubeCamera.position);\n      el.camera.getWorldQuaternion(cubeCamera.quaternion);\n      // Render scene with cube camera.\n      cubeCamera.update(el.renderer, el.object3D);\n      this.quad.material.uniforms.map.value = cubeCamera.renderTarget.texture;\n      size = {width: this.data.width, height: this.data.height};\n      // Use quad to project image taken by the cube camera.\n      this.quad.visible = true;\n    }\n    return {\n      camera: camera,\n      size: size,\n      projection: projection\n    };\n  },\n\n  /**\n   * Maintained for backwards compatibility.\n   */\n  capture: function (projection) {\n    var isVREnabled = this.el.renderer.xr.enabled;\n    var renderer = this.el.renderer;\n    var params;\n    this.setup();\n    // Disable VR.\n    renderer.xr.enabled = false;\n    params = this.setCapture(projection);\n    this.renderCapture(params.camera, params.size, params.projection);\n    // Trigger file download.\n    this.saveCapture();\n    // Restore VR.\n    renderer.xr.enabled = isVREnabled;\n  },\n\n  /**\n   * Return canvas instead of triggering download (e.g., for uploading blob to server).\n   */\n  getCanvas: function (projection) {\n    var isVREnabled = this.el.renderer.xr.enabled;\n    var renderer = this.el.renderer;\n    this.setup();\n    // Disable VR.\n    var params = this.setCapture(projection);\n    renderer.xr.enabled = false;\n    this.renderCapture(params.camera, params.size, params.projection);\n    // Restore VR.\n    renderer.xr.enabled = isVREnabled;\n    return this.canvas;\n  },\n\n  renderCapture: function (camera, size, projection) {\n    var autoClear = this.el.renderer.autoClear;\n    var el = this.el;\n    var imageData;\n    var output;\n    var pixels;\n    var renderer = el.renderer;\n    // Create rendering target and buffer to store the read pixels.\n    output = this.getRenderTarget(size.width, size.height);\n    pixels = new Uint8Array(4 * size.width * size.height);\n    // Resize quad, camera, and canvas.\n    this.resize(size.width, size.height);\n    // Render scene to render target.\n    renderer.autoClear = true;\n    renderer.clear();\n    renderer.setRenderTarget(output);\n    renderer.render(el.object3D, camera);\n    renderer.autoClear = autoClear;\n    // Read image pixels back.\n    renderer.readRenderTargetPixels(output, 0, 0, size.width, size.height, pixels);\n    renderer.setRenderTarget(null);\n    if (projection === 'perspective') {\n      pixels = this.flipPixelsVertically(pixels, size.width, size.height);\n    }\n    imageData = new ImageData(new Uint8ClampedArray(pixels), size.width, size.height);\n    // Hide quad after projecting the image.\n    this.quad.visible = false;\n    // Copy pixels into canvas.\n    this.ctx.putImageData(imageData, 0, 0);\n  },\n\n  flipPixelsVertically: function (pixels, width, height) {\n    var flippedPixels = pixels.slice(0);\n    for (var x = 0; x < width; ++x) {\n      for (var y = 0; y < height; ++y) {\n        flippedPixels[x * 4 + y * width * 4] = pixels[x * 4 + (height - y) * width * 4];\n        flippedPixels[x * 4 + 1 + y * width * 4] = pixels[x * 4 + 1 + (height - y) * width * 4];\n        flippedPixels[x * 4 + 2 + y * width * 4] = pixels[x * 4 + 2 + (height - y) * width * 4];\n        flippedPixels[x * 4 + 3 + y * width * 4] = pixels[x * 4 + 3 + (height - y) * width * 4];\n      }\n    }\n    return flippedPixels;\n  },\n\n  /**\n   * Download capture to file.\n   */\n  saveCapture: function () {\n    this.canvas.toBlob(function (blob) {\n      var fileName = 'screenshot-' + document.title.toLowerCase() + '-' + Date.now() + '.png';\n      var linkEl = document.createElement('a');\n      var url = URL.createObjectURL(blob);\n      linkEl.href = url;\n      linkEl.setAttribute('download', fileName);\n      linkEl.innerHTML = 'downloading...';\n      linkEl.style.display = 'none';\n      document.body.appendChild(linkEl);\n      setTimeout(function () {\n        linkEl.click();\n        document.body.removeChild(linkEl);\n      }, 1);\n    }, 'image/png');\n  }\n});\n","import { registerComponent } from '../../core/component.js';\nimport RStats from '../../../vendor/rStats.js';\nimport * as utils from '../../utils/index.js';\nimport '../../../vendor/rStats.extras.js';\nimport '../../lib/rStatsAframe.js';\n\nvar AFrameStats = window.aframeStats;\nvar HIDDEN_CLASS = 'a-hidden';\nvar ThreeStats = window.threeStats;\n\n/**\n * Stats appended to document.body by RStats.\n */\nexport var Component = registerComponent('stats', {\n  schema: {default: true},\n\n  sceneOnly: true,\n\n  init: function () {\n    var scene = this.el;\n\n    if (utils.getUrlParameter('stats') === 'false') { return; }\n\n    this.stats = createStats(scene);\n    this.statsEl = document.querySelector('.rs-base');\n\n    this.hideBound = this.hide.bind(this);\n    this.showBound = this.show.bind(this);\n\n    scene.addEventListener('enter-vr', this.hideBound);\n    scene.addEventListener('exit-vr', this.showBound);\n  },\n\n  update: function () {\n    if (!this.stats) { return; }\n    return (!this.data) ? this.hide() : this.show();\n  },\n\n  remove: function () {\n    this.el.removeEventListener('enter-vr', this.hideBound);\n    this.el.removeEventListener('exit-vr', this.showBound);\n    if (!this.statsEl) { return; }  // Scene detached.\n    this.statsEl.parentNode.removeChild(this.statsEl);\n  },\n\n  tick: function () {\n    var stats = this.stats;\n\n    if (!stats) { return; }\n\n    stats('rAF').tick();\n    stats('FPS').frame();\n    stats().update();\n  },\n\n  hide: function () {\n    this.statsEl.classList.add(HIDDEN_CLASS);\n  },\n\n  show: function () {\n    this.statsEl.classList.remove(HIDDEN_CLASS);\n  }\n});\n\nfunction createStats (scene) {\n  var threeStats = new ThreeStats(scene.renderer);\n  var aframeStats = new AFrameStats(scene);\n  var plugins = scene.isMobile ? [] : [threeStats, aframeStats];\n  return new RStats({\n    css: [],  // Our stylesheet is injected from `src/index.js`.\n    values: {\n      fps: {caption: 'fps', below: 30}\n    },\n    groups: [\n      {caption: 'Framerate', values: ['fps', 'raf']}\n    ],\n    plugins: plugins\n  });\n}\n","import { registerComponent } from '../../core/component.js';\nimport * as constants from '../../constants/index.js';\nimport * as utils from '../../utils/index.js';\n\nvar ENTER_VR_CLASS = 'a-enter-vr';\nvar ENTER_AR_CLASS = 'a-enter-ar';\n\nvar ENTER_VR_BTN_CLASS = 'a-enter-vr-button';\nvar ENTER_AR_BTN_CLASS = 'a-enter-ar-button';\nvar HIDDEN_CLASS = 'a-hidden';\nvar ORIENTATION_MODAL_CLASS = 'a-orientation-modal';\n\n/**\n * UI for entering VR mode.\n */\nexport var Component = registerComponent('xr-mode-ui', {\n  dependencies: ['canvas'],\n\n  schema: {\n    enabled: {default: true},\n    enterVRButton: {default: ''},\n    enterVREnabled: {default: true},\n    enterARButton: {default: ''},\n    enterAREnabled: {default: true},\n    XRMode: {default: 'vr', oneOf: ['vr', 'ar', 'xr']}\n  },\n\n  sceneOnly: true,\n\n  init: function () {\n    var self = this;\n    var sceneEl = this.el;\n\n    if (utils.getUrlParameter('ui') === 'false') { return; }\n\n    this.insideLoader = false;\n    this.enterVREl = null;\n    this.enterAREl = null;\n\n    this.orientationModalEl = null;\n    this.bindMethods();\n\n    // Hide/show VR UI when entering/exiting VR mode.\n    sceneEl.addEventListener('enter-vr', this.updateEnterInterfaces);\n    sceneEl.addEventListener('exit-vr', this.updateEnterInterfaces);\n    sceneEl.addEventListener('update-vr-devices', this.updateEnterInterfaces);\n\n    window.addEventListener('message', function (event) {\n      if (event.data.type === 'loaderReady') {\n        self.insideLoader = true;\n        self.remove();\n      }\n    });\n\n    // Modal that tells the user to change orientation if in portrait.\n    window.addEventListener('orientationchange', this.toggleOrientationModalIfNeeded);\n  },\n\n  bindMethods: function () {\n    this.onEnterVRButtonClick = this.onEnterVRButtonClick.bind(this);\n    this.onEnterARButtonClick = this.onEnterARButtonClick.bind(this);\n    this.onModalClick = this.onModalClick.bind(this);\n    this.toggleOrientationModalIfNeeded = this.toggleOrientationModalIfNeeded.bind(this);\n    this.updateEnterInterfaces = this.updateEnterInterfaces.bind(this);\n  },\n\n  /**\n   * Exit VR when modal clicked.\n   */\n  onModalClick: function () {\n    this.el.exitVR();\n  },\n\n  /**\n   * Enter VR when clicked.\n   */\n  onEnterVRButtonClick: function () {\n    this.el.enterVR();\n  },\n\n  /**\n   * Enter AR when clicked.\n   */\n  onEnterARButtonClick: function () {\n    this.el.enterAR();\n  },\n\n  update: function () {\n    var data = this.data;\n    var sceneEl = this.el;\n\n    if (!data.enabled || this.insideLoader || utils.getUrlParameter('ui') === 'false') {\n      return this.remove();\n    }\n\n    if (this.enterVREl || this.enterAREl || this.orientationModalEl) { return; }\n\n    // Add UI if enabled and not already present.\n    if (!this.enterVREl && data.enterVREnabled && (data.XRMode === 'xr' || data.XRMode === 'vr')) {\n      if (data.enterVRButton) {\n        // Custom button.\n        this.enterVREl = document.querySelector(data.enterVRButton);\n        this.enterVREl.addEventListener('click', this.onEnterVRButtonClick);\n      } else {\n        this.enterVREl = createEnterVRButton(this.onEnterVRButtonClick);\n        sceneEl.appendChild(this.enterVREl);\n      }\n    }\n\n    if (!this.enterAREl && data.enterAREnabled && (data.XRMode === 'xr' || data.XRMode === 'ar')) {\n      if (data.enterARButton) {\n        // Custom button.\n        this.enterAREl = document.querySelector(data.enterARButton);\n        this.enterAREl.addEventListener('click', this.onEnterARButtonClick);\n      } else {\n        this.enterAREl = createEnterARButton(this.onEnterARButtonClick, data.XRMode === 'xr');\n        sceneEl.appendChild(this.enterAREl);\n      }\n    }\n\n    this.orientationModalEl = createOrientationModal(this.onModalClick);\n    sceneEl.appendChild(this.orientationModalEl);\n\n    this.updateEnterInterfaces();\n  },\n\n  remove: function () {\n    [this.enterVREl, this.enterAREl, this.orientationModalEl].forEach(function (uiElement) {\n      if (uiElement && uiElement.parentNode) {\n        uiElement.parentNode.removeChild(uiElement);\n      }\n    });\n    this.enterVREl = undefined;\n    this.enterAREl = undefined;\n    this.orientationModalEl = undefined;\n  },\n\n  updateEnterInterfaces: function () {\n    this.toggleEnterVRButtonIfNeeded();\n    this.toggleEnterARButtonIfNeeded();\n    this.toggleOrientationModalIfNeeded();\n  },\n\n  toggleEnterVRButtonIfNeeded: function () {\n    var sceneEl = this.el;\n    if (!this.enterVREl) { return; }\n    if (sceneEl.is('vr-mode') ||\n       ((sceneEl.isMobile || utils.device.isMobileDeviceRequestingDesktopSite()) && !utils.device.checkVRSupport())) {\n      this.enterVREl.classList.add(HIDDEN_CLASS);\n    } else {\n      if (!utils.device.checkVRSupport()) { this.enterVREl.classList.add('fullscreen'); }\n      this.enterVREl.classList.remove(HIDDEN_CLASS);\n      sceneEl.enterVR(false, true);\n    }\n  },\n\n  toggleEnterARButtonIfNeeded: function () {\n    var sceneEl = this.el;\n    if (!this.enterAREl) { return; }\n    // Hide the button while in a session, or if AR is not supported.\n    if (sceneEl.is('vr-mode') || !utils.device.checkARSupport()) {\n      this.enterAREl.classList.add(HIDDEN_CLASS);\n    } else {\n      this.enterAREl.classList.remove(HIDDEN_CLASS);\n      sceneEl.enterVR(true, true);\n    }\n  },\n\n  toggleOrientationModalIfNeeded: function () {\n    var sceneEl = this.el;\n    var orientationModalEl = this.orientationModalEl;\n    if (!orientationModalEl || !sceneEl.isMobile) { return; }\n    if (!utils.device.isLandscape() && sceneEl.is('vr-mode')) {\n      // Show if in VR mode on portrait.\n      orientationModalEl.classList.remove(HIDDEN_CLASS);\n    } else {\n      orientationModalEl.classList.add(HIDDEN_CLASS);\n    }\n  }\n});\n\n/**\n * Create a button that when clicked will enter into stereo-rendering mode for VR.\n *\n * Structure: <div><button></div>\n *\n * @param {function} onClick - click event handler\n * @returns {Element} Wrapper <div>.\n */\nfunction createEnterVRButton (onClick) {\n  var vrButton;\n  var wrapper;\n\n  // Create elements.\n  wrapper = document.createElement('div');\n  wrapper.classList.add(ENTER_VR_CLASS);\n  wrapper.setAttribute(constants.AFRAME_INJECTED, '');\n  vrButton = document.createElement('button');\n  vrButton.className = ENTER_VR_BTN_CLASS;\n  vrButton.setAttribute('title',\n                        'Enter VR mode with a headset or fullscreen without');\n  vrButton.setAttribute(constants.AFRAME_INJECTED, '');\n  if (utils.device.isMobile()) { applyStickyHoverFix(vrButton); }\n  // Insert elements.\n  wrapper.appendChild(vrButton);\n  vrButton.addEventListener('click', function (evt) {\n    onClick();\n    evt.stopPropagation();\n  });\n  return wrapper;\n}\n\n/**\n * Create a button that when clicked will enter into AR mode\n *\n * Structure: <div><button></div>\n *\n * @param {function} onClick - click event handler\n * @returns {Element} Wrapper <div>.\n */\nfunction createEnterARButton (onClick, xrMode) {\n  var arButton;\n  var wrapper;\n\n  // Create elements.\n  wrapper = document.createElement('div');\n  wrapper.classList.add(ENTER_AR_CLASS);\n  if (xrMode) { wrapper.classList.add('xr'); }\n  wrapper.setAttribute(constants.AFRAME_INJECTED, '');\n  arButton = document.createElement('button');\n  arButton.className = ENTER_AR_BTN_CLASS;\n  arButton.setAttribute('title',\n                        'Enter AR mode with a headset or handheld device.');\n  arButton.setAttribute(constants.AFRAME_INJECTED, '');\n  if (utils.device.isMobile()) { applyStickyHoverFix(arButton); }\n  // Insert elements.\n  wrapper.appendChild(arButton);\n  arButton.addEventListener('click', function (evt) {\n    onClick();\n    evt.stopPropagation();\n  });\n  return wrapper;\n}\n\n/**\n * Creates a modal dialog to request the user to switch to landscape orientation.\n *\n * @param {function} onClick - click event handler\n * @returns {Element} Wrapper <div>.\n */\nfunction createOrientationModal (onClick) {\n  var modal = document.createElement('div');\n  modal.className = ORIENTATION_MODAL_CLASS;\n  modal.classList.add(HIDDEN_CLASS);\n  modal.setAttribute(constants.AFRAME_INJECTED, '');\n\n  var exit = document.createElement('button');\n  exit.setAttribute(constants.AFRAME_INJECTED, '');\n  exit.innerHTML = 'Exit VR';\n\n  // Exit VR on close.\n  exit.addEventListener('click', onClick);\n\n  modal.appendChild(exit);\n\n  return modal;\n}\n\n/**\n * CSS hover state is sticky in iOS (as in 12/18/2019)\n * They are not removed on mouseleave and this function applies a class\n * to resets the style.\n *\n * @param {function} buttonEl - Button element\n */\nfunction applyStickyHoverFix (buttonEl) {\n  buttonEl.addEventListener('touchstart', function () {\n    buttonEl.classList.remove('resethover');\n  }, {passive: true});\n  buttonEl.addEventListener('touchend', function () {\n    buttonEl.classList.add('resethover');\n  }, {passive: true});\n}\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nregisterGeometry('box', {\n  schema: {\n    depth: {default: 1, min: 0},\n    height: {default: 1, min: 0},\n    width: {default: 1, min: 0},\n    segmentsHeight: {default: 1, min: 1, max: 20, type: 'int'},\n    segmentsWidth: {default: 1, min: 1, max: 20, type: 'int'},\n    segmentsDepth: {default: 1, min: 1, max: 20, type: 'int'}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.BoxGeometry(\n      data.width, data.height, data.depth,\n      data.segmentsWidth, data.segmentsHeight, data.segmentsDepth);\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nvar degToRad = THREE.MathUtils.degToRad;\n\nregisterGeometry('circle', {\n  schema: {\n    radius: {default: 1, min: 0},\n    segments: {default: 32, min: 3, type: 'int'},\n    thetaLength: {default: 360, min: 0},\n    thetaStart: {default: 0}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.CircleGeometry(\n      data.radius, data.segments, degToRad(data.thetaStart), degToRad(data.thetaLength));\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nvar degToRad = THREE.MathUtils.degToRad;\n\nregisterGeometry('cone', {\n  schema: {\n    height: {default: 1, min: 0},\n    openEnded: {default: false},\n    radiusBottom: {default: 1, min: 0},\n    radiusTop: {default: 0.01, min: 0},\n    segmentsHeight: {default: 18, min: 1, type: 'int'},\n    segmentsRadial: {default: 36, min: 3, type: 'int'},\n    thetaLength: {default: 360, min: 0},\n    thetaStart: {default: 0}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.CylinderGeometry(\n      data.radiusTop, data.radiusBottom, data.height, data.segmentsRadial,\n      data.segmentsHeight, data.openEnded, degToRad(data.thetaStart),\n      degToRad(data.thetaLength));\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nvar degToRad = THREE.MathUtils.degToRad;\n\nregisterGeometry('cylinder', {\n  schema: {\n    height: {default: 1, min: 0},\n    openEnded: {default: false},\n    radius: {default: 1, min: 0},\n    segmentsHeight: {default: 18, min: 1, type: 'int'},\n    segmentsRadial: {default: 36, min: 3, type: 'int'},\n    thetaLength: {default: 360, min: 0},\n    thetaStart: {default: 0}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.CylinderGeometry(\n      data.radius, data.radius, data.height, data.segmentsRadial, data.segmentsHeight,\n      data.openEnded, degToRad(data.thetaStart), degToRad(data.thetaLength));\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nregisterGeometry('dodecahedron', {\n  schema: {\n    detail: {default: 0, min: 0, max: 5, type: 'int'},\n    radius: {default: 1, min: 0}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.DodecahedronGeometry(data.radius, data.detail);\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nregisterGeometry('icosahedron', {\n  schema: {\n    detail: {default: 0, min: 0, max: 5, type: 'int'},\n    radius: {default: 1, min: 0}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.IcosahedronGeometry(data.radius, data.detail);\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nregisterGeometry('octahedron', {\n  schema: {\n    detail: {default: 0, min: 0, max: 5, type: 'int'},\n    radius: {default: 1, min: 0}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.OctahedronGeometry(data.radius, data.detail);\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nregisterGeometry('plane', {\n  schema: {\n    height: {default: 1, min: 0},\n    width: {default: 1, min: 0},\n    segmentsHeight: {default: 1, min: 1, max: 20, type: 'int'},\n    segmentsWidth: {default: 1, min: 1, max: 20, type: 'int'}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.PlaneGeometry(data.width, data.height, data.segmentsWidth, data.segmentsHeight);\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nvar degToRad = THREE.MathUtils.degToRad;\n\nregisterGeometry('ring', {\n  schema: {\n    radiusInner: {default: 0.8, min: 0},\n    radiusOuter: {default: 1.2, min: 0},\n    segmentsPhi: {default: 10, min: 1, type: 'int'},\n    segmentsTheta: {default: 32, min: 3, type: 'int'},\n    thetaLength: {default: 360, min: 0},\n    thetaStart: {default: 0}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.RingGeometry(\n      data.radiusInner, data.radiusOuter, data.segmentsTheta, data.segmentsPhi,\n      degToRad(data.thetaStart), degToRad(data.thetaLength));\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nvar degToRad = THREE.MathUtils.degToRad;\n\nregisterGeometry('sphere', {\n  schema: {\n    radius: {default: 1, min: 0},\n    phiLength: {default: 360},\n    phiStart: {default: 0, min: 0},\n    thetaLength: {default: 180, min: 0},\n    thetaStart: {default: 0},\n    segmentsHeight: {default: 18, min: 2, type: 'int'},\n    segmentsWidth: {default: 36, min: 3, type: 'int'}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.SphereGeometry(\n      data.radius, data.segmentsWidth, data.segmentsHeight, degToRad(data.phiStart),\n      degToRad(data.phiLength), degToRad(data.thetaStart), degToRad(data.thetaLength));\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nregisterGeometry('tetrahedron', {\n  schema: {\n    detail: {default: 0, min: 0, max: 5, type: 'int'},\n    radius: {default: 1, min: 0}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.TetrahedronGeometry(data.radius, data.detail);\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nvar degToRad = THREE.MathUtils.degToRad;\n\nregisterGeometry('torus', {\n  schema: {\n    arc: {default: 360},\n    radius: {default: 1, min: 0},\n    radiusTubular: {default: 0.2, min: 0},\n    segmentsRadial: {default: 36, min: 2, type: 'int'},\n    segmentsTubular: {default: 32, min: 3, type: 'int'}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.TorusGeometry(\n      data.radius, data.radiusTubular * 2, data.segmentsRadial, data.segmentsTubular,\n      degToRad(data.arc));\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nregisterGeometry('torusKnot', {\n  schema: {\n    p: {default: 2, min: 1},\n    q: {default: 3, min: 1},\n    radius: {default: 1, min: 0},\n    radiusTubular: {default: 0.2, min: 0},\n    segmentsRadial: {default: 8, min: 3, type: 'int'},\n    segmentsTubular: {default: 100, min: 3, type: 'int'}\n  },\n\n  init: function (data) {\n    this.geometry = new THREE.TorusKnotGeometry(\n      data.radius, data.radiusTubular * 2, data.segmentsTubular, data.segmentsRadial,\n      data.p, data.q);\n  }\n});\n","import * as THREE from 'three';\nimport { registerGeometry } from '../core/geometry.js';\n\nvar quaternion = new THREE.Quaternion();\nvar rotateVector = new THREE.Vector3(0, 0, 1);\nvar uvMinVector = new THREE.Vector2();\nvar uvMaxVector = new THREE.Vector2();\nvar uvScaleVector = new THREE.Vector2();\n\nregisterGeometry('triangle', {\n  schema: {\n    vertexA: {type: 'vec3', default: {x: 0, y: 0.5, z: 0}},\n    vertexB: {type: 'vec3', default: {x: -0.5, y: -0.5, z: 0}},\n    vertexC: {type: 'vec3', default: {x: 0.5, y: -0.5, z: 0}}\n  },\n\n  init: function (data) {\n    var geometry;\n    var normal;\n    var triangle;\n    var uvA;\n    var uvB;\n    var uvC;\n\n    var vertices;\n    var normals;\n    var uvs;\n\n    triangle = new THREE.Triangle();\n    triangle.a.set(data.vertexA.x, data.vertexA.y, data.vertexA.z);\n    triangle.b.set(data.vertexB.x, data.vertexB.y, data.vertexB.z);\n    triangle.c.set(data.vertexC.x, data.vertexC.y, data.vertexC.z);\n    normal = triangle.getNormal(new THREE.Vector3());\n\n    // Rotate the 3D triangle to be parallel to XY plane.\n    quaternion.setFromUnitVectors(normal, rotateVector);\n    uvA = triangle.a.clone().applyQuaternion(quaternion);\n    uvB = triangle.b.clone().applyQuaternion(quaternion);\n    uvC = triangle.c.clone().applyQuaternion(quaternion);\n\n    // Compute UVs.\n    // Normalize x/y values of UV so they are within 0 to 1.\n    uvMinVector.set(Math.min(uvA.x, uvB.x, uvC.x), Math.min(uvA.y, uvB.y, uvC.y));\n    uvMaxVector.set(Math.max(uvA.x, uvB.x, uvC.x), Math.max(uvA.y, uvB.y, uvC.y));\n    uvScaleVector.set(0, 0).subVectors(uvMaxVector, uvMinVector);\n    uvA = new THREE.Vector2().subVectors(uvA, uvMinVector).divide(uvScaleVector);\n    uvB = new THREE.Vector2().subVectors(uvB, uvMinVector).divide(uvScaleVector);\n    uvC = new THREE.Vector2().subVectors(uvC, uvMinVector).divide(uvScaleVector);\n\n    geometry = this.geometry = new THREE.BufferGeometry();\n    vertices = [\n      triangle.a.x, triangle.a.y, triangle.a.z,\n      triangle.b.x, triangle.b.y, triangle.b.z,\n      triangle.c.x, triangle.c.y, triangle.c.z\n    ];\n    normals = [\n      normal.x, normal.y, normal.z,\n      normal.x, normal.y, normal.z,\n      normal.x, normal.y, normal.z\n    ];\n    uvs = [\n      uvA.x, uvA.y,\n      uvB.x, uvB.y,\n      uvC.x, uvC.y\n    ];\n\n    geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute('normal', new THREE.Float32BufferAttribute(normals, 3));\n    geometry.setAttribute('uv', new THREE.Float32BufferAttribute(uvs, 2));\n  }\n});\n","import { registerShader } from '../core/shader.js';\nimport * as THREE from 'three';\nimport * as utils from '../utils/index.js';\n\n/**\n * Flat shader using THREE.MeshBasicMaterial.\n */\nexport var Shader = registerShader('flat', {\n  schema: {\n    color: {type: 'color'},\n    fog: {default: true},\n    offset: {type: 'vec2', default: {x: 0, y: 0}},\n    repeat: {type: 'vec2', default: {x: 1, y: 1}},\n    src: {type: 'map'},\n    wireframe: {default: false},\n    wireframeLinewidth: {default: 2},\n    toneMapped: {default: true}\n  },\n\n  /**\n   * Initializes the shader.\n   * Adds a reference from the scene to this entity as the camera.\n   */\n  init: function (data) {\n    this.materialData = {color: new THREE.Color()};\n    getMaterialData(data, this.materialData);\n    this.material = new THREE.MeshBasicMaterial(this.materialData);\n  },\n\n  update: function (data) {\n    this.updateMaterial(data);\n    utils.material.updateMap(this, data);\n  },\n\n  /**\n   * Updating existing material.\n   *\n   * @param {object} data - Material component data.\n   */\n  updateMaterial: function (data) {\n    var key;\n    getMaterialData(data, this.materialData);\n    for (key in this.materialData) {\n      this.material[key] = this.materialData[key];\n    }\n  }\n});\n\n/**\n * Builds and normalize material data, normalizing stuff along the way.\n *\n * @param {object} data - Material data.\n * @param {object} materialData - Object to reuse.\n * @returns {object} Updated material data.\n */\nfunction getMaterialData (data, materialData) {\n  materialData.color.set(data.color);\n  materialData.fog = data.fog;\n  materialData.wireframe = data.wireframe;\n  materialData.toneMapped = data.toneMapped;\n  materialData.wireframeLinewidth = data.wireframeLinewidth;\n  return materialData;\n}\n","import * as THREE from 'three';\nimport { registerShader } from '../core/shader.js';\nimport * as utils from '../utils/index.js';\n\n/**\n * Standard (physically-based) shader using THREE.MeshStandardMaterial.\n */\nexport var Shader = registerShader('standard', {\n  schema: {\n    ambientOcclusionMap: {type: 'map'},\n    ambientOcclusionMapIntensity: {default: 1},\n    ambientOcclusionTextureOffset: {type: 'vec2'},\n    ambientOcclusionTextureRepeat: {type: 'vec2', default: {x: 1, y: 1}},\n\n    color: {type: 'color'},\n\n    displacementMap: {type: 'map'},\n    displacementScale: {default: 1},\n    displacementBias: {default: 0.5},\n    displacementTextureOffset: {type: 'vec2'},\n    displacementTextureRepeat: {type: 'vec2', default: {x: 1, y: 1}},\n\n    emissive: {type: 'color', default: '#000'},\n    emissiveIntensity: {default: 1},\n\n    envMap: {default: ''},\n\n    fog: {default: true},\n\n    metalness: {default: 0.0, min: 0.0, max: 1.0},\n    metalnessMap: {type: 'map'},\n    metalnessTextureOffset: {type: 'vec2'},\n    metalnessTextureRepeat: {type: 'vec2', default: {x: 1, y: 1}},\n\n    normalMap: {type: 'map'},\n    normalScale: {type: 'vec2', default: {x: 1, y: 1}},\n    normalTextureOffset: {type: 'vec2'},\n    normalTextureRepeat: {type: 'vec2', default: {x: 1, y: 1}},\n\n    offset: {type: 'vec2', default: {x: 0, y: 0}},\n    repeat: {type: 'vec2', default: {x: 1, y: 1}},\n\n    roughness: {default: 0.5, min: 0.0, max: 1.0},\n    roughnessMap: {type: 'map'},\n    roughnessTextureOffset: {type: 'vec2'},\n    roughnessTextureRepeat: {type: 'vec2', default: {x: 1, y: 1}},\n\n    sphericalEnvMap: {type: 'map'},\n    src: {type: 'map'},\n    wireframe: {default: false},\n    wireframeLinewidth: {default: 2}\n  },\n\n  /**\n   * Initializes the shader.\n   * Adds a reference from the scene to this entity as the camera.\n   */\n  init: function (data) {\n    this.materialData = {color: new THREE.Color(), emissive: new THREE.Color()};\n    getMaterialData(data, this.materialData);\n    this.material = new THREE.MeshStandardMaterial(this.materialData);\n  },\n\n  update: function (data) {\n    this.updateMaterial(data);\n    utils.material.updateMap(this, data);\n    utils.material.updateDistortionMap('normal', this, data);\n    utils.material.updateDistortionMap('displacement', this, data);\n    utils.material.updateDistortionMap('ambientOcclusion', this, data);\n    utils.material.updateDistortionMap('metalness', this, data);\n    utils.material.updateDistortionMap('roughness', this, data);\n    utils.material.updateEnvMap(this, data);\n  },\n\n  /**\n   * Updating existing material.\n   *\n   * @param {object} data - Material component data.\n   */\n  updateMaterial: function (data) {\n    var key;\n    var material = this.material;\n    getMaterialData(data, this.materialData);\n    for (key in this.materialData) {\n      material[key] = this.materialData[key];\n    }\n  }\n});\n\n/**\n * Builds and normalize material data, normalizing stuff along the way.\n *\n * @param {object} data - Material data.\n * @param {object} materialData - Object to use.\n * @returns {object} Updated materialData.\n */\nfunction getMaterialData (data, materialData) {\n  materialData.color.set(data.color);\n  materialData.emissive.set(data.emissive);\n  materialData.emissiveIntensity = data.emissiveIntensity;\n  materialData.fog = data.fog;\n  materialData.metalness = data.metalness;\n  materialData.roughness = data.roughness;\n  materialData.wireframe = data.wireframe;\n  materialData.wireframeLinewidth = data.wireframeLinewidth;\n\n  if (data.normalMap) { materialData.normalScale = data.normalScale; }\n\n  if (data.ambientOcclusionMap) {\n    materialData.aoMapIntensity = data.ambientOcclusionMapIntensity;\n  }\n\n  if (data.displacementMap) {\n    materialData.displacementScale = data.displacementScale;\n    materialData.displacementBias = data.displacementBias;\n  }\n\n  return materialData;\n}\n","import { registerShader } from '../core/shader.js';\nimport * as THREE from 'three';\nimport * as utils from '../utils/index.js';\n\n/**\n * Phong shader using THREE.MeshPhongMaterial.\n */\nexport var Shader = registerShader('phong', {\n  schema: {\n    color: { type: 'color' },\n    emissive: { type: 'color', default: 'black' },\n    emissiveIntensity: { default: 1 },\n    specular: { type: 'color', default: '#111111' },\n    transparent: { default: false },\n    fog: { default: true },\n    offset: { type: 'vec2', default: { x: 0, y: 0 } },\n    repeat: { type: 'vec2', default: { x: 1, y: 1 } },\n    src: { type: 'map' },\n    envMap: { default: '' },\n    sphericalEnvMap: { type: 'map' },\n    shininess: { default: 30 },\n    flatShading: { default: false },\n    wireframe: { default: false },\n    wireframeLinewidth: { default: 2 },\n    combine: { oneOF: ['multiply', 'mix', 'add'], default: 'mix' },\n    reflectivity: { default: 0.9 },\n    refractionRatio: { default: 0.98 },\n    refract: { default: false },\n\n    normalMap: { type: 'map' },\n    normalScale: { type: 'vec2', default: { x: 1, y: 1 } },\n    normalTextureOffset: { type: 'vec2' },\n    normalTextureRepeat: { type: 'vec2', default: { x: 1, y: 1 } },\n\n    ambientOcclusionMap: {type: 'map'},\n    ambientOcclusionMapIntensity: {default: 1},\n\n    displacementMap: { type: 'map' },\n    displacementScale: { default: 1 },\n    displacementBias: { default: 0.5 },\n    displacementTextureOffset: { type: 'vec2' },\n    displacementTextureRepeat: { type: 'vec2', default: { x: 1, y: 1 } },\n\n    bumpMap: { type: 'map' },\n    bumpMapScale: { default: 1 },\n    bumpTextureOffset: { type: 'vec2' },\n    bumpTextureRepeat: { type: 'vec2', default: { x: 1, y: 1 } }\n  },\n\n  /**\n   * Initializes the shader.\n   * Adds a reference from the scene to this entity as the camera.\n   */\n  init: function (data) {\n    this.materialData = { color: new THREE.Color(), specular: new THREE.Color(), emissive: new THREE.Color() };\n    getMaterialData(data, this.materialData);\n    this.material = new THREE.MeshPhongMaterial(this.materialData);\n    var sceneEl = this.el.sceneEl;\n    // Fallback to scene environment when no envMap is defined (matching behaviour of standard material)\n    Object.defineProperty(this.material, 'envMap', {\n      get: function () {\n        return this._envMap || sceneEl.object3D.environment;\n      },\n      set: function (value) {\n        this._envMap = value;\n      }\n    });\n  },\n\n  update: function (data) {\n    this.updateMaterial(data);\n    utils.material.updateMap(this, data);\n    utils.material.updateDistortionMap('normal', this, data);\n    utils.material.updateDistortionMap('displacement', this, data);\n    utils.material.updateDistortionMap('ambientOcclusion', this, data);\n    utils.material.updateDistortionMap('bump', this, data);\n    utils.material.updateEnvMap(this, data);\n  },\n\n  /**\n   * Updating existing material.\n   *\n   * @param {object} data - Material component data.\n   */\n  updateMaterial: function (data) {\n    var key;\n    getMaterialData(data, this.materialData);\n    for (key in this.materialData) {\n      this.material[key] = this.materialData[key];\n    }\n  }\n});\n\n/**\n * Builds and normalize material data, normalizing stuff along the way.\n *\n * @param {object} data - Material data.\n * @param {object} materialData - Object to use.\n * @returns {object} Updated materialData.\n */\nfunction getMaterialData (data, materialData) {\n  materialData.color.set(data.color);\n  materialData.specular.set(data.specular);\n  materialData.emissive.set(data.emissive);\n  materialData.emissiveIntensity = data.emissiveIntensity;\n  materialData.fog = data.fog;\n  materialData.transparent = data.transparent;\n  materialData.wireframe = data.wireframe;\n  materialData.wireframeLinewidth = data.wireframeLinewidth;\n  materialData.shininess = data.shininess;\n  materialData.flatShading = data.flatShading;\n  materialData.wireframe = data.wireframe;\n  materialData.wireframeLinewidth = data.wireframeLinewidth;\n  materialData.reflectivity = data.reflectivity;\n  materialData.refractionRatio = data.refractionRatio;\n\n  switch (data.combine) {\n    case 'mix':\n      materialData.combine = THREE.MixOperation;\n      break;\n    case 'multiply':\n      materialData.combine = THREE.MultiplyOperation;\n      break;\n    case 'add':\n      materialData.combine = THREE.AddOperation;\n      break;\n  }\n\n  if (data.normalMap) {\n    materialData.normalScale = data.normalScale;\n  }\n\n  if (data.ambientOcclusionMap) {\n    materialData.aoMapIntensity = data.ambientOcclusionMapIntensity;\n  }\n\n  if (data.bumpMap) {\n    materialData.bumpScale = data.bumpMapScale;\n  }\n\n  if (data.displacementMap) {\n    materialData.displacementScale = data.displacementScale;\n    materialData.displacementBias = data.displacementBias;\n  }\n\n  return materialData;\n}\n","import { registerShader } from '../core/shader.js';\nimport * as THREE from 'three';\n\nvar VERTEX_SHADER = [\n  '#include <common>',\n  '#include <fog_pars_vertex>',\n  '#include <logdepthbuf_pars_vertex>',\n\n  'out vec2 vUV;',\n\n  'void main(void) {',\n  '  vUV = uv;',\n  '  #include <begin_vertex>',\n  '  #include <project_vertex>',\n  '  #include <logdepthbuf_vertex>',\n  '  #include <fog_vertex>',\n  '}'\n].join('\\n');\n\nvar FRAGMENT_SHADER = [\n  '#include <common>',\n  '#include <fog_pars_fragment>',\n  '#include <logdepthbuf_pars_fragment>',\n\n  'uniform float alphaTest;',\n  'uniform float opacity;',\n  'uniform sampler2D map;',\n  'uniform vec3 color;',\n  'in vec2 vUV;',\n\n  'float contour(float width, float value) {',\n  '  return smoothstep(0.5 - value, 0.5 + value, width);',\n  '}',\n\n  // FIXME: Experimentally determined constants.\n  '#define BIG_ENOUGH 0.001',\n  '#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)',\n\n  'void main() {',\n  '  vec2 uv = vUV;',\n  '  vec4 texColor = texture(map, uv);',\n  '  float dist = texColor.a;',\n  '  float width = fwidth(dist);',\n  '  float alpha = contour(dist, width);',\n  '  float dscale = 0.353505;',\n\n  '  vec2 duv = dscale * (dFdx(uv) + dFdy(uv));',\n  '  float isBigEnough = max(abs(duv.x), abs(duv.y));',\n\n     // When texel is too small, blend raw alpha value rather than supersampling.\n     // FIXME: experimentally determined constant\n  '  if (isBigEnough > BIG_ENOUGH) {',\n  '    float ratio = BIG_ENOUGH / isBigEnough;',\n  '    alpha = ratio * alpha + (1.0 - ratio) * dist;',\n  '  }',\n\n     // Otherwise do weighted supersampling.\n     // FIXME: why this weighting?\n  '  if (isBigEnough <= BIG_ENOUGH) {',\n  '    vec4 box = vec4 (uv - duv, uv + duv);',\n  '    alpha = (alpha + 0.5 * (',\n  '      contour(texture(map, box.xy).a, width)',\n  '      + contour(texture(map, box.zw).a, width)',\n  '      + contour(texture(map, box.xw).a, width)',\n  '      + contour(texture(map, box.zy).a, width)',\n  '    )) / 3.0;',\n  '  }',\n\n       // Do modified alpha test.\n  '  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }',\n\n  '  gl_FragColor = vec4(color, opacity * alpha);',\n  '  #include <logdepthbuf_fragment>',\n  '  #include <tonemapping_fragment>',\n  '  #include <colorspace_fragment>',\n  '  #include <fog_fragment>',\n  '}'\n].join('\\n');\n\n/**\n * Signed distance field.\n * Used by text component.\n */\nexport var Shader = registerShader('sdf', {\n  schema: {\n    alphaTest: {type: 'number', is: 'uniform', default: 0.5},\n    color: {type: 'color', is: 'uniform', default: 'white'},\n    map: {type: 'map', is: 'uniform'},\n    opacity: {type: 'number', is: 'uniform', default: 1.0}\n  },\n\n  vertexShader: VERTEX_SHADER,\n\n  fragmentShader: FRAGMENT_SHADER,\n\n  init: function () {\n    this.uniforms = this.initUniforms();\n    // When using the WebGPURenderer there is no UniformsLib or UniformsUtils.\n    if (THREE.UniformsUtils) {\n      this.uniforms = THREE.UniformsUtils.merge([\n        THREE.UniformsLib.fog,\n        this.uniforms\n      ]);\n    }\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: this.vertexShader,\n      fragmentShader: this.fragmentShader,\n      fog: true\n    });\n    return this.material;\n  }\n});\n","import { registerShader } from '../core/shader.js';\nimport * as THREE from 'three';\n\nvar VERTEX_SHADER = [\n  '#include <common>',\n  '#include <fog_pars_vertex>',\n  '#include <logdepthbuf_pars_vertex>',\n\n  'out vec2 vUV;',\n\n  'void main(void) {',\n  '  vUV = uv;',\n  '  #include <begin_vertex>',\n  '  #include <project_vertex>',\n  '  #include <logdepthbuf_vertex>',\n  '  #include <fog_vertex>',\n  '}'\n].join('\\n');\n\nvar FRAGMENT_SHADER = [\n  '#include <common>',\n  '#include <fog_pars_fragment>',\n  '#include <logdepthbuf_pars_fragment>',\n\n  'uniform bool negate;',\n  'uniform float alphaTest;',\n  'uniform float opacity;',\n  'uniform sampler2D map;',\n  'uniform vec3 color;',\n  'in vec2 vUV;',\n\n  'float median(float r, float g, float b) {',\n  '  return max(min(r, g), min(max(r, g), b));',\n  '}',\n\n  // FIXME: Experimentally determined constants.\n  '#define BIG_ENOUGH 0.001',\n  '#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)',\n\n  'void main() {',\n  '  vec3 sampleColor = texture(map, vUV).rgb;',\n  '  if (negate) { sampleColor = 1.0 - sampleColor; }',\n\n  '  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;',\n  '  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);',\n  '  float dscale = 0.353505;',\n  '  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));',\n  '  float isBigEnough = max(abs(duv.x), abs(duv.y));',\n\n  // When texel is too small, blend raw alpha value rather than supersampling.\n  // FIXME: Experimentally determined constant.\n  '  // Do modified alpha test.',\n  '  if (isBigEnough > BIG_ENOUGH) {',\n  '    float ratio = BIG_ENOUGH / isBigEnough;',\n  '    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);',\n  '  }',\n\n  '  // Do modified alpha test.',\n  '  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }',\n  '  gl_FragColor = vec4(color.xyz, alpha * opacity);',\n\n  '  #include <logdepthbuf_fragment>',\n  '  #include <tonemapping_fragment>',\n  '  #include <colorspace_fragment>',\n  '  #include <fog_fragment>',\n  '}'\n].join('\\n');\n\n/**\n * Multi-channel signed distance field.\n * Used by text component.\n */\nexport var Shader = registerShader('msdf', {\n  schema: {\n    alphaTest: {type: 'number', is: 'uniform', default: 0.5},\n    color: {type: 'color', is: 'uniform', default: 'white'},\n    map: {type: 'map', is: 'uniform'},\n    negate: {type: 'boolean', is: 'uniform', default: true},\n    opacity: {type: 'number', is: 'uniform', default: 1.0}\n  },\n\n  vertexShader: VERTEX_SHADER,\n\n  fragmentShader: FRAGMENT_SHADER,\n\n  init: function () {\n    this.uniforms = this.initUniforms();\n    // When using the WebGPURenderer there is no UniformsLib or UniformsUtils.\n    if (THREE.UniformsUtils) {\n      this.uniforms = THREE.UniformsUtils.merge([\n        THREE.UniformsLib.fog,\n        this.uniforms\n      ]);\n    }\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: this.vertexShader,\n      fragmentShader: this.fragmentShader,\n      fog: true\n    });\n    return this.material;\n  }\n});\n","import * as THREE from 'three';\nimport { registerShader } from '../core/shader.js';\n\n/**\n * Flat shader using THREE.ShadowMaterial.\n */\nexport var Shader = registerShader('shadow', {\n  schema: {\n    opacity: {default: 0.5},\n    transparent: {default: true},\n    alphaToCoverage: {default: true}\n  },\n\n  /**\n   * Initializes the shader.\n   * Adds a reference from the scene to this entity as the camera.\n   */\n  init: function (data) {\n    this.material = new THREE.ShadowMaterial();\n  },\n\n  update: function (data) {\n    this.material.opacity = data.opacity;\n    this.material.alphaToCoverage = data.alphaToCoverage;\n    this.material.transparent = data.transparent;\n  }\n});\n","import * as constants from '../constants/index.js';\nimport { registerSystem } from '../core/system.js';\n\nvar DEFAULT_CAMERA_ATTR = 'data-aframe-default-camera';\n\n/**\n * Camera system. Manages which camera is active among multiple cameras in scene.\n *\n * @member {object} activeCameraEl - Active camera entity.\n */\nexport var System = registerSystem('camera', {\n  init: function () {\n    this.activeCameraEl = null;\n\n    this.render = this.render.bind(this);\n    this.unwrapRender = this.unwrapRender.bind(this);\n    this.wrapRender = this.wrapRender.bind(this);\n\n    this.initialCameraFound = false;\n    this.numUserCameras = 0;\n    this.numUserCamerasChecked = 0;\n    this.setupInitialCamera();\n  },\n\n  /**\n   * Setup initial camera, either searching for camera or\n   * creating a default camera if user has not added one during the initial scene traversal.\n   * We want sceneEl.camera to be ready, set, and initialized before the rest of the scene\n   * loads.\n   *\n   * Default camera offset height is at average eye level (~1.6m).\n   */\n  setupInitialCamera: function () {\n    var cameraEls;\n    var i;\n    var sceneEl = this.sceneEl;\n    var self = this;\n\n    // Camera already defined or the one defined it is an spectator one.\n    if (sceneEl.camera && !sceneEl.camera.el.getAttribute('camera').spectator) {\n      sceneEl.emit('cameraready', {cameraEl: sceneEl.camera.el});\n      return;\n    }\n\n    // Search for initial user-defined camera.\n    cameraEls = sceneEl.querySelectorAll('a-camera, :not(a-mixin)[camera]');\n\n    // No user cameras, create default one.\n    if (!cameraEls.length) {\n      this.createDefaultCamera();\n      return;\n    }\n\n    this.numUserCameras = cameraEls.length;\n    for (i = 0; i < cameraEls.length; i++) {\n      cameraEls[i].addEventListener('object3dset', function (evt) {\n        if (evt.detail.type !== 'camera') { return; }\n        self.checkUserCamera(this);\n      });\n\n      // Load camera and wait for camera to initialize.\n      if (cameraEls[i].isANode) {\n        cameraEls[i].load();\n      } else {\n        cameraEls[i].addEventListener('nodeready', function () {\n          this.load();\n        });\n      }\n    }\n  },\n\n  /**\n   * Check if a user-defined camera entity is appropriate to be initial camera.\n   * (active + non-spectator).\n   *\n   * Keep track of the number of cameras we checked and whether we found one.\n   */\n  checkUserCamera: function (cameraEl) {\n    var cameraData;\n    var sceneEl = this.el.sceneEl;\n    this.numUserCamerasChecked++;\n\n    // Already found one.\n    if (this.initialCameraFound) { return; }\n\n    // Check if camera is appropriate for being the initial camera.\n    cameraData = cameraEl.getAttribute('camera');\n    if (!cameraData.active || cameraData.spectator) {\n      // No user cameras eligible, create default camera.\n      if (this.numUserCamerasChecked === this.numUserCameras) {\n        this.createDefaultCamera();\n      }\n      return;\n    }\n\n    this.initialCameraFound = true;\n    sceneEl.camera = cameraEl.getObject3D('camera');\n    sceneEl.emit('cameraready', {cameraEl: cameraEl});\n  },\n\n  createDefaultCamera: function () {\n    var defaultCameraEl;\n    var sceneEl = this.sceneEl;\n\n    // Set up default camera.\n    defaultCameraEl = document.createElement('a-entity');\n    defaultCameraEl.setAttribute('camera', {active: true});\n    defaultCameraEl.setAttribute('position', {\n      x: 0,\n      y: constants.DEFAULT_CAMERA_HEIGHT,\n      z: 0\n    });\n    defaultCameraEl.setAttribute('wasd-controls', '');\n    defaultCameraEl.setAttribute('look-controls', '');\n    defaultCameraEl.setAttribute(constants.AFRAME_INJECTED, '');\n\n    defaultCameraEl.addEventListener('object3dset', function (evt) {\n      if (evt.detail.type !== 'camera') { return; }\n      sceneEl.camera = evt.detail.object;\n      sceneEl.emit('cameraready', {cameraEl: defaultCameraEl});\n    });\n\n    sceneEl.appendChild(defaultCameraEl);\n  },\n\n  /**\n   * Set a different active camera.\n   * When we choose a (sort of) random scene camera as the replacement, set its `active` to\n   * true. The camera component will call `setActiveCamera` and handle passing the torch to\n   * the new camera.\n   */\n  disableActiveCamera: function () {\n    var cameraEls;\n    var newActiveCameraEl;\n    cameraEls = this.sceneEl.querySelectorAll(':not(a-mixin)[camera]');\n    newActiveCameraEl = cameraEls[cameraEls.length - 1];\n    newActiveCameraEl.setAttribute('camera', 'active', true);\n  },\n\n  /**\n   * Set active camera to be used by renderer.\n   * Removes the default camera (if present).\n   * Disables all other cameras in the scene.\n   *\n   * @param {Element} newCameraEl - Entity with camera component.\n   */\n  setActiveCamera: function (newCameraEl) {\n    var cameraEl;\n    var cameraEls;\n    var i;\n    var newCamera;\n    var previousCamera = this.activeCameraEl;\n    var sceneEl = this.sceneEl;\n\n    // Same camera.\n    newCamera = newCameraEl.getObject3D('camera');\n    if (!newCamera || newCameraEl === this.activeCameraEl) { return; }\n\n    // Grab the default camera.\n    var defaultCameraWrapper = sceneEl.querySelector('[' + DEFAULT_CAMERA_ATTR + ']');\n    var defaultCameraEl = defaultCameraWrapper &&\n                          defaultCameraWrapper.querySelector(':not(a-mixin)[camera]');\n\n    // Remove default camera if new camera is not the default camera.\n    if (newCameraEl !== defaultCameraEl) { removeDefaultCamera(sceneEl); }\n\n    // Make new camera active.\n    this.activeCameraEl = newCameraEl;\n    this.activeCameraEl.play();\n    sceneEl.camera = newCamera;\n\n    // Disable current camera\n    if (previousCamera) {\n      previousCamera.setAttribute('camera', 'active', false);\n    }\n\n    // Disable other cameras in the scene\n    cameraEls = sceneEl.querySelectorAll(':not(a-mixin)[camera]');\n    for (i = 0; i < cameraEls.length; i++) {\n      cameraEl = cameraEls[i];\n      if (!cameraEl.isEntity || newCameraEl === cameraEl) { continue; }\n      cameraEl.setAttribute('camera', 'active', false);\n      cameraEl.pause();\n    }\n    sceneEl.emit('camera-set-active', {cameraEl: newCameraEl});\n  },\n\n  /**\n   * Set spectator camera to render the scene on a 2D display.\n   *\n   * @param {Element} newCameraEl - Entity with camera component.\n   */\n  setSpectatorCamera: function (newCameraEl) {\n    var newCamera;\n    var previousCamera = this.spectatorCameraEl;\n    var sceneEl = this.sceneEl;\n    var spectatorCameraEl;\n\n    // Same camera.\n    newCamera = newCameraEl.getObject3D('camera');\n    if (!newCamera || newCameraEl === this.spectatorCameraEl) { return; }\n\n    // Disable current camera\n    if (previousCamera) {\n      previousCamera.setAttribute('camera', 'spectator', false);\n    }\n\n    spectatorCameraEl = this.spectatorCameraEl = newCameraEl;\n\n    sceneEl.addEventListener('enter-vr', this.wrapRender);\n    sceneEl.addEventListener('exit-vr', this.unwrapRender);\n\n    spectatorCameraEl.setAttribute('camera', 'active', false);\n    spectatorCameraEl.play();\n\n    sceneEl.emit('camera-set-spectator', {cameraEl: newCameraEl});\n  },\n\n  /**\n   * Disables current spectator camera.\n   */\n  disableSpectatorCamera: function () {\n    this.spectatorCameraEl = undefined;\n  },\n\n  /**\n   * Wrap the render method of the renderer to render\n   * the spectator camera.\n   */\n  wrapRender: function () {\n    if (!this.spectatorCameraEl || this.originalRender) { return; }\n    this.originalRender = this.sceneEl.renderer.render;\n    this.sceneEl.renderer.render = this.render;\n  },\n\n  unwrapRender: function () {\n    if (!this.originalRender) { return; }\n    this.sceneEl.renderer.render = this.originalRender;\n    this.originalRender = undefined;\n  },\n\n  render: function (scene, camera) {\n    var isVREnabled;\n    var sceneEl = this.sceneEl;\n    var spectatorCamera;\n\n    isVREnabled = sceneEl.renderer.xr.enabled;\n    this.originalRender.call(sceneEl.renderer, scene, camera);\n    if (!this.spectatorCameraEl || sceneEl.isMobile || !isVREnabled) { return; }\n    spectatorCamera = this.spectatorCameraEl.components.camera.camera;\n    sceneEl.renderer.xr.enabled = false;\n    this.originalRender.call(sceneEl.renderer, scene, spectatorCamera);\n    sceneEl.renderer.xr.enabled = isVREnabled;\n  }\n});\n\n/**\n * Remove injected default camera from scene, if present.\n *\n * @param {Element} sceneEl\n */\nfunction removeDefaultCamera (sceneEl) {\n  var defaultCamera;\n  var camera = sceneEl.camera;\n  if (!camera) { return; }\n\n  // Remove default camera if present.\n  defaultCamera = sceneEl.querySelector('[' + DEFAULT_CAMERA_ATTR + ']');\n  if (!defaultCamera) { return; }\n  sceneEl.removeChild(defaultCamera);\n}\n","import { geometries } from '../core/geometry.js';\nimport { registerSystem } from '../core/system.js';\n\n/**\n * System for geometry component.\n * Handle geometry caching.\n *\n * @member {object} cache - Mapping of stringified component data to THREE.BufferGeometry objects.\n * @member {object} cacheCount - Keep track of number of entities using a geometry to\n *         know whether to dispose on removal.\n */\nexport var System = registerSystem('geometry', {\n  init: function () {\n    this.cache = {};\n    this.cacheCount = {};\n  },\n\n  /**\n   * Reset cache. Mainly for testing.\n   */\n  clearCache: function () {\n    this.cache = {};\n    this.cacheCount = {};\n  },\n\n  /**\n   * Attempt to retrieve from cache.\n   *\n   * @returns {object|null} A geometry if it exists, else null.\n   */\n  getOrCreateGeometry: function (data) {\n    var cache = this.cache;\n    var cachedGeometry;\n    var hash;\n\n    // Skip all caching logic.\n    if (data.skipCache) { return createGeometry(data); }\n\n    // Try to retrieve from cache first.\n    hash = this.hash(data);\n    cachedGeometry = cache[hash];\n    incrementCacheCount(this.cacheCount, hash);\n\n    if (cachedGeometry) { return cachedGeometry; }\n\n    // Create geometry.\n    cachedGeometry = createGeometry(data);\n\n    // Cache and return geometry.\n    cache[hash] = cachedGeometry;\n    return cachedGeometry;\n  },\n\n  /**\n   * Let system know that an entity is no longer using a geometry.\n   */\n  unuseGeometry: function (data) {\n    var cache = this.cache;\n    var cacheCount = this.cacheCount;\n    var geometry;\n    var hash;\n\n    if (data.skipCache) { return; }\n\n    hash = this.hash(data);\n\n    if (!cache[hash]) { return; }\n\n    decrementCacheCount(cacheCount, hash);\n\n    // Another entity is still using this geometry. No need to do anything.\n    if (cacheCount[hash] > 0) { return; }\n\n    // No more entities are using this geometry. Dispose.\n    geometry = cache[hash];\n    geometry.dispose();\n    delete cache[hash];\n    delete cacheCount[hash];\n  },\n\n  /**\n   * Use JSON.stringify to turn component data into hash.\n   * Should be deterministic within a single browser engine.\n   * If not, then look into json-stable-stringify.\n   */\n  hash: function (data) {\n    return JSON.stringify(data);\n  }\n});\n\n/**\n * Create geometry using component data.\n *\n * @param {object} data - Component data.\n * @returns {object} Geometry.\n */\nfunction createGeometry (data) {\n  var geometryType = data.primitive;\n  var GeometryClass = geometries[geometryType] && geometries[geometryType].Geometry;\n  var geometryInstance = new GeometryClass();\n\n  if (!GeometryClass) { throw new Error('Unknown geometry `' + geometryType + '`'); }\n\n  geometryInstance.init(data);\n  return geometryInstance.geometry;\n}\n\n/**\n * Decrease count of entity using a geometry.\n */\nfunction decrementCacheCount (cacheCount, hash) {\n  cacheCount[hash]--;\n}\n\n/**\n * Increase count of entity using a geometry.\n */\nfunction incrementCacheCount (cacheCount, hash) {\n  cacheCount[hash] = cacheCount[hash] === undefined ? 1 : cacheCount[hash] + 1;\n}\n","import { DRACOLoader } from 'three/addons/loaders/DRACOLoader.js';\nimport { KTX2Loader } from 'three/addons/loaders/KTX2Loader.js';\nimport { registerSystem } from '../core/system.js';\n\nfunction fetchScript (src) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    document.body.appendChild(script);\n    script.onload = resolve;\n    script.onerror = reject;\n    script.async = true;\n    script.src = src;\n  });\n}\n\n/**\n * glTF model system.\n *\n * Configures glTF loading options. Models using glTF compression require that a Draco decoder be\n * provided externally.\n *\n * @param {string} dracoDecoderPath - Base path from which to load Draco decoder library.\n * @param {string} basisTranscoderPath - Base path from which to load Basis transcoder library.\n * @param {string} meshoptDecoderPath - Full path from which to load Meshopt decoder.\n */\nexport var System = registerSystem('gltf-model', {\n  schema: {\n    dracoDecoderPath: {default: 'https://www.gstatic.com/draco/versioned/decoders/1.5.7/'},\n    basisTranscoderPath: {default: ''},\n    meshoptDecoderPath: {default: ''}\n  },\n\n  init: function () {\n    this.update();\n  },\n\n  update: function () {\n    var dracoDecoderPath = this.data.dracoDecoderPath;\n    var basisTranscoderPath = this.data.basisTranscoderPath;\n    var meshoptDecoderPath = this.data.meshoptDecoderPath;\n    if (!this.dracoLoader && dracoDecoderPath) {\n      this.dracoLoader = new DRACOLoader();\n      this.dracoLoader.setDecoderPath(dracoDecoderPath);\n    }\n    if (!this.ktx2Loader && basisTranscoderPath) {\n      this.ktx2Loader = new KTX2Loader();\n      this.ktx2Loader.setTranscoderPath(basisTranscoderPath).detectSupport(this.el.renderer);\n    }\n    if (!this.meshoptDecoder && meshoptDecoderPath) {\n      this.meshoptDecoder = fetchScript(meshoptDecoderPath)\n        .then(function () { return window.MeshoptDecoder.ready; })\n        .then(function () { return window.MeshoptDecoder; });\n    }\n  },\n\n  getDRACOLoader: function () {\n    return this.dracoLoader;\n  },\n\n  getKTX2Loader: function () {\n    return this.ktx2Loader;\n  },\n\n  getMeshoptDecoder: function () {\n    return this.meshoptDecoder;\n  }\n});\n","import { registerSystem } from '../core/system.js';\nimport * as constants from '../constants/index.js';\n\nvar DEFAULT_LIGHT_ATTR = 'data-aframe-default-light';\n\n/**\n * Light system.\n *\n * Prescribes default lighting if not specified (one ambient, one directional).\n * Removes default lighting from the scene when a new light is added.\n *\n * @param {boolean} defaultLights - Whether default lighting are defined.\n * @param {boolean} userDefinedLights - Whether user lighting is defined.\n */\nexport var System = registerSystem('light', {\n  schema: {\n    defaultLightsEnabled: {default: true}\n  },\n\n  init: function () {\n    this.defaultLights = false;\n    this.userDefinedLights = false;\n    // Wait for all entities to fully load before checking for existence of lights.\n    // Since entities wait for <a-assets> to load, any lights attaching to the scene\n    // will do so asynchronously.\n    this.sceneEl.addEventListener('loaded', this.setupDefaultLights.bind(this));\n  },\n\n  /**\n   * Notify scene that light has been added and to remove the default.\n   *\n   * @param {object} el - element holding the light component.\n   */\n  registerLight: function (el) {\n    if (!el.hasAttribute(DEFAULT_LIGHT_ATTR)) {\n      // User added a light, remove default lights through DOM.\n      this.removeDefaultLights();\n      this.userDefinedLights = true;\n    }\n  },\n\n  removeDefaultLights: function () {\n    var defaultLights;\n    var sceneEl = this.sceneEl;\n\n    if (!this.defaultLights) { return; }\n    defaultLights = document.querySelectorAll('[' + DEFAULT_LIGHT_ATTR + ']');\n    for (var i = 0; i < defaultLights.length; i++) {\n      sceneEl.removeChild(defaultLights[i]);\n    }\n    this.defaultLights = false;\n  },\n\n  /**\n   * Prescribe default lights to the scene.\n   * Does so by injecting markup such that this state is not invisible.\n   * These lights are removed if the user adds any lights.\n   */\n  setupDefaultLights: function () {\n    var sceneEl = this.sceneEl;\n    var ambientLight;\n    var directionalLight;\n\n    if (this.userDefinedLights || this.defaultLights || !this.data.defaultLightsEnabled) {\n      return;\n    }\n\n    ambientLight = document.createElement('a-entity');\n    ambientLight.setAttribute('light', {color: '#BBB', type: 'ambient'});\n    ambientLight.setAttribute(DEFAULT_LIGHT_ATTR, '');\n    ambientLight.setAttribute(constants.AFRAME_INJECTED, '');\n    sceneEl.appendChild(ambientLight);\n\n    directionalLight = document.createElement('a-entity');\n    directionalLight.setAttribute('light', {color: '#FFF', intensity: 1.884, castShadow: true});\n    directionalLight.setAttribute('position', {x: -0.5, y: 1, z: 1});\n    directionalLight.setAttribute(DEFAULT_LIGHT_ATTR, '');\n    directionalLight.setAttribute(constants.AFRAME_INJECTED, '');\n    sceneEl.appendChild(directionalLight);\n\n    this.defaultLights = true;\n  }\n});\n","import * as THREE from 'three';\nimport { registerSystem } from '../core/system.js';\nimport * as utils from '../utils/index.js';\nimport { setTextureProperties, createCompatibleTexture } from '../utils/material.js';\n\nvar debug = utils.debug;\nvar error = debug('components:texture:error');\nvar warn = debug('components:texture:warn');\nvar ImageLoader = new THREE.ImageLoader();\n\n/**\n * System for material component.\n * Handle material registration, updates (for fog), and texture caching.\n *\n * @member {object} materials - Registered materials.\n * @member {object} sourceCache - Texture source cache for, Image, Video and Canvas sources\n */\nexport var System = registerSystem('material', {\n  init: function () {\n    this.materials = {};\n    this.sourceCache = {};\n  },\n\n  clearTextureSourceCache: function () {\n    this.sourceCache = {};\n  },\n\n  /**\n   * Loads and creates a texture for a given `src`.\n   *\n   * @param {string|Element} src - URL or element\n   * @param {object} data - Relevant texture properties\n   * @param {function} cb - Callback to pass texture to\n   */\n  loadTexture: function (src, data, cb) {\n    this.loadTextureSource(src, function sourceLoaded (source) {\n      var texture = createCompatibleTexture(source);\n      setTextureProperties(texture, data);\n      cb(texture);\n    });\n  },\n\n  /**\n   * Determine whether `src` is an image or video. Then try to load the asset, then call back.\n   *\n   * @param {string|Element} src - URL or element.\n   * @param {function} cb - Callback to pass texture source to.\n   */\n  loadTextureSource: function (src, cb) {\n    var self = this;\n    var sourceCache = this.sourceCache;\n\n    var hash = this.hash(src);\n    if (sourceCache[hash]) {\n      sourceCache[hash].then(cb);\n      return;\n    }\n\n    // Canvas.\n    if (src.tagName === 'CANVAS') {\n      sourceLoaded(new THREE.Source(src));\n      return;\n    }\n\n    sourceLoaded(new Promise(doSourceLoad));\n    function doSourceLoad (resolve, reject) {\n      utils.srcLoader.validateSrc(src, loadImageCb, loadVideoCb);\n      function loadImageCb (src) { self.loadImage(src, resolve); }\n      function loadVideoCb (src) { self.loadVideo(src, resolve); }\n    }\n\n    function sourceLoaded (sourcePromise) {\n      sourceCache[hash] = Promise.resolve(sourcePromise);\n      sourceCache[hash].then(cb);\n    }\n  },\n\n  /**\n   * Load the six individual sides and construct a cube texture, then call back.\n   *\n   * @param {Array<string|Element>} srcs - Array of six texture URLs or elements.\n   * @param {function} cb - Callback to pass cube texture to.\n   */\n  loadCubeMapTexture: function (srcs, cb) {\n    var self = this;\n    var loaded = 0;\n    var cube = new THREE.CubeTexture();\n    cube.colorSpace = THREE.SRGBColorSpace;\n\n    function loadSide (index) {\n      self.loadTextureSource(srcs[index], function (source) {\n        cube.images[index] = source.data;\n        loaded++;\n        if (loaded === 6) {\n          cube.needsUpdate = true;\n          cb(cube);\n        }\n      });\n    }\n\n    if (srcs.length !== 6) {\n      warn('Cube map texture requires exactly 6 sources, got only %s sources', srcs.length);\n      return;\n    }\n\n    for (var i = 0; i < srcs.length; i++) {\n      loadSide(i);\n    }\n  },\n\n  /**\n   * High-level function for loading image textures (THREE.Texture).\n   *\n   * @param {string|Element} src - Texture source.\n   * @param {function} cb - Callback to pass texture to.\n   */\n  loadImage: function (src, cb) {\n    // Image element provided\n    if (typeof src !== 'string') {\n      cb(new THREE.Source(src));\n      return;\n    }\n\n    cb(loadImageUrl(src));\n  },\n\n  /**\n   * Load video texture (THREE.VideoTexture).\n   * Which is just an image texture that RAFs + needsUpdate.\n   * Note that creating a video texture is synchronous unlike loading an image texture.\n   * Made asynchronous to be consistent with image textures.\n   *\n   * @param {string|Element} src - Texture source.\n   * @param {function} cb - Callback to pass texture to.\n   */\n  loadVideo: function (src, cb) {\n    var videoEl;\n\n    // Video element provided.\n    if (typeof src !== 'string') {\n      // Check cache before creating texture.\n      videoEl = src;\n\n      // Fix up the attributes then start to create the texture.\n      fixVideoAttributes(videoEl);\n    }\n\n    // Only URL provided. Use video element to create texture.\n    videoEl = videoEl || createVideoEl(src);\n\n    cb(new THREE.Source(videoEl));\n  },\n\n  /**\n   * Create a hash for a given source.\n   */\n  hash: function (src) {\n    if (src.tagName) {\n      // Prefer element's ID or source, otherwise fallback to the element itself\n      return src.id || src.src || src;\n    }\n    return src;\n  },\n\n  /**\n   * Keep track of material in case an update trigger is needed (e.g., fog).\n   *\n   * @param {object} material\n   */\n  registerMaterial: function (material) {\n    this.materials[material.uuid] = material;\n  },\n\n  /**\n   * Stop tracking material, and dispose of any textures not being used by\n   * another material component.\n   *\n   * @param {object} material\n   */\n  unregisterMaterial: function (material) {\n    delete this.materials[material.uuid];\n  }\n});\n\n/**\n * Load image from a given URL.\n *\n * @private\n * @param {string} src - An url to an image file.\n * @returns {Promise} Resolves once texture is loaded.\n */\nfunction loadImageUrl (src) {\n  return new Promise(doLoadImageUrl);\n\n  function doLoadImageUrl (resolve, reject) {\n    // Request and load texture from src string. THREE will create underlying element.\n    ImageLoader.load(\n      src,\n      resolveSource,\n      function () { /* no-op */ },\n      function (xhr) {\n        error('`$s` could not be fetched (Error code: %s; Response: %s)', xhr.status,\n              xhr.statusText);\n      }\n    );\n\n    function resolveSource (data) {\n      resolve(new THREE.Source(data));\n    }\n  }\n}\n\n/**\n * Create video element to be used as a texture.\n *\n * @param {string} src - Url to a video file.\n * @returns {Element} Video element.\n */\nfunction createVideoEl (src) {\n  var videoEl = document.createElement('video');\n  // Support inline videos for iOS webviews.\n  videoEl.setAttribute('playsinline', '');\n  videoEl.setAttribute('webkit-playsinline', '');\n  videoEl.autoplay = true;\n  videoEl.loop = true;\n  videoEl.crossOrigin = 'anonymous';\n  videoEl.addEventListener('error', function () {\n    warn('`%s` is not a valid video', src);\n  }, true);\n  videoEl.src = src;\n  return videoEl;\n}\n\n/**\n * Fixes a video element's attributes to prevent developers from accidentally passing the\n * wrong attribute values to commonly misused video attributes.\n *\n * <video> does not treat `autoplay`, `controls`, `crossorigin`, `loop`, and `preload` as\n * as booleans. Existence of those attributes will mean truthy.\n *\n * For example, translates <video loop=\"false\"> to <video>.\n *\n * @see https://developer.mozilla.org/docs/Web/HTML/Element/video#Attributes\n * @param {Element} videoEl - Video element.\n * @returns {Element} Video element with the correct properties updated.\n */\nfunction fixVideoAttributes (videoEl) {\n  videoEl.autoplay = videoEl.hasAttribute('autoplay') && videoEl.getAttribute('autoplay') !== 'false';\n  videoEl.controls = videoEl.hasAttribute('controls') && videoEl.getAttribute('controls') !== 'false';\n  if (videoEl.getAttribute('loop') === 'false') {\n    videoEl.removeAttribute('loop');\n  }\n  if (videoEl.getAttribute('preload') === 'false') {\n    videoEl.preload = 'none';\n  }\n  videoEl.crossOrigin = videoEl.crossOrigin || 'anonymous';\n  // To support inline videos in iOS webviews.\n  videoEl.setAttribute('playsinline', '');\n  videoEl.setAttribute('webkit-playsinline', '');\n  return videoEl;\n}\n","import { registerSystem } from '../core/system.js';\n\nregisterSystem('obb-collider', {\n  schema: {\n    showColliders: {default: false}\n  },\n\n  init: function () {\n    this.collisions = [];\n    this.colliderEls = [];\n  },\n\n  addCollider: function (colliderEl) {\n    this.colliderEls.push(colliderEl);\n    if (this.data.showColliders) {\n      colliderEl.components['obb-collider'].showCollider();\n    } else {\n      colliderEl.components['obb-collider'].hideCollider();\n    }\n    this.tick = this.detectCollisions;\n  },\n\n  removeCollider: function (colliderEl) {\n    var colliderEls = this.colliderEls;\n    var elIndex = colliderEls.indexOf(colliderEl);\n    colliderEl.components['obb-collider'].hideCollider();\n    if (elIndex > -1) { colliderEls.splice(elIndex, 1); }\n    if (colliderEls.length === 0) { this.tick = undefined; }\n  },\n\n  registerCollision: function (componentA, componentB) {\n    var collisions = this.collisions;\n    var existingCollision = false;\n    var boundingBoxA = componentA.obb;\n    var boundingBoxB = componentB.obb;\n    var collisionMeshA = componentA.renderColliderMesh;\n    var collisionMeshB = componentB.renderColliderMesh;\n    if (collisionMeshA) { collisionMeshA.material.color.set(0xff0000); }\n    if (collisionMeshB) { collisionMeshB.material.color.set(0xff0000); }\n    for (var i = 0; i < collisions.length; i++) {\n      if (collisions[i].componentA.obb === boundingBoxA && collisions[i].componentB.obb === boundingBoxB ||\n          collisions[i].componentA.obb === boundingBoxB && collisions[i].componentB.obb === boundingBoxA) {\n        existingCollision = true;\n        collisions[i].detected = true;\n        break;\n      }\n    }\n    if (!existingCollision) {\n      collisions.push({\n        componentA: componentA,\n        componentB: componentB,\n        detected: true\n      });\n      componentA.el.emit('obbcollisionstarted', {trackedObject3D: componentA.trackedObject3D, withEl: componentB.el});\n      componentB.el.emit('obbcollisionstarted', {trackedObject3D: componentB.trackedObject3D, withEl: componentA.el});\n    }\n  },\n\n  resetCollisions: function () {\n    var collisions = this.collisions;\n    for (var i = 0; i < collisions.length; i++) {\n      collisions[i].detected = false;\n    }\n  },\n\n  clearCollisions: function () {\n    var collisions = this.collisions;\n    var detectedCollisions = [];\n    var componentA;\n    var componentB;\n    var collisionMeshA;\n    var collisionMeshB;\n    for (var i = 0; i < collisions.length; i++) {\n      if (!collisions[i].detected) {\n        componentA = collisions[i].componentA;\n        componentB = collisions[i].componentB;\n        collisionMeshA = componentA.renderColliderMesh;\n        collisionMeshB = componentB.renderColliderMesh;\n\n        if (collisionMeshA) { collisionMeshA.material.color.set(0x00ff00); }\n        componentA.el.emit('obbcollisionended', {trackedObject3D: this.trackedObject3D, withEl: componentB.el});\n\n        if (collisionMeshB) { collisionMeshB.material.color.set(0x00ff00); }\n        componentB.el.emit('obbcollisionended', {trackedObject3D: this.trackedObject3D, withEl: componentA.el});\n      } else {\n        detectedCollisions.push(collisions[i]);\n      }\n    }\n    this.collisions = detectedCollisions;\n  },\n\n  detectCollisions: function () {\n    var boxA;\n    var boxB;\n    var componentA;\n    var componentB;\n    var colliderEls = this.colliderEls;\n    if (colliderEls.length < 2) { return; }\n    this.resetCollisions();\n    for (var i = 0; i < colliderEls.length; i++) {\n      componentA = colliderEls[i].components['obb-collider'];\n      boxA = colliderEls[i].components['obb-collider'].obb;\n      // ignore bounding box with 0 volume.\n      if (boxA.halfSize.x === 0 || boxA.halfSize.y === 0 || boxA.halfSize.z === 0) {\n        continue;\n      }\n      for (var j = i + 1; j < colliderEls.length; j++) {\n        componentB = colliderEls[j].components['obb-collider'];\n        boxB = componentB.obb;\n        // ignore bounding box with 0 volume.\n        if (boxB.halfSize.x === 0 || boxB.halfSize.y === 0 || boxB.halfSize.z === 0) {\n          continue;\n        }\n        if (boxA.intersectsOBB(boxB)) {\n          this.registerCollision(componentA, componentB);\n        }\n      }\n    }\n    this.clearCollisions();\n  }\n});\n","import * as THREE from 'three';\nimport { registerSystem } from '../core/system.js';\nimport * as utils from '../utils/index.js';\n\nvar debug = utils.debug;\nvar warn = debug('components:renderer:warn');\n\n/**\n * Determines state of various renderer properties.\n */\nexport var System = registerSystem('renderer', {\n  schema: {\n    antialias: {default: 'auto', oneOf: ['true', 'false', 'auto']},\n    highRefreshRate: {default: utils.device.isOculusBrowser()},\n    logarithmicDepthBuffer: {default: 'auto', oneOf: ['true', 'false', 'auto']},\n    maxCanvasWidth: {default: -1},\n    maxCanvasHeight: {default: -1},\n    multiviewStereo: {default: false},\n    exposure: {default: 1, if: {toneMapping: ['ACESFilmic', 'linear', 'reinhard', 'cineon', 'AgX', 'neutral']}},\n    toneMapping: {default: 'no', oneOf: ['no', 'ACESFilmic', 'linear', 'reinhard', 'cineon', 'AgX', 'neutral']},\n    precision: {default: 'high', oneOf: ['high', 'medium', 'low']},\n    anisotropy: {default: 1},\n    sortTransparentObjects: {default: false},\n    colorManagement: {default: true},\n    alpha: {default: true},\n    stencil: {default: false},\n    foveationLevel: {default: 1}\n  },\n\n  init: function () {\n    var data = this.data;\n    var sceneEl = this.el;\n    var toneMappingName = this.data.toneMapping.charAt(0).toUpperCase() + this.data.toneMapping.slice(1);\n    // This is the rendering engine, such as THREE.js so copy over any persistent properties from the rendering system.\n    var renderer = sceneEl.renderer;\n\n    renderer.toneMapping = THREE[toneMappingName + 'ToneMapping'];\n    THREE.Texture.DEFAULT_ANISOTROPY = data.anisotropy;\n\n    THREE.ColorManagement.enabled = data.colorManagement;\n    renderer.outputColorSpace = data.colorManagement ? THREE.SRGBColorSpace : THREE.LinearSRGBColorSpace;\n\n    if (sceneEl.hasAttribute('antialias')) {\n      warn('Component `antialias` is deprecated. Use `renderer=\"antialias: true\"` instead.');\n    }\n\n    if (sceneEl.hasAttribute('logarithmicDepthBuffer')) {\n      warn('Component `logarithmicDepthBuffer` is deprecated. Use `renderer=\"logarithmicDepthBuffer: true\"` instead.');\n    }\n\n    // These properties are always the same, regardless of rendered configuration\n    renderer.sortObjects = true;\n    renderer.setOpaqueSort(sortFrontToBack);\n  },\n\n  update: function () {\n    var data = this.data;\n    var sceneEl = this.el;\n    var renderer = sceneEl.renderer;\n    var toneMappingName = this.data.toneMapping.charAt(0).toUpperCase() + this.data.toneMapping.slice(1);\n    renderer.toneMapping = THREE[toneMappingName + 'ToneMapping'];\n    renderer.toneMappingExposure = data.exposure;\n    renderer.xr.setFoveation(data.foveationLevel);\n\n    if (data.sortObjects) {\n      warn('`sortObjects` property is deprecated. Use `renderer=\"sortTransparentObjects: true\"` instead.');\n    }\n    if (data.sortTransparentObjects) {\n      renderer.setTransparentSort(sortBackToFront);\n    } else {\n      renderer.setTransparentSort(sortRenderOrderOnly);\n    }\n  },\n\n  applyColorCorrection: function (texture) {\n    if (!this.data.colorManagement || !texture) {\n      return;\n    }\n\n    if (texture.isTexture && texture.colorSpace !== THREE.SRGBColorSpace) {\n      texture.colorSpace = THREE.SRGBColorSpace;\n      texture.needsUpdate = true;\n    }\n  },\n\n  setWebXRFrameRate: function (xrSession) {\n    var data = this.data;\n    var rates = xrSession.supportedFrameRates;\n    if (rates && xrSession.updateTargetFrameRate) {\n      var targetRate;\n      if (rates.includes(90)) {\n        targetRate = data.highRefreshRate ? 90 : 72;\n      } else {\n        targetRate = data.highRefreshRate ? 72 : 60;\n      }\n      xrSession.updateTargetFrameRate(targetRate).catch(function (error) {\n        console.warn('failed to set target frame rate of ' + targetRate + '. Error info: ' + error);\n      });\n    }\n  }\n});\n\n// Custom A-Frame sort functions.\n// Variations of Three.js default sort orders here:\n// https://github.com/mrdoob/three.js/blob/ebbaecf9acacf259ea9abdcba7b6fb25cfcea2ab/src/renderers/webgl/WebGLRenderLists.js#L1\n// See: https://github.com/aframevr/aframe/issues/5332\n\n// Default sort for opaque objects:\n// - respect groupOrder & renderOrder settings\n// - sort front-to-back by z-depth from camera (this should minimize overdraw)\n// - otherwise leave objects in default order (object tree order)\n\nexport function sortFrontToBack (a, b) {\n  if (a.groupOrder !== b.groupOrder) {\n    return a.groupOrder - b.groupOrder;\n  }\n  if (a.renderOrder !== b.renderOrder) {\n    return a.renderOrder - b.renderOrder;\n  }\n  return a.z - b.z;\n}\n\n// Default sort for transparent objects:\n// - respect groupOrder & renderOrder settings\n// - otherwise leave objects in default order (object tree order)\nexport function sortRenderOrderOnly (a, b) {\n  if (a.groupOrder !== b.groupOrder) {\n    return a.groupOrder - b.groupOrder;\n  }\n  return a.renderOrder - b.renderOrder;\n}\n\n// Spatial sort for transparent objects:\n// - respect groupOrder & renderOrder settings\n// - sort back-to-front by z-depth from camera\n// - otherwise leave objects in default order (object tree order)\nexport function sortBackToFront (a, b) {\n  if (a.groupOrder !== b.groupOrder) {\n    return a.groupOrder - b.groupOrder;\n  }\n  if (a.renderOrder !== b.renderOrder) {\n    return a.renderOrder - b.renderOrder;\n  }\n  return b.z - a.z;\n}\n","import * as THREE from 'three';\nimport { registerSystem } from '../core/system.js';\n\nvar SHADOW_MAP_TYPE_MAP = {\n  basic: THREE.BasicShadowMap,\n  pcf: THREE.PCFShadowMap,\n  pcfsoft: THREE.PCFSoftShadowMap\n};\n\n/**\n * Shadow system.\n *\n * Enabled automatically when one or more shadow components are added to the scene, the system sets\n * options on the WebGLRenderer for configuring shadow appearance.\n */\nexport var System = registerSystem('shadow', {\n  schema: {\n    enabled: {default: true},\n    autoUpdate: {default: true},\n    type: {default: 'pcf', oneOf: ['basic', 'pcf', 'pcfsoft']}\n  },\n\n  init: function () {\n    var sceneEl = this.sceneEl;\n    var data = this.data;\n\n    this.shadowMapEnabled = false;\n\n    sceneEl.renderer.shadowMap.type = SHADOW_MAP_TYPE_MAP[data.type];\n    sceneEl.renderer.shadowMap.autoUpdate = data.autoUpdate;\n  },\n\n  update: function (prevData) {\n    if (prevData.enabled !== this.data.enabled) {\n      this.setShadowMapEnabled(this.shadowMapEnabled);\n    }\n  },\n\n  /**\n   * Enables/disables the renderer shadow map.\n   * @param {boolean} enabled\n   */\n  setShadowMapEnabled: function (enabled) {\n    var sceneEl = this.sceneEl;\n    var renderer = this.sceneEl.renderer;\n\n    this.shadowMapEnabled = enabled;\n    var newEnabledState = this.data.enabled && this.shadowMapEnabled;\n    if (renderer && newEnabledState !== renderer.shadowMap.enabled) {\n      renderer.shadowMap.enabled = newEnabledState;\n\n      // Materials must be updated for the change to take effect.\n      updateAllMaterials(sceneEl);\n    }\n  }\n});\n\nfunction updateAllMaterials (sceneEl) {\n  if (!sceneEl.hasLoaded) { return; }\n\n  sceneEl.object3D.traverse(function (node) {\n    if (node.material) {\n      var materials = Array.isArray(node.material) ? node.material : [node.material];\n      for (var i = 0; i < materials.length; i++) {\n        materials[i].needsUpdate = true;\n      }\n    }\n  });\n}\n","import { registerSystem } from '../core/system.js';\n\n/**\n * Tracked controls system.\n * Maintain list with available tracked controllers.\n */\nexport var System = registerSystem('tracked-controls', {\n  init: function () {\n    this.controllers = [];\n    this.onInputSourcesChange = this.onInputSourcesChange.bind(this);\n    this.onEnterVR = this.onEnterVR.bind(this);\n    this.el.addEventListener('enter-vr', this.onEnterVR);\n\n    this.onExitVR = this.onExitVR.bind(this);\n    this.el.addEventListener('exit-vr', this.onExitVR);\n  },\n\n  onEnterVR: function () {\n    var xrSession = this.el.xrSession;\n    if (!xrSession) { return; }\n    this.el.xrSession.addEventListener('inputsourceschange', this.onInputSourcesChange);\n  },\n\n  onExitVR: function () {\n    this.referenceSpace = undefined;\n    this.controllers = [];\n    this.el.emit('controllersupdated', undefined, false);\n  },\n\n  onInputSourcesChange: function () {\n    var self = this;\n    var xrSession = this.el.xrSession;\n    var refspace = this.el.sceneEl.systems.webxr.sessionReferenceSpaceType;\n    xrSession.requestReferenceSpace(refspace).then(function (referenceSpace) {\n      self.referenceSpace = referenceSpace;\n    }).catch(function (err) {\n      self.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(\n        refspace,\n        'tracked-controls uses reference space \"' + refspace + '\".');\n      throw err;\n    });\n\n    this.controllers = xrSession.inputSources;\n    this.el.emit('controllersupdated', undefined, false);\n  }\n});\n","import { registerSystem } from '../core/system.js';\nimport * as utils from '../utils/index.js';\n\nvar warn = utils.debug('systems:webxr:warn');\n\n/**\n * WebXR session initialization and XR module support.\n */\nexport var System = registerSystem('webxr', {\n  schema: {\n    referenceSpaceType: {type: 'string', default: 'local-floor'},\n    requiredFeatures: {type: 'array', default: ['local-floor']},\n    optionalFeatures: {type: 'array', default: ['bounded-floor']},\n    overlayElement: {type: 'selector'}\n  },\n\n  update: function () {\n    var data = this.data;\n    this.sessionConfiguration = {\n      requiredFeatures: data.requiredFeatures,\n      optionalFeatures: data.optionalFeatures\n    };\n    this.sessionReferenceSpaceType = data.referenceSpaceType;\n\n    if (data.overlayElement) {\n      // Update WebXR to support light-estimation\n      data.overlayElement.classList.remove('a-dom-overlay');\n      if (!data.optionalFeatures.includes('dom-overlay')) {\n        data.optionalFeatures.push('dom-overlay');\n        this.el.setAttribute('webxr', data);\n      }\n      this.warnIfFeatureNotRequested('dom-overlay');\n      this.sessionConfiguration.domOverlay = {root: data.overlayElement};\n      data.overlayElement.classList.add('a-dom-overlay');\n    }\n  },\n\n  wasFeatureRequested: function (feature) {\n    // Features available by default for immersive sessions don't need to\n    // be requested explicitly.\n    if (feature === 'viewer' || feature === 'local') { return true; }\n\n    if (this.sessionConfiguration.requiredFeatures.includes(feature) ||\n        this.sessionConfiguration.optionalFeatures.includes(feature)) {\n      return true;\n    }\n\n    return false;\n  },\n\n  warnIfFeatureNotRequested: function (feature, optIntro) {\n    if (!this.wasFeatureRequested(feature)) {\n      var msg = 'Please add the feature \"' + feature + '\" to a-scene\\'s ' +\n          'webxr system options in requiredFeatures/optionalFeatures.';\n      warn((optIntro ? optIntro + ' ' : '') + msg);\n    }\n  }\n});\n","/**\n * Common mesh defaults, mappings, and transforms.\n */\nimport { components } from '../../core/component.js';\nimport { shaders } from '../../core/shader.js';\nimport * as utils from '../../utils/index.js';\n\nvar materialMappings = {};\nObject.keys(components.material.schema).forEach(addMapping);\nObject.keys(shaders.standard.schema).forEach(addMapping);\n\nfunction addMapping (prop) {\n  // To hyphenated.\n  var htmlAttrName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  if (prop === 'fog') { htmlAttrName = 'material-fog'; }\n  if (prop === 'visible') { htmlAttrName = 'material-visible'; }\n  materialMappings[htmlAttrName] = 'material.' + prop;\n}\n\nexport default function getMeshMixin () {\n  return {\n    defaultComponents: {material: {}},\n    mappings: utils.extend({}, materialMappings)\n  };\n}\n","import * as THREE from 'three';\nimport { registerComponent } from '../../core/component.js';\n\nvar originalPosition = new THREE.Vector3();\nvar originalRotation = new THREE.Vector3();\n\n/**\n * Wrap el.object3D within an outer group. Apply pivot to el.object3D as position.\n */\nregisterComponent('pivot', {\n  dependencies: ['position'],\n\n  schema: {type: 'vec3'},\n\n  init: function () {\n    var data = this.data;\n    var el = this.el;\n    var originalParent = el.object3D.parent;\n    var originalGroup = el.object3D;\n    var outerGroup = new THREE.Group();\n\n    originalPosition.copy(originalGroup.position);\n    originalRotation.copy(originalGroup.rotation);\n\n    // Detach current group from parent.\n    originalParent.remove(originalGroup);\n    outerGroup.add(originalGroup);\n\n    // Set new group as the outer group.\n    originalParent.add(outerGroup);\n\n    // Set outer group as new object3D.\n    el.object3D = outerGroup;\n\n    // Apply pivot to original group.\n    originalGroup.position.set(-1 * data.x, -1 * data.y, -1 * data.z);\n\n    // Offset the pivot so that world position not affected.\n    // And restore position onto outer group.\n    outerGroup.position.set(data.x + originalPosition.x, data.y + originalPosition.y,\n                            data.z + originalPosition.z);\n\n    // Transfer rotation to outer group.\n    outerGroup.rotation.copy(originalGroup.rotation);\n    originalGroup.rotation.set(0, 0, 0);\n  }\n});\n","import { registerPrimitive } from '../primitives.js';\n\nregisterPrimitive('a-camera', {\n  defaultComponents: {\n    'camera': {},\n    'look-controls': {},\n    'wasd-controls': {},\n    'position': {x: 0, y: 1.6, z: 0}\n  },\n\n  mappings: {\n    active: 'camera.active',\n    far: 'camera.far',\n    fov: 'camera.fov',\n    'look-controls-enabled': 'look-controls.enabled',\n    near: 'camera.near',\n    'pointer-lock-enabled': 'look-controls.pointerLockEnabled',\n    'wasd-controls-enabled': 'wasd-controls.enabled',\n    'reverse-mouse-drag': 'look-controls.reverseMouseDrag',\n    zoom: 'camera.zoom'\n  }\n});\n","import getMeshMixin from '../getMeshMixin.js';\nimport { registerPrimitive } from '../primitives.js';\nimport * as utils from '../../../utils/index.js';\n\nregisterPrimitive('a-cursor', utils.extendDeep({}, getMeshMixin(), {\n  defaultComponents: {\n    cursor: {},\n    geometry: {\n      primitive: 'ring',\n      radiusOuter: 0.016,\n      radiusInner: 0.01,\n      segmentsTheta: 32\n    },\n    material: {\n      color: '#000',\n      shader: 'flat',\n      opacity: 0.8\n    },\n    position: {\n      x: 0,\n      y: 0,\n      z: -1\n    }\n  },\n\n  mappings: {\n    far: 'raycaster.far',\n    fuse: 'cursor.fuse',\n    'fuse-timeout': 'cursor.fuseTimeout',\n    interval: 'raycaster.interval',\n    objects: 'raycaster.objects'\n  }\n}));\n","import getMeshMixin from '../getMeshMixin.js';\nimport { registerPrimitive } from '../primitives.js';\nimport * as utils from '../../../utils/index.js';\n\nregisterPrimitive('a-curvedimage', utils.extendDeep({}, getMeshMixin(), {\n  defaultComponents: {\n    geometry: {\n      height: 1,\n      primitive: 'cylinder',\n      radius: 2,\n      segmentsRadial: 48,\n      thetaLength: 270,\n      openEnded: true,\n      thetaStart: 0\n    },\n    material: {\n      color: '#FFF',\n      shader: 'flat',\n      side: 'double',\n      transparent: true,\n      repeat: '-1 1'\n    }\n  },\n\n  mappings: {\n    height: 'geometry.height',\n    'open-ended': 'geometry.openEnded',\n    radius: 'geometry.radius',\n    segments: 'geometry.segmentsRadial',\n    start: 'geometry.thetaStart',\n    'theta-length': 'geometry.thetaLength',\n    'theta-start': 'geometry.thetaStart',\n    'width': 'geometry.thetaLength'\n  }\n}));\n","import { registerPrimitive } from '../primitives.js';\n\nregisterPrimitive('a-gltf-model', {\n  mappings: {\n    src: 'gltf-model'\n  }\n});\n","import getMeshMixin from '../getMeshMixin.js';\nimport { registerPrimitive } from '../primitives.js';\nimport * as utils from '../../../utils/index.js';\n\nregisterPrimitive('a-image', utils.extendDeep({}, getMeshMixin(), {\n  defaultComponents: {\n    geometry: {\n      primitive: 'plane'\n    },\n    material: {\n      color: '#FFF',\n      shader: 'flat',\n      side: 'double',\n      transparent: true\n    }\n  },\n\n  mappings: {\n    height: 'geometry.height',\n    width: 'geometry.width'\n  }\n}));\n","import { registerPrimitive } from '../primitives.js';\n\nregisterPrimitive('a-light', {\n  defaultComponents: {\n    light: {}\n  },\n\n  mappings: {\n    angle: 'light.angle',\n    color: 'light.color',\n    'ground-color': 'light.groundColor',\n    decay: 'light.decay',\n    distance: 'light.distance',\n    intensity: 'light.intensity',\n    penumbra: 'light.penumbra',\n    type: 'light.type',\n    target: 'light.target',\n    envmap: 'light.envMap',\n    'shadow-camera-automatic': 'light.shadowCameraAutomatic'\n  }\n});\n","import { registerPrimitive } from '../primitives.js';\n\nregisterPrimitive('a-link', {\n  defaultComponents: {\n    link: {\n      visualAspectEnabled: true\n    }\n  },\n\n  mappings: {\n    href: 'link.href',\n    image: 'link.image',\n    title: 'link.title'\n  }\n});\n","import getMeshMixin from '../getMeshMixin.js';\nimport { registerPrimitive } from '../primitives.js';\nimport * as utils from '../../../utils/index.js';\n\nregisterPrimitive('a-obj-model', utils.extendDeep({}, getMeshMixin(), {\n  defaultComponents: {\n    'obj-model': {}\n  },\n\n  mappings: {\n    src: 'obj-model.obj',\n    mtl: 'obj-model.mtl'\n  }\n}));\n","/**\n * Automated mesh primitive registration.\n */\nimport getMeshMixin from '../getMeshMixin.js';\nimport { geometries, geometryNames } from '../../../core/geometry.js';\nimport { registerPrimitive } from '../primitives.js';\nimport * as utils from '../../../utils/index.js';\n\n// For testing.\nconst meshPrimitives = {};\nexport default meshPrimitives;\n\n// Generate primitive for each geometry type.\ngeometryNames.forEach(function registerMeshPrimitive (geometryName) {\n  var geometry = geometries[geometryName];\n  var geometryHyphened = unCamelCase(geometryName);\n\n  // Generate mappings.\n  var mappings = {};\n  Object.keys(geometry.schema).forEach(function createMapping (property) {\n    mappings[unCamelCase(property)] = 'geometry.' + property;\n  });\n\n  // Register.\n  var tagName = 'a-' + geometryHyphened;\n  var primitive = registerPrimitive(tagName, utils.extendDeep({}, getMeshMixin(), {\n    defaultComponents: {geometry: {primitive: geometryName}},\n    mappings: mappings\n  }));\n  meshPrimitives[tagName] = primitive;\n});\n\n/**\n * camelCase to hyphened-string.\n */\nfunction unCamelCase (str) {\n  return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n","import getMeshMixin from '../getMeshMixin.js';\nimport { registerPrimitive } from '../primitives.js';\nimport * as utils from '../../../utils/index.js';\nimport meshPrimitives from './meshPrimitives.js';\n\nregisterPrimitive('a-sky', utils.extendDeep({}, getMeshMixin(), {\n  defaultComponents: {\n    geometry: {\n      primitive: 'sphere',\n      radius: 500,\n      segmentsWidth: 64,\n      segmentsHeight: 32\n    },\n    material: {\n      color: '#FFF',\n      side: 'back',\n      shader: 'flat',\n      npot: true\n    },\n    scale: '-1 1 1'\n  },\n\n  mappings: utils.extendDeep({}, meshPrimitives['a-sphere'].mappings)\n}));\n","import { registerPrimitive } from '../primitives.js';\n\nregisterPrimitive('a-sound', {\n  defaultComponents: {\n    sound: {}\n  },\n\n  mappings: {\n    src: 'sound.src',\n    on: 'sound.on',\n    autoplay: 'sound.autoplay',\n    loop: 'sound.loop',\n    volume: 'sound.volume'\n  }\n});\n","// <a-text> using `definePrimitive` helper.\nimport { definePrimitive } from '../primitives.js';\ndefinePrimitive('a-text', {text: {anchor: 'align', width: 5}});\n","import getMeshMixin from '../getMeshMixin.js';\nimport { registerPrimitive } from '../primitives.js';\nimport * as utils from '../../../utils/index.js';\n\nregisterPrimitive('a-video', utils.extendDeep({}, getMeshMixin(), {\n  defaultComponents: {\n    geometry: {\n      primitive: 'plane'\n    },\n    material: {\n      color: '#FFF',\n      shader: 'flat',\n      side: 'double',\n      transparent: true\n    }\n  },\n\n  mappings: {\n    height: 'geometry.height',\n    width: 'geometry.width'\n  }\n}));\n","import getMeshMixin from '../getMeshMixin.js';\nimport { registerPrimitive } from '../primitives.js';\nimport * as utils from '../../../utils/index.js';\n\nregisterPrimitive('a-videosphere', utils.extendDeep({}, getMeshMixin(), {\n  defaultComponents: {\n    geometry: {\n      primitive: 'sphere',\n      radius: 500,\n      segmentsWidth: 64,\n      segmentsHeight: 32\n    },\n    material: {\n      color: '#FFF',\n      shader: 'flat',\n      side: 'back',\n      npot: true\n    },\n    scale: '-1 1 1'\n  },\n\n  mappings: {\n    radius: 'geometry.radius',\n    'segments-height': 'geometry.segmentsHeight',\n    'segments-width': 'geometry.segmentsWidth'\n  }\n}));\n","import ANIME from 'super-animejs';\nimport THREE from './lib/three.js';\n\nimport { AScene } from './core/scene/a-scene.js';\nimport scenes from './core/scene/scenes.js';\nimport { ANode } from './core/a-node.js';\nimport { AEntity } from './core/a-entity.js'; // Depends on ANode and core components.\nimport { registerComponent, components, Component } from './core/component.js';\nimport { registerGeometry, geometries } from './core/geometry.js';\nimport { registerPrimitive, primitives } from './extras/primitives/primitives.js';\nimport { registerShader, shaders } from './core/shader.js';\nimport { registerSystem, systems } from './core/system.js';\nimport * as schema from './core/schema.js';\nimport * as readyState from './core/readyState.js';\n\nimport './core/a-assets.js';\nimport './core/a-cubemap.js';\nimport './core/a-mixin.js';\n\nimport * as utils from './utils/index.js';\nimport pkg from '../package.json';\n\nimport './components/index.js'; // Register standard components.\nimport './geometries/index.js'; // Register standard geometries.\nimport './shaders/index.js'; // Register standard shaders.\nimport './systems/index.js'; // Register standard systems.\n\n// Depends on material component and standard shader\nimport getMeshMixin from './extras/primitives/getMeshMixin.js';\n\n// Extras.\nimport './extras/components/index.js';\nimport './extras/primitives/index.js';\n\nvar debug = utils.debug;\nvar error = debug('A-Frame:error');\nvar warn = debug('A-Frame:warn');\n\nif (window.document.currentScript && window.document.currentScript.parentNode !==\n    window.document.head && !window.debug) {\n  warn('Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ' +\n       'ensure everything for A-Frame is properly registered before they are used from ' +\n       'HTML.');\n}\n\n// Error if not using a server.\nif (!window.cordova && window.location.protocol === 'file:') {\n  error(\n    'This HTML file is currently being served via the file:// protocol. ' +\n    'Assets, textures, and models WILL NOT WORK due to cross-origin policy! ' +\n    'Please use a local or hosted server: ' +\n    'https://aframe.io/docs/1.4.0/introduction/installation.html#use-a-local-server.');\n}\n\n// CSS.\nif (utils.device.isBrowserEnvironment) {\n  window.logs = debug;\n  require('./style/aframe.css');\n  require('./style/rStats.css');\n}\n\nconsole.log('A-Frame Version: 1.7.0 (Date 2025-03-12, Commit #1b9650f1)');\nconsole.log('THREE Version (https://github.com/supermedium/three.js):',\n            THREE.REVISION);\n\n// Wait for ready state, unless user asynchronously initializes A-Frame.\nif (!window.AFRAME_ASYNC) {\n  readyState.waitForDocumentReadyState();\n}\n\nvar AFRAME = globalThis.AFRAME = {\n  AComponent: Component,\n  AEntity: AEntity,\n  ANode: ANode,\n  ANIME: ANIME,\n  AScene: AScene,\n  components: components,\n  coreComponents: Object.keys(components),\n  geometries: geometries,\n  registerComponent: registerComponent,\n  registerGeometry: registerGeometry,\n  registerPrimitive: registerPrimitive,\n  registerShader: registerShader,\n  registerSystem: registerSystem,\n  primitives: {\n    getMeshMixin: getMeshMixin,\n    primitives: primitives\n  },\n  scenes: scenes,\n  schema: schema,\n  shaders: shaders,\n  systems: systems,\n  emitReady: readyState.emitReady,\n  THREE: THREE,\n  utils: utils,\n  version: pkg.version\n};\nexport default AFRAME;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}